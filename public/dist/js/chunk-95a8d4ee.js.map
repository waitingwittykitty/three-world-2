{"version":3,"sources":["webpack:///./node_modules/mqtt/node_modules/readable-stream/readable-browser.js","webpack:///./node_modules/core-js/internals/object-get-own-property-names-external.js","webpack:///./node_modules/mqtt/lib/connect/tcp.js","webpack:///./src/components/ThreeDGarden.vue?9cbd","webpack:///./node_modules/url/url.js","webpack:///./node_modules/farmbot/dist/resources/tagged_resource.js","webpack:///./node_modules/bl/node_modules/readable-stream/lib/_stream_readable.js","webpack:///./node_modules/core-js/internals/string-repeat.js","webpack:///./node_modules/mqtt/node_modules/readable-stream/lib/_stream_writable.js","webpack:///./node_modules/ms/index.js","webpack:///./node_modules/core-js/modules/web.dom-collections.for-each.js","webpack:///./node_modules/core-js/internals/array-for-each.js","webpack:///./node_modules/core-js/modules/es.string.fontsize.js","webpack:///./node_modules/farmbot/dist/corpus.js","webpack:///./node_modules/node-libs-browser/node_modules/punycode/punycode.js","webpack:///./node_modules/farmbot/dist/util/pick.js","webpack:///./node_modules/core-js/internals/array-method-has-species-support.js","webpack:///./node_modules/mqtt-packet/parser.js","webpack:///./node_modules/base64-js/index.js","webpack:///./node_modules/mqtt/node_modules/readable-stream/lib/internal/streams/from-browser.js","webpack:///./node_modules/core-js/modules/es.regexp.to-string.js","webpack:///./node_modules/reinterval/index.js","webpack:///./node_modules/core-js/modules/es.string.starts-with.js","webpack:///./node_modules/mqtt/node_modules/readable-stream/lib/internal/streams/state.js","webpack:///./node_modules/bl/BufferList.js","webpack:///./node_modules/farmbot/dist/config.js","webpack:///./node_modules/mqtt-packet/mqtt.js","webpack:///./node_modules/mqtt/node_modules/readable-stream/lib/internal/streams/async_iterator.js","webpack:///./node_modules/debug/src/browser.js","webpack:///./node_modules/farmbot/dist/constants.js","webpack:///./node_modules/url/util.js","webpack:///./node_modules/bl/node_modules/readable-stream/lib/internal/streams/pipeline.js","webpack:///./node_modules/core-js/modules/es.string.repeat.js","webpack:///./node_modules/mqtt/node_modules/readable-stream/lib/_stream_transform.js","webpack:///./node_modules/core-js/modules/es.string.iterator.js","webpack:///./node_modules/inherits/inherits_browser.js","webpack:///./node_modules/core-js/modules/es.array.for-each.js","webpack:///./node_modules/farmbot/dist/util/time.js","webpack:///./node_modules/node-libs-browser/mock/process.js","webpack:///./node_modules/core-js/internals/is-regexp.js","webpack:///./node_modules/farmbot/dist/interfaces.js","webpack:///./node_modules/core-js/modules/es.string.trim.js","webpack:///./node_modules/core-js/modules/es.array.filter.js","webpack:///./node_modules/core-js/internals/array-from.js","webpack:///./node_modules/bl/bl.js","webpack:///./node_modules/xtend/immutable.js","webpack:///./node_modules/once/once.js","webpack:///./node_modules/mqtt/node_modules/duplexify/index.js","webpack:///./node_modules/core-js/internals/whitespaces.js","webpack:///./node_modules/core-js/internals/string-trim.js","webpack:///./node_modules/core-js/internals/not-a-regexp.js","webpack:///./node_modules/farmbot/dist/util/is_celery_script.js","webpack:///(webpack)/buildin/module.js","webpack:///./node_modules/mqtt/node_modules/readable-stream/lib/internal/streams/pipeline.js","webpack:///./node_modules/core-js/internals/string-multibyte.js","webpack:///./node_modules/core-js/internals/array-species-create.js","webpack:///./node_modules/mqtt/node_modules/readable-stream/lib/_stream_passthrough.js","webpack:///./node_modules/farmbot/dist/resources/support.js","webpack:///./node_modules/mqtt-packet/writeToStream.js","webpack:///./node_modules/core-js/internals/define-well-known-symbol.js","webpack:///./node_modules/bl/node_modules/readable-stream/lib/internal/streams/async_iterator.js","webpack:///./node_modules/string_decoder/lib/string_decoder.js","webpack:///./node_modules/mqtt-packet/generate.js","webpack:///./src/components/ThreeDGarden.vue","webpack:///./node_modules/@babel/runtime/helpers/esm/arrayLikeToArray.js","webpack:///./node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js","webpack:///./node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","webpack:///./node_modules/@babel/runtime/helpers/esm/iterableToArray.js","webpack:///./node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js","webpack:///./node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","webpack:///./src/components/ThreeDGarden.vue?015a","webpack:///./node_modules/core-js/internals/array-fill.js","webpack:///./node_modules/core-js/modules/es.promise.all-settled.js","webpack:///./node_modules/mqtt/lib/connect/wx.js","webpack:///./node_modules/core-js/internals/create-property.js","webpack:///./node_modules/core-js/internals/create-html.js","webpack:///./node_modules/mqtt/node_modules/readable-stream/lib/_stream_readable.js","webpack:///./node_modules/bl/node_modules/readable-stream/lib/internal/streams/state.js","webpack:///./node_modules/safe-buffer/index.js","webpack:///./node_modules/ieee754/index.js","webpack:///./node_modules/querystring-es3/decode.js","webpack:///./node_modules/process-nextick-args/index.js","webpack:///./node_modules/core-js/modules/es.string.link.js","webpack:///./node_modules/core-js/modules/es.array.concat.js","webpack:///./node_modules/bl/node_modules/readable-stream/errors-browser.js","webpack:///./node_modules/bl/node_modules/readable-stream/lib/_stream_passthrough.js","webpack:///./node_modules/mqtt/node_modules/readable-stream/lib/internal/streams/stream-browser.js","webpack:///./node_modules/farmbot/dist/util/uuid.js","webpack:///./node_modules/core-js/modules/es.array.join.js","webpack:///./node_modules/bl/node_modules/readable-stream/lib/_stream_duplex.js","webpack:///./node_modules/core-js/modules/es.symbol.js","webpack:///./node_modules/bl/node_modules/readable-stream/lib/internal/streams/from-browser.js","webpack:///./node_modules/core-js/modules/es.array.from.js","webpack:///./node_modules/core-js/internals/array-method-is-strict.js","webpack:///./node_modules/mqtt-packet/packet.js","webpack:///./node_modules/mqtt/node_modules/ws/browser.js","webpack:///./node_modules/core-js/internals/correct-is-regexp-logic.js","webpack:///./node_modules/end-of-stream/index.js","webpack:///./node_modules/core-js/internals/regexp-flags.js","webpack:///./node_modules/farmbot/dist/resources/resource_adapter.js","webpack:///./node_modules/core-js/internals/array-method-uses-to-length.js","webpack:///./node_modules/mqtt/lib/validations.js","webpack:///./node_modules/core-js/internals/string-html-forced.js","webpack:///./node_modules/core-js/modules/es.function.name.js","webpack:///./node_modules/mqtt-packet/constants.js","webpack:///./node_modules/querystring-es3/index.js","webpack:///./node_modules/buffer/index.js","webpack:///./node_modules/core-js/internals/array-iteration.js","webpack:///./node_modules/util-deprecate/browser.js","webpack:///./node_modules/bl/node_modules/readable-stream/lib/internal/streams/stream-browser.js","webpack:///./node_modules/core-js/internals/freezing.js","webpack:///./node_modules/farmbot/dist/resources/reject_rpc.js","webpack:///./node_modules/mqtt/node_modules/readable-stream/lib/_stream_duplex.js","webpack:///./node_modules/bl/node_modules/readable-stream/lib/internal/streams/end-of-stream.js","webpack:///./node_modules/farmbot/dist/util/is_node.js","webpack:///./node_modules/mqtt/lib/connect/ali.js","webpack:///./node_modules/core-js/internals/string-trim-forced.js","webpack:///./node_modules/core-js/modules/es.array.fill.js","webpack:///./node_modules/core-js/modules/es.symbol.iterator.js","webpack:///./node_modules/farmbot/dist/util.js","webpack:///./node_modules/wrappy/wrappy.js","webpack:///./node_modules/core-js/modules/es.array.map.js","webpack:///./node_modules/mqtt/node_modules/readable-stream/lib/internal/streams/end-of-stream.js","webpack:///./node_modules/debug/src/common.js","webpack:///./node_modules/core-js/modules/es.object.freeze.js","webpack:///./node_modules/core-js/modules/web.dom-collections.iterator.js","webpack:///./node_modules/path-browserify/index.js","webpack:///./node_modules/mqtt/lib/client.js","webpack:///./node_modules/core-js/modules/es.symbol.description.js","webpack:///./node_modules/querystring-es3/encode.js","webpack:///./node_modules/isarray/index.js","webpack:///./node_modules/core-js/internals/well-known-symbol-wrapped.js","webpack:///./node_modules/farmbot/dist/index.js","webpack:///./node_modules/mqtt/lib/connect/index.js","webpack:///./node_modules/core-js/internals/is-array.js","webpack:///./node_modules/bl/node_modules/readable-stream/lib/internal/streams/buffer_list.js","webpack:///./node_modules/mqtt/lib/store.js","webpack:///./node_modules/mqtt/node_modules/readable-stream/lib/internal/streams/destroy.js","webpack:///./node_modules/mqtt-packet/numbers.js","webpack:///./node_modules/core-js/internals/internal-metadata.js","webpack:///./node_modules/bl/node_modules/readable-stream/readable-browser.js","webpack:///./node_modules/bl/node_modules/readable-stream/lib/internal/streams/destroy.js","webpack:///./node_modules/mqtt/node_modules/readable-stream/lib/internal/streams/buffer_list.js","webpack:///./node_modules/bl/node_modules/readable-stream/lib/_stream_writable.js","webpack:///./node_modules/stream-shift/index.js","webpack:///./node_modules/farmbot/dist/farmbot.js","webpack:///./node_modules/farmbot/dist/util/rpc_request.js","webpack:///./node_modules/events/events.js","webpack:///./node_modules/core-js/modules/es.array.slice.js","webpack:///./node_modules/mqtt/node_modules/readable-stream/errors-browser.js","webpack:///./node_modules/mqtt/lib/connect/ws.js","webpack:///./node_modules/core-js/internals/dom-iterables.js","webpack:///./node_modules/farmbot/dist/util/coordinate.js","webpack:///./node_modules/bl/node_modules/readable-stream/lib/_stream_transform.js","webpack:///./node_modules/mqtt/lib/connect/tls.js"],"names":["exports","module","Stream","Readable","Writable","Duplex","Transform","PassThrough","finished","pipeline","toIndexedObject","nativeGetOwnPropertyNames","f","toString","windowNames","window","Object","getOwnPropertyNames","getWindowNames","it","error","slice","call","net","debug","streamBuilder","client","opts","port","host","hostname","createConnection","punycode","util","Url","this","protocol","slashes","auth","hash","search","query","pathname","path","href","parse","urlParse","resolve","urlResolve","resolveObject","urlResolveObject","format","urlFormat","protocolPattern","portPattern","simplePathPattern","delims","unwise","concat","autoEscape","nonHostChars","hostEndingChars","hostnameMaxLen","hostnamePartPattern","hostnamePartStart","unsafeProtocol","hostlessProtocol","slashedProtocol","querystring","url","parseQueryString","slashesDenoteHost","isObject","u","obj","isString","prototype","source","relative","TypeError","queryIndex","indexOf","splitter","uSplit","split","slashRegex","replace","join","rest","trim","length","simplePath","exec","substr","proto","lowerProto","toLowerCase","match","atSign","hostEnd","i","hec","lastIndexOf","decodeURIComponent","parseHost","ipv6Hostname","hostparts","l","part","newpart","j","k","charCodeAt","validParts","notHost","bit","push","unshift","toASCII","p","h","ae","esc","encodeURIComponent","escape","qm","s","keys","stringify","charAt","rel","result","tkeys","tk","tkey","rkeys","rk","rkey","v","relPath","shift","isSourceAbs","isRelAbs","mustEndAbs","removeAllDots","srcPath","psychotic","pop","isNullOrUndefined","authInHost","isNull","last","hasTrailingSlash","up","splice","isAbsolute","defineProperty","value","SpecialStatus","ReadableState","EventEmitter","EElistenerCount","emitter","type","listeners","Buffer","OurUint8Array","global","Uint8Array","_uint8ArrayToBuffer","chunk","from","_isUint8Array","isBuffer","debugUtil","debuglog","StringDecoder","createReadableStreamAsyncIterator","BufferList","destroyImpl","_require","getHighWaterMark","_require$codes","codes","ERR_INVALID_ARG_TYPE","ERR_STREAM_PUSH_AFTER_EOF","ERR_METHOD_NOT_IMPLEMENTED","ERR_STREAM_UNSHIFT_AFTER_END_EVENT","errorOrDestroy","kProxyEvents","prependListener","event","fn","_events","Array","isArray","on","options","stream","isDuplex","objectMode","readableObjectMode","highWaterMark","buffer","pipes","pipesCount","flowing","ended","endEmitted","reading","sync","needReadable","emittedReadable","readableListening","resumeScheduled","paused","emitClose","autoDestroy","destroyed","defaultEncoding","awaitDrain","readingMore","decoder","encoding","_readableState","readable","read","_read","destroy","_destroy","readableAddChunk","addToFront","skipChunkCheck","er","state","onEofChunk","chunkInvalid","getPrototypeOf","addChunk","write","maybeReadMore","emit","emitReadable","undefined","enumerable","get","set","_undestroy","undestroy","err","cb","isPaused","setEncoding","enc","head","content","data","next","clear","MAX_HWM","computeNewHighWaterMark","n","howMuchToRead","end","emitReadable_","process","nextTick","flow","maybeReadMore_","len","pipeOnDrain","src","updateReadableListening","self","listenerCount","resume","nReadingNextTick","resume_","fromList","ret","first","consume","endReadable","endReadableNT","wState","_writableState","xs","x","parseInt","nOrig","doRead","pipe","dest","pipeOpts","doEnd","stdout","stderr","endFn","onend","unpipe","onunpipe","unpipeInfo","hasUnpiped","cleanup","once","ondrain","cleanedUp","removeListener","onclose","onfinish","onerror","ondata","needDrain","pause","dests","index","ev","res","addListener","removeAllListeners","apply","arguments","wrap","_this","method","bind","Symbol","asyncIterator","_fromList","iterable","toInteger","requireObjectCoercible","repeat","count","str","String","Infinity","RangeError","CorkedRequest","entry","finish","onCorkedFinish","WritableState","internalUtil","deprecate","realHasInstance","ERR_MULTIPLE_CALLBACK","ERR_STREAM_CANNOT_PIPE","ERR_STREAM_DESTROYED","ERR_STREAM_NULL_VALUES","ERR_STREAM_WRITE_AFTER_END","ERR_UNKNOWN_ENCODING","nop","writableObjectMode","finalCalled","ending","noDecode","decodeStrings","writing","corked","bufferProcessing","onwrite","writecb","writelen","bufferedRequest","lastBufferedRequest","pendingcb","prefinished","errorEmitted","bufferedRequestCount","corkedRequestsFree","writable","_write","writev","_writev","final","_final","writeAfterEnd","validChunk","decodeChunk","writeOrBuffer","isBuf","newChunk","callback","doWrite","onwriteError","finishMaybe","onwriteStateUpdate","needFinish","clearBuffer","afterWrite","onwriteDrain","holder","allBuffers","callFinal","prefinish","need","rState","endWritable","corkReq","getBuffer","current","out","_","hasInstance","Function","object","cork","uncork","setDefaultEncoding","m","d","w","y","parseFloat","fmtShort","ms","msAbs","Math","abs","round","fmtLong","plural","name","isPlural","val","isFinite","long","Error","JSON","DOMIterables","forEach","createNonEnumerableProperty","COLLECTION_NAME","Collection","CollectionPrototype","$forEach","arrayMethodIsStrict","arrayMethodUsesToLength","STRICT_METHOD","USES_TO_LENGTH","callbackfn","$","createHTML","forcedStringHTMLMethod","target","forced","fontsize","size","ANALOG","DIGITAL","LATEST_VERSION","root","nodeType","freeGlobal","maxInt","base","tMin","tMax","skew","damp","initialBias","initialN","delimiter","regexPunycode","regexNonASCII","regexSeparators","errors","baseMinusTMin","floor","stringFromCharCode","fromCharCode","map","array","mapDomain","string","parts","labels","encoded","ucs2decode","extra","output","counter","ucs2encode","basicToDigit","codePoint","digitToBasic","digit","flag","adapt","delta","numPoints","firstTime","decode","input","basic","oldi","t","baseMinusT","inputLength","bias","encode","handledCPCount","basicLength","q","currentValue","handledCPCountPlusOne","qMinusT","toUnicode","test","pick","fallback","fails","wellKnownSymbol","V8_VERSION","SPECIES","METHOD_NAME","constructor","foo","Boolean","bl","Packet","constants","Parser","super","parser","opt","settings","_states","_resetState","packet","_list","_stateCounter","buf","append","zero","readUInt8","cmd","types","CMD_SHIFT","retain","RETAIN_MASK","qos","QOS_SHIFT","QOS_MASK","dup","DUP_MASK","_parseVarByteNum","bytes","_pos","_parseConnect","_parseConnack","_parsePublish","_parseConfirmation","_parseSubscribe","_parseSuback","_parseUnsubscribe","_parseUnsuback","_parseDisconnect","_parseAuth","_emitError","topic","payload","password","username","flags","protocolId","_parseString","protocolVersion","bridgeMode","USERNAME_MASK","PASSWORD_MASK","will","WILL_FLAG_MASK","WILL_RETAIN_MASK","WILL_QOS_MASK","WILL_QOS_SHIFT","clean","CLEAN_SESSION_MASK","keepalive","_parseNum","properties","_parseProperties","clientId","willProperties","_parseBuffer","sessionPresent","SESSIONPRESENT_MASK","reasonCode","returnCode","_parseMessageId","rh","rap","nl","subscription","subscriptions","_parseByte","SUBSCRIBE_OPTIONS_QOS_MASK","SUBSCRIBE_OPTIONS_NL_SHIFT","SUBSCRIBE_OPTIONS_NL_MASK","SUBSCRIBE_OPTIONS_RAP_SHIFT","SUBSCRIBE_OPTIONS_RAP_MASK","SUBSCRIBE_OPTIONS_RH_SHIFT","SUBSCRIBE_OPTIONS_RH_MASK","granted","unsubscriptions","messageId","maybeBuffer","readUInt16BE","readUInt32BE","fullInfoFlag","maxBytes","mul","padding","VARBYTEINT_MASK","VARBYTEINT_FIN_MASK","_parse4ByteNum","_parseStringPair","start","propertiesCodes","_parseByType","propertiesTypes","create","currentUserProperty","byteLength","toByteArray","fromByteArray","lookup","revLookup","Arr","code","getLens","b64","validLen","placeHoldersLen","lens","_byteLength","tmp","arr","curByte","tripletToBase64","num","encodeChunk","uint8","extraBytes","maxChunkLength","len2","redefine","anObject","TO_STRING","RegExpPrototype","RegExp","nativeToString","NOT_GENERIC","INCORRECT_NAME","R","rf","unsafe","ReInterval","interval","args","_callback","_args","_interval","setInterval","reschedule","clearInterval","reInterval","getOwnPropertyDescriptor","toLength","notARegExp","correctIsRegExpLogic","IS_PURE","nativeStartsWith","startsWith","min","CORRECT_IS_REGEXP_LOGIC","MDN_POLYFILL_BUG","descriptor","searchString","that","ERR_INVALID_OPT_VALUE","highWaterMarkFrom","duplexKey","hwm","symbol","for","_init","_bufs","_new","_offset","offset","tot","_t","_reverseOffset","blOffset","bufferId","copy","dst","dstStart","srcStart","srcEnd","alloc","off","bufoff","allocUnsafe","shallowSlice","startOffset","endOffset","buffers","trunc","Number","isNaN","duplicate","_appendBuffer","byteOffset","_isBufferList","blIndex","buffOffset","buff","availableWindow","nativeSearchResult","revOffset","_match","searchOffset","methods","readDoubleBE","readDoubleLE","readFloatBE","readFloatLE","readInt32BE","readInt32LE","readUInt32LE","readInt16BE","readInt16LE","readUInt16LE","readInt8","readIntBE","readIntLE","readUIntBE","readUIntLE","b","isBufferList","generateConfig","FIX_ATOB_FIRST","CONFIG_DEFAULTS","util_1","ERR_TOKEN_PARSE","speed","interim_flag_is_legacy_fbos","ERR_MISSING_MQTT_USERNAME","parseToken","atob","e","console","warn","isNode","token","secure","mqttServer","mqtt","mqtt_ws","mqttUsername","bot","LAST_PING_OUT","LAST_PING_IN","generate","writeToStream","_Object$setPrototypeO","_defineProperty","key","configurable","kLastResolve","kLastReject","kError","kEnded","kLastPromise","kHandlePromise","kStream","createIterResult","done","readAndResolve","iter","onReadable","wrapForNext","lastPromise","reject","then","AsyncIteratorPrototype","ReadableStreamAsyncIteratorPrototype","setPrototypeOf","Promise","promise","_this2","_Object$create","iterator","useColors","__nwjs","navigator","userAgent","document","documentElement","style","WebkitAppearance","firebug","exception","table","$1","formatArgs","namespace","humanize","diff","c","color","lastC","log","save","namespaces","storage","setItem","removeItem","load","r","getItem","DEBUG","localstorage","localStorage","colors","formatters","message","Misc","FbjsEventName","MqttChanName","arg","eos","called","ERR_MISSING_ARGS","noop","isRequest","setHeader","abort","destroyer","closed","to","popCallback","streams","_len","_key","destroys","reduce","ERR_TRANSFORM_ALREADY_TRANSFORMING","ERR_TRANSFORM_WITH_LENGTH_0","afterTransform","ts","_transformState","transforming","writechunk","rs","needTransform","writeencoding","transform","_transform","flush","_flush","err2","InternalStateModule","defineIterator","STRING_ITERATOR","setInternalState","getInternalState","getterFor","iterated","point","ctor","superCtor","super_","TempCtor","timestamp","Date","getTime","setTimeout","platform","arch","execPath","title","pid","browser","env","argv","binding","cwd","chdir","dir","exit","kill","umask","dlopen","uptime","memoryUsage","uvCounters","features","classof","MATCH","isRegExp","Encoder","$trim","forcedStringTrimMethod","$filter","filter","arrayMethodHasSpeciesSupport","HAS_SPECIES_SUPPORT","toObject","callWithSafeIterationClosing","isArrayIteratorMethod","createProperty","getIteratorMethod","arrayLike","step","O","C","argumentsLength","mapfn","mapping","iteratorMethod","DuplexStream","inherits","BufferListStream","piper","assign","extend","hasOwnProperty","wrappy","onceStrict","onceError","strict","SIGNAL_FLUSH","onuncork","_corked","_autoDestroy","_ended","ws","toStreams2","Duplexify","_writable","_readable","_readable2","_forwardDestroy","_forwardEnd","_ondrain","_drained","_forwarding","_unwrite","_unread","setWritable","setReadable","unend","onreadable","_forward","_finish","whitespaces","whitespace","ltrim","rtrim","createMethod","TYPE","$this","hasLabel","isCeleryScript","isObj","o","hasKind","kind","hasArgs","label","webpackPolyfill","paths","children","CONVERT_TO_STRING","pos","second","S","position","codeAt","originalArray","resolveOrReject","internalError","outboundChanFor","op","uuid","id","segments","body","rej","empty","zeroBuf","numbers","numCache","cache","generateNumber","generateCache","genBufVariableByteInt","generate4ByteBuffer","writeNumber","writeNumberCached","toGenerate","connect","connack","publish","confirmation","subscribe","suback","unsubscribe","unsuback","emptyPacket","disconnect","propertiesData","getProperties","providedUsername","isStringOrBuffer","CONNECT_HEADER","writeVarByteInt","writeStringOrBuffer","VERSION131","VERSION132","VERSION4","VERSION5","VERSION3","writeString","version","rc","CONNACK_HEADER","SESSIONPRESENT_HEADER","PUBLISH_HEADER","getPropertiesByMaximumPacketSize","ACKS","subs","itopic","iqos","SUBSCRIBE_HEADER","sub","jtopic","jqos","jnl","jrap","jrh","joptions","SUBSCRIBE_OPTIONS_QOS","SUBSCRIBE_OPTIONS_NL","SUBSCRIBE_OPTIONS_RAP","SUBSCRIBE_OPTIONS_RH","SUBACK_HEADER","unsubs","UNSUBSCRIBE_HEADER","EMPTY","writeNumberGenerated","varByteIntCache","VARBYTEINT_MAX","strlen","writeStringPair","number","generatedNumber","write4ByteNumber","generated4ByteBuffer","toWrite","writeProperties","propertiesLength","getLengthProperty","currentLength","propName","propLength","propValueLength","propValue","valueIndex","propertiesLengthLength","mayEmptyProps","maximumPacketSize","currentMayEmptyProp","writeProperty","bufOrString","field","has","wrappedWellKnownSymbolModule","NAME","isEncoding","_normalizeEncoding","retried","normalizeEncoding","nenc","nb","text","utf16Text","utf16End","fillLast","utf8FillLast","base64Text","base64End","simpleWrite","simpleEnd","lastNeed","lastTotal","lastChar","utf8CheckByte","byte","utf8CheckIncomplete","utf8CheckExtraBytes","utf8Text","total","utf8End","Accumulator","_array","_i","lengths","list","class","msg","subtitle","_arrayLikeToArray","arr2","_unsupportedIterableToArray","minLen","arrayLikeToArray","_arrayWithoutHoles","_iterableToArray","_nonIterableSpread","_toConsumableArray","arrayWithoutHoles","iterableToArray","unsupportedIterableToArray","nonIterableSpread","SUPER_SECRET_TOKEN","setConfig","getConfig","moveRelative","z","postdata","scene","camera","controls","gui","pluginName","plugin_name","pluginVersion","plugin_version","pluginURL","plugin_url","restURL","theme_uri","rest_url","worldID","world_id","dat","GUI","autoPlace","closeOnTop","close","domElement","renderer","container","guiFolderRotation","addFolder","guiFolderCameras","guiFolderLights","guiFolderAllotments","guiFolderBeds","guiFolderAnnotations","guiFolderPlayer","player","actionTime","now","animations","anims","params","modes","freeze","NONE","PRELOAD","INITIALISING","CREATING_LEVEL","ACTIVE","GAMEOVER","ANIMATE","assetsPath","world","allotment","bed","plant","planting_plan","intersectedObject1","intersectedObject2","colliders","environment","farmhouse","mode","add","assets","oncomplete","init","anim","Preloader","onload","garden","onError","loaderFBX","THREE","FBXLoader","loaderTexture","TextureLoader","clock","Clock","raycaster","Raycaster","pointer","Vector2","API_URL_SCENES","API_URL_ALLOTMENTS","API_URL_BEDS","API_URL_PLANTING_PLANS","API_URL_PLANTS","api_urls","allSettled","fetch","results","json","status","buildScene","wpScene","sceneID","Scene","acf","scene_background_image_px","cubeMapURLs","scene_background_image_nx","scene_background_image_py","scene_background_image_ny","scene_background_image_pz","scene_background_image_nz","reflectionCube","CubeTextureLoader","RGBFormat","background","scene_background_image","bgTexture","rt","WebGLCubeRenderTarget","image","height","fromEquirectangularTexture","scene_background_color","Color","plane","getPlane","scene_plane_width_x","scene_plane_length_y","scene_plane_background_color","rotation","PI","listen","scene_plane_texture_image","material","roughness","planeTextureMap","wrapS","RepeatWrapping","wrapT","directionalLight","getDirectionalLight","helperDirectionalLight","CameraHelper","shadow","visible","PerspectiveCamera","innerWidth","innerHeight","helperCamera","WebGLRenderer","alpha","antialias","shadowMap","enabled","setSize","targetList","addEventListener","onPointerMove","onPointerDown","OrbitControls","enableDamping","dampingFactor","enableZoom","rotateSpeed","autoRotate","autoRotateSpeed","minDistance","maxDistance","maxPolarAngle","Vector3","querySelector","buildAllotments","mixer","AnimationMixer","getRoot","traverse","child","isMesh","castShadow","receiveShadow","texture","Object3D","scale","loadNextAnim","loadFarmHouse","loadChickenCoop","loadChicken","loadRoad","JoyStick","onMove","playerControl","game","animate","dt","getDelta","watchPointer","update","TWEEN","requestAnimationFrame","action","elapsedTime","move","forward","setAction","movePlayer","cameras","active","lerp","getWorldPosition","clone","lookAt","render","loader","clipAction","time","stopAllAction","fadeIn","play","getWorldDirection","negate","blocked","translateZ","rotateY","turn","loaderGLTF","model","startX","offsetX","startZ","offsetZ","transparent","opacity","postObject","filteredPostObject","allotment_scene","parameters","allotment_width","allotment_length","allotment_height","allotment_position_x","allotment_position_y","allotment_position_z","images","allotment_texture_image","featured","getFeaturedImage","shape","allotment_shape","allotment_color","rendered","postID","description","link","structure","getGeometry","userData","annotation","geometry","depth","structureTextureMap","buildBeds","infospot","makeInfospotSphere","allotmentID","posOffsetX","posOffsetY","posOffsetZ","bed_allotment","bed_width","bed_length","bed_height","bed_position_x","bed_position_y","bed_position_z","bed_texture_image","bed_shape","bed_color","buildPlantingPlans","bedID","matches","planting_plan_bed_plant_schedule","planting_plan_bed","pushIfNotExist","key2","filteredPlant","planting_plan_plant","key3","plant_width","plant_length","plant_height","plant_position_x","plant_position_y","plant_position_z","plant_texture_image","plant_shape","plant_color","mesh","BoxGeometry","MeshStandardMaterial","side","DoubleSide","depthWrite","Mesh","ConeGeometry","CylinderGeometry","SphereGeometry","tree","Tree","generations","uvLength","radius","radiusSegments","heightSegments","TreeGeometry","build","CubeGeometry","MeshPhongMaterial","wireframe","matrix","makeTranslation","matrixAutoUpdate","levels","edge_w","edge_h","bush","mat","new_mat","Matrix4","new_mat2","new_mat_t0","new_mat_t","new_mat_r","new_mat_r2","new_mat_s","col1","col2","g","makeRotationZ","makeRotationY","makeScale","multiply","updateMatrix","PlaneGeometry","intensity","light","DirectionalLight","mapSize","width","left","bottom","right","top","near","far","positionX","positionY","positionZ","contentHTML","vector","project","devicePixelRatio","annoPosTop","annoPosLeft","makeAnnotation","annoDiv","createElement","classList","innerHTML","hidden","display","appendChild","dragElement","cssObject","setFromCamera","intersects","intersectObjects","setHex","currentHex","getHex","offsetY","raycaster2","theIntersectedObject","button","infospotObject","getObjectByName","element","elmnt","pos3","pos4","dragMouseDown","preventDefault","clientX","clientY","onmouseup","closeDragElement","onmousemove","elementDrag","getElementById","onmousedown","featImage","featured_media","featuredObject","_embedded","imgUrl","source_url","imgMediumUrl","imgLargeUrl","imgWidth","media_details","imgHeight","sizes","full","large","inArray","comparer","props","__exports__","toAbsoluteIndex","endPos","aFunction","newPromiseCapabilityModule","perform","iterate","stat","capability","promiseResolve","values","remaining","alreadyCalled","reason","socketTask","proxy","duplexify","buildProxy","send","success","fail","errMsg","setDefaultOpts","wsOptions","buildUrl","transformWsUrl","bindEventHandler","onOpen","onMessage","ArrayBuffer","onClose","buildStream","websocketSubProtocol","wx","connectSocket","protocols","destroyRef","toPrimitive","definePropertyModule","createPropertyDescriptor","propertyKey","quot","tag","attribute","p1","copyProps","SafeBuffer","encodingOrOffset","allocUnsafeSlow","fill","SlowBuffer","isLE","mLen","nBytes","eLen","eMax","eBias","nBits","NaN","pow","LN2","prop","qs","sep","eq","regexp","maxKeys","kstr","vstr","idx","arg1","arg2","arg3","arraySpeciesCreate","IS_CONCAT_SPREADABLE","MAX_SAFE_INTEGER","MAXIMUM_ALLOWED_INDEX_EXCEEDED","IS_CONCAT_SPREADABLE_SUPPORT","SPECIES_SUPPORT","isConcatSpreadable","spreadable","FORCED","E","A","_inheritsLoose","subClass","superClass","__proto__","createErrorType","Base","getMessage","NodeError","_Base","oneOf","expected","thing","endsWith","this_len","substring","includes","actual","determiner","template","replaceChar","random","IndexedObject","nativeJoin","ES3_STRINGS","separator","objectKeys","allowHalfOpen","onEndNT","getBuiltIn","DESCRIPTORS","NATIVE_SYMBOL","USE_SYMBOL_AS_UID","nativeObjectCreate","getOwnPropertyNamesModule","getOwnPropertyNamesExternal","getOwnPropertySymbolsModule","getOwnPropertyDescriptorModule","propertyIsEnumerableModule","shared","sharedKey","hiddenKeys","uid","defineWellKnownSymbol","setToStringTag","HIDDEN","SYMBOL","PROTOTYPE","TO_PRIMITIVE","ObjectPrototype","$Symbol","$stringify","nativeGetOwnPropertyDescriptor","nativeDefineProperty","nativePropertyIsEnumerable","AllSymbols","ObjectPrototypeSymbols","StringToSymbolRegistry","SymbolToStringRegistry","WellKnownSymbolsStore","QObject","USE_SETTER","findChild","setSymbolDescriptor","a","P","Attributes","ObjectPrototypeDescriptor","isSymbol","$defineProperty","$defineProperties","Properties","$getOwnPropertySymbols","$propertyIsEnumerable","$create","V","$getOwnPropertyDescriptor","$getOwnPropertyNames","names","IS_OBJECT_PROTOTYPE","setter","sham","keyFor","sym","useSetter","useSimple","defineProperties","getOwnPropertySymbols","FORCED_JSON_STRINGIFY","replacer","space","$replacer","valueOf","checkCorrectnessOfIteration","INCORRECT_ITERATION","argument","isChildProcess","stdio","cancelled","onlegacyfinish","onexit","exitCode","onclosenexttick","onrequest","req","ignoreCase","multiline","dotAll","unicode","sticky","ResourceAdapter","__1","support_1","reject_rpc_1","parent","doDestroy","rejectRpc","resource","doSave","destroyAll","all","requestId","chan","thrower","ACCESSORS","argument0","argument1","validateTopic","validateTopics","topics","FunctionPrototype","FunctionPrototypeToString","nameRE","0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","CMD_MASK","sessionExpiryInterval","willDelayInterval","receiveMaximum","topicAliasMaximum","requestResponseInformation","requestProblemInformation","userProperties","authenticationMethod","authenticationData","payloadFormatIndicator","messageExpiryInterval","contentType","responseTopic","correlationData","maximumQoS","retainAvailable","assignedClientIdentifier","reasonString","wildcardSubscriptionAvailable","subscriptionIdentifiersAvailable","sharedSubscriptionAvailable","serverKeepAlive","responseInformation","serverReference","topicAlias","subscriptionIdentifier","genHeader","writeUInt8","puback","pubcomp","pubrel","pubrec","QOS","pingreq","pingresp","base64","ieee754","typedArraySupport","subarray","kMaxLength","TYPED_ARRAY_SUPPORT","createBuffer","fromArrayBuffer","fromString","fromObject","assertSize","checked","fromArrayLike","isnan","isView","loweredCase","utf8ToBytes","base64ToBytes","slowToString","hexSlice","utf8Slice","asciiSlice","latin1Slice","base64Slice","utf16leSlice","swap","bidirectionalIndexOf","arrayIndexOf","indexSize","arrLength","valLength","foundIndex","found","hexWrite","strLen","parsed","utf8Write","blitBuffer","asciiWrite","asciiToBytes","latin1Write","base64Write","ucs2Write","utf16leToBytes","secondByte","thirdByte","fourthByte","tempCodePoint","firstByte","bytesPerSequence","decodeCodePointsArray","INSPECT_MAX_BYTES","poolSize","_augment","species","_isBuffer","compare","swap16","swap32","swap64","equals","inspect","max","thisStart","thisEnd","thisCopy","targetCopy","toJSON","_arr","MAX_ARGUMENTS_LENGTH","codePoints","toHex","checkOffset","ext","checkInt","objectWriteUInt16","littleEndian","objectWriteUInt32","checkIEEE754","writeFloat","noAssert","writeDouble","newBuf","sliceLen","writeUIntLE","writeUIntBE","writeUInt16LE","writeUInt16BE","writeUInt32LE","writeUInt32BE","writeIntLE","limit","writeIntBE","writeInt8","writeInt16LE","writeInt16BE","writeInt32LE","writeInt32BE","writeFloatLE","writeFloatBE","writeDoubleLE","writeDoubleBE","targetStart","INVALID_BASE64_RE","base64clean","stringtrim","units","leadSurrogate","byteArray","hi","lo","IS_MAP","IS_FILTER","IS_SOME","IS_EVERY","IS_FIND_INDEX","NO_HOLES","specificCreate","boundFunction","some","every","find","findIndex","config","warned","deprecated","trace","isExtensible","preventExtensions","ERR_STREAM_PREMATURE_CLOSE","writableEnded","readableEnded","my","isInitialized","sendSocketMessage","closeSocket","onSocketOpen","onSocketMessage","reader","FileReader","readAsArrayBuffer","onSocketClose","onSocketError","non","addToUnscopables","__createBinding","k2","__exportStar","stringToBuffer","regular_array","data16","newDecoder","TextDecoder","chars","bufferToString","td","wrapper","$map","setup","selectColor","createDebug","prevTime","curr","prev","coerce","formatter","logFn","instances","newDebug","enable","skips","instance","disable","toNamespace","stack","default","FREEZING","onFreeze","nativeFreeze","FAILS_ON_PRIMITIVES","ArrayIteratorMethods","ITERATOR","TO_STRING_TAG","ArrayValues","normalizeArray","allowAboveRoot","basename","matchedSlash","resolvedPath","resolvedAbsolute","normalize","trailingSlash","fromParts","toParts","samePartsLength","outputParts","dirname","hasRoot","extname","startDot","startPart","preDotState","Store","mqttPacket","validations","xtend","setImmediate","defaultConnectOptions","reschedulePings","reconnectPeriod","connectTimeout","resubscribe","socketErrors","16","17","128","129","130","131","132","133","134","135","136","137","138","139","140","141","142","143","144","145","146","147","148","149","150","151","152","153","154","155","156","157","158","159","160","161","162","defaultId","sendPacket","queue","flushVolatile","volatile","storeAndSend","cbStorePut","outgoingStore","put","MqttClient","rejectUnauthorized","customHandleAcks","incomingStore","queueQoSZero","_resubscribeTopics","messageIdToTopic","pingTimer","connected","disconnecting","connackTimer","reconnectTimer","_storeProcessing","_packetIdsDuringStoreProcessing","nextId","outgoing","_firstConnection","deliver","_sendPacket","clearTimeout","_setupReconnect","_setupStream","connectPacket","completeParse","packets","nextTickWork","work","_handlePacket","streamErrorHandler","_clearReconnect","authPacket","setMaxListeners","_cleanUp","_handlePublish","_handleAck","_handlePubrel","_handleConnack","_handlePingresp","_handleDisconnect","_checkDisconnecting","defaultOpts","_nextId","_storePacket","invalidTopic","currentOpts","force","closeStores","disconnected","e1","e2","_deferredReconnect","removeOutgoingMessage","del","reconnect","_reconnect","reconnecting","_shiftPingInterval","_setupPingTimer","pingResp","_checkPing","_onConnect","validReasonCodes","handleMessage","response","pubackRC","pubrecRC","grantedI","comp","pub","getLastMessageId","_resubscribe","_resubscribeTopicsKeys","topicI","resubscribeTopic","startStreamProcess","outStore","createStream","clearStoreProcessing","remove","storeDeliver","allProcessed","copyConstructorProperties","NativeSymbol","EmptyStringDescriptionStore","SymbolWrapper","symbolPrototype","symbolToString","native","desc","stringifyPrimitive","ks","parseAuthOptions","brokerUrl","cert","isSecure","servers","_reconnectCount","defaultProtocol","__webpack_require__","tcp","ssl","tls","mqtts","wxs","ali","alis","wss","ownKeys","enumerableOnly","symbols","_objectSpread","getOwnPropertyDescriptors","_classCallCheck","Constructor","_defineProperties","_createClass","protoProps","staticProps","_require2","custom","copyBuffer","tail","hasStrings","_getString","_getBuffer","customInspect","streamsOpts","defaultStoreOptions","_inflights","Map","delete","readableDestroyed","writableDestroyed","emitErrorNT","emitCloseNT","emitErrorAndCloseNT","SubOk","generateBuffer","maxLength","METADATA","setMetadata","objectID","weakData","fastKey","getWeakData","meta","REQUIRED","_duplexState","getStateLength","Farmbot","mqtt_1","_1","config_1","resource_adapter_1","constants_1","is_celery_script_1","time_1","rpc_request_1","installFarmware","rpcRequest","updateFarmware","pkg","package","removeFarmware","installFirstPartyFarmware","powerOff","reboot","rebootFirmware","checkUpdates","resetOS","resetMCU","flashFirmware","firmware_name","emergencyLock","rpc","Priority","HIGHEST","emergencyUnlock","execSequence","sequence_id","execScript","envVars","home","findHome","moveAbsolute","location","coordinate","writePin","readPin","togglePin","readStatus","takePhoto","setZero","axis","setUserEnv","configs","NULL","sendMessage","message_type","channels","channel_name","setServoAngle","pin_number","pin_value","calibrate","lua","nextArray","handler","important","sent","channel","toDevice","_onmessage","original","MQTT_DELIM","publicBroadcast","logs","pong","malformed","ping","timeout","doPing","startedAt","timeoutPromise","pingPromise","ok","race","_a","RECONNECT_THROTTLE_MS","VERSION","resources","offline","online","toClient","_reject","deviceName","fromClients","fromDevice","tStamp","uuid_1","priority","NORMAL","ReflectOwnKeys","Reflect","ReflectApply","receiver","ProcessEmitWarning","warning","NumberIsNaN","_eventsCount","_maxListeners","defaultMaxListeners","checkListener","listener","_getMaxListeners","_addListener","prepend","events","existing","newListener","onceWrapper","fired","wrapFn","_onceWrap","wrapped","_listeners","unwrap","evlistener","unwrapListeners","arrayClone","spliceOne","eventListener","errorListener","getMaxListeners","doError","context","prependOnceListener","originalListener","rawListeners","eventNames","nativeSlice","fin","WS","WSS_OPTIONS","IS_BROWSER","setDefaultBrowserOpts","URL","binary","createWebSocket","socket","createBrowserWebSocket","WebSocket","binaryType","webSocketStream","createWebSocketStream","browserStreamBuilder","bufferSize","browserBufferSize","bufferTimeout","browserBufferTimeout","coerceToBuffer","socketWriteBrowser","socketEndBrowser","eventListenerSupport","socketWrite","socketEnd","objectModeMode","onopen","onmessage","chunks","bufferedAmount","readyState","OPEN","CSSRuleList","CSSStyleDeclaration","CSSValueList","ClientRectList","DOMRectList","DOMStringList","DOMTokenList","DataTransferItemList","FileList","HTMLAllCollection","HTMLCollection","HTMLFormElement","HTMLSelectElement","MediaList","MimeTypeArray","NamedNodeMap","NodeList","PaintRequestList","Plugin","PluginArray","SVGLengthList","SVGNumberList","SVGPathSegList","SVGPointList","SVGStringList","SVGTransformList","SourceBufferList","StyleSheetList","TextTrackCueList","TextTrackList","TouchList","buildBuilder","mqttClient","connection","handleTLSerrors","servername","authorized"],"mappings":"qGAAAA,EAAUC,EAAOD,QAAU,EAAQ,QACnCA,EAAQE,OAASF,EACjBA,EAAQG,SAAWH,EACnBA,EAAQI,SAAW,EAAQ,QAC3BJ,EAAQK,OAAS,EAAQ,QACzBL,EAAQM,UAAY,EAAQ,QAC5BN,EAAQO,YAAc,EAAQ,QAC9BP,EAAQQ,SAAW,EAAQ,QAC3BR,EAAQS,SAAW,EAAQ,S,uBCR3B,IAAIC,EAAkB,EAAQ,QAC1BC,EAA4B,EAAQ,QAA8CC,EAElFC,EAAW,GAAGA,SAEdC,EAA+B,iBAAVC,QAAsBA,QAAUC,OAAOC,oBAC5DD,OAAOC,oBAAoBF,QAAU,GAErCG,EAAiB,SAAUC,GAC7B,IACE,OAAOR,EAA0BQ,GACjC,MAAOC,GACP,OAAON,EAAYO,UAKvBpB,EAAOD,QAAQY,EAAI,SAA6BO,GAC9C,OAAOL,GAAoC,mBAArBD,EAASS,KAAKH,GAChCD,EAAeC,GACfR,EAA0BD,EAAgBS,M,oCCnBhD,IAAII,EAAM,EAAQ,GACdC,EAAQ,EAAQ,OAAR,CAAiB,cAM7B,SAASC,EAAeC,EAAQC,GAC9B,IAAIC,EAAMC,EAQV,OAPAF,EAAKC,KAAOD,EAAKC,MAAQ,KACzBD,EAAKG,SAAWH,EAAKG,UAAYH,EAAKE,MAAQ,YAE9CD,EAAOD,EAAKC,KACZC,EAAOF,EAAKG,SAEZN,EAAM,sBAAuBI,EAAMC,GAC5BN,EAAIQ,iBAAiBH,EAAMC,GAGpC5B,EAAOD,QAAUyB,G,oCCpBjB,W,oCCuBA,IAAIO,EAAW,EAAQ,QACnBC,EAAO,EAAQ,QASnB,SAASC,IACPC,KAAKC,SAAW,KAChBD,KAAKE,QAAU,KACfF,KAAKG,KAAO,KACZH,KAAKN,KAAO,KACZM,KAAKP,KAAO,KACZO,KAAKL,SAAW,KAChBK,KAAKI,KAAO,KACZJ,KAAKK,OAAS,KACdL,KAAKM,MAAQ,KACbN,KAAKO,SAAW,KAChBP,KAAKQ,KAAO,KACZR,KAAKS,KAAO,KAnBd5C,EAAQ6C,MAAQC,EAChB9C,EAAQ+C,QAAUC,EAClBhD,EAAQiD,cAAgBC,EACxBlD,EAAQmD,OAASC,EAEjBpD,EAAQkC,IAAMA,EAqBd,IAAImB,EAAkB,oBAClBC,EAAc,WAGdC,EAAoB,qCAIpBC,EAAS,CAAC,IAAK,IAAK,IAAK,IAAK,IAAK,KAAM,KAAM,MAG/CC,EAAS,CAAC,IAAK,IAAK,IAAK,KAAM,IAAK,KAAKC,OAAOF,GAGhDG,EAAa,CAAC,KAAMD,OAAOD,GAK3BG,EAAe,CAAC,IAAK,IAAK,IAAK,IAAK,KAAKF,OAAOC,GAChDE,EAAkB,CAAC,IAAK,IAAK,KAC7BC,EAAiB,IACjBC,EAAsB,yBACtBC,EAAoB,+BAEpBC,EAAiB,CACf,YAAc,EACd,eAAe,GAGjBC,EAAmB,CACjB,YAAc,EACd,eAAe,GAGjBC,EAAkB,CAChB,MAAQ,EACR,OAAS,EACT,KAAO,EACP,QAAU,EACV,MAAQ,EACR,SAAS,EACT,UAAU,EACV,QAAQ,EACR,WAAW,EACX,SAAS,GAEXC,EAAc,EAAQ,QAE1B,SAAStB,EAASuB,EAAKC,EAAkBC,GACvC,GAAIF,GAAOpC,EAAKuC,SAASH,IAAQA,aAAenC,EAAK,OAAOmC,EAE5D,IAAII,EAAI,IAAIvC,EAEZ,OADAuC,EAAE5B,MAAMwB,EAAKC,EAAkBC,GACxBE,EAyQT,SAASrB,EAAUsB,GAMjB,OADIzC,EAAK0C,SAASD,KAAMA,EAAM5B,EAAS4B,IACjCA,aAAexC,EACdwC,EAAIvB,SADuBjB,EAAI0C,UAAUzB,OAAO7B,KAAKoD,GA4D9D,SAAS1B,EAAW6B,EAAQC,GAC1B,OAAOhC,EAAS+B,GAAQ,GAAO,GAAM9B,QAAQ+B,GAO/C,SAAS5B,EAAiB2B,EAAQC,GAChC,OAAKD,EACE/B,EAAS+B,GAAQ,GAAO,GAAM5B,cAAc6B,GAD/BA,EAjVtB5C,EAAI0C,UAAU/B,MAAQ,SAASwB,EAAKC,EAAkBC,GACpD,IAAKtC,EAAK0C,SAASN,GACjB,MAAM,IAAIU,UAAU,gDAAkDV,GAMxE,IAAIW,EAAaX,EAAIY,QAAQ,KACzBC,GACqB,IAAhBF,GAAqBA,EAAaX,EAAIY,QAAQ,KAAQ,IAAM,IACjEE,EAASd,EAAIe,MAAMF,GACnBG,EAAa,MACjBF,EAAO,GAAKA,EAAO,GAAGG,QAAQD,EAAY,KAC1ChB,EAAMc,EAAOI,KAAKL,GAElB,IAAIM,EAAOnB,EAMX,GAFAmB,EAAOA,EAAKC,QAEPlB,GAA+C,IAA1BF,EAAIe,MAAM,KAAKM,OAAc,CAErD,IAAIC,EAAapC,EAAkBqC,KAAKJ,GACxC,GAAIG,EAeF,OAdAxD,KAAKQ,KAAO6C,EACZrD,KAAKS,KAAO4C,EACZrD,KAAKO,SAAWiD,EAAW,GACvBA,EAAW,IACbxD,KAAKK,OAASmD,EAAW,GAEvBxD,KAAKM,MADH6B,EACWF,EAAYvB,MAAMV,KAAKK,OAAOqD,OAAO,IAErC1D,KAAKK,OAAOqD,OAAO,IAEzBvB,IACTnC,KAAKK,OAAS,GACdL,KAAKM,MAAQ,IAERN,KAIX,IAAI2D,EAAQzC,EAAgBuC,KAAKJ,GACjC,GAAIM,EAAO,CACTA,EAAQA,EAAM,GACd,IAAIC,EAAaD,EAAME,cACvB7D,KAAKC,SAAW2D,EAChBP,EAAOA,EAAKK,OAAOC,EAAMJ,QAO3B,GAAInB,GAAqBuB,GAASN,EAAKS,MAAM,wBAAyB,CACpE,IAAI5D,EAAgC,OAAtBmD,EAAKK,OAAO,EAAG,IACzBxD,GAAayD,GAAS5B,EAAiB4B,KACzCN,EAAOA,EAAKK,OAAO,GACnB1D,KAAKE,SAAU,GAInB,IAAK6B,EAAiB4B,KACjBzD,GAAYyD,IAAU3B,EAAgB2B,IAAU,CAmBnD,IADA,IASIxD,EAAM4D,EATNC,GAAW,EACNC,EAAI,EAAGA,EAAIvC,EAAgB6B,OAAQU,IAAK,CAC/C,IAAIC,EAAMb,EAAKP,QAAQpB,EAAgBuC,KAC1B,IAATC,KAA4B,IAAbF,GAAkBE,EAAMF,KACzCA,EAAUE,GAQZH,GAFe,IAAbC,EAEOX,EAAKc,YAAY,KAIjBd,EAAKc,YAAY,IAAKH,IAKjB,IAAZD,IACF5D,EAAOkD,EAAKnE,MAAM,EAAG6E,GACrBV,EAAOA,EAAKnE,MAAM6E,EAAS,GAC3B/D,KAAKG,KAAOiE,mBAAmBjE,IAIjC6D,GAAW,EACX,IAASC,EAAI,EAAGA,EAAIxC,EAAa8B,OAAQU,IAAK,CACxCC,EAAMb,EAAKP,QAAQrB,EAAawC,KACvB,IAATC,KAA4B,IAAbF,GAAkBE,EAAMF,KACzCA,EAAUE,IAGG,IAAbF,IACFA,EAAUX,EAAKE,QAEjBvD,KAAKN,KAAO2D,EAAKnE,MAAM,EAAG8E,GAC1BX,EAAOA,EAAKnE,MAAM8E,GAGlBhE,KAAKqE,YAILrE,KAAKL,SAAWK,KAAKL,UAAY,GAIjC,IAAI2E,EAAoC,MAArBtE,KAAKL,SAAS,IACe,MAA5CK,KAAKL,SAASK,KAAKL,SAAS4D,OAAS,GAGzC,IAAKe,EAEH,IADA,IAAIC,EAAYvE,KAAKL,SAASsD,MAAM,MACpBuB,GAAPP,EAAI,EAAOM,EAAUhB,QAAQU,EAAIO,EAAGP,IAAK,CAChD,IAAIQ,EAAOF,EAAUN,GACrB,GAAKQ,IACAA,EAAKX,MAAMlC,GAAsB,CAEpC,IADA,IAAI8C,EAAU,GACLC,EAAI,EAAGC,EAAIH,EAAKlB,OAAQoB,EAAIC,EAAGD,IAClCF,EAAKI,WAAWF,GAAK,IAIvBD,GAAW,IAEXA,GAAWD,EAAKE,GAIpB,IAAKD,EAAQZ,MAAMlC,GAAsB,CACvC,IAAIkD,EAAaP,EAAUrF,MAAM,EAAG+E,GAChCc,EAAUR,EAAUrF,MAAM+E,EAAI,GAC9Be,EAAMP,EAAKX,MAAMjC,GACjBmD,IACFF,EAAWG,KAAKD,EAAI,IACpBD,EAAQG,QAAQF,EAAI,KAElBD,EAAQxB,SACVF,EAAO,IAAM0B,EAAQ3B,KAAK,KAAOC,GAEnCrD,KAAKL,SAAWmF,EAAW1B,KAAK,KAChC,QAMJpD,KAAKL,SAAS4D,OAAS5B,EACzB3B,KAAKL,SAAW,GAGhBK,KAAKL,SAAWK,KAAKL,SAASkE,cAG3BS,IAKHtE,KAAKL,SAAWE,EAASsF,QAAQnF,KAAKL,WAGxC,IAAIyF,EAAIpF,KAAKP,KAAO,IAAMO,KAAKP,KAAO,GAClC4F,EAAIrF,KAAKL,UAAY,GACzBK,KAAKN,KAAO2F,EAAID,EAChBpF,KAAKS,MAAQT,KAAKN,KAId4E,IACFtE,KAAKL,SAAWK,KAAKL,SAAS+D,OAAO,EAAG1D,KAAKL,SAAS4D,OAAS,GAC/C,MAAZF,EAAK,KACPA,EAAO,IAAMA,IAOnB,IAAKvB,EAAe8B,GAKlB,IAASK,EAAI,EAAGO,EAAIhD,EAAW+B,OAAQU,EAAIO,EAAGP,IAAK,CACjD,IAAIqB,EAAK9D,EAAWyC,GACpB,IAA0B,IAAtBZ,EAAKP,QAAQwC,GAAjB,CAEA,IAAIC,EAAMC,mBAAmBF,GACzBC,IAAQD,IACVC,EAAME,OAAOH,IAEfjC,EAAOA,EAAKJ,MAAMqC,GAAIlC,KAAKmC,IAM/B,IAAInF,EAAOiD,EAAKP,QAAQ,MACV,IAAV1C,IAEFJ,KAAKI,KAAOiD,EAAKK,OAAOtD,GACxBiD,EAAOA,EAAKnE,MAAM,EAAGkB,IAEvB,IAAIsF,EAAKrC,EAAKP,QAAQ,KAoBtB,IAnBY,IAAR4C,GACF1F,KAAKK,OAASgD,EAAKK,OAAOgC,GAC1B1F,KAAKM,MAAQ+C,EAAKK,OAAOgC,EAAK,GAC1BvD,IACFnC,KAAKM,MAAQ2B,EAAYvB,MAAMV,KAAKM,QAEtC+C,EAAOA,EAAKnE,MAAM,EAAGwG,IACZvD,IAETnC,KAAKK,OAAS,GACdL,KAAKM,MAAQ,IAEX+C,IAAMrD,KAAKO,SAAW8C,GACtBrB,EAAgB4B,IAChB5D,KAAKL,WAAaK,KAAKO,WACzBP,KAAKO,SAAW,KAIdP,KAAKO,UAAYP,KAAKK,OAAQ,CAC5B+E,EAAIpF,KAAKO,UAAY,GAAzB,IACIoF,EAAI3F,KAAKK,QAAU,GACvBL,KAAKQ,KAAO4E,EAAIO,EAKlB,OADA3F,KAAKS,KAAOT,KAAKgB,SACVhB,MAcTD,EAAI0C,UAAUzB,OAAS,WACrB,IAAIb,EAAOH,KAAKG,MAAQ,GACpBA,IACFA,EAAOqF,mBAAmBrF,GAC1BA,EAAOA,EAAKgD,QAAQ,OAAQ,KAC5BhD,GAAQ,KAGV,IAAIF,EAAWD,KAAKC,UAAY,GAC5BM,EAAWP,KAAKO,UAAY,GAC5BH,EAAOJ,KAAKI,MAAQ,GACpBV,GAAO,EACPY,EAAQ,GAERN,KAAKN,KACPA,EAAOS,EAAOH,KAAKN,KACVM,KAAKL,WACdD,EAAOS,IAAwC,IAAhCH,KAAKL,SAASmD,QAAQ,KACjC9C,KAAKL,SACL,IAAMK,KAAKL,SAAW,KACtBK,KAAKP,OACPC,GAAQ,IAAMM,KAAKP,OAInBO,KAAKM,OACLR,EAAKuC,SAASrC,KAAKM,QACnBzB,OAAO+G,KAAK5F,KAAKM,OAAOiD,SAC1BjD,EAAQ2B,EAAY4D,UAAU7F,KAAKM,QAGrC,IAAID,EAASL,KAAKK,QAAWC,GAAU,IAAMA,GAAW,GAsBxD,OApBIL,GAAoC,MAAxBA,EAASyD,QAAQ,KAAYzD,GAAY,KAIrDD,KAAKE,WACHD,GAAY+B,EAAgB/B,MAAuB,IAATP,GAC9CA,EAAO,MAAQA,GAAQ,IACnBa,GAAmC,MAAvBA,EAASuF,OAAO,KAAYvF,EAAW,IAAMA,IACnDb,IACVA,EAAO,IAGLU,GAA2B,MAAnBA,EAAK0F,OAAO,KAAY1F,EAAO,IAAMA,GAC7CC,GAA+B,MAArBA,EAAOyF,OAAO,KAAYzF,EAAS,IAAMA,GAEvDE,EAAWA,EAAS4C,QAAQ,SAAS,SAASW,GAC5C,OAAO0B,mBAAmB1B,MAE5BzD,EAASA,EAAO8C,QAAQ,IAAK,OAEtBlD,EAAWP,EAAOa,EAAWF,EAASD,GAO/CL,EAAI0C,UAAU7B,QAAU,SAAS+B,GAC/B,OAAO3C,KAAKc,cAAcH,EAASgC,GAAU,GAAO,IAAO3B,UAQ7DjB,EAAI0C,UAAU3B,cAAgB,SAAS6B,GACrC,GAAI7C,EAAK0C,SAASG,GAAW,CAC3B,IAAIoD,EAAM,IAAIhG,EACdgG,EAAIrF,MAAMiC,GAAU,GAAO,GAC3BA,EAAWoD,EAKb,IAFA,IAAIC,EAAS,IAAIjG,EACbkG,EAAQpH,OAAO+G,KAAK5F,MACfkG,EAAK,EAAGA,EAAKD,EAAM1C,OAAQ2C,IAAM,CACxC,IAAIC,EAAOF,EAAMC,GACjBF,EAAOG,GAAQnG,KAAKmG,GAQtB,GAHAH,EAAO5F,KAAOuC,EAASvC,KAGD,KAAlBuC,EAASlC,KAEX,OADAuF,EAAOvF,KAAOuF,EAAOhF,SACdgF,EAIT,GAAIrD,EAASzC,UAAYyC,EAAS1C,SAAU,CAG1C,IADA,IAAImG,EAAQvH,OAAO+G,KAAKjD,GACf0D,EAAK,EAAGA,EAAKD,EAAM7C,OAAQ8C,IAAM,CACxC,IAAIC,EAAOF,EAAMC,GACJ,aAATC,IACFN,EAAOM,GAAQ3D,EAAS2D,IAU5B,OANItE,EAAgBgE,EAAO/F,WACvB+F,EAAOrG,WAAaqG,EAAOzF,WAC7ByF,EAAOxF,KAAOwF,EAAOzF,SAAW,KAGlCyF,EAAOvF,KAAOuF,EAAOhF,SACdgF,EAGT,GAAIrD,EAAS1C,UAAY0C,EAAS1C,WAAa+F,EAAO/F,SAAU,CAS9D,IAAK+B,EAAgBW,EAAS1C,UAAW,CAEvC,IADA,IAAI2F,EAAO/G,OAAO+G,KAAKjD,GACd4D,EAAI,EAAGA,EAAIX,EAAKrC,OAAQgD,IAAK,CACpC,IAAI3B,EAAIgB,EAAKW,GACbP,EAAOpB,GAAKjC,EAASiC,GAGvB,OADAoB,EAAOvF,KAAOuF,EAAOhF,SACdgF,EAIT,GADAA,EAAO/F,SAAW0C,EAAS1C,SACtB0C,EAASjD,MAASqC,EAAiBY,EAAS1C,UAS/C+F,EAAOzF,SAAWoC,EAASpC,aAT+B,CAC1D,IAAIiG,GAAW7D,EAASpC,UAAY,IAAI0C,MAAM,KAC9C,MAAOuD,EAAQjD,UAAYZ,EAASjD,KAAO8G,EAAQC,UAC9C9D,EAASjD,OAAMiD,EAASjD,KAAO,IAC/BiD,EAAShD,WAAUgD,EAAShD,SAAW,IACzB,KAAf6G,EAAQ,IAAWA,EAAQtB,QAAQ,IACnCsB,EAAQjD,OAAS,GAAGiD,EAAQtB,QAAQ,IACxCc,EAAOzF,SAAWiG,EAAQpD,KAAK,KAWjC,GAPA4C,EAAO3F,OAASsC,EAAStC,OACzB2F,EAAO1F,MAAQqC,EAASrC,MACxB0F,EAAOtG,KAAOiD,EAASjD,MAAQ,GAC/BsG,EAAO7F,KAAOwC,EAASxC,KACvB6F,EAAOrG,SAAWgD,EAAShD,UAAYgD,EAASjD,KAChDsG,EAAOvG,KAAOkD,EAASlD,KAEnBuG,EAAOzF,UAAYyF,EAAO3F,OAAQ,CACpC,IAAI+E,EAAIY,EAAOzF,UAAY,GACvBoF,EAAIK,EAAO3F,QAAU,GACzB2F,EAAOxF,KAAO4E,EAAIO,EAIpB,OAFAK,EAAO9F,QAAU8F,EAAO9F,SAAWyC,EAASzC,QAC5C8F,EAAOvF,KAAOuF,EAAOhF,SACdgF,EAGT,IAAIU,EAAeV,EAAOzF,UAA0C,MAA9ByF,EAAOzF,SAASuF,OAAO,GACzDa,EACIhE,EAASjD,MACTiD,EAASpC,UAA4C,MAAhCoC,EAASpC,SAASuF,OAAO,GAElDc,EAAcD,GAAYD,GACXV,EAAOtG,MAAQiD,EAASpC,SACvCsG,EAAgBD,EAChBE,EAAUd,EAAOzF,UAAYyF,EAAOzF,SAAS0C,MAAM,MAAQ,GAE3D8D,GADAP,EAAU7D,EAASpC,UAAYoC,EAASpC,SAAS0C,MAAM,MAAQ,GACnD+C,EAAO/F,WAAa+B,EAAgBgE,EAAO/F,WA2B3D,GApBI8G,IACFf,EAAOrG,SAAW,GAClBqG,EAAOvG,KAAO,KACVuG,EAAOtG,OACU,KAAfoH,EAAQ,GAAWA,EAAQ,GAAKd,EAAOtG,KACtCoH,EAAQ5B,QAAQc,EAAOtG,OAE9BsG,EAAOtG,KAAO,GACViD,EAAS1C,WACX0C,EAAShD,SAAW,KACpBgD,EAASlD,KAAO,KACZkD,EAASjD,OACQ,KAAf8G,EAAQ,GAAWA,EAAQ,GAAK7D,EAASjD,KACxC8G,EAAQtB,QAAQvC,EAASjD,OAEhCiD,EAASjD,KAAO,MAElBkH,EAAaA,IAA8B,KAAfJ,EAAQ,IAA4B,KAAfM,EAAQ,KAGvDH,EAEFX,EAAOtG,KAAQiD,EAASjD,MAA0B,KAAlBiD,EAASjD,KAC3BiD,EAASjD,KAAOsG,EAAOtG,KACrCsG,EAAOrG,SAAYgD,EAAShD,UAAkC,KAAtBgD,EAAShD,SAC/BgD,EAAShD,SAAWqG,EAAOrG,SAC7CqG,EAAO3F,OAASsC,EAAStC,OACzB2F,EAAO1F,MAAQqC,EAASrC,MACxBwG,EAAUN,OAEL,GAAIA,EAAQjD,OAGZuD,IAASA,EAAU,IACxBA,EAAQE,MACRF,EAAUA,EAAQvF,OAAOiF,GACzBR,EAAO3F,OAASsC,EAAStC,OACzB2F,EAAO1F,MAAQqC,EAASrC,WACnB,IAAKR,EAAKmH,kBAAkBtE,EAAStC,QAAS,CAInD,GAAI0G,EAAW,CACbf,EAAOrG,SAAWqG,EAAOtG,KAAOoH,EAAQL,QAIxC,IAAIS,KAAalB,EAAOtG,MAAQsG,EAAOtG,KAAKoD,QAAQ,KAAO,IAC1CkD,EAAOtG,KAAKuD,MAAM,KAC/BiE,IACFlB,EAAO7F,KAAO+G,EAAWT,QACzBT,EAAOtG,KAAOsG,EAAOrG,SAAWuH,EAAWT,SAW/C,OARAT,EAAO3F,OAASsC,EAAStC,OACzB2F,EAAO1F,MAAQqC,EAASrC,MAEnBR,EAAKqH,OAAOnB,EAAOzF,WAAcT,EAAKqH,OAAOnB,EAAO3F,UACvD2F,EAAOxF,MAAQwF,EAAOzF,SAAWyF,EAAOzF,SAAW,KACpCyF,EAAO3F,OAAS2F,EAAO3F,OAAS,KAEjD2F,EAAOvF,KAAOuF,EAAOhF,SACdgF,EAGT,IAAKc,EAAQvD,OAWX,OARAyC,EAAOzF,SAAW,KAEdyF,EAAO3F,OACT2F,EAAOxF,KAAO,IAAMwF,EAAO3F,OAE3B2F,EAAOxF,KAAO,KAEhBwF,EAAOvF,KAAOuF,EAAOhF,SACdgF,EAcT,IARA,IAAIoB,EAAON,EAAQ5H,OAAO,GAAG,GACzBmI,GACCrB,EAAOtG,MAAQiD,EAASjD,MAAQoH,EAAQvD,OAAS,KACxC,MAAT6D,GAAyB,OAATA,IAA2B,KAATA,EAInCE,EAAK,EACArD,EAAI6C,EAAQvD,OAAQU,GAAK,EAAGA,IACnCmD,EAAON,EAAQ7C,GACF,MAATmD,EACFN,EAAQS,OAAOtD,EAAG,GACA,OAATmD,GACTN,EAAQS,OAAOtD,EAAG,GAClBqD,KACSA,IACTR,EAAQS,OAAOtD,EAAG,GAClBqD,KAKJ,IAAKV,IAAeC,EAClB,KAAOS,IAAMA,EACXR,EAAQ5B,QAAQ,OAIhB0B,GAA6B,KAAfE,EAAQ,IACpBA,EAAQ,IAA+B,MAAzBA,EAAQ,GAAGhB,OAAO,IACpCgB,EAAQ5B,QAAQ,IAGdmC,GAAsD,MAAjCP,EAAQ1D,KAAK,KAAKM,QAAQ,IACjDoD,EAAQ7B,KAAK,IAGf,IAAIuC,EAA4B,KAAfV,EAAQ,IACpBA,EAAQ,IAA+B,MAAzBA,EAAQ,GAAGhB,OAAO,GAGrC,GAAIiB,EAAW,CACbf,EAAOrG,SAAWqG,EAAOtG,KAAO8H,EAAa,GACbV,EAAQvD,OAASuD,EAAQL,QAAU,GAI/DS,KAAalB,EAAOtG,MAAQsG,EAAOtG,KAAKoD,QAAQ,KAAO,IAC1CkD,EAAOtG,KAAKuD,MAAM,KAC/BiE,IACFlB,EAAO7F,KAAO+G,EAAWT,QACzBT,EAAOtG,KAAOsG,EAAOrG,SAAWuH,EAAWT,SAyB/C,OArBAG,EAAaA,GAAeZ,EAAOtG,MAAQoH,EAAQvD,OAE/CqD,IAAeY,GACjBV,EAAQ5B,QAAQ,IAGb4B,EAAQvD,OAIXyC,EAAOzF,SAAWuG,EAAQ1D,KAAK,MAH/B4C,EAAOzF,SAAW,KAClByF,EAAOxF,KAAO,MAMXV,EAAKqH,OAAOnB,EAAOzF,WAAcT,EAAKqH,OAAOnB,EAAO3F,UACvD2F,EAAOxF,MAAQwF,EAAOzF,SAAWyF,EAAOzF,SAAW,KACpCyF,EAAO3F,OAAS2F,EAAO3F,OAAS,KAEjD2F,EAAO7F,KAAOwC,EAASxC,MAAQ6F,EAAO7F,KACtC6F,EAAO9F,QAAU8F,EAAO9F,SAAWyC,EAASzC,QAC5C8F,EAAOvF,KAAOuF,EAAOhF,SACdgF,GAGTjG,EAAI0C,UAAU4B,UAAY,WACxB,IAAI3E,EAAOM,KAAKN,KACZD,EAAO0B,EAAYsC,KAAK/D,GACxBD,IACFA,EAAOA,EAAK,GACC,MAATA,IACFO,KAAKP,KAAOA,EAAKiE,OAAO,IAE1BhE,EAAOA,EAAKgE,OAAO,EAAGhE,EAAK6D,OAAS9D,EAAK8D,SAEvC7D,IAAMM,KAAKL,SAAWD,K,oCCztB5Bb,OAAO4I,eAAe5J,EAAS,aAAc,CAAE6J,OAAO,IACtD7J,EAAQ8J,mBAAgB,EAGxB,SAAWA,GAEPA,EAAc,SAAW,QAEzBA,EAAc,UAAY,SAG1BA,EAAc,SAAW,GAP7B,CAQmB9J,EAAQ8J,gBAAkB9J,EAAQ8J,cAAgB,M,qCCbrE,cAyBA,IAAIzJ,EAHJJ,EAAOD,QAAUG,EAMjBA,EAAS4J,cAAgBA,EAGhB,EAAQ,QAAUC,aAA3B,IAEIC,EAAkB,SAAyBC,EAASC,GACtD,OAAOD,EAAQE,UAAUD,GAAMzE,QAO7BxF,EAAS,EAAQ,QAIjBmK,EAAS,EAAQ,QAAUA,OAE3BC,EAAgBC,EAAOC,YAAc,aAEzC,SAASC,EAAoBC,GAC3B,OAAOL,EAAOM,KAAKD,GAGrB,SAASE,EAAclG,GACrB,OAAO2F,EAAOQ,SAASnG,IAAQA,aAAe4F,EAKhD,IAEI9I,EAFAsJ,EAAY,EAAQ,GAKtBtJ,EADEsJ,GAAaA,EAAUC,SACjBD,EAAUC,SAAS,UAEnB,aAKV,IAcIC,EACAC,EACAN,EAhBAO,EAAa,EAAQ,QAErBC,EAAc,EAAQ,QAEtBC,EAAW,EAAQ,QACnBC,EAAmBD,EAASC,iBAE5BC,EAAiB,EAAQ,QAAaC,MACtCC,EAAuBF,EAAeE,qBACtCC,EAA4BH,EAAeG,0BAC3CC,EAA6BJ,EAAeI,2BAC5CC,EAAqCL,EAAeK,mCAOxD,EAAQ,OAAR,CAAoBxL,EAAUD,GAE9B,IAAI0L,EAAiBT,EAAYS,eAC7BC,EAAe,CAAC,QAAS,QAAS,UAAW,QAAS,UAE1D,SAASC,EAAgB5B,EAAS6B,EAAOC,GAGvC,GAAuC,oBAA5B9B,EAAQ4B,gBAAgC,OAAO5B,EAAQ4B,gBAAgBC,EAAOC,GAKpF9B,EAAQ+B,SAAY/B,EAAQ+B,QAAQF,GAAuCG,MAAMC,QAAQjC,EAAQ+B,QAAQF,IAAS7B,EAAQ+B,QAAQF,GAAO1E,QAAQ2E,GAAS9B,EAAQ+B,QAAQF,GAAS,CAACC,EAAI9B,EAAQ+B,QAAQF,IAA5J7B,EAAQkC,GAAGL,EAAOC,GAGrE,SAASjC,EAAcsC,EAASC,EAAQC,GACtClM,EAASA,GAAU,EAAQ,QAC3BgM,EAAUA,GAAW,GAMG,mBAAbE,IAAwBA,EAAWD,aAAkBjM,GAGhE8B,KAAKqK,aAAeH,EAAQG,WACxBD,IAAUpK,KAAKqK,WAAarK,KAAKqK,cAAgBH,EAAQI,oBAG7DtK,KAAKuK,cAAgBrB,EAAiBlJ,KAAMkK,EAAS,wBAAyBE,GAI9EpK,KAAKwK,OAAS,IAAIzB,EAClB/I,KAAKuD,OAAS,EACdvD,KAAKyK,MAAQ,KACbzK,KAAK0K,WAAa,EAClB1K,KAAK2K,QAAU,KACf3K,KAAK4K,OAAQ,EACb5K,KAAK6K,YAAa,EAClB7K,KAAK8K,SAAU,EAKf9K,KAAK+K,MAAO,EAGZ/K,KAAKgL,cAAe,EACpBhL,KAAKiL,iBAAkB,EACvBjL,KAAKkL,mBAAoB,EACzBlL,KAAKmL,iBAAkB,EACvBnL,KAAKoL,QAAS,EAEdpL,KAAKqL,WAAkC,IAAtBnB,EAAQmB,UAEzBrL,KAAKsL,cAAgBpB,EAAQoB,YAE7BtL,KAAKuL,WAAY,EAIjBvL,KAAKwL,gBAAkBtB,EAAQsB,iBAAmB,OAElDxL,KAAKyL,WAAa,EAElBzL,KAAK0L,aAAc,EACnB1L,KAAK2L,QAAU,KACf3L,KAAK4L,SAAW,KAEZ1B,EAAQ0B,WACL/C,IAAeA,EAAgB,EAAQ,QAAmBA,eAC/D7I,KAAK2L,QAAU,IAAI9C,EAAcqB,EAAQ0B,UACzC5L,KAAK4L,SAAW1B,EAAQ0B,UAI5B,SAAS5N,EAASkM,GAEhB,GADAhM,EAASA,GAAU,EAAQ,UACrB8B,gBAAgBhC,GAAW,OAAO,IAAIA,EAASkM,GAGrD,IAAIE,EAAWpK,gBAAgB9B,EAC/B8B,KAAK6L,eAAiB,IAAIjE,EAAcsC,EAASlK,KAAMoK,GAEvDpK,KAAK8L,UAAW,EAEZ5B,IAC0B,oBAAjBA,EAAQ6B,OAAqB/L,KAAKgM,MAAQ9B,EAAQ6B,MAC9B,oBAApB7B,EAAQ+B,UAAwBjM,KAAKkM,SAAWhC,EAAQ+B,UAGrElO,EAAOoB,KAAKa,MAiEd,SAASmM,EAAiBhC,EAAQ5B,EAAOqD,EAAUQ,EAAYC,GAC7DhN,EAAM,mBAAoBkJ,GAC1B,IAMM+D,EANFC,EAAQpC,EAAO0B,eAEnB,GAAc,OAAVtD,EACFgE,EAAMzB,SAAU,EAChB0B,EAAWrC,EAAQoC,QAKnB,GAFKF,IAAgBC,EAAKG,EAAaF,EAAOhE,IAE1C+D,EACF7C,EAAeU,EAAQmC,QAClB,GAAIC,EAAMlC,YAAc9B,GAASA,EAAMhF,OAAS,EAKrD,GAJqB,kBAAVgF,GAAuBgE,EAAMlC,YAAcxL,OAAO6N,eAAenE,KAAWL,EAAOzF,YAC5F8F,EAAQD,EAAoBC,IAG1B6D,EACEG,EAAM1B,WAAYpB,EAAeU,EAAQ,IAAIX,GAA2CmD,EAASxC,EAAQoC,EAAOhE,GAAO,QACtH,GAAIgE,EAAM3B,MACfnB,EAAeU,EAAQ,IAAIb,OACtB,IAAIiD,EAAMhB,UACf,OAAO,EAEPgB,EAAMzB,SAAU,EAEZyB,EAAMZ,UAAYC,GACpBrD,EAAQgE,EAAMZ,QAAQiB,MAAMrE,GACxBgE,EAAMlC,YAA+B,IAAjB9B,EAAMhF,OAAcoJ,EAASxC,EAAQoC,EAAOhE,GAAO,GAAYsE,EAAc1C,EAAQoC,IAE7GI,EAASxC,EAAQoC,EAAOhE,GAAO,QAGzB6D,IACVG,EAAMzB,SAAU,EAChB+B,EAAc1C,EAAQoC,IAO1B,OAAQA,EAAM3B,QAAU2B,EAAMhJ,OAASgJ,EAAMhC,eAAkC,IAAjBgC,EAAMhJ,QAGtE,SAASoJ,EAASxC,EAAQoC,EAAOhE,EAAO6D,GAClCG,EAAM5B,SAA4B,IAAjB4B,EAAMhJ,SAAiBgJ,EAAMxB,MAChDwB,EAAMd,WAAa,EACnBtB,EAAO2C,KAAK,OAAQvE,KAGpBgE,EAAMhJ,QAAUgJ,EAAMlC,WAAa,EAAI9B,EAAMhF,OACzC6I,EAAYG,EAAM/B,OAAOtF,QAAQqD,GAAYgE,EAAM/B,OAAOvF,KAAKsD,GAC/DgE,EAAMvB,cAAc+B,EAAa5C,IAGvC0C,EAAc1C,EAAQoC,GAGxB,SAASE,EAAaF,EAAOhE,GAC3B,IAAI+D,EAMJ,OAJK7D,EAAcF,IAA2B,kBAAVA,QAAgCyE,IAAVzE,GAAwBgE,EAAMlC,aACtFiC,EAAK,IAAIjD,EAAqB,QAAS,CAAC,SAAU,SAAU,cAAed,IAGtE+D,EAjITzN,OAAO4I,eAAezJ,EAASyE,UAAW,YAAa,CAIrDwK,YAAY,EACZC,IAAK,WACH,YAA4BF,IAAxBhN,KAAK6L,gBAIF7L,KAAK6L,eAAeN,WAE7B4B,IAAK,SAAazF,GAGX1H,KAAK6L,iBAMV7L,KAAK6L,eAAeN,UAAY7D,MAGpC1J,EAASyE,UAAUwJ,QAAUjD,EAAYiD,QACzCjO,EAASyE,UAAU2K,WAAapE,EAAYqE,UAE5CrP,EAASyE,UAAUyJ,SAAW,SAAUoB,EAAKC,GAC3CA,EAAGD,IAOLtP,EAASyE,UAAUwC,KAAO,SAAUsD,EAAOqD,GACzC,IACIS,EADAE,EAAQvM,KAAK6L,eAkBjB,OAfKU,EAAMlC,WAYTgC,GAAiB,EAXI,kBAAV9D,IACTqD,EAAWA,GAAYW,EAAMf,gBAEzBI,IAAaW,EAAMX,WACrBrD,EAAQL,EAAOM,KAAKD,EAAOqD,GAC3BA,EAAW,IAGbS,GAAiB,GAMdF,EAAiBnM,KAAMuI,EAAOqD,GAAU,EAAOS,IAIxDrO,EAASyE,UAAUyC,QAAU,SAAUqD,GACrC,OAAO4D,EAAiBnM,KAAMuI,EAAO,MAAM,GAAM,IAyEnDvK,EAASyE,UAAU+K,SAAW,WAC5B,OAAuC,IAAhCxN,KAAK6L,eAAelB,SAI7B3M,EAASyE,UAAUgL,YAAc,SAAUC,GACpC7E,IAAeA,EAAgB,EAAQ,QAAmBA,eAC/D,IAAI8C,EAAU,IAAI9C,EAAc6E,GAChC1N,KAAK6L,eAAeF,QAAUA,EAE9B3L,KAAK6L,eAAeD,SAAW5L,KAAK6L,eAAeF,QAAQC,SAE3D,IAAIxG,EAAIpF,KAAK6L,eAAerB,OAAOmD,KAC/BC,EAAU,GAEd,MAAa,OAANxI,EACLwI,GAAWjC,EAAQiB,MAAMxH,EAAEyI,MAC3BzI,EAAIA,EAAE0I,KAOR,OAJA9N,KAAK6L,eAAerB,OAAOuD,QAEX,KAAZH,GAAgB5N,KAAK6L,eAAerB,OAAOvF,KAAK2I,GACpD5N,KAAK6L,eAAetI,OAASqK,EAAQrK,OAC9BvD,MAIT,IAAIgO,EAAU,WAEd,SAASC,EAAwBC,GAgB/B,OAfIA,GAAKF,EAEPE,EAAIF,GAIJE,IACAA,GAAKA,IAAM,EACXA,GAAKA,IAAM,EACXA,GAAKA,IAAM,EACXA,GAAKA,IAAM,EACXA,GAAKA,IAAM,GACXA,KAGKA,EAKT,SAASC,EAAcD,EAAG3B,GACxB,OAAI2B,GAAK,GAAsB,IAAjB3B,EAAMhJ,QAAgBgJ,EAAM3B,MAAc,EACpD2B,EAAMlC,WAAmB,EAEzB6D,IAAMA,EAEJ3B,EAAM5B,SAAW4B,EAAMhJ,OAAegJ,EAAM/B,OAAOmD,KAAKE,KAAKtK,OAAmBgJ,EAAMhJ,QAIxF2K,EAAI3B,EAAMhC,gBAAegC,EAAMhC,cAAgB0D,EAAwBC,IACvEA,GAAK3B,EAAMhJ,OAAe2K,EAEzB3B,EAAM3B,MAKJ2B,EAAMhJ,QAJXgJ,EAAMvB,cAAe,EACd,IAsGX,SAASwB,EAAWrC,EAAQoC,GAE1B,GADAlN,EAAM,eACFkN,EAAM3B,MAAV,CAEA,GAAI2B,EAAMZ,QAAS,CACjB,IAAIpD,EAAQgE,EAAMZ,QAAQyC,MAEtB7F,GAASA,EAAMhF,SACjBgJ,EAAM/B,OAAOvF,KAAKsD,GAClBgE,EAAMhJ,QAAUgJ,EAAMlC,WAAa,EAAI9B,EAAMhF,QAIjDgJ,EAAM3B,OAAQ,EAEV2B,EAAMxB,KAIRgC,EAAa5C,IAGboC,EAAMvB,cAAe,EAEhBuB,EAAMtB,kBACTsB,EAAMtB,iBAAkB,EACxBoD,EAAclE,MAQpB,SAAS4C,EAAa5C,GACpB,IAAIoC,EAAQpC,EAAO0B,eACnBxM,EAAM,eAAgBkN,EAAMvB,aAAcuB,EAAMtB,iBAChDsB,EAAMvB,cAAe,EAEhBuB,EAAMtB,kBACT5L,EAAM,eAAgBkN,EAAM5B,SAC5B4B,EAAMtB,iBAAkB,EACxBqD,EAAQC,SAASF,EAAelE,IAIpC,SAASkE,EAAclE,GACrB,IAAIoC,EAAQpC,EAAO0B,eACnBxM,EAAM,gBAAiBkN,EAAMhB,UAAWgB,EAAMhJ,OAAQgJ,EAAM3B,OAEvD2B,EAAMhB,YAAcgB,EAAMhJ,SAAUgJ,EAAM3B,QAC7CT,EAAO2C,KAAK,YACZP,EAAMtB,iBAAkB,GAS1BsB,EAAMvB,cAAgBuB,EAAM5B,UAAY4B,EAAM3B,OAAS2B,EAAMhJ,QAAUgJ,EAAMhC,cAC7EiE,EAAKrE,GASP,SAAS0C,EAAc1C,EAAQoC,GACxBA,EAAMb,cACTa,EAAMb,aAAc,EACpB4C,EAAQC,SAASE,EAAgBtE,EAAQoC,IAI7C,SAASkC,EAAetE,EAAQoC,GAwB9B,OAAQA,EAAMzB,UAAYyB,EAAM3B,QAAU2B,EAAMhJ,OAASgJ,EAAMhC,eAAiBgC,EAAM5B,SAA4B,IAAjB4B,EAAMhJ,QAAe,CACpH,IAAImL,EAAMnC,EAAMhJ,OAGhB,GAFAlE,EAAM,wBACN8K,EAAO4B,KAAK,GACR2C,IAAQnC,EAAMhJ,OAChB,MAGJgJ,EAAMb,aAAc,EAgJtB,SAASiD,EAAYC,GACnB,OAAO,WACL,IAAIrC,EAAQqC,EAAI/C,eAChBxM,EAAM,cAAekN,EAAMd,YACvBc,EAAMd,YAAYc,EAAMd,aAEH,IAArBc,EAAMd,YAAoB3D,EAAgB8G,EAAK,UACjDrC,EAAM5B,SAAU,EAChB6D,EAAKI,KAqHX,SAASC,EAAwBC,GAC/B,IAAIvC,EAAQuC,EAAKjD,eACjBU,EAAMrB,kBAAoB4D,EAAKC,cAAc,YAAc,EAEvDxC,EAAMpB,kBAAoBoB,EAAMnB,OAGlCmB,EAAM5B,SAAU,EACPmE,EAAKC,cAAc,QAAU,GACtCD,EAAKE,SAIT,SAASC,EAAiBH,GACxBzP,EAAM,4BACNyP,EAAK/C,KAAK,GAqBZ,SAASiD,EAAO7E,EAAQoC,GACjBA,EAAMpB,kBACToB,EAAMpB,iBAAkB,EACxBmD,EAAQC,SAASW,EAAS/E,EAAQoC,IAItC,SAAS2C,EAAQ/E,EAAQoC,GACvBlN,EAAM,SAAUkN,EAAMzB,SAEjByB,EAAMzB,SACTX,EAAO4B,KAAK,GAGdQ,EAAMpB,iBAAkB,EACxBhB,EAAO2C,KAAK,UACZ0B,EAAKrE,GACDoC,EAAM5B,UAAY4B,EAAMzB,SAASX,EAAO4B,KAAK,GAgBnD,SAASyC,EAAKrE,GACZ,IAAIoC,EAAQpC,EAAO0B,eACnBxM,EAAM,OAAQkN,EAAM5B,SAEpB,MAAO4B,EAAM5B,SAA6B,OAAlBR,EAAO4B,SA4HjC,SAASoD,EAASjB,EAAG3B,GAEnB,OAAqB,IAAjBA,EAAMhJ,OAAqB,MAE3BgJ,EAAMlC,WAAY+E,EAAM7C,EAAM/B,OAAO/D,SAAkByH,GAAKA,GAAK3B,EAAMhJ,QAEtD6L,EAAf7C,EAAMZ,QAAeY,EAAM/B,OAAOpH,KAAK,IAAqC,IAAxBmJ,EAAM/B,OAAOjH,OAAoBgJ,EAAM/B,OAAO6E,QAAmB9C,EAAM/B,OAAOjJ,OAAOgL,EAAMhJ,QACnJgJ,EAAM/B,OAAOuD,SAGbqB,EAAM7C,EAAM/B,OAAO8E,QAAQpB,EAAG3B,EAAMZ,SAE/ByD,GATP,IAAIA,EAYN,SAASG,EAAYpF,GACnB,IAAIoC,EAAQpC,EAAO0B,eACnBxM,EAAM,cAAekN,EAAM1B,YAEtB0B,EAAM1B,aACT0B,EAAM3B,OAAQ,EACd0D,EAAQC,SAASiB,EAAejD,EAAOpC,IAI3C,SAASqF,EAAcjD,EAAOpC,GAG5B,GAFA9K,EAAM,gBAAiBkN,EAAM1B,WAAY0B,EAAMhJ,SAE1CgJ,EAAM1B,YAA+B,IAAjB0B,EAAMhJ,SAC7BgJ,EAAM1B,YAAa,EACnBV,EAAO2B,UAAW,EAClB3B,EAAO2C,KAAK,OAERP,EAAMjB,aAAa,CAGrB,IAAImE,EAAStF,EAAOuF,iBAEfD,GAAUA,EAAOnE,aAAemE,EAAOpR,WAC1C8L,EAAO8B,WAgBf,SAASnJ,EAAQ6M,EAAIC,GACnB,IAAK,IAAI3L,EAAI,EAAGO,EAAImL,EAAGpM,OAAQU,EAAIO,EAAGP,IACpC,GAAI0L,EAAG1L,KAAO2L,EAAG,OAAO3L,EAG1B,OAAQ,EA3tBVjG,EAASyE,UAAUsJ,KAAO,SAAUmC,GAClC7O,EAAM,OAAQ6O,GACdA,EAAI2B,SAAS3B,EAAG,IAChB,IAAI3B,EAAQvM,KAAK6L,eACbiE,EAAQ5B,EAKZ,GAJU,IAANA,IAAS3B,EAAMtB,iBAAkB,GAI3B,IAANiD,GAAW3B,EAAMvB,gBAA0C,IAAxBuB,EAAMhC,cAAsBgC,EAAMhJ,QAAUgJ,EAAMhC,cAAgBgC,EAAMhJ,OAAS,IAAMgJ,EAAM3B,OAGlI,OAFAvL,EAAM,qBAAsBkN,EAAMhJ,OAAQgJ,EAAM3B,OAC3B,IAAjB2B,EAAMhJ,QAAgBgJ,EAAM3B,MAAO2E,EAAYvP,MAAW+M,EAAa/M,MACpE,KAKT,GAFAkO,EAAIC,EAAcD,EAAG3B,GAEX,IAAN2B,GAAW3B,EAAM3B,MAEnB,OADqB,IAAjB2B,EAAMhJ,QAAcgM,EAAYvP,MAC7B,KAyBT,IA4BIoP,EA5BAW,EAASxD,EAAMvB,aAgDnB,OA/CA3L,EAAM,gBAAiB0Q,IAEF,IAAjBxD,EAAMhJ,QAAgBgJ,EAAMhJ,OAAS2K,EAAI3B,EAAMhC,iBACjDwF,GAAS,EACT1Q,EAAM,6BAA8B0Q,IAKlCxD,EAAM3B,OAAS2B,EAAMzB,SACvBiF,GAAS,EACT1Q,EAAM,mBAAoB0Q,IACjBA,IACT1Q,EAAM,WACNkN,EAAMzB,SAAU,EAChByB,EAAMxB,MAAO,EAEQ,IAAjBwB,EAAMhJ,SAAcgJ,EAAMvB,cAAe,GAE7ChL,KAAKgM,MAAMO,EAAMhC,eAEjBgC,EAAMxB,MAAO,EAGRwB,EAAMzB,UAASoD,EAAIC,EAAc2B,EAAOvD,KAIpC6C,EAAPlB,EAAI,EAASiB,EAASjB,EAAG3B,GAAkB,KAEnC,OAAR6C,GACF7C,EAAMvB,aAAeuB,EAAMhJ,QAAUgJ,EAAMhC,cAC3C2D,EAAI,IAEJ3B,EAAMhJ,QAAU2K,EAChB3B,EAAMd,WAAa,GAGA,IAAjBc,EAAMhJ,SAGHgJ,EAAM3B,QAAO2B,EAAMvB,cAAe,GAEnC8E,IAAU5B,GAAK3B,EAAM3B,OAAO2E,EAAYvP,OAGlC,OAARoP,GAAcpP,KAAK8M,KAAK,OAAQsC,GAC7BA,GAwHTpR,EAASyE,UAAUuJ,MAAQ,SAAUkC,GACnCzE,EAAezJ,KAAM,IAAIuJ,EAA2B,aAGtDvL,EAASyE,UAAUuN,KAAO,SAAUC,EAAMC,GACxC,IAAItB,EAAM5O,KACNuM,EAAQvM,KAAK6L,eAEjB,OAAQU,EAAM7B,YACZ,KAAK,EACH6B,EAAM9B,MAAQwF,EACd,MAEF,KAAK,EACH1D,EAAM9B,MAAQ,CAAC8B,EAAM9B,MAAOwF,GAC5B,MAEF,QACE1D,EAAM9B,MAAMxF,KAAKgL,GACjB,MAGJ1D,EAAM7B,YAAc,EACpBrL,EAAM,wBAAyBkN,EAAM7B,WAAYwF,GACjD,IAAIC,IAAUD,IAA6B,IAAjBA,EAAS9B,MAAkB6B,IAAS3B,EAAQ8B,QAAUH,IAAS3B,EAAQ+B,OAC7FC,EAAQH,EAAQI,EAAQC,EAI5B,SAASC,EAAS3E,EAAU4E,GAC1BrR,EAAM,YAEFyM,IAAa8C,GACX8B,IAAwC,IAA1BA,EAAWC,aAC3BD,EAAWC,YAAa,EACxBC,KAKN,SAASL,IACPlR,EAAM,SACN4Q,EAAK7B,MAhBH7B,EAAM1B,WAAYyD,EAAQC,SAAS+B,GAAY1B,EAAIiC,KAAK,MAAOP,GACnEL,EAAKhG,GAAG,SAAUwG,GAsBlB,IAAIK,EAAUnC,EAAYC,GAC1BqB,EAAKhG,GAAG,QAAS6G,GACjB,IAAIC,GAAY,EAEhB,SAASH,IACPvR,EAAM,WAEN4Q,EAAKe,eAAe,QAASC,GAC7BhB,EAAKe,eAAe,SAAUE,GAC9BjB,EAAKe,eAAe,QAASF,GAC7Bb,EAAKe,eAAe,QAASG,GAC7BlB,EAAKe,eAAe,SAAUP,GAC9B7B,EAAIoC,eAAe,MAAOT,GAC1B3B,EAAIoC,eAAe,MAAOR,GAC1B5B,EAAIoC,eAAe,OAAQI,GAC3BL,GAAY,GAMRxE,EAAMd,YAAgBwE,EAAKP,iBAAkBO,EAAKP,eAAe2B,WAAYP,IAKnF,SAASM,EAAO7I,GACdlJ,EAAM,UACN,IAAI+P,EAAMa,EAAKrD,MAAMrE,GACrBlJ,EAAM,aAAc+P,IAER,IAARA,KAKwB,IAArB7C,EAAM7B,YAAoB6B,EAAM9B,QAAUwF,GAAQ1D,EAAM7B,WAAa,IAAqC,IAAhC5H,EAAQyJ,EAAM9B,MAAOwF,MAAkBc,IACpH1R,EAAM,8BAA+BkN,EAAMd,YAC3Cc,EAAMd,cAGRmD,EAAI0C,SAMR,SAASH,EAAQ7E,GACfjN,EAAM,UAAWiN,GACjBkE,IACAP,EAAKe,eAAe,QAASG,GACU,IAAnCrJ,EAAgBmI,EAAM,UAAgBxG,EAAewG,EAAM3D,GAMjE,SAAS2E,IACPhB,EAAKe,eAAe,SAAUE,GAC9BV,IAKF,SAASU,IACP7R,EAAM,YACN4Q,EAAKe,eAAe,QAASC,GAC7BT,IAKF,SAASA,IACPnR,EAAM,UACNuP,EAAI4B,OAAOP,GAWb,OA7DArB,EAAI3E,GAAG,OAAQmH,GA+BfzH,EAAgBsG,EAAM,QAASkB,GAO/BlB,EAAKY,KAAK,QAASI,GAQnBhB,EAAKY,KAAK,SAAUK,GAQpBjB,EAAKnD,KAAK,OAAQ8B,GAEbrC,EAAM5B,UACTtL,EAAM,eACNuP,EAAII,UAGCiB,GAgBTjS,EAASyE,UAAU+N,OAAS,SAAUP,GACpC,IAAI1D,EAAQvM,KAAK6L,eACb6E,EAAa,CACfC,YAAY,GAGd,GAAyB,IAArBpE,EAAM7B,WAAkB,OAAO1K,KAEnC,GAAyB,IAArBuM,EAAM7B,WAER,OAAIuF,GAAQA,IAAS1D,EAAM9B,QACtBwF,IAAMA,EAAO1D,EAAM9B,OAExB8B,EAAM9B,MAAQ,KACd8B,EAAM7B,WAAa,EACnB6B,EAAM5B,SAAU,EACZsF,GAAMA,EAAKnD,KAAK,SAAU9M,KAAM0Q,IANK1Q,KAW3C,IAAKiQ,EAAM,CAET,IAAIsB,EAAQhF,EAAM9B,MACdiE,EAAMnC,EAAM7B,WAChB6B,EAAM9B,MAAQ,KACd8B,EAAM7B,WAAa,EACnB6B,EAAM5B,SAAU,EAEhB,IAAK,IAAI1G,EAAI,EAAGA,EAAIyK,EAAKzK,IACvBsN,EAAMtN,GAAG6I,KAAK,SAAU9M,KAAM,CAC5B2Q,YAAY,IAIhB,OAAO3Q,KAIT,IAAIwR,EAAQ1O,EAAQyJ,EAAM9B,MAAOwF,GACjC,OAAe,IAAXuB,IACJjF,EAAM9B,MAAMlD,OAAOiK,EAAO,GAC1BjF,EAAM7B,YAAc,EACK,IAArB6B,EAAM7B,aAAkB6B,EAAM9B,MAAQ8B,EAAM9B,MAAM,IACtDwF,EAAKnD,KAAK,SAAU9M,KAAM0Q,IAJD1Q,MAU3BhC,EAASyE,UAAUwH,GAAK,SAAUwH,EAAI5H,GACpC,IAAI6H,EAAM3T,EAAO0E,UAAUwH,GAAG9K,KAAKa,KAAMyR,EAAI5H,GACzC0C,EAAQvM,KAAK6L,eAuBjB,MArBW,SAAP4F,GAGFlF,EAAMrB,kBAAoBlL,KAAK+O,cAAc,YAAc,GAErC,IAAlBxC,EAAM5B,SAAmB3K,KAAKgP,UAClB,aAAPyC,IACJlF,EAAM1B,YAAe0B,EAAMrB,oBAC9BqB,EAAMrB,kBAAoBqB,EAAMvB,cAAe,EAC/CuB,EAAM5B,SAAU,EAChB4B,EAAMtB,iBAAkB,EACxB5L,EAAM,cAAekN,EAAMhJ,OAAQgJ,EAAMzB,SAErCyB,EAAMhJ,OACRwJ,EAAa/M,MACHuM,EAAMzB,SAChBwD,EAAQC,SAASU,EAAkBjP,QAKlC0R,GAGT1T,EAASyE,UAAUkP,YAAc3T,EAASyE,UAAUwH,GAEpDjM,EAASyE,UAAUuO,eAAiB,SAAUS,EAAI5H,GAChD,IAAI6H,EAAM3T,EAAO0E,UAAUuO,eAAe7R,KAAKa,KAAMyR,EAAI5H,GAYzD,MAVW,aAAP4H,GAOFnD,EAAQC,SAASM,EAAyB7O,MAGrC0R,GAGT1T,EAASyE,UAAUmP,mBAAqB,SAAUH,GAChD,IAAIC,EAAM3T,EAAO0E,UAAUmP,mBAAmBC,MAAM7R,KAAM8R,WAY1D,MAVW,aAAPL,QAA4BzE,IAAPyE,GAOvBnD,EAAQC,SAASM,EAAyB7O,MAGrC0R,GAuBT1T,EAASyE,UAAUuM,OAAS,WAC1B,IAAIzC,EAAQvM,KAAK6L,eAYjB,OAVKU,EAAM5B,UACTtL,EAAM,UAINkN,EAAM5B,SAAW4B,EAAMrB,kBACvB8D,EAAOhP,KAAMuM,IAGfA,EAAMnB,QAAS,EACRpL,MAuBThC,EAASyE,UAAU6O,MAAQ,WAUzB,OATAjS,EAAM,wBAAyBW,KAAK6L,eAAelB,UAEf,IAAhC3K,KAAK6L,eAAelB,UACtBtL,EAAM,SACNW,KAAK6L,eAAelB,SAAU,EAC9B3K,KAAK8M,KAAK,UAGZ9M,KAAK6L,eAAeT,QAAS,EACtBpL,MAeThC,EAASyE,UAAUsP,KAAO,SAAU5H,GAClC,IAAI6H,EAAQhS,KAERuM,EAAQvM,KAAK6L,eACbT,GAAS,EA0Bb,IAAK,IAAInH,KAzBTkG,EAAOF,GAAG,OAAO,WAGf,GAFA5K,EAAM,eAEFkN,EAAMZ,UAAYY,EAAM3B,MAAO,CACjC,IAAIrC,EAAQgE,EAAMZ,QAAQyC,MACtB7F,GAASA,EAAMhF,QAAQyO,EAAM/M,KAAKsD,GAGxCyJ,EAAM/M,KAAK,SAEbkF,EAAOF,GAAG,QAAQ,SAAU1B,GAI1B,GAHAlJ,EAAM,gBACFkN,EAAMZ,UAASpD,EAAQgE,EAAMZ,QAAQiB,MAAMrE,MAE3CgE,EAAMlC,YAAyB,OAAV9B,QAA4ByE,IAAVzE,KAAuCgE,EAAMlC,YAAgB9B,GAAUA,EAAMhF,QAA3C,CAE7E,IAAI6L,EAAM4C,EAAM/M,KAAKsD,GAEhB6G,IACHhE,GAAS,EACTjB,EAAOmH,aAKGnH,OACI6C,IAAZhN,KAAKiE,IAAyC,oBAAdkG,EAAOlG,KACzCjE,KAAKiE,GAAK,SAAoBgO,GAC5B,OAAO,WACL,OAAO9H,EAAO8H,GAAQJ,MAAM1H,EAAQ2H,YAF9B,CAIR7N,IAKN,IAAK,IAAIiK,EAAI,EAAGA,EAAIxE,EAAanG,OAAQ2K,IACvC/D,EAAOF,GAAGP,EAAawE,GAAIlO,KAAK8M,KAAKoF,KAAKlS,KAAM0J,EAAawE,KAc/D,OATAlO,KAAKgM,MAAQ,SAAUkC,GACrB7O,EAAM,gBAAiB6O,GAEnB9C,IACFA,GAAS,EACTjB,EAAO6E,WAIJhP,MAGa,oBAAXmS,SACTnU,EAASyE,UAAU0P,OAAOC,eAAiB,WAKzC,YAJ0CpF,IAAtClE,IACFA,EAAoC,EAAQ,SAGvCA,EAAkC9I,QAI7CnB,OAAO4I,eAAezJ,EAASyE,UAAW,wBAAyB,CAIjEwK,YAAY,EACZC,IAAK,WACH,OAAOlN,KAAK6L,eAAetB,iBAG/B1L,OAAO4I,eAAezJ,EAASyE,UAAW,iBAAkB,CAI1DwK,YAAY,EACZC,IAAK,WACH,OAAOlN,KAAK6L,gBAAkB7L,KAAK6L,eAAerB,UAGtD3L,OAAO4I,eAAezJ,EAASyE,UAAW,kBAAmB,CAI3DwK,YAAY,EACZC,IAAK,WACH,OAAOlN,KAAK6L,eAAelB,SAE7BwC,IAAK,SAAaZ,GACZvM,KAAK6L,iBACP7L,KAAK6L,eAAelB,QAAU4B,MAKpCvO,EAASqU,UAAYlD,EACrBtQ,OAAO4I,eAAezJ,EAASyE,UAAW,iBAAkB,CAI1DwK,YAAY,EACZC,IAAK,WACH,OAAOlN,KAAK6L,eAAetI,UAoDT,oBAAX4O,SACTnU,EAASwK,KAAO,SAAU8J,EAAU9S,GAKlC,YAJawN,IAATxE,IACFA,EAAO,EAAQ,SAGVA,EAAKxK,EAAUsU,EAAU9S,O,oFCxlCpC,IAAI+S,EAAY,EAAQ,QACpBC,EAAyB,EAAQ,QAIrC1U,EAAOD,QAAU,GAAG4U,QAAU,SAAgBC,GAC5C,IAAIC,EAAMC,OAAOJ,EAAuBxS,OACpCgG,EAAS,GACTkI,EAAIqE,EAAUG,GAClB,GAAIxE,EAAI,GAAKA,GAAK2E,IAAU,MAAMC,WAAW,+BAC7C,KAAM5E,EAAI,GAAIA,KAAO,KAAOyE,GAAOA,GAAc,EAAJzE,IAAOlI,GAAU2M,GAC9D,OAAO3M,I,qCCZT,cAqCA,SAAS+M,EAAcxG,GACrB,IAAIyF,EAAQhS,KAEZA,KAAK8N,KAAO,KACZ9N,KAAKgT,MAAQ,KAEbhT,KAAKiT,OAAS,WACZC,EAAelB,EAAOzF,IAQ1B,IAAIrO,EA3BJJ,EAAOD,QAAUI,EA8BjBA,EAASkV,cAAgBA,EAGzB,IAAIC,EAAe,CACjBC,UAAW,EAAQ,SAMjBtV,EAAS,EAAQ,QAIjBmK,EAAS,EAAQ,QAAUA,OAE3BC,EAAgBC,EAAOC,YAAc,aAEzC,SAASC,EAAoBC,GAC3B,OAAOL,EAAOM,KAAKD,GAGrB,SAASE,EAAclG,GACrB,OAAO2F,EAAOQ,SAASnG,IAAQA,aAAe4F,EAGhD,IAkIImL,EAlIAtK,EAAc,EAAQ,QAEtBC,EAAW,EAAQ,QACnBC,EAAmBD,EAASC,iBAE5BC,EAAiB,EAAQ,QAAaC,MACtCC,EAAuBF,EAAeE,qBACtCE,EAA6BJ,EAAeI,2BAC5CgK,EAAwBpK,EAAeoK,sBACvCC,EAAyBrK,EAAeqK,uBACxCC,EAAuBtK,EAAesK,qBACtCC,EAAyBvK,EAAeuK,uBACxCC,EAA6BxK,EAAewK,2BAC5CC,EAAuBzK,EAAeyK,qBAEtCnK,EAAiBT,EAAYS,eAIjC,SAASoK,KAET,SAASV,EAAcjJ,EAASC,EAAQC,GACtClM,EAASA,GAAU,EAAQ,QAC3BgM,EAAUA,GAAW,GAMG,mBAAbE,IAAwBA,EAAWD,aAAkBjM,GAGhE8B,KAAKqK,aAAeH,EAAQG,WACxBD,IAAUpK,KAAKqK,WAAarK,KAAKqK,cAAgBH,EAAQ4J,oBAI7D9T,KAAKuK,cAAgBrB,EAAiBlJ,KAAMkK,EAAS,wBAAyBE,GAE9EpK,KAAK+T,aAAc,EAEnB/T,KAAKqR,WAAY,EAEjBrR,KAAKgU,QAAS,EAEdhU,KAAK4K,OAAQ,EAEb5K,KAAK3B,UAAW,EAEhB2B,KAAKuL,WAAY,EAIjB,IAAI0I,GAAqC,IAA1B/J,EAAQgK,cACvBlU,KAAKkU,eAAiBD,EAItBjU,KAAKwL,gBAAkBtB,EAAQsB,iBAAmB,OAIlDxL,KAAKuD,OAAS,EAEdvD,KAAKmU,SAAU,EAEfnU,KAAKoU,OAAS,EAKdpU,KAAK+K,MAAO,EAIZ/K,KAAKqU,kBAAmB,EAExBrU,KAAKsU,QAAU,SAAUhI,GACvBgI,EAAQnK,EAAQmC,IAIlBtM,KAAKuU,QAAU,KAEfvU,KAAKwU,SAAW,EAChBxU,KAAKyU,gBAAkB,KACvBzU,KAAK0U,oBAAsB,KAG3B1U,KAAK2U,UAAY,EAGjB3U,KAAK4U,aAAc,EAEnB5U,KAAK6U,cAAe,EAEpB7U,KAAKqL,WAAkC,IAAtBnB,EAAQmB,UAEzBrL,KAAKsL,cAAgBpB,EAAQoB,YAE7BtL,KAAK8U,qBAAuB,EAG5B9U,KAAK+U,mBAAqB,IAAIhC,EAAc/S,MA4C9C,SAAS/B,EAASiM,GAChBhM,EAASA,GAAU,EAAQ,QAS3B,IAAIkM,EAAWpK,gBAAgB9B,EAC/B,IAAKkM,IAAakJ,EAAgBnU,KAAKlB,EAAU+B,MAAO,OAAO,IAAI/B,EAASiM,GAC5ElK,KAAK0P,eAAiB,IAAIyD,EAAcjJ,EAASlK,KAAMoK,GAEvDpK,KAAKgV,UAAW,EAEZ9K,IAC2B,oBAAlBA,EAAQ0C,QAAsB5M,KAAKiV,OAAS/K,EAAQ0C,OACjC,oBAAnB1C,EAAQgL,SAAuBlV,KAAKmV,QAAUjL,EAAQgL,QAClC,oBAApBhL,EAAQ+B,UAAwBjM,KAAKkM,SAAWhC,EAAQ+B,SACtC,oBAAlB/B,EAAQkL,QAAsBpV,KAAKqV,OAASnL,EAAQkL,QAGjErX,EAAOoB,KAAKa,MAQd,SAASsV,EAAcnL,EAAQoD,GAC7B,IAAIjB,EAAK,IAAIqH,EAEblK,EAAeU,EAAQmC,GACvBgC,EAAQC,SAAShB,EAAIjB,GAMvB,SAASiJ,EAAWpL,EAAQoC,EAAOhE,EAAOgF,GACxC,IAAIjB,EAQJ,OANc,OAAV/D,EACF+D,EAAK,IAAIoH,EACiB,kBAAVnL,GAAuBgE,EAAMlC,aAC7CiC,EAAK,IAAIjD,EAAqB,QAAS,CAAC,SAAU,UAAWd,KAG3D+D,IACF7C,EAAeU,EAAQmC,GACvBgC,EAAQC,SAAShB,EAAIjB,IACd,GA6DX,SAASkJ,EAAYjJ,EAAOhE,EAAOqD,GAKjC,OAJKW,EAAMlC,aAAsC,IAAxBkC,EAAM2H,eAA4C,kBAAV3L,IAC/DA,EAAQL,EAAOM,KAAKD,EAAOqD,IAGtBrD,EAeT,SAASkN,EAActL,EAAQoC,EAAOmJ,EAAOnN,EAAOqD,EAAU2B,GAC5D,IAAKmI,EAAO,CACV,IAAIC,EAAWH,EAAYjJ,EAAOhE,EAAOqD,GAErCrD,IAAUoN,IACZD,GAAQ,EACR9J,EAAW,SACXrD,EAAQoN,GAIZ,IAAIjH,EAAMnC,EAAMlC,WAAa,EAAI9B,EAAMhF,OACvCgJ,EAAMhJ,QAAUmL,EAChB,IAAIU,EAAM7C,EAAMhJ,OAASgJ,EAAMhC,cAI/B,GAFK6E,IAAK7C,EAAM8E,WAAY,GAExB9E,EAAM4H,SAAW5H,EAAM6H,OAAQ,CACjC,IAAIhN,EAAOmF,EAAMmI,oBACjBnI,EAAMmI,oBAAsB,CAC1BnM,MAAOA,EACPqD,SAAUA,EACV8J,MAAOA,EACPE,SAAUrI,EACVO,KAAM,MAGJ1G,EACFA,EAAK0G,KAAOvB,EAAMmI,oBAElBnI,EAAMkI,gBAAkBlI,EAAMmI,oBAGhCnI,EAAMuI,sBAAwB,OAE9Be,EAAQ1L,EAAQoC,GAAO,EAAOmC,EAAKnG,EAAOqD,EAAU2B,GAGtD,OAAO6B,EAGT,SAASyG,EAAQ1L,EAAQoC,EAAO2I,EAAQxG,EAAKnG,EAAOqD,EAAU2B,GAC5DhB,EAAMiI,SAAW9F,EACjBnC,EAAMgI,QAAUhH,EAChBhB,EAAM4H,SAAU,EAChB5H,EAAMxB,MAAO,EACTwB,EAAMhB,UAAWgB,EAAM+H,QAAQ,IAAIb,EAAqB,UAAmByB,EAAQ/K,EAAOgL,QAAQ5M,EAAOgE,EAAM+H,SAAcnK,EAAO8K,OAAO1M,EAAOqD,EAAUW,EAAM+H,SACtK/H,EAAMxB,MAAO,EAGf,SAAS+K,EAAa3L,EAAQoC,EAAOxB,EAAMuB,EAAIiB,KAC3ChB,EAAMoI,UAEJ5J,GAGFuD,EAAQC,SAAShB,EAAIjB,GAGrBgC,EAAQC,SAASwH,EAAa5L,EAAQoC,GACtCpC,EAAOuF,eAAemF,cAAe,EACrCpL,EAAeU,EAAQmC,KAIvBiB,EAAGjB,GACHnC,EAAOuF,eAAemF,cAAe,EACrCpL,EAAeU,EAAQmC,GAGvByJ,EAAY5L,EAAQoC,IAIxB,SAASyJ,EAAmBzJ,GAC1BA,EAAM4H,SAAU,EAChB5H,EAAMgI,QAAU,KAChBhI,EAAMhJ,QAAUgJ,EAAMiI,SACtBjI,EAAMiI,SAAW,EAGnB,SAASF,EAAQnK,EAAQmC,GACvB,IAAIC,EAAQpC,EAAOuF,eACf3E,EAAOwB,EAAMxB,KACbwC,EAAKhB,EAAMgI,QACf,GAAkB,oBAAPhH,EAAmB,MAAM,IAAIgG,EAExC,GADAyC,EAAmBzJ,GACfD,EAAIwJ,EAAa3L,EAAQoC,EAAOxB,EAAMuB,EAAIiB,OAAS,CAErD,IAAIlP,EAAW4X,EAAW1J,IAAUpC,EAAOoB,UAEtClN,GAAakO,EAAM6H,QAAW7H,EAAM8H,mBAAoB9H,EAAMkI,iBACjEyB,EAAY/L,EAAQoC,GAGlBxB,EACFuD,EAAQC,SAAS4H,EAAYhM,EAAQoC,EAAOlO,EAAUkP,GAEtD4I,EAAWhM,EAAQoC,EAAOlO,EAAUkP,IAK1C,SAAS4I,EAAWhM,EAAQoC,EAAOlO,EAAUkP,GACtClP,GAAU+X,EAAajM,EAAQoC,GACpCA,EAAMoI,YACNpH,IACAwI,EAAY5L,EAAQoC,GAMtB,SAAS6J,EAAajM,EAAQoC,GACP,IAAjBA,EAAMhJ,QAAgBgJ,EAAM8E,YAC9B9E,EAAM8E,WAAY,EAClBlH,EAAO2C,KAAK,UAKhB,SAASoJ,EAAY/L,EAAQoC,GAC3BA,EAAM8H,kBAAmB,EACzB,IAAIrB,EAAQzG,EAAMkI,gBAElB,GAAItK,EAAOgL,SAAWnC,GAASA,EAAMlF,KAAM,CAEzC,IAAItJ,EAAI+H,EAAMuI,qBACVtK,EAAS,IAAIT,MAAMvF,GACnB6R,EAAS9J,EAAMwI,mBACnBsB,EAAOrD,MAAQA,EACf,IAAIN,EAAQ,EACR4D,GAAa,EAEjB,MAAOtD,EACLxI,EAAOkI,GAASM,EACXA,EAAM0C,QAAOY,GAAa,GAC/BtD,EAAQA,EAAMlF,KACd4E,GAAS,EAGXlI,EAAO8L,WAAaA,EACpBT,EAAQ1L,EAAQoC,GAAO,EAAMA,EAAMhJ,OAAQiH,EAAQ,GAAI6L,EAAOpD,QAG9D1G,EAAMoI,YACNpI,EAAMmI,oBAAsB,KAExB2B,EAAOvI,MACTvB,EAAMwI,mBAAqBsB,EAAOvI,KAClCuI,EAAOvI,KAAO,MAEdvB,EAAMwI,mBAAqB,IAAIhC,EAAcxG,GAG/CA,EAAMuI,qBAAuB,MACxB,CAEL,MAAO9B,EAAO,CACZ,IAAIzK,EAAQyK,EAAMzK,MACdqD,EAAWoH,EAAMpH,SACjB2B,EAAKyF,EAAM4C,SACXlH,EAAMnC,EAAMlC,WAAa,EAAI9B,EAAMhF,OAQvC,GAPAsS,EAAQ1L,EAAQoC,GAAO,EAAOmC,EAAKnG,EAAOqD,EAAU2B,GACpDyF,EAAQA,EAAMlF,KACdvB,EAAMuI,uBAKFvI,EAAM4H,QACR,MAIU,OAAVnB,IAAgBzG,EAAMmI,oBAAsB,MAGlDnI,EAAMkI,gBAAkBzB,EACxBzG,EAAM8H,kBAAmB,EA2C3B,SAAS4B,EAAW1J,GAClB,OAAOA,EAAMyH,QAA2B,IAAjBzH,EAAMhJ,QAA0C,OAA1BgJ,EAAMkI,kBAA6BlI,EAAMlO,WAAakO,EAAM4H,QAG3G,SAASoC,EAAUpM,EAAQoC,GACzBpC,EAAOkL,QAAO,SAAU/H,GACtBf,EAAMoI,YAEFrH,GACF7D,EAAeU,EAAQmD,GAGzBf,EAAMqI,aAAc,EACpBzK,EAAO2C,KAAK,aACZiJ,EAAY5L,EAAQoC,MAIxB,SAASiK,EAAUrM,EAAQoC,GACpBA,EAAMqI,aAAgBrI,EAAMwH,cACF,oBAAlB5J,EAAOkL,QAA0B9I,EAAMhB,WAKhDgB,EAAMqI,aAAc,EACpBzK,EAAO2C,KAAK,eALZP,EAAMoI,YACNpI,EAAMwH,aAAc,EACpBzF,EAAQC,SAASgI,EAAWpM,EAAQoC,KAQ1C,SAASwJ,EAAY5L,EAAQoC,GAC3B,IAAIkK,EAAOR,EAAW1J,GAEtB,GAAIkK,IACFD,EAAUrM,EAAQoC,GAEM,IAApBA,EAAMoI,YACRpI,EAAMlO,UAAW,EACjB8L,EAAO2C,KAAK,UAERP,EAAMjB,cAAa,CAGrB,IAAIoL,EAASvM,EAAO0B,iBAEf6K,GAAUA,EAAOpL,aAAeoL,EAAO7L,aAC1CV,EAAO8B,UAMf,OAAOwK,EAGT,SAASE,EAAYxM,EAAQoC,EAAOgB,GAClChB,EAAMyH,QAAS,EACf+B,EAAY5L,EAAQoC,GAEhBgB,IACEhB,EAAMlO,SAAUiQ,EAAQC,SAAShB,GAASpD,EAAO0G,KAAK,SAAUtD,IAGtEhB,EAAM3B,OAAQ,EACdT,EAAO6K,UAAW,EAGpB,SAAS9B,EAAe0D,EAASrK,EAAOe,GACtC,IAAI0F,EAAQ4D,EAAQ5D,MACpB4D,EAAQ5D,MAAQ,KAEhB,MAAOA,EAAO,CACZ,IAAIzF,EAAKyF,EAAM4C,SACfrJ,EAAMoI,YACNpH,EAAGD,GACH0F,EAAQA,EAAMlF,KAIhBvB,EAAMwI,mBAAmBjH,KAAO8I,EAtjBlC,EAAQ,OAAR,CAAoB3Y,EAAUF,GAyF9BoV,EAAc1Q,UAAUoU,UAAY,WAClC,IAAIC,EAAU9W,KAAKyU,gBACfsC,EAAM,GAEV,MAAOD,EACLC,EAAI9R,KAAK6R,GACTA,EAAUA,EAAQhJ,KAGpB,OAAOiJ,GAGT,WACE,IACElY,OAAO4I,eAAe0L,EAAc1Q,UAAW,SAAU,CACvDyK,IAAKkG,EAAaC,WAAU,WAC1B,OAAOrT,KAAK6W,cACX,6EAAmF,aAExF,MAAOG,KAPX,GAcsB,oBAAX7E,QAAyBA,OAAO8E,aAAiE,oBAA3CC,SAASzU,UAAU0P,OAAO8E,cACzF3D,EAAkB4D,SAASzU,UAAU0P,OAAO8E,aAC5CpY,OAAO4I,eAAexJ,EAAUkU,OAAO8E,YAAa,CAClDvP,MAAO,SAAeyP,GACpB,QAAI7D,EAAgBnU,KAAKa,KAAMmX,IAC3BnX,OAAS/B,IACNkZ,GAAUA,EAAOzH,0BAA0ByD,OAItDG,EAAkB,SAAyB6D,GACzC,OAAOA,aAAkBnX,MA+B7B/B,EAASwE,UAAUuN,KAAO,WACxBvG,EAAezJ,KAAM,IAAIwT,IA+B3BvV,EAASwE,UAAUmK,MAAQ,SAAUrE,EAAOqD,EAAU2B,GACpD,IAAIhB,EAAQvM,KAAK0P,eACbN,GAAM,EAENsG,GAASnJ,EAAMlC,YAAc5B,EAAcF,GAiB/C,OAfImN,IAAUxN,EAAOQ,SAASH,KAC5BA,EAAQD,EAAoBC,IAGN,oBAAbqD,IACT2B,EAAK3B,EACLA,EAAW,MAGT8J,EAAO9J,EAAW,SAAmBA,IAAUA,EAAWW,EAAMf,iBAClD,oBAAP+B,IAAmBA,EAAKsG,GAC/BtH,EAAMyH,OAAQsB,EAActV,KAAMuN,IAAamI,GAASH,EAAWvV,KAAMuM,EAAOhE,EAAOgF,MACzFhB,EAAMoI,YACNvF,EAAMqG,EAAczV,KAAMuM,EAAOmJ,EAAOnN,EAAOqD,EAAU2B,IAEpD6B,GAGTnR,EAASwE,UAAU2U,KAAO,WACxBpX,KAAK0P,eAAe0E,UAGtBnW,EAASwE,UAAU4U,OAAS,WAC1B,IAAI9K,EAAQvM,KAAK0P,eAEbnD,EAAM6H,SACR7H,EAAM6H,SACD7H,EAAM4H,SAAY5H,EAAM6H,QAAW7H,EAAM8H,mBAAoB9H,EAAMkI,iBAAiByB,EAAYlW,KAAMuM,KAI/GtO,EAASwE,UAAU6U,mBAAqB,SAA4B1L,GAGlE,GADwB,kBAAbA,IAAuBA,EAAWA,EAAS/H,iBAChD,CAAC,MAAO,OAAQ,QAAS,QAAS,SAAU,SAAU,OAAQ,QAAS,UAAW,WAAY,OAAOf,SAAS8I,EAAW,IAAI/H,gBAAkB,GAAI,MAAM,IAAI+P,EAAqBhI,GAExL,OADA5L,KAAK0P,eAAelE,gBAAkBI,EAC/B5L,MAGTnB,OAAO4I,eAAexJ,EAASwE,UAAW,iBAAkB,CAI1DwK,YAAY,EACZC,IAAK,WACH,OAAOlN,KAAK0P,gBAAkB1P,KAAK0P,eAAemH,eAYtDhY,OAAO4I,eAAexJ,EAASwE,UAAW,wBAAyB,CAIjEwK,YAAY,EACZC,IAAK,WACH,OAAOlN,KAAK0P,eAAenF,iBA4L/BtM,EAASwE,UAAUwS,OAAS,SAAU1M,EAAOqD,EAAU2B,GACrDA,EAAG,IAAIhE,EAA2B,cAGpCtL,EAASwE,UAAU0S,QAAU,KAE7BlX,EAASwE,UAAU2L,IAAM,SAAU7F,EAAOqD,EAAU2B,GAClD,IAAIhB,EAAQvM,KAAK0P,eAoBjB,MAlBqB,oBAAVnH,GACTgF,EAAKhF,EACLA,EAAQ,KACRqD,EAAW,MACkB,oBAAbA,IAChB2B,EAAK3B,EACLA,EAAW,MAGC,OAAVrD,QAA4ByE,IAAVzE,GAAqBvI,KAAK4M,MAAMrE,EAAOqD,GAEzDW,EAAM6H,SACR7H,EAAM6H,OAAS,EACfpU,KAAKqX,UAIF9K,EAAMyH,QAAQ2C,EAAY3W,KAAMuM,EAAOgB,GACrCvN,MAGTnB,OAAO4I,eAAexJ,EAASwE,UAAW,iBAAkB,CAI1DwK,YAAY,EACZC,IAAK,WACH,OAAOlN,KAAK0P,eAAenM,UAuF/B1E,OAAO4I,eAAexJ,EAASwE,UAAW,YAAa,CAIrDwK,YAAY,EACZC,IAAK,WACH,YAA4BF,IAAxBhN,KAAK0P,gBAIF1P,KAAK0P,eAAenE,WAE7B4B,IAAK,SAAazF,GAGX1H,KAAK0P,iBAMV1P,KAAK0P,eAAenE,UAAY7D,MAGpCzJ,EAASwE,UAAUwJ,QAAUjD,EAAYiD,QACzChO,EAASwE,UAAU2K,WAAapE,EAAYqE,UAE5CpP,EAASwE,UAAUyJ,SAAW,SAAUoB,EAAKC,GAC3CA,EAAGD,M,mDCnrBL,IAAI3H,EAAI,IACJ4R,EAAQ,GAAJ5R,EACJN,EAAQ,GAAJkS,EACJC,EAAQ,GAAJnS,EACJoS,EAAQ,EAAJD,EACJE,EAAQ,OAAJF,EAsCR,SAAS9W,EAAMiS,GAEb,GADAA,EAAMC,OAAOD,KACTA,EAAIpP,OAAS,KAAjB,CAGA,IAAIO,EAAQ,mIAAmIL,KAC7IkP,GAEF,GAAK7O,EAAL,CAGA,IAAIoK,EAAIyJ,WAAW7T,EAAM,IACrBkE,GAAQlE,EAAM,IAAM,MAAMD,cAC9B,OAAQmE,GACN,IAAK,QACL,IAAK,OACL,IAAK,MACL,IAAK,KACL,IAAK,IACH,OAAOkG,EAAIwJ,EACb,IAAK,QACL,IAAK,OACL,IAAK,IACH,OAAOxJ,EAAIuJ,EACb,IAAK,OACL,IAAK,MACL,IAAK,IACH,OAAOvJ,EAAIsJ,EACb,IAAK,QACL,IAAK,OACL,IAAK,MACL,IAAK,KACL,IAAK,IACH,OAAOtJ,EAAI7I,EACb,IAAK,UACL,IAAK,SACL,IAAK,OACL,IAAK,MACL,IAAK,IACH,OAAO6I,EAAIqJ,EACb,IAAK,UACL,IAAK,SACL,IAAK,OACL,IAAK,MACL,IAAK,IACH,OAAOrJ,EAAIvI,EACb,IAAK,eACL,IAAK,cACL,IAAK,QACL,IAAK,OACL,IAAK,KACH,OAAOuI,EACT,QACE,UAYN,SAAS0J,EAASC,GAChB,IAAIC,EAAQC,KAAKC,IAAIH,GACrB,OAAIC,GAASN,EACJO,KAAKE,MAAMJ,EAAKL,GAAK,IAE1BM,GAASzS,EACJ0S,KAAKE,MAAMJ,EAAKxS,GAAK,IAE1ByS,GAASP,EACJQ,KAAKE,MAAMJ,EAAKN,GAAK,IAE1BO,GAASnS,EACJoS,KAAKE,MAAMJ,EAAKlS,GAAK,IAEvBkS,EAAK,KAWd,SAASK,EAAQL,GACf,IAAIC,EAAQC,KAAKC,IAAIH,GACrB,OAAIC,GAASN,EACJW,EAAON,EAAIC,EAAON,EAAG,OAE1BM,GAASzS,EACJ8S,EAAON,EAAIC,EAAOzS,EAAG,QAE1ByS,GAASP,EACJY,EAAON,EAAIC,EAAOP,EAAG,UAE1BO,GAASnS,EACJwS,EAAON,EAAIC,EAAOnS,EAAG,UAEvBkS,EAAK,MAOd,SAASM,EAAON,EAAIC,EAAO5J,EAAGkK,GAC5B,IAAIC,EAAWP,GAAa,IAAJ5J,EACxB,OAAO6J,KAAKE,MAAMJ,EAAK3J,GAAK,IAAMkK,GAAQC,EAAW,IAAM,IAvI7Dva,EAAOD,QAAU,SAASya,EAAKpO,GAC7BA,EAAUA,GAAW,GACrB,IAAIlC,SAAcsQ,EAClB,GAAa,WAATtQ,GAAqBsQ,EAAI/U,OAAS,EACpC,OAAO7C,EAAM4X,GACR,GAAa,WAATtQ,GAAqBuQ,SAASD,GACvC,OAAOpO,EAAQsO,KAAON,EAAQI,GAAOV,EAASU,GAEhD,MAAM,IAAIG,MACR,wDACEC,KAAK7S,UAAUyS,M,uBCnCrB,IAAIlQ,EAAS,EAAQ,QACjBuQ,EAAe,EAAQ,QACvBC,EAAU,EAAQ,QAClBC,EAA8B,EAAQ,QAE1C,IAAK,IAAIC,KAAmBH,EAAc,CACxC,IAAII,EAAa3Q,EAAO0Q,GACpBE,EAAsBD,GAAcA,EAAWtW,UAEnD,GAAIuW,GAAuBA,EAAoBJ,UAAYA,EAAS,IAClEC,EAA4BG,EAAqB,UAAWJ,GAC5D,MAAO3Z,GACP+Z,EAAoBJ,QAAUA,K,oCCXlC,IAAIK,EAAW,EAAQ,QAAgCL,QACnDM,EAAsB,EAAQ,QAC9BC,EAA0B,EAAQ,QAElCC,EAAgBF,EAAoB,WACpCG,EAAiBF,EAAwB,WAI7Crb,EAAOD,QAAYub,GAAkBC,EAEjC,GAAGT,QAFgD,SAAiBU,GACtE,OAAOL,EAASjZ,KAAMsZ,EAAYxH,UAAUvO,OAAS,EAAIuO,UAAU,QAAK9E,K,kCCV1E,IAAIuM,EAAI,EAAQ,QACZC,EAAa,EAAQ,QACrBC,EAAyB,EAAQ,QAIrCF,EAAE,CAAEG,OAAQ,SAAU/V,OAAO,EAAMgW,OAAQF,EAAuB,aAAe,CAC/EG,SAAU,SAAkBC,GAC1B,OAAOL,EAAWxZ,KAAM,OAAQ,OAAQ6Z,O,kCCL5Chb,OAAO4I,eAAe5J,EAAS,aAAc,CAAE6J,OAAO,IACtD7J,EAAQic,OAASjc,EAAQkc,QAAUlc,EAAQmc,oBAAiB,EAC5Dnc,EAAQmc,eAAiB,SACzBnc,EAAQkc,QAAU,EAClBlc,EAAQic,OAAS,G,sBCRjB,uEACE,SAASG,GAGsCpc,GAC9CA,EAAQqc,SACoCpc,GAC5CA,EAAOoc,SAHT,IAIIC,EAA8B,iBAAV/R,GAAsBA,EAE7C+R,EAAW/R,SAAW+R,GACtBA,EAAWvb,SAAWub,GACtBA,EAAWrL,KAUZ,IAAIjP,EAGJua,EAAS,WAGTC,EAAO,GACPC,EAAO,EACPC,EAAO,GACPC,EAAO,GACPC,EAAO,IACPC,EAAc,GACdC,EAAW,IACXC,EAAY,IAGZC,EAAgB,QAChBC,EAAgB,eAChBC,EAAkB,4BAGlBC,EAAS,CACR,SAAY,kDACZ,YAAa,iDACb,gBAAiB,iBAIlBC,EAAgBZ,EAAOC,EACvBY,EAAQnD,KAAKmD,MACbC,EAAqBvI,OAAOwI,aAa5B,SAASnc,EAAM+I,GACd,MAAM,IAAI8K,WAAWkI,EAAOhT,IAW7B,SAASqT,EAAIC,EAAOzR,GACnB,IAAItG,EAAS+X,EAAM/X,OACfyC,EAAS,GACb,MAAOzC,IACNyC,EAAOzC,GAAUsG,EAAGyR,EAAM/X,IAE3B,OAAOyC,EAaR,SAASuV,EAAUC,EAAQ3R,GAC1B,IAAI4R,EAAQD,EAAOvY,MAAM,KACrB+C,EAAS,GACTyV,EAAMlY,OAAS,IAGlByC,EAASyV,EAAM,GAAK,IACpBD,EAASC,EAAM,IAGhBD,EAASA,EAAOrY,QAAQ4X,EAAiB,KACzC,IAAIW,EAASF,EAAOvY,MAAM,KACtB0Y,EAAUN,EAAIK,EAAQ7R,GAAIzG,KAAK,KACnC,OAAO4C,EAAS2V,EAgBjB,SAASC,EAAWJ,GACnB,IAGI9T,EACAmU,EAJAC,EAAS,GACTC,EAAU,EACVxY,EAASiY,EAAOjY,OAGpB,MAAOwY,EAAUxY,EAChBmE,EAAQ8T,EAAO3W,WAAWkX,KACtBrU,GAAS,OAAUA,GAAS,OAAUqU,EAAUxY,GAEnDsY,EAAQL,EAAO3W,WAAWkX,KACF,QAAX,MAARF,GACJC,EAAO7W,OAAe,KAARyC,IAAkB,KAAe,KAARmU,GAAiB,QAIxDC,EAAO7W,KAAKyC,GACZqU,MAGDD,EAAO7W,KAAKyC,GAGd,OAAOoU,EAWR,SAASE,EAAWV,GACnB,OAAOD,EAAIC,GAAO,SAAS5T,GAC1B,IAAIoU,EAAS,GAOb,OANIpU,EAAQ,QACXA,GAAS,MACToU,GAAUX,EAAmBzT,IAAU,GAAK,KAAQ,OACpDA,EAAQ,MAAiB,KAARA,GAElBoU,GAAUX,EAAmBzT,GACtBoU,KACL1Y,KAAK,IAYT,SAAS6Y,EAAaC,GACrB,OAAIA,EAAY,GAAK,GACbA,EAAY,GAEhBA,EAAY,GAAK,GACbA,EAAY,GAEhBA,EAAY,GAAK,GACbA,EAAY,GAEb7B,EAcR,SAAS8B,EAAaC,EAAOC,GAG5B,OAAOD,EAAQ,GAAK,IAAMA,EAAQ,MAAgB,GAARC,IAAc,GAQzD,SAASC,EAAMC,EAAOC,EAAWC,GAChC,IAAI7X,EAAI,EAGR,IAFA2X,EAAQE,EAAYvB,EAAMqB,EAAQ9B,GAAQ8B,GAAS,EACnDA,GAASrB,EAAMqB,EAAQC,GACOD,EAAQtB,EAAgBV,GAAQ,EAAG3V,GAAKyV,EACrEkC,EAAQrB,EAAMqB,EAAQtB,GAEvB,OAAOC,EAAMtW,GAAKqW,EAAgB,GAAKsB,GAASA,EAAQ/B,IAUzD,SAASkC,EAAOC,GAEf,IAEI5F,EAIA6F,EACAjY,EACA6M,EACAqL,EACApF,EACA7S,EACAwX,EACAU,EAEAC,EAfAjB,EAAS,GACTkB,EAAcL,EAAMpZ,OAEpBU,EAAI,EACJiK,EAAIyM,EACJsC,EAAOvC,EAqBX,IALAkC,EAAQD,EAAMxY,YAAYyW,GACtBgC,EAAQ,IACXA,EAAQ,GAGJjY,EAAI,EAAGA,EAAIiY,IAASjY,EAEpBgY,EAAM9X,WAAWF,IAAM,KAC1B1F,EAAM,aAEP6c,EAAO7W,KAAK0X,EAAM9X,WAAWF,IAM9B,IAAK6M,EAAQoL,EAAQ,EAAIA,EAAQ,EAAI,EAAGpL,EAAQwL,GAAwC,CAOvF,IAAKH,EAAO5Y,EAAGwT,EAAI,EAAG7S,EAAIyV,GAA0BzV,GAAKyV,EAAM,CAe9D,GAbI7I,GAASwL,GACZ/d,EAAM,iBAGPmd,EAAQH,EAAaU,EAAM9X,WAAW2M,OAElC4K,GAAS/B,GAAQ+B,EAAQlB,GAAOd,EAASnW,GAAKwT,KACjDxY,EAAM,YAGPgF,GAAKmY,EAAQ3E,EACbqF,EAAIlY,GAAKqY,EAAO3C,EAAQ1V,GAAKqY,EAAO1C,EAAOA,EAAO3V,EAAIqY,EAElDb,EAAQU,EACX,MAGDC,EAAa1C,EAAOyC,EAChBrF,EAAIyD,EAAMd,EAAS2C,IACtB9d,EAAM,YAGPwY,GAAKsF,EAINhG,EAAM+E,EAAOvY,OAAS,EACtB0Z,EAAOX,EAAMrY,EAAI4Y,EAAM9F,EAAa,GAAR8F,GAIxB3B,EAAMjX,EAAI8S,GAAOqD,EAASlM,GAC7BjP,EAAM,YAGPiP,GAAKgN,EAAMjX,EAAI8S,GACf9S,GAAK8S,EAGL+E,EAAOvU,OAAOtD,IAAK,EAAGiK,GAIvB,OAAO8N,EAAWF,GAUnB,SAASoB,EAAOP,GACf,IAAIzO,EACAqO,EACAY,EACAC,EACAH,EACAtY,EACA4S,EACA8F,EACAzY,EACAkY,EACAQ,EAGAN,EAEAO,EACAR,EACAS,EANA1B,EAAS,GAoBb,IAXAa,EAAQf,EAAWe,GAGnBK,EAAcL,EAAMpZ,OAGpB2K,EAAIyM,EACJ4B,EAAQ,EACRU,EAAOvC,EAGF/V,EAAI,EAAGA,EAAIqY,IAAerY,EAC9B2Y,EAAeX,EAAMhY,GACjB2Y,EAAe,KAClBxB,EAAO7W,KAAKkW,EAAmBmC,IAIjCH,EAAiBC,EAActB,EAAOvY,OAMlC6Z,GACHtB,EAAO7W,KAAK2V,GAIb,MAAOuC,EAAiBH,EAAa,CAIpC,IAAKzF,EAAI6C,EAAQzV,EAAI,EAAGA,EAAIqY,IAAerY,EAC1C2Y,EAAeX,EAAMhY,GACjB2Y,GAAgBpP,GAAKoP,EAAe/F,IACvCA,EAAI+F,GAcN,IARAC,EAAwBJ,EAAiB,EACrC5F,EAAIrJ,EAAIgN,GAAOd,EAASmC,GAASgB,IACpCte,EAAM,YAGPsd,IAAUhF,EAAIrJ,GAAKqP,EACnBrP,EAAIqJ,EAEC5S,EAAI,EAAGA,EAAIqY,IAAerY,EAO9B,GANA2Y,EAAeX,EAAMhY,GAEjB2Y,EAAepP,KAAOqO,EAAQnC,GACjCnb,EAAM,YAGHqe,GAAgBpP,EAAG,CAEtB,IAAKmP,EAAId,EAAO3X,EAAIyV,GAA0BzV,GAAKyV,EAAM,CAExD,GADAyC,EAAIlY,GAAKqY,EAAO3C,EAAQ1V,GAAKqY,EAAO1C,EAAOA,EAAO3V,EAAIqY,EAClDI,EAAIP,EACP,MAEDU,EAAUH,EAAIP,EACdC,EAAa1C,EAAOyC,EACpBhB,EAAO7W,KACNkW,EAAmBgB,EAAaW,EAAIU,EAAUT,EAAY,KAE3DM,EAAInC,EAAMsC,EAAUT,GAGrBjB,EAAO7W,KAAKkW,EAAmBgB,EAAakB,EAAG,KAC/CJ,EAAOX,EAAMC,EAAOgB,EAAuBJ,GAAkBC,GAC7Db,EAAQ,IACNY,IAIFZ,IACArO,EAGH,OAAO4N,EAAO1Y,KAAK,IAcpB,SAASqa,EAAUd,GAClB,OAAOpB,EAAUoB,GAAO,SAASnB,GAChC,OAAOX,EAAc6C,KAAKlC,GACvBkB,EAAOlB,EAAOtc,MAAM,GAAG2E,eACvB2X,KAeL,SAASrW,EAAQwX,GAChB,OAAOpB,EAAUoB,GAAO,SAASnB,GAChC,OAAOV,EAAc4C,KAAKlC,GACvB,OAAS0B,EAAO1B,GAChBA,KAOL3b,EAAW,CAMV,QAAW,QAQX,KAAQ,CACP,OAAU+b,EACV,OAAUI,GAEX,OAAUU,EACV,OAAUQ,EACV,QAAW/X,EACX,UAAasY,GAWb,aACC,OAAO5d,GACP,yCAngBF,K,uECED,SAAS8d,EAAKjE,EAAQhS,EAAOkW,GACzB,IAAI5X,EAAS0T,EAAOhS,GACpB,YAA0BsF,WAAXhH,EAAwB4X,EAAW5X,EAJtDnH,OAAO4I,eAAe5J,EAAS,aAAc,CAAE6J,OAAO,IACtD7J,EAAQ8f,UAAO,EAKf9f,EAAQ8f,KAAOA,G,uBCPf,IAAIE,EAAQ,EAAQ,QAChBC,EAAkB,EAAQ,QAC1BC,EAAa,EAAQ,QAErBC,EAAUF,EAAgB,WAE9BhgB,EAAOD,QAAU,SAAUogB,GAIzB,OAAOF,GAAc,KAAOF,GAAM,WAChC,IAAIvC,EAAQ,GACR4C,EAAc5C,EAAM4C,YAAc,GAItC,OAHAA,EAAYF,GAAW,WACrB,MAAO,CAAEG,IAAK,IAE2B,IAApC7C,EAAM2C,GAAaG,SAASD,S,uBChBvC,MAAME,EAAK,EAAQ,QACbxW,EAAe,EAAQ,QACvByW,EAAS,EAAQ,QACjBC,EAAY,EAAQ,QACpBlf,EAAQ,EAAQ,OAAR,CAAiB,sBAE/B,MAAMmf,UAAe3W,EACnB,cACE4W,QACAze,KAAK0e,OAAS1e,KAAKke,YAAYQ,OAGjC,cAAeC,GACb,OAAM3e,gBAAgBwe,GAEtBxe,KAAK4e,SAAWD,GAAO,GAEvB3e,KAAK6e,QAAU,CACb,eACA,eACA,gBACA,cAGF7e,KAAK8e,cACE9e,OAZ+B,IAAKwe,GAAUE,OAAOC,GAe9D,cACEtf,EAAM,kEACNW,KAAK+e,OAAS,IAAIT,EAClBte,KAAKf,MAAQ,KACbe,KAAKgf,MAAQX,IACbre,KAAKif,cAAgB,EAGvB,MAAOC,GACDlf,KAAKf,OAAOe,KAAK8e,cAErB9e,KAAKgf,MAAMG,OAAOD,GAClB7f,EAAM,2BAA4BW,KAAK6e,QAAQ7e,KAAKif,gBACpD,QAAgC,IAAxBjf,KAAK+e,OAAOxb,QAAiBvD,KAAKgf,MAAMzb,OAAS,IACvDvD,KAAKA,KAAK6e,QAAQ7e,KAAKif,oBACtBjf,KAAKf,MACNe,KAAKif,gBACL5f,EAAM,kDAAmDW,KAAKif,eAC9D5f,EAAM,mDAAoDW,KAAK+e,OAAOxb,OAAQvD,KAAKgf,MAAMzb,QACrFvD,KAAKif,eAAiBjf,KAAK6e,QAAQtb,SAAQvD,KAAKif,cAAgB,GAGtE,OADA5f,EAAM,+DAAgEW,KAAK+e,OAAOxb,OAAQvD,KAAKgf,MAAMzb,QAC9FvD,KAAKgf,MAAMzb,OAGpB,eAEE,MAAM6b,EAAOpf,KAAKgf,MAAMK,UAAU,GASlC,OARArf,KAAK+e,OAAOO,IAAMf,EAAUgB,MAAMH,GAAQb,EAAUiB,WACpDxf,KAAK+e,OAAOU,OAA4C,KAAlCL,EAAOb,EAAUmB,aACvC1f,KAAK+e,OAAOY,IAAOP,GAAQb,EAAUqB,UAAarB,EAAUsB,SAC5D7f,KAAK+e,OAAOe,IAAsC,KAA/BV,EAAOb,EAAUwB,UACpC1gB,EAAM,2BAA4BW,KAAK+e,QAEvC/e,KAAKgf,MAAM1P,QAAQ,IAEZ,EAGT,eAEE,MAAMtJ,EAAShG,KAAKggB,kBAAiB,GAOrC,OALIha,IACFhG,KAAK+e,OAAOxb,OAASyC,EAAO0B,MAC5B1H,KAAKgf,MAAM1P,QAAQtJ,EAAOia,QAE5B5gB,EAAM,kBAAmB2G,EAAO0B,SACvB1B,EAGX,gBACE3G,EAAM,4BAA6BW,KAAKgf,OACxC,IAAIhZ,GAAS,EAIb,GAA2B,IAAvBhG,KAAK+e,OAAOxb,QAAgBvD,KAAKgf,MAAMzb,QAAUvD,KAAK+e,OAAOxb,OAAQ,CAGvE,OAFAvD,KAAKkgB,KAAO,EAEJlgB,KAAK+e,OAAOO,KAClB,IAAK,UACHtf,KAAKmgB,gBACL,MACF,IAAK,UACHngB,KAAKogB,gBACL,MACF,IAAK,UACHpgB,KAAKqgB,gBACL,MACF,IAAK,SACL,IAAK,SACL,IAAK,SACL,IAAK,UACHrgB,KAAKsgB,qBACL,MACF,IAAK,YACHtgB,KAAKugB,kBACL,MACF,IAAK,SACHvgB,KAAKwgB,eACL,MACF,IAAK,cACHxgB,KAAKygB,oBACL,MACF,IAAK,WACHzgB,KAAK0gB,iBACL,MACF,IAAK,UACL,IAAK,WAEH,MACF,IAAK,aACH1gB,KAAK2gB,mBACL,MACF,IAAK,OACH3gB,KAAK4gB,aACL,MACF,QACE5gB,KAAK6gB,WAAW,IAAIpI,MAAM,kBAG9BzS,GAAS,EAGX,OADA3G,EAAM,oCAAqC2G,GACpCA,EAGT,gBAEE,IAAI8a,EACAC,EACAC,EACAC,EAJJ5hB,EAAM,iBAKN,MAAM6hB,EAAQ,GACRnC,EAAS/e,KAAK+e,OAGdoC,EAAanhB,KAAKohB,eAExB,GAAmB,OAAfD,EAAqB,OAAOnhB,KAAK6gB,WAAW,IAAIpI,MAAM,4BAC1D,GAAmB,SAAf0I,GAAwC,WAAfA,EAC3B,OAAOnhB,KAAK6gB,WAAW,IAAIpI,MAAM,uBAMnC,GAHAsG,EAAOoC,WAAaA,EAGhBnhB,KAAKkgB,MAAQlgB,KAAKgf,MAAMzb,OAAQ,OAAOvD,KAAK6gB,WAAW,IAAIpI,MAAM,qBASrE,GAPAsG,EAAOsC,gBAAkBrhB,KAAKgf,MAAMK,UAAUrf,KAAKkgB,MAE/CnB,EAAOsC,iBAAmB,MAC5BtC,EAAOuC,YAAa,EACpBvC,EAAOsC,gBAAkBtC,EAAOsC,gBAAkB,KAGrB,IAA3BtC,EAAOsC,iBAAoD,IAA3BtC,EAAOsC,iBAAoD,IAA3BtC,EAAOsC,gBACzE,OAAOrhB,KAAK6gB,WAAW,IAAIpI,MAAM,6BAKnC,GAFAzY,KAAKkgB,OAEDlgB,KAAKkgB,MAAQlgB,KAAKgf,MAAMzb,OAC1B,OAAOvD,KAAK6gB,WAAW,IAAIpI,MAAM,qBAoBnC,GAhBAyI,EAAMD,SAAYjhB,KAAKgf,MAAMK,UAAUrf,KAAKkgB,MAAQ3B,EAAUgD,cAC9DL,EAAMF,SAAYhhB,KAAKgf,MAAMK,UAAUrf,KAAKkgB,MAAQ3B,EAAUiD,cAC9DN,EAAMO,KAAQzhB,KAAKgf,MAAMK,UAAUrf,KAAKkgB,MAAQ3B,EAAUmD,eAEtDR,EAAMO,OACR1C,EAAO0C,KAAO,GACd1C,EAAO0C,KAAKhC,OAA4E,KAAlEzf,KAAKgf,MAAMK,UAAUrf,KAAKkgB,MAAQ3B,EAAUoD,kBAClE5C,EAAO0C,KAAK9B,KAAO3f,KAAKgf,MAAMK,UAAUrf,KAAKkgB,MAC3C3B,EAAUqD,gBAAkBrD,EAAUsD,gBAG1C9C,EAAO+C,MAA6E,KAApE9hB,KAAKgf,MAAMK,UAAUrf,KAAKkgB,MAAQ3B,EAAUwD,oBAC5D/hB,KAAKkgB,OAGLnB,EAAOiD,UAAYhiB,KAAKiiB,aACE,IAAtBlD,EAAOiD,UAAkB,OAAOhiB,KAAK6gB,WAAW,IAAIpI,MAAM,qBAG9D,GAA+B,IAA3BsG,EAAOsC,gBAAuB,CAChC,MAAMa,EAAaliB,KAAKmiB,mBACpBtjB,OAAOC,oBAAoBojB,GAAY3e,SACzCwb,EAAOmD,WAAaA,GAIxB,MAAME,EAAWpiB,KAAKohB,eACtB,GAAiB,OAAbgB,EAAmB,OAAOpiB,KAAK6gB,WAAW,IAAIpI,MAAM,qBAIxD,GAHAsG,EAAOqD,SAAWA,EAClB/iB,EAAM,qCAAsC0f,EAAOqD,UAE/ClB,EAAMO,KAAM,CACd,GAA+B,IAA3B1C,EAAOsC,gBAAuB,CAChC,MAAMgB,EAAiBriB,KAAKmiB,mBACxBtjB,OAAOC,oBAAoBujB,GAAgB9e,SAC7Cwb,EAAO0C,KAAKS,WAAaG,GAK7B,GADAvB,EAAQ9gB,KAAKohB,eACC,OAAVN,EAAgB,OAAO9gB,KAAK6gB,WAAW,IAAIpI,MAAM,4BAMrD,GALAsG,EAAO0C,KAAKX,MAAQA,EACpBzhB,EAAM,uCAAwC0f,EAAO0C,KAAKX,OAG1DC,EAAU/gB,KAAKsiB,eACC,OAAZvB,EAAkB,OAAO/gB,KAAK6gB,WAAW,IAAIpI,MAAM,8BACvDsG,EAAO0C,KAAKV,QAAUA,EACtB1hB,EAAM,yCAA0C0f,EAAO0C,KAAKV,SAI9D,GAAIG,EAAMD,SAAU,CAElB,GADAA,EAAWjhB,KAAKohB,eACC,OAAbH,EAAmB,OAAOjhB,KAAK6gB,WAAW,IAAIpI,MAAM,0BACxDsG,EAAOkC,SAAWA,EAClB5hB,EAAM,qCAAsC0f,EAAOkC,UAIrD,GAAIC,EAAMF,SAAU,CAElB,GADAA,EAAWhhB,KAAKsiB,eACC,OAAbtB,EAAmB,OAAOhhB,KAAK6gB,WAAW,IAAIpI,MAAM,0BACxDsG,EAAOiC,SAAWA,EAKpB,OAFAhhB,KAAK4e,SAAWG,EAChB1f,EAAM,2BACC0f,EAGT,gBACE1f,EAAM,iBACN,MAAM0f,EAAS/e,KAAK+e,OAEpB,GAAI/e,KAAKgf,MAAMzb,OAAS,EAAG,OAAO,KAGlC,GAFAwb,EAAOwD,kBAAoBviB,KAAKgf,MAAMK,UAAUrf,KAAKkgB,QAAU3B,EAAUiE,qBAEnC,IAAlCxiB,KAAK4e,SAASyC,gBACZrhB,KAAKgf,MAAMzb,QAAU,EACvBwb,EAAO0D,WAAaziB,KAAKgf,MAAMK,UAAUrf,KAAKkgB,QAE9CnB,EAAO0D,WAAa,MAEjB,CACL,GAAIziB,KAAKgf,MAAMzb,OAAS,EAAG,OAAO,KAClCwb,EAAO2D,WAAa1iB,KAAKgf,MAAMK,UAAUrf,KAAKkgB,QAGhD,IAA2B,IAAvBnB,EAAO2D,aAA4C,IAAvB3D,EAAO0D,WAAmB,OAAOziB,KAAK6gB,WAAW,IAAIpI,MAAM,6BAE3F,GAAsC,IAAlCzY,KAAK4e,SAASyC,gBAAuB,CACvC,MAAMa,EAAaliB,KAAKmiB,mBACpBtjB,OAAOC,oBAAoBojB,GAAY3e,SACzCwb,EAAOmD,WAAaA,GAGxB7iB,EAAM,2BAGR,gBACEA,EAAM,iBACN,MAAM0f,EAAS/e,KAAK+e,OAGpB,GAFAA,EAAO+B,MAAQ9gB,KAAKohB,eAEC,OAAjBrC,EAAO+B,MAAgB,OAAO9gB,KAAK6gB,WAAW,IAAIpI,MAAM,uBAG5D,KAAIsG,EAAOY,IAAM,IAAQ3f,KAAK2iB,kBAA9B,CAGA,GAAsC,IAAlC3iB,KAAK4e,SAASyC,gBAAuB,CACvC,MAAMa,EAAaliB,KAAKmiB,mBACpBtjB,OAAOC,oBAAoBojB,GAAY3e,SACzCwb,EAAOmD,WAAaA,GAIxBnD,EAAOgC,QAAU/gB,KAAKgf,MAAM9f,MAAMc,KAAKkgB,KAAMnB,EAAOxb,QACpDlE,EAAM,8CAA+C0f,EAAOgC,UAG9D,kBACE1hB,EAAM,mBACN,MAAM0f,EAAS/e,KAAK+e,OACpB,IAAI+B,EACA5W,EACAyV,EACAiD,EACAC,EACAC,EACAC,EAEJ,GAAmB,IAAfhE,EAAOY,IACT,OAAO3f,KAAK6gB,WAAW,IAAIpI,MAAM,2BAKnC,GAFAsG,EAAOiE,cAAgB,GAElBhjB,KAAK2iB,kBAAV,CAGA,GAAsC,IAAlC3iB,KAAK4e,SAASyC,gBAAuB,CACvC,MAAMa,EAAaliB,KAAKmiB,mBACpBtjB,OAAOC,oBAAoBojB,GAAY3e,SACzCwb,EAAOmD,WAAaA,GAIxB,MAAOliB,KAAKkgB,KAAOnB,EAAOxb,OAAQ,CAGhC,GADAud,EAAQ9gB,KAAKohB,eACC,OAAVN,EAAgB,OAAO9gB,KAAK6gB,WAAW,IAAIpI,MAAM,uBACrD,GAAIzY,KAAKkgB,MAAQnB,EAAOxb,OAAQ,OAAOvD,KAAK6gB,WAAW,IAAIpI,MAAM,gCAEjEvO,EAAUlK,KAAKijB,aACftD,EAAMzV,EAAUqU,EAAU2E,2BAC1BJ,EAAmG,KAA5F5Y,GAAWqU,EAAU4E,2BAA8B5E,EAAU6E,2BACpEP,EAAsG,KAA9F3Y,GAAWqU,EAAU8E,4BAA+B9E,EAAU+E,4BACtEV,EAAM1Y,GAAWqU,EAAUgF,2BAA8BhF,EAAUiF,0BAEnET,EAAe,CAAEjC,QAAOnB,OAGc,IAAlC3f,KAAK4e,SAASyC,iBAChB0B,EAAaD,GAAKA,EAClBC,EAAaF,IAAMA,EACnBE,EAAaH,GAAKA,GACT5iB,KAAK4e,SAAS0C,aACvByB,EAAaH,GAAK,EAClBG,EAAaF,KAAM,EACnBE,EAAaD,IAAK,GAIpBzjB,EAAM,0DAA2D0jB,GACjEhE,EAAOiE,cAAc/d,KAAK8d,KAI9B,eACE1jB,EAAM,gBACN,MAAM0f,EAAS/e,KAAK+e,OAGpB,GAFA/e,KAAK+e,OAAO0E,QAAU,GAEjBzjB,KAAK2iB,kBAAV,CAGA,GAAsC,IAAlC3iB,KAAK4e,SAASyC,gBAAuB,CACvC,MAAMa,EAAaliB,KAAKmiB,mBACpBtjB,OAAOC,oBAAoBojB,GAAY3e,SACzCwb,EAAOmD,WAAaA,GAKxB,MAAOliB,KAAKkgB,KAAOlgB,KAAK+e,OAAOxb,OAC7BvD,KAAK+e,OAAO0E,QAAQxe,KAAKjF,KAAKgf,MAAMK,UAAUrf,KAAKkgB,UAIvD,oBACE7gB,EAAM,qBACN,MAAM0f,EAAS/e,KAAK+e,OAKpB,GAHAA,EAAO2E,gBAAkB,GAGpB1jB,KAAK2iB,kBAAV,CAGA,GAAsC,IAAlC3iB,KAAK4e,SAASyC,gBAAuB,CACvC,MAAMa,EAAaliB,KAAKmiB,mBACpBtjB,OAAOC,oBAAoBojB,GAAY3e,SACzCwb,EAAOmD,WAAaA,GAIxB,MAAOliB,KAAKkgB,KAAOnB,EAAOxb,OAAQ,CAEhC,MAAMud,EAAQ9gB,KAAKohB,eACnB,GAAc,OAAVN,EAAgB,OAAO9gB,KAAK6gB,WAAW,IAAIpI,MAAM,uBAGrDpZ,EAAM,wDAAyDyhB,GAC/D/B,EAAO2E,gBAAgBze,KAAK6b,KAIhC,iBACEzhB,EAAM,kBACN,MAAM0f,EAAS/e,KAAK+e,OACpB,IAAK/e,KAAK2iB,kBAAmB,OAAO3iB,KAAK6gB,WAAW,IAAIpI,MAAM,2BAE9D,GAAsC,IAAlCzY,KAAK4e,SAASyC,gBAAuB,CACvC,MAAMa,EAAaliB,KAAKmiB,mBACpBtjB,OAAOC,oBAAoBojB,GAAY3e,SACzCwb,EAAOmD,WAAaA,GAGtBnD,EAAO0E,QAAU,GACjB,MAAOzjB,KAAKkgB,KAAOlgB,KAAK+e,OAAOxb,OAC7BvD,KAAK+e,OAAO0E,QAAQxe,KAAKjF,KAAKgf,MAAMK,UAAUrf,KAAKkgB,UAMzD,qBACE7gB,EAAM,uCAAwCW,KAAK+e,OAAOO,KAC1D,MAAMP,EAAS/e,KAAK+e,OAIpB,GAFA/e,KAAK2iB,kBAEiC,IAAlC3iB,KAAK4e,SAASyC,kBACZtC,EAAOxb,OAAS,GAElBwb,EAAO0D,WAAaziB,KAAKijB,aACzB5jB,EAAM,6CAA8C0f,EAAO0D,aAE3D1D,EAAO0D,WAAa,EAGlB1D,EAAOxb,OAAS,GAAG,CAErB,MAAM2e,EAAaliB,KAAKmiB,mBACpBtjB,OAAOC,oBAAoBojB,GAAY3e,SACzCwb,EAAOmD,WAAaA,GAK1B,OAAO,EAIT,mBACE,MAAMnD,EAAS/e,KAAK+e,OAGpB,GAFA1f,EAAM,oBAEgC,IAAlCW,KAAK4e,SAASyC,gBAAuB,CAEnCrhB,KAAKgf,MAAMzb,OAAS,EACtBwb,EAAO0D,WAAaziB,KAAKijB,aAEzBlE,EAAO0D,WAAa,EAGtB,MAAMP,EAAaliB,KAAKmiB,mBACpBtjB,OAAOC,oBAAoBojB,GAAY3e,SACzCwb,EAAOmD,WAAaA,GAKxB,OADA7iB,EAAM,kCACC,EAIT,aACEA,EAAM,cACN,MAAM0f,EAAS/e,KAAK+e,OAEpB,GAAsC,IAAlC/e,KAAK4e,SAASyC,gBAChB,OAAOrhB,KAAK6gB,WAAW,IAAIpI,MAAM,oDAInCsG,EAAO0D,WAAaziB,KAAKijB,aAEzB,MAAMf,EAAaliB,KAAKmiB,mBAMxB,OALItjB,OAAOC,oBAAoBojB,GAAY3e,SACzCwb,EAAOmD,WAAaA,GAGtB7iB,EAAM,6BACC,EAGT,kBACE,MAAM0f,EAAS/e,KAAK+e,OAIpB,OAFAA,EAAO4E,UAAY3jB,KAAKiiB,YAEC,OAArBlD,EAAO4E,WACT3jB,KAAK6gB,WAAW,IAAIpI,MAAM,4BACnB,IAGTpZ,EAAM,uCAAwC0f,EAAO4E,YAC9C,GAGT,aAAcC,GACZ,MAAMrgB,EAASvD,KAAKiiB,YACd7T,EAAM7K,EAASvD,KAAKkgB,KAE1B,IAAgB,IAAZ3c,GAAiB6K,EAAMpO,KAAKgf,MAAMzb,QAAU6K,EAAMpO,KAAK+e,OAAOxb,OAAQ,OAAO,KAEjF,MAAMyC,EAAShG,KAAKgf,MAAMtgB,SAAS,OAAQsB,KAAKkgB,KAAM9R,GAGtD,OAFApO,KAAKkgB,MAAQ3c,EACblE,EAAM,2BAA4B2G,GAC3BA,EAGT,mBAEE,OADA3G,EAAM,oBACC,CACL+Y,KAAMpY,KAAKohB,eACX1Z,MAAO1H,KAAKohB,gBAIhB,eACE,MAAM7d,EAASvD,KAAKiiB,YACd7T,EAAM7K,EAASvD,KAAKkgB,KAE1B,IAAgB,IAAZ3c,GAAiB6K,EAAMpO,KAAKgf,MAAMzb,QAAU6K,EAAMpO,KAAK+e,OAAOxb,OAAQ,OAAO,KAEjF,MAAMyC,EAAShG,KAAKgf,MAAM9f,MAAMc,KAAKkgB,KAAM9R,GAI3C,OAFApO,KAAKkgB,MAAQ3c,EACblE,EAAM,2BAA4B2G,GAC3BA,EAGT,YACE,GAAIhG,KAAKgf,MAAMzb,OAASvD,KAAKkgB,KAAO,EAAG,OAAQ,EAE/C,MAAMla,EAAShG,KAAKgf,MAAM6E,aAAa7jB,KAAKkgB,MAG5C,OAFAlgB,KAAKkgB,MAAQ,EACb7gB,EAAM,wBAAyB2G,GACxBA,EAGT,iBACE,GAAIhG,KAAKgf,MAAMzb,OAASvD,KAAKkgB,KAAO,EAAG,OAAQ,EAE/C,MAAMla,EAAShG,KAAKgf,MAAM8E,aAAa9jB,KAAKkgB,MAG5C,OAFAlgB,KAAKkgB,MAAQ,EACb7gB,EAAM,6BAA8B2G,GAC7BA,EAGT,iBAAkB+d,GAChB1kB,EAAM,oBACN,MAAM2kB,EAAW,EACjB,IAIIlN,EAJAmJ,EAAQ,EACRgE,EAAM,EACNvc,EAAQ,EACR1B,GAAS,EAEb,MAAMke,EAAUlkB,KAAKkgB,KAAOlgB,KAAKkgB,KAAO,EAExC,MAAOD,EAAQ+D,GAAaE,EAAUjE,EAASjgB,KAAKgf,MAAMzb,OAAQ,CAKhE,GAJAuT,EAAU9W,KAAKgf,MAAMK,UAAU6E,EAAUjE,KACzCvY,GAASuc,GAAOnN,EAAUyH,EAAU4F,iBACpCF,GAAO,IAE2C,KAA7CnN,EAAUyH,EAAU6F,qBAA4B,CACnDpe,GAAS,EACT,MAEF,GAAIhG,KAAKgf,MAAMzb,QAAU0c,EACvB,MAoBJ,OAhBKja,GAAUia,IAAU+D,GAAYhkB,KAAKgf,MAAMzb,QAAU0c,GACxDjgB,KAAK6gB,WAAW,IAAIpI,MAAM,kCAGxByL,IACFlkB,KAAKkgB,MAAQD,GAGfja,IAASA,IACL+d,EAAe,CACf9D,QACAvY,SACEA,GAGNrI,EAAM,+BAAgC2G,GAC/BA,EAGT,aACE,IAAIA,EAMJ,OALIhG,KAAKkgB,KAAOlgB,KAAKgf,MAAMzb,SACzByC,EAAShG,KAAKgf,MAAMK,UAAUrf,KAAKkgB,MACnClgB,KAAKkgB,QAEP7gB,EAAM,yBAA0B2G,GACzBA,EAGT,aAAcgC,GAEZ,OADA3I,EAAM,yBAA0B2I,GACxBA,GACN,IAAK,OACH,OAA6B,IAAtBhI,KAAKijB,aAEd,IAAK,OACH,OAAOjjB,KAAKijB,aAEd,IAAK,QACH,OAAOjjB,KAAKiiB,YAEd,IAAK,QACH,OAAOjiB,KAAKqkB,iBAEd,IAAK,MACH,OAAOrkB,KAAKggB,mBAEd,IAAK,SACH,OAAOhgB,KAAKohB,eAEd,IAAK,OACH,OAAOphB,KAAKskB,mBAEd,IAAK,SACH,OAAOtkB,KAAKsiB,gBAKlB,mBACEjjB,EAAM,oBACN,MAAMkE,EAASvD,KAAKggB,mBACduE,EAAQvkB,KAAKkgB,KACb9R,EAAMmW,EAAQhhB,EACdyC,EAAS,GACf,MAAOhG,KAAKkgB,KAAO9R,EAAK,CACtB,MAAMpG,EAAOhI,KAAKijB,aAClB,IAAKjb,EAEH,OADAhI,KAAK6gB,WAAW,IAAIpI,MAAM,qCACnB,EAET,MAAML,EAAOmG,EAAUiG,gBAAgBxc,GACvC,IAAKoQ,EAEH,OADApY,KAAK6gB,WAAW,IAAIpI,MAAM,sBACnB,EAGT,GAAa,mBAATL,EAkBApS,EAAOoS,IACLrO,MAAMC,QAAQhE,EAAOoS,MAGvBpS,EAAOoS,GAAQ,CAACpS,EAAOoS,KAFvBpS,EAAOoS,GAAMnT,KAAKjF,KAAKykB,aAAalG,EAAUmG,gBAAgBtM,MAMhEpS,EAAOoS,GAAQpY,KAAKykB,aAAalG,EAAUmG,gBAAgBtM,QA1B7D,CACOpS,EAAOoS,KACVpS,EAAOoS,GAAQvZ,OAAO8lB,OAAO,OAE/B,MAAMC,EAAsB5kB,KAAKykB,aAAalG,EAAUmG,gBAAgBtM,IACxE,GAAIpS,EAAOoS,GAAMwM,EAAoBxM,MACnC,GAAIrO,MAAMC,QAAQhE,EAAOoS,GAAMwM,EAAoBxM,OACjDpS,EAAOoS,GAAMwM,EAAoBxM,MAAMnT,KAAK2f,EAAoBld,WAC3D,CACL,MAAM4V,EAAetX,EAAOoS,GAAMwM,EAAoBxM,MACtDpS,EAAOoS,GAAMwM,EAAoBxM,MAAQ,CAACkF,GAC1CtX,EAAOoS,GAAMwM,EAAoBxM,MAAMnT,KAAK2f,EAAoBld,YAGlE1B,EAAOoS,GAAMwM,EAAoBxM,MAAQwM,EAAoBld,OAenE,OAAO1B,EAGT,aAYE,OAXA3G,EAAM,cACFW,KAAK+e,SACP/e,KAAKgf,MAAM1P,QAAQtP,KAAK+e,OAAOxb,QAC/BlE,EAAM,wFAAyFW,KAAK+e,OAAOO,IAAKtf,KAAK+e,OAAOgC,QAAS/gB,KAAK+e,OAAOxb,QACjJvD,KAAK8M,KAAK,SAAU9M,KAAK+e,SAE3B1f,EAAM,0BACNW,KAAK+e,OAAS,IAAIT,EAElBte,KAAKkgB,KAAO,GAEL,EAGT,WAAY5S,GACVjO,EAAM,cACNW,KAAKf,MAAQqO,EACbtN,KAAK8M,KAAK,QAASQ,IAIvBxP,EAAOD,QAAU2gB,G,oCCzsBjB3gB,EAAQgnB,WAAaA,EACrBhnB,EAAQinB,YAAcA,EACtBjnB,EAAQknB,cAAgBA,EAOxB,IALA,IAAIC,EAAS,GACTC,EAAY,GACZC,EAA4B,qBAAf7c,WAA6BA,WAAa0B,MAEvDob,EAAO,mEACFlhB,EAAI,EAAGyK,EAAMyW,EAAK5hB,OAAQU,EAAIyK,IAAOzK,EAC5C+gB,EAAO/gB,GAAKkhB,EAAKlhB,GACjBghB,EAAUE,EAAKtgB,WAAWZ,IAAMA,EAQlC,SAASmhB,EAASC,GAChB,IAAI3W,EAAM2W,EAAI9hB,OAEd,GAAImL,EAAM,EAAI,EACZ,MAAM,IAAI+J,MAAM,kDAKlB,IAAI6M,EAAWD,EAAIviB,QAAQ,MACT,IAAdwiB,IAAiBA,EAAW5W,GAEhC,IAAI6W,EAAkBD,IAAa5W,EAC/B,EACA,EAAK4W,EAAW,EAEpB,MAAO,CAACA,EAAUC,GAIpB,SAASV,EAAYQ,GACnB,IAAIG,EAAOJ,EAAQC,GACfC,EAAWE,EAAK,GAChBD,EAAkBC,EAAK,GAC3B,OAAuC,GAA9BF,EAAWC,GAAuB,EAAKA,EAGlD,SAASE,EAAaJ,EAAKC,EAAUC,GACnC,OAAuC,GAA9BD,EAAWC,GAAuB,EAAKA,EAGlD,SAAST,EAAaO,GACpB,IAAIK,EAcAzhB,EAbAuhB,EAAOJ,EAAQC,GACfC,EAAWE,EAAK,GAChBD,EAAkBC,EAAK,GAEvBG,EAAM,IAAIT,EAAIO,EAAYJ,EAAKC,EAAUC,IAEzCK,EAAU,EAGVlX,EAAM6W,EAAkB,EACxBD,EAAW,EACXA,EAGJ,IAAKrhB,EAAI,EAAGA,EAAIyK,EAAKzK,GAAK,EACxByhB,EACGT,EAAUI,EAAIxgB,WAAWZ,KAAO,GAChCghB,EAAUI,EAAIxgB,WAAWZ,EAAI,KAAO,GACpCghB,EAAUI,EAAIxgB,WAAWZ,EAAI,KAAO,EACrCghB,EAAUI,EAAIxgB,WAAWZ,EAAI,IAC/B0hB,EAAIC,KAAcF,GAAO,GAAM,IAC/BC,EAAIC,KAAcF,GAAO,EAAK,IAC9BC,EAAIC,KAAmB,IAANF,EAmBnB,OAhBwB,IAApBH,IACFG,EACGT,EAAUI,EAAIxgB,WAAWZ,KAAO,EAChCghB,EAAUI,EAAIxgB,WAAWZ,EAAI,KAAO,EACvC0hB,EAAIC,KAAmB,IAANF,GAGK,IAApBH,IACFG,EACGT,EAAUI,EAAIxgB,WAAWZ,KAAO,GAChCghB,EAAUI,EAAIxgB,WAAWZ,EAAI,KAAO,EACpCghB,EAAUI,EAAIxgB,WAAWZ,EAAI,KAAO,EACvC0hB,EAAIC,KAAcF,GAAO,EAAK,IAC9BC,EAAIC,KAAmB,IAANF,GAGZC,EAGT,SAASE,EAAiBC,GACxB,OAAOd,EAAOc,GAAO,GAAK,IACxBd,EAAOc,GAAO,GAAK,IACnBd,EAAOc,GAAO,EAAI,IAClBd,EAAa,GAANc,GAGX,SAASC,EAAaC,EAAOzB,EAAOnW,GAGlC,IAFA,IAAIsX,EACA5J,EAAS,GACJ7X,EAAIsgB,EAAOtgB,EAAImK,EAAKnK,GAAK,EAChCyhB,GACIM,EAAM/hB,IAAM,GAAM,WAClB+hB,EAAM/hB,EAAI,IAAM,EAAK,QACP,IAAf+hB,EAAM/hB,EAAI,IACb6X,EAAO7W,KAAK4gB,EAAgBH,IAE9B,OAAO5J,EAAO1Y,KAAK,IAGrB,SAAS2hB,EAAeiB,GAQtB,IAPA,IAAIN,EACAhX,EAAMsX,EAAMziB,OACZ0iB,EAAavX,EAAM,EACnB+M,EAAQ,GACRyK,EAAiB,MAGZjiB,EAAI,EAAGkiB,EAAOzX,EAAMuX,EAAYhiB,EAAIkiB,EAAMliB,GAAKiiB,EACtDzK,EAAMxW,KAAK8gB,EACTC,EAAO/hB,EAAIA,EAAIiiB,EAAkBC,EAAOA,EAAQliB,EAAIiiB,IAsBxD,OAjBmB,IAAfD,GACFP,EAAMM,EAAMtX,EAAM,GAClB+M,EAAMxW,KACJ+f,EAAOU,GAAO,GACdV,EAAQU,GAAO,EAAK,IACpB,OAEsB,IAAfO,IACTP,GAAOM,EAAMtX,EAAM,IAAM,GAAKsX,EAAMtX,EAAM,GAC1C+M,EAAMxW,KACJ+f,EAAOU,GAAO,IACdV,EAAQU,GAAO,EAAK,IACpBV,EAAQU,GAAO,EAAK,IACpB,MAIGjK,EAAMrY,KAAK,IApIpB6hB,EAAU,IAAIpgB,WAAW,IAAM,GAC/BogB,EAAU,IAAIpgB,WAAW,IAAM,I,qCCnB/B/G,EAAOD,QAAU,WACf,MAAM,IAAI4a,MAAM,mD,oCCAlB,IAAI2N,EAAW,EAAQ,QACnBC,EAAW,EAAQ,QACnBxI,EAAQ,EAAQ,QAChBqD,EAAQ,EAAQ,QAEhBoF,EAAY,WACZC,EAAkBC,OAAO/jB,UACzBgkB,EAAiBF,EAAgBD,GAEjCI,EAAc7I,GAAM,WAAc,MAA2D,QAApD4I,EAAetnB,KAAK,CAAEuD,OAAQ,IAAKwe,MAAO,SAEnFyF,EAAiBF,EAAerO,MAAQkO,GAIxCI,GAAeC,IACjBP,EAASI,OAAO/jB,UAAW6jB,GAAW,WACpC,IAAIM,EAAIP,EAASrmB,MACboF,EAAIwN,OAAOgU,EAAElkB,QACbmkB,EAAKD,EAAE1F,MACPziB,EAAImU,YAAc5F,IAAP6Z,GAAoBD,aAAaJ,UAAY,UAAWD,GAAmBrF,EAAM/hB,KAAKynB,GAAKC,GAC1G,MAAO,IAAMzhB,EAAI,IAAM3G,IACtB,CAAEqoB,QAAQ,K,oCCrBf,SAASC,EAAYnR,EAAUoR,EAAUC,GACvC,IAAInY,EAAO9O,KAEXA,KAAKknB,UAAYtR,EACjB5V,KAAKmnB,MAAQF,EAEbjnB,KAAKonB,UAAYC,YAAYzR,EAAUoR,EAAUhnB,KAAKmnB,OAEtDnnB,KAAKsnB,WAAa,SAAUN,GAErBA,IACHA,EAAWlY,EAAKsY,WAEdtY,EAAKsY,WACPG,cAAczY,EAAKsY,WACrBtY,EAAKsY,UAAYC,YAAYvY,EAAKoY,UAAWF,EAAUlY,EAAKqY,QAG9DnnB,KAAK+N,MAAQ,WACPe,EAAKsY,YACPG,cAAczY,EAAKsY,WACnBtY,EAAKsY,eAAYpa,IAIrBhN,KAAKiM,QAAU,WACT6C,EAAKsY,WACPG,cAAczY,EAAKsY,WAErBtY,EAAKoY,eAAYla,EACjB8B,EAAKsY,eAAYpa,EACjB8B,EAAKqY,WAAQna,GAIjB,SAASwa,IACP,GAA4B,oBAAjB1V,UAAU,GACnB,MAAM,IAAI2G,MAAM,mBAClB,GAA4B,kBAAjB3G,UAAU,GACnB,MAAM,IAAI2G,MAAM,mBAElB,IAAIwO,EAEJ,GAAInV,UAAUvO,OAAS,EAAG,CACxB0jB,EAAO,IAAIld,MAAM+H,UAAUvO,OAAS,GAEpC,IAAK,IAAIU,EAAI,EAAGA,EAAIgjB,EAAK1jB,OAAQU,IAC/BgjB,EAAKhjB,GAAK6N,UAAU7N,EAAI,GAI5B,OAAO,IAAI8iB,EAAWjV,UAAU,GAAIA,UAAU,GAAImV,GAGpDnpB,EAAOD,QAAU2pB,G,oCCvDjB,IAAIjO,EAAI,EAAQ,QACZkO,EAA2B,EAAQ,QAAmDhpB,EACtFipB,EAAW,EAAQ,QACnBC,EAAa,EAAQ,QACrBnV,EAAyB,EAAQ,QACjCoV,EAAuB,EAAQ,QAC/BC,EAAU,EAAQ,QAElBC,EAAmB,GAAGC,WACtBC,EAAMjQ,KAAKiQ,IAEXC,EAA0BL,EAAqB,cAE/CM,GAAoBL,IAAYI,KAA6B,WAC/D,IAAIE,EAAaV,EAAyB7U,OAAOnQ,UAAW,cAC5D,OAAO0lB,IAAeA,EAAWnT,SAF8B,GAOjEuE,EAAE,CAAEG,OAAQ,SAAU/V,OAAO,EAAMgW,QAASuO,IAAqBD,GAA2B,CAC1FF,WAAY,SAAoBK,GAC9B,IAAIC,EAAOzV,OAAOJ,EAAuBxS,OACzC2nB,EAAWS,GACX,IAAI5W,EAAQkW,EAASM,EAAIlW,UAAUvO,OAAS,EAAIuO,UAAU,QAAK9E,EAAWqb,EAAK9kB,SAC3ElD,EAASuS,OAAOwV,GACpB,OAAON,EACHA,EAAiB3oB,KAAKkpB,EAAMhoB,EAAQmR,GACpC6W,EAAKnpB,MAAMsS,EAAOA,EAAQnR,EAAOkD,UAAYlD,M,sDC3BrD,IAAIioB,EAAwB,EAAQ,QAAmBlf,MAAMkf,sBAE7D,SAASC,EAAkBre,EAASE,EAAUoe,GAC5C,OAAgC,MAAzBte,EAAQK,cAAwBL,EAAQK,cAAgBH,EAAWF,EAAQse,GAAa,KAGjG,SAAStf,EAAiBqD,EAAOrC,EAASse,EAAWpe,GACnD,IAAIqe,EAAMF,EAAkBre,EAASE,EAAUoe,GAE/C,GAAW,MAAPC,EAAa,CACf,IAAMlQ,SAASkQ,IAAQ1Q,KAAKmD,MAAMuN,KAASA,GAAQA,EAAM,EAAG,CAC1D,IAAIrQ,EAAOhO,EAAWoe,EAAY,gBAClC,MAAM,IAAIF,EAAsBlQ,EAAMqQ,GAGxC,OAAO1Q,KAAKmD,MAAMuN,GAIpB,OAAOlc,EAAMlC,WAAa,GAAK,MAGjCvM,EAAOD,QAAU,CACfqL,iBAAkBA,I,kCCvBpB,MAAM,OAAEhB,GAAW,EAAQ,QACrBwgB,EAASvW,OAAOwW,IAAI,cAE1B,SAAS5f,EAAYmW,GACnB,KAAMlf,gBAAgB+I,GACpB,OAAO,IAAIA,EAAWmW,GAGxBnW,EAAW6f,MAAMzpB,KAAKa,KAAMkf,GAG9BnW,EAAW6f,MAAQ,SAAgB1J,GACjCrgB,OAAO4I,eAAezH,KAAM0oB,EAAQ,CAAEhhB,OAAO,IAE7C1H,KAAK6oB,MAAQ,GACb7oB,KAAKuD,OAAS,EAEV2b,GACFlf,KAAKmf,OAAOD,IAIhBnW,EAAWtG,UAAUqmB,KAAO,SAAe5J,GACzC,OAAO,IAAInW,EAAWmW,IAGxBnW,EAAWtG,UAAUsmB,QAAU,SAAkBC,GAC/C,GAAe,IAAXA,EACF,MAAO,CAAC,EAAG,GAGb,IAAIC,EAAM,EAEV,IAAK,IAAIhlB,EAAI,EAAGA,EAAIjE,KAAK6oB,MAAMtlB,OAAQU,IAAK,CAC1C,MAAMilB,EAAKD,EAAMjpB,KAAK6oB,MAAM5kB,GAAGV,OAC/B,GAAIylB,EAASE,GAAMjlB,IAAMjE,KAAK6oB,MAAMtlB,OAAS,EAC3C,MAAO,CAACU,EAAG+kB,EAASC,GAEtBA,EAAMC,IAIVngB,EAAWtG,UAAU0mB,eAAiB,SAAUC,GAC9C,MAAMC,EAAWD,EAAS,GAC1B,IAAIJ,EAASI,EAAS,GAEtB,IAAK,IAAInlB,EAAI,EAAGA,EAAIolB,EAAUplB,IAC5B+kB,GAAUhpB,KAAK6oB,MAAM5kB,GAAGV,OAG1B,OAAOylB,GAGTjgB,EAAWtG,UAAUyK,IAAM,SAAcsE,GACvC,GAAIA,EAAQxR,KAAKuD,QAAUiO,EAAQ,EACjC,OAGF,MAAMwX,EAAShpB,KAAK+oB,QAAQvX,GAE5B,OAAOxR,KAAK6oB,MAAMG,EAAO,IAAIA,EAAO,KAGtCjgB,EAAWtG,UAAUvD,MAAQ,SAAgBqlB,EAAOnW,GASlD,MARqB,kBAAVmW,GAAsBA,EAAQ,IACvCA,GAASvkB,KAAKuD,QAGG,kBAAR6K,GAAoBA,EAAM,IACnCA,GAAOpO,KAAKuD,QAGPvD,KAAKspB,KAAK,KAAM,EAAG/E,EAAOnW,IAGnCrF,EAAWtG,UAAU6mB,KAAO,SAAeC,EAAKC,EAAUC,EAAUC,GASlE,IARwB,kBAAbD,GAAyBA,EAAW,KAC7CA,EAAW,IAGS,kBAAXC,GAAuBA,EAAS1pB,KAAKuD,UAC9CmmB,EAAS1pB,KAAKuD,QAGZkmB,GAAYzpB,KAAKuD,OACnB,OAAOgmB,GAAOrhB,EAAOyhB,MAAM,GAG7B,GAAID,GAAU,EACZ,OAAOH,GAAOrhB,EAAOyhB,MAAM,GAG7B,MAAML,IAASC,EACTK,EAAM5pB,KAAK+oB,QAAQU,GACnB/a,EAAMgb,EAASD,EACrB,IAAIxJ,EAAQvR,EACRmb,EAAUP,GAAQE,GAAa,EAC/BjF,EAAQqF,EAAI,GAGhB,GAAiB,IAAbH,GAAkBC,IAAW1pB,KAAKuD,OAAQ,CAC5C,IAAK+lB,EAEH,OAA6B,IAAtBtpB,KAAK6oB,MAAMtlB,OACdvD,KAAK6oB,MAAM,GACX3gB,EAAO3G,OAAOvB,KAAK6oB,MAAO7oB,KAAKuD,QAIrC,IAAK,IAAIU,EAAI,EAAGA,EAAIjE,KAAK6oB,MAAMtlB,OAAQU,IACrCjE,KAAK6oB,MAAM5kB,GAAGqlB,KAAKC,EAAKM,GACxBA,GAAU7pB,KAAK6oB,MAAM5kB,GAAGV,OAG1B,OAAOgmB,EAIT,GAAItJ,GAASjgB,KAAK6oB,MAAMe,EAAI,IAAIrmB,OAASghB,EACvC,OAAO+E,EACHtpB,KAAK6oB,MAAMe,EAAI,IAAIN,KAAKC,EAAKC,EAAUjF,EAAOA,EAAQtE,GACtDjgB,KAAK6oB,MAAMe,EAAI,IAAI1qB,MAAMqlB,EAAOA,EAAQtE,GAGzCqJ,IAEHC,EAAMrhB,EAAO4hB,YAAYpb,IAG3B,IAAK,IAAIzK,EAAI2lB,EAAI,GAAI3lB,EAAIjE,KAAK6oB,MAAMtlB,OAAQU,IAAK,CAC/C,MAAMO,EAAIxE,KAAK6oB,MAAM5kB,GAAGV,OAASghB,EAEjC,KAAItE,EAAQzb,GAGL,CACLxE,KAAK6oB,MAAM5kB,GAAGqlB,KAAKC,EAAKM,EAAQtF,EAAOA,EAAQtE,GAC/C4J,GAAUrlB,EACV,MALAxE,KAAK6oB,MAAM5kB,GAAGqlB,KAAKC,EAAKM,EAAQtF,GAChCsF,GAAUrlB,EAOZyb,GAASzb,EAEL+f,IACFA,EAAQ,GAKZ,OAAIgF,EAAIhmB,OAASsmB,EAAeN,EAAIrqB,MAAM,EAAG2qB,GAEtCN,GAGTxgB,EAAWtG,UAAUsnB,aAAe,SAAuBxF,EAAOnW,GAYhE,GAXAmW,EAAQA,GAAS,EACjBnW,EAAqB,kBAARA,EAAmBpO,KAAKuD,OAAS6K,EAE1CmW,EAAQ,IACVA,GAASvkB,KAAKuD,QAGZ6K,EAAM,IACRA,GAAOpO,KAAKuD,QAGVghB,IAAUnW,EACZ,OAAOpO,KAAK8oB,OAGd,MAAMkB,EAAchqB,KAAK+oB,QAAQxE,GAC3B0F,EAAYjqB,KAAK+oB,QAAQ3a,GACzB8b,EAAUlqB,KAAK6oB,MAAM3pB,MAAM8qB,EAAY,GAAIC,EAAU,GAAK,GAYhE,OAVqB,IAAjBA,EAAU,GACZC,EAAQljB,MAERkjB,EAAQA,EAAQ3mB,OAAS,GAAK2mB,EAAQA,EAAQ3mB,OAAS,GAAGrE,MAAM,EAAG+qB,EAAU,IAGxD,IAAnBD,EAAY,KACdE,EAAQ,GAAKA,EAAQ,GAAGhrB,MAAM8qB,EAAY,KAGrChqB,KAAK8oB,KAAKoB,IAGnBnhB,EAAWtG,UAAU/D,SAAW,SAAmBkN,EAAU2Y,EAAOnW,GAClE,OAAOpO,KAAKd,MAAMqlB,EAAOnW,GAAK1P,SAASkN,IAGzC7C,EAAWtG,UAAU6M,QAAU,SAAkB2Q,GAI/C,GAFAA,EAAQlI,KAAKoS,MAAMlK,GAEfmK,OAAOC,MAAMpK,IAAUA,GAAS,EAAG,OAAOjgB,KAE9C,MAAOA,KAAK6oB,MAAMtlB,OAAQ,CACxB,KAAI0c,GAASjgB,KAAK6oB,MAAM,GAAGtlB,QAIpB,CACLvD,KAAK6oB,MAAM,GAAK7oB,KAAK6oB,MAAM,GAAG3pB,MAAM+gB,GACpCjgB,KAAKuD,QAAU0c,EACf,MANAA,GAASjgB,KAAK6oB,MAAM,GAAGtlB,OACvBvD,KAAKuD,QAAUvD,KAAK6oB,MAAM,GAAGtlB,OAC7BvD,KAAK6oB,MAAMpiB,QAQf,OAAOzG,MAGT+I,EAAWtG,UAAU6nB,UAAY,WAC/B,MAAMhB,EAAOtpB,KAAK8oB,OAElB,IAAK,IAAI7kB,EAAI,EAAGA,EAAIjE,KAAK6oB,MAAMtlB,OAAQU,IACrCqlB,EAAKnK,OAAOnf,KAAK6oB,MAAM5kB,IAGzB,OAAOqlB,GAGTvgB,EAAWtG,UAAU0c,OAAS,SAAiBD,GAC7C,GAAW,MAAPA,EACF,OAAOlf,KAGT,GAAIkf,EAAI1U,OAENxK,KAAKuqB,cAAcriB,EAAOM,KAAK0W,EAAI1U,OAAQ0U,EAAIsL,WAAYtL,EAAI2F,kBAC1D,GAAI9a,MAAMC,QAAQkV,GACvB,IAAK,IAAIjb,EAAI,EAAGA,EAAIib,EAAI3b,OAAQU,IAC9BjE,KAAKmf,OAAOD,EAAIjb,SAEb,GAAIjE,KAAKyqB,cAAcvL,GAE5B,IAAK,IAAIjb,EAAI,EAAGA,EAAIib,EAAI2J,MAAMtlB,OAAQU,IACpCjE,KAAKmf,OAAOD,EAAI2J,MAAM5kB,QAKL,kBAARib,IACTA,EAAMA,EAAIxgB,YAGZsB,KAAKuqB,cAAcriB,EAAOM,KAAK0W,IAGjC,OAAOlf,MAGT+I,EAAWtG,UAAU8nB,cAAgB,SAAuBrL,GAC1Dlf,KAAK6oB,MAAM5jB,KAAKia,GAChBlf,KAAKuD,QAAU2b,EAAI3b,QAGrBwF,EAAWtG,UAAUK,QAAU,SAAUzC,EAAQ2oB,EAAQpd,GAMvD,QALiBoB,IAAbpB,GAA4C,kBAAXod,IACnCpd,EAAWod,EACXA,OAAShc,GAGW,oBAAX3M,GAAyB0J,MAAMC,QAAQ3J,GAChD,MAAM,IAAIuC,UAAU,uFA2BtB,GA1B6B,kBAAXvC,EAChBA,EAAS6H,EAAOM,KAAK,CAACnI,IACK,kBAAXA,EAChBA,EAAS6H,EAAOM,KAAKnI,EAAQuL,GACpB5L,KAAKyqB,cAAcpqB,GAC5BA,EAASA,EAAOnB,QACP6K,MAAMC,QAAQ3J,EAAOmK,QAC9BnK,EAAS6H,EAAOM,KAAKnI,EAAOmK,OAAQnK,EAAOmqB,WAAYnqB,EAAOwkB,YACpD3c,EAAOQ,SAASrI,KAC1BA,EAAS6H,EAAOM,KAAKnI,IAGvB2oB,EAASoB,OAAOpB,GAAU,GAEtBqB,MAAMrB,KACRA,EAAS,GAGPA,EAAS,IACXA,EAAShpB,KAAKuD,OAASylB,GAGrBA,EAAS,IACXA,EAAS,GAGW,IAAlB3oB,EAAOkD,OACT,OAAOylB,EAAShpB,KAAKuD,OAASvD,KAAKuD,OAASylB,EAG9C,MAAMI,EAAWppB,KAAK+oB,QAAQC,GAC9B,IAAI0B,EAAUtB,EAAS,GACnBuB,EAAavB,EAAS,GAG1B,KAAOsB,EAAU1qB,KAAK6oB,MAAMtlB,OAAQmnB,IAAW,CAC7C,MAAME,EAAO5qB,KAAK6oB,MAAM6B,GAExB,MAAOC,EAAaC,EAAKrnB,OAAQ,CAC/B,MAAMsnB,EAAkBD,EAAKrnB,OAASonB,EAEtC,GAAIE,GAAmBxqB,EAAOkD,OAAQ,CACpC,MAAMunB,EAAqBF,EAAK9nB,QAAQzC,EAAQsqB,GAEhD,IAA4B,IAAxBG,EACF,OAAO9qB,KAAKmpB,eAAe,CAACuB,EAASI,IAGvCH,EAAaC,EAAKrnB,OAASlD,EAAOkD,OAAS,MACtC,CACL,MAAMwnB,EAAY/qB,KAAKmpB,eAAe,CAACuB,EAASC,IAEhD,GAAI3qB,KAAKgrB,OAAOD,EAAW1qB,GACzB,OAAO0qB,EAGTJ,KAIJA,EAAa,EAGf,OAAQ,GAGV5hB,EAAWtG,UAAUuoB,OAAS,SAAUhC,EAAQ3oB,GAC9C,GAAIL,KAAKuD,OAASylB,EAAS3oB,EAAOkD,OAChC,OAAO,EAGT,IAAK,IAAI0nB,EAAe,EAAGA,EAAe5qB,EAAOkD,OAAQ0nB,IACvD,GAAIjrB,KAAKkN,IAAI8b,EAASiC,KAAkB5qB,EAAO4qB,GAC7C,OAAO,EAGX,OAAO,GAGP,WACA,MAAMC,EAAU,CACdC,aAAc,EACdC,aAAc,EACdC,YAAa,EACbC,YAAa,EACbC,YAAa,EACbC,YAAa,EACb1H,aAAc,EACd2H,aAAc,EACdC,YAAa,EACbC,YAAa,EACb9H,aAAc,EACd+H,aAAc,EACdC,SAAU,EACVxM,UAAW,EACXyM,UAAW,KACXC,UAAW,KACXC,WAAY,KACZC,WAAY,MAGd,IAAK,MAAM1U,KAAK2T,GACb,SAAU3T,GACU,OAAf2T,EAAQ3T,GACVxO,EAAWtG,UAAU8U,GAAK,SAAUyR,EAAQnE,GAC1C,OAAO7kB,KAAKd,MAAM8pB,EAAQA,EAASnE,GAAYtN,GAAG,EAAGsN,IAGvD9b,EAAWtG,UAAU8U,GAAK,SAAUyR,EAAS,GAC3C,OAAOhpB,KAAKd,MAAM8pB,EAAQA,EAASkC,EAAQ3T,IAAIA,GAAG,KAPxD,CAUEA,GAjCL,GAyCDxO,EAAWtG,UAAUgoB,cAAgB,SAAwByB,GAC3D,OAAOA,aAAanjB,GAAcA,EAAWojB,aAAaD,IAG5DnjB,EAAWojB,aAAe,SAAuBD,GAC/C,OAAY,MAALA,GAAaA,EAAExD,IAGxB5qB,EAAOD,QAAUkL,G,mCC3YjB,YACAlK,OAAO4I,eAAe5J,EAAS,aAAc,CAAE6J,OAAO,IACtD7J,EAAQuuB,eAAiBvuB,EAAQwuB,eAAiBxuB,EAAQyuB,qBAAkB,EAC5E,IAAIC,EAAS,EAAQ,QACjBC,EAAkB,mDACtB3uB,EAAQyuB,gBAAkB,CACtBG,MAAO,IACPC,6BAA6B,GAEjC,IAAIC,EAA4B,wBAChC9uB,EAAQwuB,eAAiB,0JACzB,IAAIO,EAAa,SAAUjQ,GACvB,IACI,OAAOjE,KAAKhY,MAAMmsB,KAAKlQ,EAAM1Z,MAAM,KAAK,KAE5C,MAAO6pB,GAEH,MADAC,QAAQC,KAAKF,GACP,IAAIrU,MAAM+T,KAGxB3uB,EAAQuuB,eAAiB,SAAUzP,GAC/B,GAAI4P,EAAOU,WAAa7kB,EAAOykB,KAC3B,MAAM,IAAIpU,MAAM5a,EAAQwuB,gBAE5B,IAAIvP,EAAI8P,EAAWjQ,EAAMuQ,OACzB,MAAO,CACHT,MAAO9P,EAAM8P,OAAS5uB,EAAQyuB,gBAAgBG,MAC9CS,MAAOvQ,EAAMuQ,MACbC,QAAyB,IAAjBxQ,EAAMwQ,OACdC,WAAYb,EAAOU,SAAW,UAAYnQ,EAAEuQ,KAAO,QAAUvQ,EAAEwQ,QAC/DC,aAAczQ,EAAE0Q,KAAOb,EACvBc,cAAe,EACfC,aAAc,EACdhB,6BAA6B,M,2CCjCrC7uB,EAAQ6gB,OAAS,EAAQ,QAAYA,OACrC7gB,EAAQ8vB,SAAW,EAAQ,QAC3B9vB,EAAQ+vB,cAAgB,EAAQ,S,qCCFhC,YAEA,IAAIC,EAEJ,SAASC,EAAgBvrB,EAAKwrB,EAAKrmB,GAAiK,OAApJqmB,KAAOxrB,EAAO1D,OAAO4I,eAAelF,EAAKwrB,EAAK,CAAErmB,MAAOA,EAAOuF,YAAY,EAAM+gB,cAAc,EAAMhZ,UAAU,IAAkBzS,EAAIwrB,GAAOrmB,EAAgBnF,EAE3M,IAAIlE,EAAW,EAAQ,QAEnB4vB,EAAe9b,OAAO,eACtB+b,EAAc/b,OAAO,cACrBgc,EAAShc,OAAO,SAChBic,EAASjc,OAAO,SAChBkc,EAAelc,OAAO,eACtBmc,EAAiBnc,OAAO,iBACxBoc,EAAUpc,OAAO,UAErB,SAASqc,EAAiB9mB,EAAO+mB,GAC/B,MAAO,CACL/mB,MAAOA,EACP+mB,KAAMA,GAIV,SAASC,EAAeC,GACtB,IAAI/tB,EAAU+tB,EAAKV,GAEnB,GAAgB,OAAZrtB,EAAkB,CACpB,IAAIiN,EAAO8gB,EAAKJ,GAASxiB,OAIZ,OAAT8B,IACF8gB,EAAKN,GAAgB,KACrBM,EAAKV,GAAgB,KACrBU,EAAKT,GAAe,KACpBttB,EAAQ4tB,EAAiB3gB,GAAM,MAKrC,SAAS+gB,EAAWD,GAGlBrgB,EAAQC,SAASmgB,EAAgBC,GAGnC,SAASE,EAAYC,EAAaH,GAChC,OAAO,SAAU/tB,EAASmuB,GACxBD,EAAYE,MAAK,WACXL,EAAKP,GACPxtB,EAAQ4tB,OAAiBxhB,GAAW,IAItC2hB,EAAKL,GAAgB1tB,EAASmuB,KAC7BA,IAIP,IAAIE,EAAyBpwB,OAAO6N,gBAAe,eAC/CwiB,EAAuCrwB,OAAOswB,gBAAgBtB,EAAwB,CACxF,aACE,OAAO7tB,KAAKuuB,IAGdzgB,KAAM,WACJ,IAAIkE,EAAQhS,KAIRf,EAAQe,KAAKmuB,GAEjB,GAAc,OAAVlvB,EACF,OAAOmwB,QAAQL,OAAO9vB,GAGxB,GAAIe,KAAKouB,GACP,OAAOgB,QAAQxuB,QAAQ4tB,OAAiBxhB,GAAW,IAGrD,GAAIhN,KAAKuuB,GAAShjB,UAKhB,OAAO,IAAI6jB,SAAQ,SAAUxuB,EAASmuB,GACpCzgB,EAAQC,UAAS,WACXyD,EAAMmc,GACRY,EAAO/c,EAAMmc,IAEbvtB,EAAQ4tB,OAAiBxhB,GAAW,UAU5C,IACIqiB,EADAP,EAAc9uB,KAAKquB,GAGvB,GAAIS,EACFO,EAAU,IAAID,QAAQP,EAAYC,EAAa9uB,WAC1C,CAGL,IAAI6N,EAAO7N,KAAKuuB,GAASxiB,OAEzB,GAAa,OAAT8B,EACF,OAAOuhB,QAAQxuB,QAAQ4tB,EAAiB3gB,GAAM,IAGhDwhB,EAAU,IAAID,QAAQpvB,KAAKsuB,IAI7B,OADAtuB,KAAKquB,GAAgBgB,EACdA,IAERvB,EAAgBD,EAAuB1b,OAAOC,eAAe,WAC9D,OAAOpS,QACL8tB,EAAgBD,EAAuB,UAAU,WACnD,IAAIyB,EAAStvB,KAKb,OAAO,IAAIovB,SAAQ,SAAUxuB,EAASmuB,GACpCO,EAAOf,GAAStiB,QAAQ,MAAM,SAAUqB,GAClCA,EACFyhB,EAAOzhB,GAIT1M,EAAQ4tB,OAAiBxhB,GAAW,aAGtC6gB,GAAwBoB,GAExBnmB,EAAoC,SAA2CqB,GACjF,IAAIolB,EAEAC,EAAW3wB,OAAO8lB,OAAOuK,GAAuCK,EAAiB,GAAIzB,EAAgByB,EAAgBhB,EAAS,CAChI7mB,MAAOyC,EACP6K,UAAU,IACR8Y,EAAgByB,EAAgBtB,EAAc,CAChDvmB,MAAO,KACPsN,UAAU,IACR8Y,EAAgByB,EAAgBrB,EAAa,CAC/CxmB,MAAO,KACPsN,UAAU,IACR8Y,EAAgByB,EAAgBpB,EAAQ,CAC1CzmB,MAAO,KACPsN,UAAU,IACR8Y,EAAgByB,EAAgBnB,EAAQ,CAC1C1mB,MAAOyC,EAAO0B,eAAehB,WAC7BmK,UAAU,IACR8Y,EAAgByB,EAAgBjB,EAAgB,CAClD5mB,MAAO,SAAe9G,EAASmuB,GAC7B,IAAIlhB,EAAO2hB,EAASjB,GAASxiB,OAEzB8B,GACF2hB,EAASnB,GAAgB,KACzBmB,EAASvB,GAAgB,KACzBuB,EAAStB,GAAe,KACxBttB,EAAQ4tB,EAAiB3gB,GAAM,MAE/B2hB,EAASvB,GAAgBrtB,EACzB4uB,EAAStB,GAAea,IAG5B/Z,UAAU,IACRua,IA8BJ,OA7BAC,EAASnB,GAAgB,KACzBhwB,EAAS8L,GAAQ,SAAUmD,GACzB,GAAIA,GAAoB,+BAAbA,EAAI6X,KAAuC,CACpD,IAAI4J,EAASS,EAAStB,GAWtB,OARe,OAAXa,IACFS,EAASnB,GAAgB,KACzBmB,EAASvB,GAAgB,KACzBuB,EAAStB,GAAe,KACxBa,EAAOzhB,SAGTkiB,EAASrB,GAAU7gB,GAIrB,IAAI1M,EAAU4uB,EAASvB,GAEP,OAAZrtB,IACF4uB,EAASnB,GAAgB,KACzBmB,EAASvB,GAAgB,KACzBuB,EAAStB,GAAe,KACxBttB,EAAQ4tB,OAAiBxhB,GAAW,KAGtCwiB,EAASpB,IAAU,KAErBjkB,EAAOF,GAAG,WAAY2kB,EAAW1c,KAAK,KAAMsd,IACrCA,GAGT1xB,EAAOD,QAAUiL,I,8CC9MjB,YAyGA,SAAS2mB,IAIR,QAAsB,qBAAX7wB,SAA0BA,OAAO0P,SAAoC,aAAxB1P,OAAO0P,QAAQtG,OAAuBpJ,OAAO0P,QAAQohB,UAKpF,qBAAdC,YAA6BA,UAAUC,YAAaD,UAAUC,UAAU/rB,cAAcC,MAAM,4BAM3E,qBAAb+rB,UAA4BA,SAASC,iBAAmBD,SAASC,gBAAgBC,OAASF,SAASC,gBAAgBC,MAAMC,kBAEpH,qBAAXpxB,QAA0BA,OAAOmuB,UAAYnuB,OAAOmuB,QAAQkD,SAAYrxB,OAAOmuB,QAAQmD,WAAatxB,OAAOmuB,QAAQoD,QAGrG,qBAAdR,WAA6BA,UAAUC,WAAaD,UAAUC,UAAU/rB,cAAcC,MAAM,mBAAqB+L,SAAS2W,OAAO4J,GAAI,KAAO,IAE9H,qBAAdT,WAA6BA,UAAUC,WAAaD,UAAUC,UAAU/rB,cAAcC,MAAM,uBAStG,SAASusB,EAAWpJ,GAQnB,GAPAA,EAAK,IAAMjnB,KAAKyvB,UAAY,KAAO,IAClCzvB,KAAKswB,WACJtwB,KAAKyvB,UAAY,MAAQ,KAC1BxI,EAAK,IACJjnB,KAAKyvB,UAAY,MAAQ,KAC1B,IAAM3xB,EAAOD,QAAQ0yB,SAASvwB,KAAKwwB,OAE/BxwB,KAAKyvB,UACT,OAGD,MAAMgB,EAAI,UAAYzwB,KAAK0wB,MAC3BzJ,EAAK1f,OAAO,EAAG,EAAGkpB,EAAG,kBAKrB,IAAIjf,EAAQ,EACRmf,EAAQ,EACZ1J,EAAK,GAAG9jB,QAAQ,cAAeW,IAChB,OAAVA,IAGJ0N,IACc,OAAV1N,IAGH6sB,EAAQnf,MAIVyV,EAAK1f,OAAOopB,EAAO,EAAGF,GASvB,SAASG,KAAO3J,GAGf,MAA0B,kBAAZ8F,SACbA,QAAQ6D,KACR7D,QAAQ6D,OAAO3J,GASjB,SAAS4J,EAAKC,GACb,IACKA,EACHjzB,EAAQkzB,QAAQC,QAAQ,QAASF,GAEjCjzB,EAAQkzB,QAAQE,WAAW,SAE3B,MAAOhyB,KAYV,SAASiyB,IACR,IAAIC,EACJ,IACCA,EAAItzB,EAAQkzB,QAAQK,QAAQ,SAC3B,MAAOnyB,IAUT,OAJKkyB,GAAwB,qBAAZ7iB,GAA2B,QAASA,IACpD6iB,EAAI,4CAAYE,OAGVF,EAcR,SAASG,IACR,IAGC,OAAOC,aACN,MAAOtyB,KA7OVpB,EAAQ+yB,IAAMA,EACd/yB,EAAQwyB,WAAaA,EACrBxyB,EAAQgzB,KAAOA,EACfhzB,EAAQqzB,KAAOA,EACfrzB,EAAQ4xB,UAAYA,EACpB5xB,EAAQkzB,QAAUO,IAMlBzzB,EAAQ2zB,OAAS,CAChB,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,WA4JD1zB,EAAOD,QAAU,EAAQ,OAAR,CAAoBA,GAErC,MAAM,WAAC4zB,GAAc3zB,EAAOD,QAM5B4zB,EAAW9sB,EAAI,SAAU4B,GACxB,IACC,OAAOmS,KAAK7S,UAAUU,GACrB,MAAOtH,GACR,MAAO,+BAAiCA,EAAMyyB,Y,wDCpQhD7yB,OAAO4I,eAAe5J,EAAS,aAAc,CAAE6J,OAAO,IACtD7J,EAAQ8zB,KAAO9zB,EAAQ+zB,cAAgB/zB,EAAQg0B,kBAAe,EAE9D,SAAWA,GACPA,EAAa,WAAa,WAC1BA,EAAa,eAAiB,eAC9BA,EAAa,cAAgB,cAC7BA,EAAa,QAAU,OACvBA,EAAa,UAAY,SACzBA,EAAa,QAAU,OAEvBA,EAAa,mBAAqB,mBAClCA,EAAa,QAAU,OAT3B,CAUkBh0B,EAAQg0B,eAAiBh0B,EAAQg0B,aAAe,KAIlE,SAAWD,GAEPA,EAAc,UAAY,SAE1BA,EAAc,QAAU,OAExBA,EAAc,aAAe,YAE7BA,EAAc,WAAa,UAE3BA,EAAc,UAAY,SAE1BA,EAAc,mBAAqB,mBAEnCA,EAAc,QAAU,OAExBA,EAAc,QAAU,OAExBA,EAAc,UAAY,SAlB9B,CAmBmB/zB,EAAQ+zB,gBAAkB/zB,EAAQ+zB,cAAgB,KAErE,SAAWD,GAEPA,EAAK,cAAgB,IAErBA,EAAK,cAAgB,IAErBA,EAAK,QAAU,OAEfA,EAAKA,EAAK,yBAA2B,KAAQ,wBARjD,CASU9zB,EAAQ8zB,OAAS9zB,EAAQ8zB,KAAO,M,oCC9C1C7zB,EAAOD,QAAU,CACf2E,SAAU,SAASsvB,GACjB,MAAuB,kBAAV,GAEfzvB,SAAU,SAASyvB,GACjB,MAAuB,kBAAV,GAA8B,OAARA,GAErC3qB,OAAQ,SAAS2qB,GACf,OAAe,OAARA,GAET7qB,kBAAmB,SAAS6qB,GAC1B,OAAc,MAAPA,K,oCCTX,IAAIC,EAEJ,SAASlhB,EAAK+E,GACZ,IAAIoc,GAAS,EACb,OAAO,WACDA,IACJA,GAAS,EACTpc,EAAS/D,WAAM,EAAQC,aAI3B,IAAI3I,EAAiB,EAAQ,QAAmBC,MAC5C6oB,EAAmB9oB,EAAe8oB,iBAClCxe,EAAuBtK,EAAesK,qBAE1C,SAASye,EAAK5kB,GAEZ,GAAIA,EAAK,MAAMA,EAGjB,SAAS6kB,EAAUhoB,GACjB,OAAOA,EAAOioB,WAAqC,oBAAjBjoB,EAAOkoB,MAG3C,SAASC,EAAUnoB,EAAQW,EAASqJ,EAASyB,GAC3CA,EAAW/E,EAAK+E,GAChB,IAAI2c,GAAS,EACbpoB,EAAOF,GAAG,SAAS,WACjBsoB,GAAS,UAECvlB,IAAR+kB,IAAmBA,EAAM,EAAQ,SACrCA,EAAI5nB,EAAQ,CACV2B,SAAUhB,EACVkK,SAAUb,IACT,SAAU7G,GACX,GAAIA,EAAK,OAAOsI,EAAStI,GACzBilB,GAAS,EACT3c,OAEF,IAAIrK,GAAY,EAChB,OAAO,SAAU+B,GACf,IAAIilB,IACAhnB,EAGJ,OAFAA,GAAY,EAER4mB,EAAUhoB,GAAgBA,EAAOkoB,QACP,oBAAnBloB,EAAO8B,QAA+B9B,EAAO8B,eACxD2J,EAAStI,GAAO,IAAImG,EAAqB,UAI7C,SAAStU,EAAK0K,GACZA,IAGF,SAASmG,EAAKxH,EAAMgqB,GAClB,OAAOhqB,EAAKwH,KAAKwiB,GAGnB,SAASC,EAAYC,GACnB,OAAKA,EAAQnvB,OAC8B,oBAAhCmvB,EAAQA,EAAQnvB,OAAS,GAA0B2uB,EACvDQ,EAAQ1rB,MAFakrB,EAK9B,SAAS5zB,IACP,IAAK,IAAIq0B,EAAO7gB,UAAUvO,OAAQmvB,EAAU,IAAI3oB,MAAM4oB,GAAOC,EAAO,EAAGA,EAAOD,EAAMC,IAClFF,EAAQE,GAAQ9gB,UAAU8gB,GAG5B,IAOI3zB,EAPA2W,EAAW6c,EAAYC,GAG3B,GAFI3oB,MAAMC,QAAQ0oB,EAAQ,MAAKA,EAAUA,EAAQ,IAE7CA,EAAQnvB,OAAS,EACnB,MAAM,IAAI0uB,EAAiB,WAI7B,IAAIY,EAAWH,EAAQrX,KAAI,SAAUlR,EAAQlG,GAC3C,IAAI6G,EAAU7G,EAAIyuB,EAAQnvB,OAAS,EAC/B4Q,EAAUlQ,EAAI,EAClB,OAAOquB,EAAUnoB,EAAQW,EAASqJ,GAAS,SAAU7G,GAC9CrO,IAAOA,EAAQqO,GAChBA,GAAKulB,EAASja,QAAQzZ,GACtB2L,IACJ+nB,EAASja,QAAQzZ,GACjByW,EAAS3W,UAGb,OAAOyzB,EAAQI,OAAO9iB,GAGxBlS,EAAOD,QAAUS,G,uBChGjB,IAAIib,EAAI,EAAQ,QACZ9G,EAAS,EAAQ,QAIrB8G,EAAE,CAAEG,OAAQ,SAAU/V,OAAO,GAAQ,CACnC8O,OAAQA,K,oCCyDV3U,EAAOD,QAAUM,EAEjB,IAAIgL,EAAiB,EAAQ,QAAaC,MACtCG,EAA6BJ,EAAeI,2BAC5CgK,EAAwBpK,EAAeoK,sBACvCwf,EAAqC5pB,EAAe4pB,mCACpDC,EAA8B7pB,EAAe6pB,4BAE7C90B,EAAS,EAAQ,QAIrB,SAAS+0B,EAAe3mB,EAAIuB,GAC1B,IAAIqlB,EAAKlzB,KAAKmzB,gBACdD,EAAGE,cAAe,EAClB,IAAI7lB,EAAK2lB,EAAG3e,QAEZ,GAAW,OAAPhH,EACF,OAAOvN,KAAK8M,KAAK,QAAS,IAAIyG,GAGhC2f,EAAGG,WAAa,KAChBH,EAAG3e,QAAU,KACD,MAAR1G,GACF7N,KAAKiF,KAAK4I,GACZN,EAAGjB,GACH,IAAIgnB,EAAKtzB,KAAK6L,eACdynB,EAAGxoB,SAAU,GAETwoB,EAAGtoB,cAAgBsoB,EAAG/vB,OAAS+vB,EAAG/oB,gBACpCvK,KAAKgM,MAAMsnB,EAAG/oB,eAIlB,SAASpM,EAAU+L,GACjB,KAAMlK,gBAAgB7B,GAAY,OAAO,IAAIA,EAAU+L,GACvDhM,EAAOiB,KAAKa,KAAMkK,GAClBlK,KAAKmzB,gBAAkB,CACrBF,eAAgBA,EAAe/gB,KAAKlS,MACpCuzB,eAAe,EACfH,cAAc,EACd7e,QAAS,KACT8e,WAAY,KACZG,cAAe,MAGjBxzB,KAAK6L,eAAeb,cAAe,EAInChL,KAAK6L,eAAed,MAAO,EAEvBb,IAC+B,oBAAtBA,EAAQupB,YAA0BzzB,KAAK0zB,WAAaxpB,EAAQupB,WAC1C,oBAAlBvpB,EAAQypB,QAAsB3zB,KAAK4zB,OAAS1pB,EAAQypB,QAIjE3zB,KAAKiK,GAAG,YAAauM,GAGvB,SAASA,IACP,IAAIxE,EAAQhS,KAEe,oBAAhBA,KAAK4zB,QAA0B5zB,KAAK6L,eAAeN,UAK5DkjB,EAAKzuB,KAAM,KAAM,MAJjBA,KAAK4zB,QAAO,SAAUtnB,EAAIuB,GACxB4gB,EAAKzc,EAAO1F,EAAIuB,MA6DtB,SAAS4gB,EAAKtkB,EAAQmC,EAAIuB,GACxB,GAAIvB,EAAI,OAAOnC,EAAO2C,KAAK,QAASR,GAMpC,GALY,MAARuB,GACF1D,EAAOlF,KAAK4I,GAIV1D,EAAOuF,eAAenM,OAAQ,MAAM,IAAIyvB,EAC5C,GAAI7oB,EAAOgpB,gBAAgBC,aAAc,MAAM,IAAIL,EACnD,OAAO5oB,EAAOlF,KAAK,MA9HrB,EAAQ,OAAR,CAAoB9G,EAAWD,GA+D/BC,EAAUsE,UAAUwC,KAAO,SAAUsD,EAAOqD,GAE1C,OADA5L,KAAKmzB,gBAAgBI,eAAgB,EAC9Br1B,EAAOuE,UAAUwC,KAAK9F,KAAKa,KAAMuI,EAAOqD,IAajDzN,EAAUsE,UAAUixB,WAAa,SAAUnrB,EAAOqD,EAAU2B,GAC1DA,EAAG,IAAIhE,EAA2B,kBAGpCpL,EAAUsE,UAAUwS,OAAS,SAAU1M,EAAOqD,EAAU2B,GACtD,IAAI2lB,EAAKlzB,KAAKmzB,gBAKd,GAJAD,EAAG3e,QAAUhH,EACb2lB,EAAGG,WAAa9qB,EAChB2qB,EAAGM,cAAgB5nB,GAEdsnB,EAAGE,aAAc,CACpB,IAAIE,EAAKtzB,KAAK6L,gBACVqnB,EAAGK,eAAiBD,EAAGtoB,cAAgBsoB,EAAG/vB,OAAS+vB,EAAG/oB,gBAAevK,KAAKgM,MAAMsnB,EAAG/oB,iBAO3FpM,EAAUsE,UAAUuJ,MAAQ,SAAUkC,GACpC,IAAIglB,EAAKlzB,KAAKmzB,gBAEQ,OAAlBD,EAAGG,YAAwBH,EAAGE,aAOhCF,EAAGK,eAAgB,GANnBL,EAAGE,cAAe,EAElBpzB,KAAK0zB,WAAWR,EAAGG,WAAYH,EAAGM,cAAeN,EAAGD,kBAQxD90B,EAAUsE,UAAUyJ,SAAW,SAAUoB,EAAKC,GAC5CrP,EAAOuE,UAAUyJ,SAAS/M,KAAKa,KAAMsN,GAAK,SAAUumB,GAClDtmB,EAAGsmB,Q,oCCzLP,IAAI/tB,EAAS,EAAQ,QAAiCA,OAClDguB,EAAsB,EAAQ,QAC9BC,EAAiB,EAAQ,QAEzBC,EAAkB,kBAClBC,EAAmBH,EAAoB3mB,IACvC+mB,EAAmBJ,EAAoBK,UAAUH,GAIrDD,EAAenhB,OAAQ,UAAU,SAAUwhB,GACzCH,EAAiBj0B,KAAM,CACrBgI,KAAMgsB,EACNxY,OAAQ5I,OAAOwhB,GACf5iB,MAAO,OAIR,WACD,IAGI6iB,EAHA9nB,EAAQ2nB,EAAiBl0B,MACzBwb,EAASjP,EAAMiP,OACfhK,EAAQjF,EAAMiF,MAElB,OAAIA,GAASgK,EAAOjY,OAAe,CAAEmE,WAAOsF,EAAWyhB,MAAM,IAC7D4F,EAAQvuB,EAAO0V,EAAQhK,GACvBjF,EAAMiF,OAAS6iB,EAAM9wB,OACd,CAAEmE,MAAO2sB,EAAO5F,MAAM,Q,qBC3BF,oBAAlB5vB,OAAO8lB,OAEhB7mB,EAAOD,QAAU,SAAkBy2B,EAAMC,GACnCA,IACFD,EAAKE,OAASD,EACdD,EAAK7xB,UAAY5D,OAAO8lB,OAAO4P,EAAU9xB,UAAW,CAClDyb,YAAa,CACXxW,MAAO4sB,EACPrnB,YAAY,EACZ+H,UAAU,EACVgZ,cAAc,OAOtBlwB,EAAOD,QAAU,SAAkBy2B,EAAMC,GACvC,GAAIA,EAAW,CACbD,EAAKE,OAASD,EACd,IAAIE,EAAW,aACfA,EAAShyB,UAAY8xB,EAAU9xB,UAC/B6xB,EAAK7xB,UAAY,IAAIgyB,EACrBH,EAAK7xB,UAAUyb,YAAcoW,K,oDCtBnC,IAAI/a,EAAI,EAAQ,QACZX,EAAU,EAAQ,QAItBW,EAAE,CAAEG,OAAQ,QAAS/V,OAAO,EAAMgW,OAAQ,GAAGf,SAAWA,GAAW,CACjEA,QAASA,K,oCCHX,SAAS8b,IACL,OAAO3c,KAAKE,OAAM,IAAK0c,MAAQC,UAAY,KAJ/C/1B,OAAO4I,eAAe5J,EAAS,aAAc,CAAE6J,OAAO,IACtD7J,EAAQ62B,eAAY,EAKpB72B,EAAQ62B,UAAYA,G,qBCPpB72B,EAAQ0Q,SAAW,SAAkB1E,GACjC,IAAIod,EAAOld,MAAMtH,UAAUvD,MAAMC,KAAK2S,WACtCmV,EAAKxgB,QACLouB,YAAW,WACPhrB,EAAGgI,MAAM,KAAMoV,KAChB,IAGPppB,EAAQi3B,SAAWj3B,EAAQk3B,KAC3Bl3B,EAAQm3B,SAAWn3B,EAAQo3B,MAAQ,UACnCp3B,EAAQq3B,IAAM,EACdr3B,EAAQs3B,SAAU,EAClBt3B,EAAQu3B,IAAM,GACdv3B,EAAQw3B,KAAO,GAEfx3B,EAAQy3B,QAAU,SAAUld,GAC3B,MAAM,IAAIK,MAAM,8CAGjB,WACI,IACIjY,EADA+0B,EAAM,IAEV13B,EAAQ03B,IAAM,WAAc,OAAOA,GACnC13B,EAAQ23B,MAAQ,SAAUC,GACjBj1B,IAAMA,EAAO,EAAQ,SAC1B+0B,EAAM/0B,EAAKI,QAAQ60B,EAAKF,IANhC,GAUA13B,EAAQ63B,KAAO73B,EAAQ83B,KACvB93B,EAAQ+3B,MAAQ/3B,EAAQg4B,OACxBh4B,EAAQi4B,OAASj4B,EAAQk4B,YACzBl4B,EAAQm4B,WAAa,aACrBn4B,EAAQo4B,SAAW,I,uBCjCnB,IAAI5zB,EAAW,EAAQ,QACnB6zB,EAAU,EAAQ,QAClBpY,EAAkB,EAAQ,QAE1BqY,EAAQrY,EAAgB,SAI5BhgB,EAAOD,QAAU,SAAUmB,GACzB,IAAIo3B,EACJ,OAAO/zB,EAASrD,UAAmCgO,KAA1BopB,EAAWp3B,EAAGm3B,MAA0BC,EAA0B,UAAfF,EAAQl3B,M,oCCTtFH,OAAO4I,eAAe5J,EAAS,aAAc,CAAE6J,OAAO,IACtD7J,EAAQw4B,aAAU,EAElB,SAAWA,GACPA,EAAQA,EAAQ,YAAc,GAAK,UACnCA,EAAQA,EAAQ,cAAgB,GAAK,aACrCA,EAAQA,EAAQ,gBAAkB,GAAK,eAH3C,CAIax4B,EAAQw4B,UAAYx4B,EAAQw4B,QAAU,M,oCCPnD,IAAI9c,EAAI,EAAQ,QACZ+c,EAAQ,EAAQ,QAA4BhzB,KAC5CizB,EAAyB,EAAQ,QAIrChd,EAAE,CAAEG,OAAQ,SAAU/V,OAAO,EAAMgW,OAAQ4c,EAAuB,SAAW,CAC3EjzB,KAAM,WACJ,OAAOgzB,EAAMt2B,U,oCCRjB,IAAIuZ,EAAI,EAAQ,QACZid,EAAU,EAAQ,QAAgCC,OAClDC,EAA+B,EAAQ,QACvCvd,EAA0B,EAAQ,QAElCwd,EAAsBD,EAA6B,UAEnDrd,EAAiBF,EAAwB,UAK7CI,EAAE,CAAEG,OAAQ,QAAS/V,OAAO,EAAMgW,QAASgd,IAAwBtd,GAAkB,CACnFod,OAAQ,SAAgBnd,GACtB,OAAOkd,EAAQx2B,KAAMsZ,EAAYxH,UAAUvO,OAAS,EAAIuO,UAAU,QAAK9E,O,oCCd3E,IAAIkF,EAAO,EAAQ,QACf0kB,EAAW,EAAQ,QACnBC,EAA+B,EAAQ,QACvCC,EAAwB,EAAQ,QAChCpP,EAAW,EAAQ,QACnBqP,EAAiB,EAAQ,QACzBC,EAAoB,EAAQ,QAIhCl5B,EAAOD,QAAU,SAAco5B,GAC7B,IAOI1zB,EAAQyC,EAAQkxB,EAAM1H,EAAU1hB,EAAMpG,EAPtCyvB,EAAIP,EAASK,GACbG,EAAmB,mBAARp3B,KAAqBA,KAAO+J,MACvCstB,EAAkBvlB,UAAUvO,OAC5B+zB,EAAQD,EAAkB,EAAIvlB,UAAU,QAAK9E,EAC7CuqB,OAAoBvqB,IAAVsqB,EACVE,EAAiBR,EAAkBG,GACnC3lB,EAAQ,EAIZ,GAFI+lB,IAASD,EAAQplB,EAAKolB,EAAOD,EAAkB,EAAIvlB,UAAU,QAAK9E,EAAW,SAE3DA,GAAlBwqB,GAAiCJ,GAAKrtB,OAAS+sB,EAAsBU,GAWvE,IAFAj0B,EAASmkB,EAASyP,EAAE5zB,QACpByC,EAAS,IAAIoxB,EAAE7zB,GACTA,EAASiO,EAAOA,IACpB9J,EAAQ6vB,EAAUD,EAAMH,EAAE3lB,GAAQA,GAAS2lB,EAAE3lB,GAC7CulB,EAAe/wB,EAAQwL,EAAO9J,QAThC,IAHA8nB,EAAWgI,EAAer4B,KAAKg4B,GAC/BrpB,EAAO0hB,EAAS1hB,KAChB9H,EAAS,IAAIoxB,IACLF,EAAOppB,EAAK3O,KAAKqwB,IAAWf,KAAMjd,IACxC9J,EAAQ6vB,EAAUV,EAA6BrH,EAAU8H,EAAO,CAACJ,EAAKxvB,MAAO8J,IAAQ,GAAQ0lB,EAAKxvB,MAClGqvB,EAAe/wB,EAAQwL,EAAO9J,GAWlC,OADA1B,EAAOzC,OAASiO,EACTxL,I,sDCrCT,MAAMyxB,EAAe,EAAQ,QAAmBv5B,OAC1Cw5B,EAAW,EAAQ,QACnB3uB,EAAa,EAAQ,QAE3B,SAAS4uB,EAAkB/hB,GACzB,KAAM5V,gBAAgB23B,GACpB,OAAO,IAAIA,EAAiB/hB,GAG9B,GAAwB,oBAAbA,EAAyB,CAClC5V,KAAKknB,UAAYtR,EAEjB,MAAMgiB,EAAQ,SAAgBtqB,GACxBtN,KAAKknB,YACPlnB,KAAKknB,UAAU5Z,GACftN,KAAKknB,UAAY,OAEnBhV,KAAKlS,MAEPA,KAAKiK,GAAG,QAAQ,SAAiB2E,GAC/BA,EAAI3E,GAAG,QAAS2tB,MAElB53B,KAAKiK,GAAG,UAAU,SAAmB2E,GACnCA,EAAIoC,eAAe,QAAS4mB,MAG9BhiB,EAAW,KAGb7M,EAAW6f,MAAMzpB,KAAKa,KAAM4V,GAC5B6hB,EAAat4B,KAAKa,MAGpB03B,EAASC,EAAkBF,GAC3B54B,OAAOg5B,OAAOF,EAAiBl1B,UAAWsG,EAAWtG,WAErDk1B,EAAiBl1B,UAAUqmB,KAAO,SAAelT,GAC/C,OAAO,IAAI+hB,EAAiB/hB,IAG9B+hB,EAAiBl1B,UAAUwS,OAAS,SAAiBiK,EAAKtT,EAAUgK,GAClE5V,KAAKuqB,cAAcrL,GAEK,oBAAbtJ,GACTA,KAIJ+hB,EAAiBl1B,UAAUuJ,MAAQ,SAAgB6N,GACjD,IAAK7Z,KAAKuD,OACR,OAAOvD,KAAKiF,KAAK,MAGnB4U,EAAO9B,KAAKiQ,IAAInO,EAAM7Z,KAAKuD,QAC3BvD,KAAKiF,KAAKjF,KAAKd,MAAM,EAAG2a,IACxB7Z,KAAKsP,QAAQuK,IAGf8d,EAAiBl1B,UAAU2L,IAAM,SAAc7F,GAC7CkvB,EAAah1B,UAAU2L,IAAIjP,KAAKa,KAAMuI,GAElCvI,KAAKknB,YACPlnB,KAAKknB,UAAU,KAAMlnB,KAAKd,SAC1Bc,KAAKknB,UAAY,OAIrByQ,EAAiBl1B,UAAUyJ,SAAW,SAAmBoB,EAAKC,GAC5DvN,KAAK6oB,MAAMtlB,OAAS,EACpBvD,KAAKuD,OAAS,EACdgK,EAAGD,IAGLqqB,EAAiBl1B,UAAUgoB,cAAgB,SAAwByB,GACjE,OAAOA,aAAayL,GAAoBzL,aAAanjB,GAAc4uB,EAAiBxL,aAAaD,IAGnGyL,EAAiBxL,aAAepjB,EAAWojB,aAE3CruB,EAAOD,QAAU85B,EACjB75B,EAAOD,QAAQ85B,iBAAmBA,EAClC75B,EAAOD,QAAQkL,WAAaA,G,qBCnF5BjL,EAAOD,QAAUi6B,EAEjB,IAAIC,EAAiBl5B,OAAO4D,UAAUs1B,eAEtC,SAASD,IAGL,IAFA,IAAIpe,EAAS,GAEJzV,EAAI,EAAGA,EAAI6N,UAAUvO,OAAQU,IAAK,CACvC,IAAIvB,EAASoP,UAAU7N,GAEvB,IAAK,IAAI8pB,KAAOrrB,EACRq1B,EAAe54B,KAAKuD,EAAQqrB,KAC5BrU,EAAOqU,GAAOrrB,EAAOqrB,IAKjC,OAAOrU,I,uBCjBX,IAAIse,EAAS,EAAQ,QAoBrB,SAASnnB,EAAMhH,GACb,IAAIpL,EAAI,WACN,OAAIA,EAAEuzB,OAAevzB,EAAEiJ,OACvBjJ,EAAEuzB,QAAS,EACJvzB,EAAEiJ,MAAQmC,EAAGgI,MAAM7R,KAAM8R,aAGlC,OADArT,EAAEuzB,QAAS,EACJvzB,EAGT,SAASw5B,EAAYpuB,GACnB,IAAIpL,EAAI,WACN,GAAIA,EAAEuzB,OACJ,MAAM,IAAIvZ,MAAMha,EAAEy5B,WAEpB,OADAz5B,EAAEuzB,QAAS,EACJvzB,EAAEiJ,MAAQmC,EAAGgI,MAAM7R,KAAM8R,YAE9BsG,EAAOvO,EAAGuO,MAAQ,+BAGtB,OAFA3Z,EAAEy5B,UAAY9f,EAAO,sCACrB3Z,EAAEuzB,QAAS,EACJvzB,EAvCTX,EAAOD,QAAUm6B,EAAOnnB,GACxB/S,EAAOD,QAAQs6B,OAASH,EAAOC,GAE/BpnB,EAAKlN,MAAQkN,GAAK,WAChBhS,OAAO4I,eAAeyP,SAASzU,UAAW,OAAQ,CAChDiF,MAAO,WACL,OAAOmJ,EAAK7Q,OAEdguB,cAAc,IAGhBnvB,OAAO4I,eAAeyP,SAASzU,UAAW,aAAc,CACtDiF,MAAO,WACL,OAAOuwB,EAAWj4B,OAEpBguB,cAAc,Q,wBChBlB,oBAAa,EAAQ,QACjB+D,EAAM,EAAQ,QACd2F,EAAW,EAAQ,QACnBjxB,EAAQ,EAAQ,QAEhB2xB,EAAgBlwB,EAAOM,MAAQN,EAAOM,OAASH,WAAWG,KAC1DN,EAAOM,KAAK,CAAC,IACb,IAAIN,EAAO,CAAC,IAEZmwB,EAAW,SAASvpB,EAAMjF,GACxBiF,EAAKwpB,QAASxpB,EAAK+B,KAAK,SAAUhH,GACjCA,KAGHyB,EAAc,SAAUwD,EAAMxB,GAC5BwB,EAAKypB,cAAczpB,EAAK7C,QAAQqB,IAGlCglB,EAAY,SAASxjB,EAAMV,GAC7B,OAAO,SAASd,GACVA,EAAKhC,EAAYwD,EAAsB,oBAAhBxB,EAAIokB,QAAgC,KAAOpkB,GAC7Dc,IAAQU,EAAK0pB,QAAQ1pB,EAAKV,QAInCA,EAAM,SAASqqB,EAAI5uB,GACrB,OAAK4uB,EACDA,EAAG/oB,gBAAkB+oB,EAAG/oB,eAAerR,SAAiBwL,IACxD4uB,EAAG/oB,eAAuB+oB,EAAGrqB,IAAIvE,IACrC4uB,EAAGrqB,WACHvE,KAJgBA,KAOdqoB,EAAO,aAEPwG,EAAa,SAASpF,GACxB,OAAO,IAAKnpB,EAAe,SAAE,CAACE,YAAW,EAAME,cAAc,KAAKwH,KAAKuhB,IAGrEqF,EAAY,SAAS3jB,EAAUlJ,EAAUtM,GAC3C,KAAMQ,gBAAgB24B,GAAY,OAAO,IAAIA,EAAU3jB,EAAUlJ,EAAUtM,GAC3E2K,EAAOjM,OAAOiB,KAAKa,KAAMR,GAEzBQ,KAAK44B,UAAY,KACjB54B,KAAK64B,UAAY,KACjB74B,KAAK84B,WAAa,KAElB94B,KAAKu4B,cAAgB/4B,IAA6B,IAArBA,EAAK8L,YAClCtL,KAAK+4B,iBAAmBv5B,IAAyB,IAAjBA,EAAKyM,QACrCjM,KAAKg5B,aAAex5B,IAAqB,IAAbA,EAAK4O,IACjCpO,KAAKs4B,QAAU,EACft4B,KAAKi5B,SAAW,KAChBj5B,KAAKk5B,UAAW,EAChBl5B,KAAKm5B,aAAc,EACnBn5B,KAAKo5B,SAAW,KAChBp5B,KAAKq5B,QAAU,KACfr5B,KAAKw4B,QAAS,EAEdx4B,KAAKuL,WAAY,EAEbyJ,GAAUhV,KAAKs5B,YAAYtkB,GAC3BlJ,GAAU9L,KAAKu5B,YAAYztB,IAGjC4rB,EAASiB,EAAWxuB,EAAOjM,QAE3By6B,EAAUp2B,IAAM,SAASyS,EAAUlJ,EAAUtM,GAI3C,OAHKA,IAAMA,EAAO,IAClBA,EAAK6K,YAAa,EAClB7K,EAAK+K,cAAgB,GACd,IAAIouB,EAAU3jB,EAAUlJ,EAAUtM,IAG3Cm5B,EAAUl2B,UAAU2U,KAAO,WACF,MAAjBpX,KAAKs4B,SAAet4B,KAAK8M,KAAK,SAGtC6rB,EAAUl2B,UAAU4U,OAAS,WACvBrX,KAAKs4B,SAA8B,MAAjBt4B,KAAKs4B,SAAet4B,KAAK8M,KAAK,WAGtD6rB,EAAUl2B,UAAU62B,YAAc,SAAStkB,GAGzC,GAFIhV,KAAKo5B,UAAUp5B,KAAKo5B,WAEpBp5B,KAAKuL,UACHyJ,GAAYA,EAAS/I,SAAS+I,EAAS/I,eAI7C,GAAiB,OAAb+I,IAAkC,IAAbA,EAAzB,CAKA,IAAIlG,EAAO9O,KACPw5B,EAAQzH,EAAI/c,EAAU,CAACA,UAAS,EAAMlJ,UAAS,GAAQwmB,EAAUtyB,KAAMA,KAAKg5B,cAE5EloB,EAAU,WACZ,IAAIA,EAAUhC,EAAKmqB,SACnBnqB,EAAKmqB,SAAW,KACZnoB,GAASA,KAGX/C,EAAQ,WACVe,EAAK8pB,UAAU5nB,eAAe,QAASF,GACvC0oB,KAGEx5B,KAAKo5B,UAAU9qB,EAAQC,SAASuC,GAEpC9Q,KAAK44B,UAAY5jB,EACjBhV,KAAK44B,UAAU3uB,GAAG,QAAS6G,GAC3B9Q,KAAKo5B,SAAWrrB,EAEhB/N,KAAKqX,cAxBHrX,KAAKoO,OA2BTuqB,EAAUl2B,UAAU82B,YAAc,SAASztB,GAGzC,GAFI9L,KAAKq5B,SAASr5B,KAAKq5B,UAEnBr5B,KAAKuL,UACHO,GAAYA,EAASG,SAASH,EAASG,cAD7C,CAKA,GAAiB,OAAbH,IAAkC,IAAbA,EAGvB,OAFA9L,KAAKiF,KAAK,WACVjF,KAAKgP,SAIP,IAAIF,EAAO9O,KACPw5B,EAAQzH,EAAIjmB,EAAU,CAACkJ,UAAS,EAAOlJ,UAAS,GAAOwmB,EAAUtyB,OAEjEy5B,EAAa,WACf3qB,EAAK4qB,YAGHnpB,EAAQ,WACVzB,EAAK7J,KAAK,OAGR8I,EAAQ,WACVe,EAAKgqB,WAAW9nB,eAAe,WAAYyoB,GAC3C3qB,EAAKgqB,WAAW9nB,eAAe,MAAOT,GACtCipB,KAGFx5B,KAAKk5B,UAAW,EAChBl5B,KAAK64B,UAAY/sB,EACjB9L,KAAK84B,WAAahtB,EAASD,eAAiBC,EAAW4sB,EAAW5sB,GAClE9L,KAAK84B,WAAW7uB,GAAG,WAAYwvB,GAC/Bz5B,KAAK84B,WAAW7uB,GAAG,MAAOsG,GAC1BvQ,KAAKq5B,QAAUtrB,EAEf/N,KAAK05B,aAGPf,EAAUl2B,UAAUuJ,MAAQ,WAC1BhM,KAAKk5B,UAAW,EAChBl5B,KAAK05B,YAGPf,EAAUl2B,UAAUi3B,SAAW,WAC7B,IAAI15B,KAAKm5B,aAAgBn5B,KAAK84B,YAAe94B,KAAKk5B,SAAlD,CAGA,IAAIrrB,EAFJ7N,KAAKm5B,aAAc,EAInB,MAAOn5B,KAAKk5B,UAAgD,QAAnCrrB,EAAOpH,EAAMzG,KAAK84B,aACrC94B,KAAKuL,YACTvL,KAAKk5B,SAAWl5B,KAAKiF,KAAK4I,IAG5B7N,KAAKm5B,aAAc,IAGrBR,EAAUl2B,UAAUwJ,QAAU,SAASqB,EAAKC,GAE1C,GADKA,IAAIA,EAAK2kB,GACVlyB,KAAKuL,UAAW,OAAOgC,EAAG,MAC9BvN,KAAKuL,WAAY,EAEjB,IAAIuD,EAAO9O,KACXsO,EAAQC,UAAS,WACfO,EAAK5C,SAASoB,GACdC,EAAG,UAIPorB,EAAUl2B,UAAUyJ,SAAW,SAASoB,GACtC,GAAIA,EAAK,CACP,IAAIwD,EAAU9Q,KAAKi5B,SACnBj5B,KAAKi5B,SAAW,KACZnoB,EAASA,EAAQxD,GAChBtN,KAAK8M,KAAK,QAASQ,GAGtBtN,KAAK+4B,kBACH/4B,KAAK64B,WAAa74B,KAAK64B,UAAU5sB,SAASjM,KAAK64B,UAAU5sB,UACzDjM,KAAK44B,WAAa54B,KAAK44B,UAAU3sB,SAASjM,KAAK44B,UAAU3sB,WAG/DjM,KAAK8M,KAAK,UAGZ6rB,EAAUl2B,UAAUwS,OAAS,SAASpH,EAAMH,EAAKH,GAC/C,IAAIvN,KAAKuL,UACT,OAAIvL,KAAKs4B,QAAgBD,EAASr4B,KAAMA,KAAKiV,OAAO/C,KAAKlS,KAAM6N,EAAMH,EAAKH,IACtEM,IAASuqB,EAAqBp4B,KAAK25B,QAAQpsB,GAC1CvN,KAAK44B,gBAEyB,IAA/B54B,KAAK44B,UAAUhsB,MAAMiB,GAAiB7N,KAAKi5B,SAAW1rB,EAChDvN,KAAKuL,WAAWgC,KAHEA,KAM9BorB,EAAUl2B,UAAUk3B,QAAU,SAASpsB,GACrC,IAAIuB,EAAO9O,KACXA,KAAK8M,KAAK,UACVurB,EAASr4B,MAAM,WACboO,EAAIU,EAAKkqB,aAAelqB,EAAK8pB,WAAW,YAEE,IAApC9pB,EAAKY,eAAekF,cAAuB9F,EAAKY,eAAekF,aAAc,GACjF9F,EAAKhC,KAAK,aACVurB,EAASvpB,EAAMvB,UAKrBorB,EAAUl2B,UAAU2L,IAAM,SAASP,EAAMH,EAAKH,GAC5C,MAAoB,oBAATM,EAA4B7N,KAAKoO,IAAI,KAAM,KAAMP,GACzC,oBAARH,EAA2B1N,KAAKoO,IAAIP,EAAM,KAAMH,IAC3D1N,KAAKw4B,QAAS,EACV3qB,GAAM7N,KAAK4M,MAAMiB,GAChB7N,KAAK0P,eAAesE,QAAWhU,KAAK0P,eAAenE,WAAWvL,KAAK4M,MAAMwrB,GACvEjuB,EAAOlM,SAASwE,UAAU2L,IAAIjP,KAAKa,KAAMuN,KAGlDzP,EAAOD,QAAU86B,I,0DC3OjB76B,EAAOD,QAAU,iD,uBCFjB,IAAI2U,EAAyB,EAAQ,QACjConB,EAAc,EAAQ,QAEtBC,EAAa,IAAMD,EAAc,IACjCE,EAAQtT,OAAO,IAAMqT,EAAaA,EAAa,KAC/CE,EAAQvT,OAAOqT,EAAaA,EAAa,MAGzCG,EAAe,SAAUC,GAC3B,OAAO,SAAUC,GACf,IAAI1e,EAAS5I,OAAOJ,EAAuB0nB,IAG3C,OAFW,EAAPD,IAAUze,EAASA,EAAOrY,QAAQ22B,EAAO,KAClC,EAAPG,IAAUze,EAASA,EAAOrY,QAAQ42B,EAAO,KACtCve,IAIX1d,EAAOD,QAAU,CAGf0mB,MAAOyV,EAAa,GAGpB5rB,IAAK4rB,EAAa,GAGlB12B,KAAM02B,EAAa,K,uBC1BrB,IAAI5D,EAAW,EAAQ,QAEvBt4B,EAAOD,QAAU,SAAUmB,GACzB,GAAIo3B,EAASp3B,GACX,MAAM4D,UAAU,iDAChB,OAAO5D,I,oCCJXH,OAAO4I,eAAe5J,EAAS,aAAc,CAAE6J,OAAO,IACtD7J,EAAQs8B,SAAWt8B,EAAQu8B,oBAAiB,EAC5C,IAAIC,EAAQ,SAAUC,GAAK,OAAOA,GAAkB,kBAANA,GAC1CC,EAAU,SAAUD,GAAK,MAAyB,kBAAXA,EAAEE,MACzCC,EAAU,SAAUH,GAAK,OAAOD,EAAMC,MAAQA,EAAErT,MACpD,SAASmT,EAAexqB,GACpB,OAAOyqB,EAAMzqB,IAAM2qB,EAAQ3qB,IAAM6qB,EAAQ7qB,GAG7C,SAASuqB,EAASvqB,GACd,QAAIwqB,EAAexqB,IACgB,kBAAjBA,EAAEqX,KAAKyT,MAH7B78B,EAAQu8B,eAAiBA,EASzBv8B,EAAQs8B,SAAWA,G,uCClBnBr8B,EAAOD,QAAU,SAASC,GAoBzB,OAnBKA,EAAO68B,kBACX78B,EAAOuV,UAAY,aACnBvV,EAAO88B,MAAQ,GAEV98B,EAAO+8B,WAAU/8B,EAAO+8B,SAAW,IACxCh8B,OAAO4I,eAAe3J,EAAQ,SAAU,CACvCmP,YAAY,EACZC,IAAK,WACJ,OAAOpP,EAAO0G,KAGhB3F,OAAO4I,eAAe3J,EAAQ,KAAM,CACnCmP,YAAY,EACZC,IAAK,WACJ,OAAOpP,EAAOmG,KAGhBnG,EAAO68B,gBAAkB,GAEnB78B,I,oCChBR,IAAIi0B,EAEJ,SAASlhB,EAAK+E,GACZ,IAAIoc,GAAS,EACb,OAAO,WACDA,IACJA,GAAS,EACTpc,EAAS/D,WAAM,EAAQC,aAI3B,IAAI3I,EAAiB,EAAQ,QAAmBC,MAC5C6oB,EAAmB9oB,EAAe8oB,iBAClCxe,EAAuBtK,EAAesK,qBAE1C,SAASye,EAAK5kB,GAEZ,GAAIA,EAAK,MAAMA,EAGjB,SAAS6kB,EAAUhoB,GACjB,OAAOA,EAAOioB,WAAqC,oBAAjBjoB,EAAOkoB,MAG3C,SAASC,EAAUnoB,EAAQW,EAASqJ,EAASyB,GAC3CA,EAAW/E,EAAK+E,GAChB,IAAI2c,GAAS,EACbpoB,EAAOF,GAAG,SAAS,WACjBsoB,GAAS,UAECvlB,IAAR+kB,IAAmBA,EAAM,EAAQ,SACrCA,EAAI5nB,EAAQ,CACV2B,SAAUhB,EACVkK,SAAUb,IACT,SAAU7G,GACX,GAAIA,EAAK,OAAOsI,EAAStI,GACzBilB,GAAS,EACT3c,OAEF,IAAIrK,GAAY,EAChB,OAAO,SAAU+B,GACf,IAAIilB,IACAhnB,EAGJ,OAFAA,GAAY,EAER4mB,EAAUhoB,GAAgBA,EAAOkoB,QACP,oBAAnBloB,EAAO8B,QAA+B9B,EAAO8B,eACxD2J,EAAStI,GAAO,IAAImG,EAAqB,UAI7C,SAAStU,EAAK0K,GACZA,IAGF,SAASmG,EAAKxH,EAAMgqB,GAClB,OAAOhqB,EAAKwH,KAAKwiB,GAGnB,SAASC,EAAYC,GACnB,OAAKA,EAAQnvB,OAC8B,oBAAhCmvB,EAAQA,EAAQnvB,OAAS,GAA0B2uB,EACvDQ,EAAQ1rB,MAFakrB,EAK9B,SAAS5zB,IACP,IAAK,IAAIq0B,EAAO7gB,UAAUvO,OAAQmvB,EAAU,IAAI3oB,MAAM4oB,GAAOC,EAAO,EAAGA,EAAOD,EAAMC,IAClFF,EAAQE,GAAQ9gB,UAAU8gB,GAG5B,IAOI3zB,EAPA2W,EAAW6c,EAAYC,GAG3B,GAFI3oB,MAAMC,QAAQ0oB,EAAQ,MAAKA,EAAUA,EAAQ,IAE7CA,EAAQnvB,OAAS,EACnB,MAAM,IAAI0uB,EAAiB,WAI7B,IAAIY,EAAWH,EAAQrX,KAAI,SAAUlR,EAAQlG,GAC3C,IAAI6G,EAAU7G,EAAIyuB,EAAQnvB,OAAS,EAC/B4Q,EAAUlQ,EAAI,EAClB,OAAOquB,EAAUnoB,EAAQW,EAASqJ,GAAS,SAAU7G,GAC9CrO,IAAOA,EAAQqO,GAChBA,GAAKulB,EAASja,QAAQzZ,GACtB2L,IACJ+nB,EAASja,QAAQzZ,GACjByW,EAAS3W,UAGb,OAAOyzB,EAAQI,OAAO9iB,GAGxBlS,EAAOD,QAAUS,G,qBChGjB,IAAIiU,EAAY,EAAQ,QACpBC,EAAyB,EAAQ,QAGjCwnB,EAAe,SAAUc,GAC3B,OAAO,SAAUZ,EAAOa,GACtB,IAGI1rB,EAAO2rB,EAHPC,EAAIroB,OAAOJ,EAAuB0nB,IAClCgB,EAAW3oB,EAAUwoB,GACrBlhB,EAAOohB,EAAE13B,OAEb,OAAI23B,EAAW,GAAKA,GAAYrhB,EAAaihB,EAAoB,QAAK9tB,GACtEqC,EAAQ4rB,EAAEp2B,WAAWq2B,GACd7rB,EAAQ,OAAUA,EAAQ,OAAU6rB,EAAW,IAAMrhB,IACtDmhB,EAASC,EAAEp2B,WAAWq2B,EAAW,IAAM,OAAUF,EAAS,MAC1DF,EAAoBG,EAAEn1B,OAAOo1B,GAAY7rB,EACzCyrB,EAAoBG,EAAE/7B,MAAMg8B,EAAUA,EAAW,GAA+BF,EAAS,OAAlC3rB,EAAQ,OAAU,IAA0B,SAI7GvR,EAAOD,QAAU,CAGfs9B,OAAQnB,GAAa,GAGrBl0B,OAAQk0B,GAAa,K,uBCzBvB,IAAI33B,EAAW,EAAQ,QACnB2H,EAAU,EAAQ,QAClB8T,EAAkB,EAAQ,QAE1BE,EAAUF,EAAgB,WAI9BhgB,EAAOD,QAAU,SAAUu9B,EAAe73B,GACxC,IAAI6zB,EASF,OAREptB,EAAQoxB,KACVhE,EAAIgE,EAAcld,YAEF,mBAALkZ,GAAoBA,IAAMrtB,QAASC,EAAQotB,EAAE30B,WAC/CJ,EAAS+0B,KAChBA,EAAIA,EAAEpZ,GACI,OAANoZ,IAAYA,OAAIpqB,IAH+CoqB,OAAIpqB,GAKlE,SAAWA,IAANoqB,EAAkBrtB,MAAQqtB,GAAc,IAAX7zB,EAAe,EAAIA,K,kCCOhEzF,EAAOD,QAAUO,EAEjB,IAAID,EAAY,EAAQ,QAIxB,SAASC,EAAY8L,GACnB,KAAMlK,gBAAgB5B,GAAc,OAAO,IAAIA,EAAY8L,GAC3D/L,EAAUgB,KAAKa,KAAMkK,GAJvB,EAAQ,OAAR,CAAoB9L,EAAaD,GAOjCC,EAAYqE,UAAUixB,WAAa,SAAUnrB,EAAOqD,EAAU2B,GAC5DA,EAAG,KAAMhF,K,oCCpCX1J,OAAO4I,eAAe5J,EAAS,aAAc,CAAE6J,OAAO,IACtD7J,EAAQw9B,gBAAkBx9B,EAAQy9B,cAAgBz9B,EAAQ09B,qBAAkB,EAC5E19B,EAAQ09B,gBAAkB,SAAUta,EAAUua,EAAIhB,EAAMiB,EAAMC,QAC/C,IAAPA,IAAiBA,EAAK,GAC1B,IAAIC,EAAW,CAAC,MAAO1a,EAAU,eAAgBua,EAAIhB,EAAMiB,EAAMC,GACjE,OAAOC,EAASv4B,KAAK,MAGzBvF,EAAQy9B,cAAgB,CACpBd,KAAM,YACNvT,KAAM,CAAEyT,MAAO,yBACfkB,KAAM,CACF,CACIpB,KAAM,cACNvT,KAAM,CAAEyK,QAAS,uDAI7B7zB,EAAQw9B,gBAAkB,SAAU3pB,EAAKmqB,GACrC,OAAO,SAAUtkB,GAAK,OAAkB,UAAVA,EAAEijB,KAAmB9oB,EAAMmqB,GAAKtkB,M,sBCpBlE,oBAAiB,EAAQ,QACnBukB,EAAQ5zB,EAAO4hB,YAAY,GAC3BiS,EAAU7zB,EAAOM,KAAK,CAAC,IACvBwzB,EAAU,EAAQ,QAClBztB,EAAW,EAAQ,QAAwBA,SAC3ClP,EAAQ,EAAQ,OAAR,CAAiB,6BAEzB48B,EAAWD,EAAQE,MACnBC,EAAiBH,EAAQG,eACzBC,EAAgBJ,EAAQI,cACxBC,EAAwBL,EAAQK,sBAChCC,EAAsBN,EAAQM,oBACpC,IAAIC,EAAcC,EACdC,GAAa,EAEjB,SAAS9O,EAAU5O,EAAQ5U,EAAQ3K,GAYjC,OAXAH,EAAM,mBACF8K,EAAOiN,OACTjN,EAAOiN,OACP7I,EAAS8I,EAAQlN,IAGfsyB,IACFA,GAAa,EACbL,KAEF/8B,EAAM,2BAA4B0f,EAAOO,KACjCP,EAAOO,KACb,IAAK,UACH,OAAOod,EAAQ3d,EAAQ5U,EAAQ3K,GACjC,IAAK,UACH,OAAOm9B,EAAQ5d,EAAQ5U,EAAQ3K,GACjC,IAAK,UACH,OAAOo9B,EAAQ7d,EAAQ5U,EAAQ3K,GACjC,IAAK,SACL,IAAK,SACL,IAAK,SACL,IAAK,UACH,OAAOq9B,EAAa9d,EAAQ5U,EAAQ3K,GACtC,IAAK,YACH,OAAOs9B,EAAU/d,EAAQ5U,EAAQ3K,GACnC,IAAK,SACH,OAAOu9B,EAAOhe,EAAQ5U,EAAQ3K,GAChC,IAAK,cACH,OAAOw9B,EAAYje,EAAQ5U,EAAQ3K,GACrC,IAAK,WACH,OAAOy9B,EAASle,EAAQ5U,EAAQ3K,GAClC,IAAK,UACL,IAAK,WACH,OAAO09B,EAAYne,EAAQ5U,EAAQ3K,GACrC,IAAK,aACH,OAAO29B,EAAWpe,EAAQ5U,EAAQ3K,GACpC,IAAK,OACH,OAAOW,EAAK4e,EAAQ5U,EAAQ3K,GAC9B,QAEE,OADA2K,EAAO2C,KAAK,QAAS,IAAI2L,MAAM,qBACxB,GAsBb,SAASpB,EAAQlN,GACfA,EAAOkN,SAGT,SAASqlB,EAAS3d,EAAQ5U,EAAQ3K,GAChC,MAAMof,EAAWG,GAAU,GACrBoC,EAAavC,EAASuC,YAAc,OAC1C,IAAIE,EAAkBzC,EAASyC,iBAAmB,EAClD,MAAMI,EAAO7C,EAAS6C,KACtB,IAAIK,EAAQlD,EAASkD,MACrB,MAAME,EAAYpD,EAASoD,WAAa,EAClCI,EAAWxD,EAASwD,UAAY,GAChCnB,EAAWrC,EAASqC,SACpBD,EAAWpC,EAASoC,SAEpBkB,EAAatD,EAASsD,gBAEdlV,IAAV8U,IAAqBA,GAAQ,GAEjC,IAAIve,EAAS,EAGb,IAAK4d,GACqB,kBAAfA,IAA4BjZ,EAAOQ,SAASyY,GAErD,OADAhX,EAAO2C,KAAK,QAAS,IAAI2L,MAAM,wBACxB,EAIT,GAHOlV,GAAU4d,EAAW5d,OAAS,EAGb,IAApB8d,GAA6C,IAApBA,GAA6C,IAApBA,EAEpD,OADAlX,EAAO2C,KAAK,QAAS,IAAI2L,MAAM,8BACxB,EAIT,GAHOlV,GAAU,GAGQ,kBAAb6e,GAAyBla,EAAOQ,SAAS0Z,MACjDA,GAAYf,GAAmB,KAAOe,GAAYN,GACpDve,GAAU2E,EAAO2c,WAAWzC,GAAY,MACnC,CACL,GAAIf,EAAkB,EAEpB,OADAlX,EAAO2C,KAAK,QAAS,IAAI2L,MAAM,4CACxB,EAET,GAAa,EAARqJ,IAAe,EAElB,OADA3X,EAAO2C,KAAK,QAAS,IAAI2L,MAAM,qDACxB,EAKX,GAAyB,kBAAduJ,GACPA,EAAY,GACZA,EAAY,OACZA,EAAY,IAAM,EAEpB,OADA7X,EAAO2C,KAAK,QAAS,IAAI2L,MAAM,uBACxB,EAOT,GANOlV,GAAU,EAGjBA,GAAU,EAGc,IAApB8d,EAAuB,CACzB,IAAI+b,EAAiBC,EAAclzB,EAAQ+X,GAC3C,IAAKkb,EAAkB,OAAO,EAC9B75B,GAAU65B,EAAe75B,OAI3B,GAAIke,EAAM,CAER,GAAoB,kBAATA,EAET,OADAtX,EAAO2C,KAAK,QAAS,IAAI2L,MAAM,kBACxB,EAGT,IAAKgJ,EAAKX,OAA+B,kBAAfW,EAAKX,MAE7B,OADA3W,EAAO2C,KAAK,QAAS,IAAI2L,MAAM,wBACxB,EAOT,GALElV,GAAU2E,EAAO2c,WAAWpD,EAAKX,OAAS,EAI5Cvd,GAAU,EACNke,EAAKV,QAAS,CAChB,KAAIU,EAAKV,QAAQxd,QAAU,GAQzB,OADA4G,EAAO2C,KAAK,QAAS,IAAI2L,MAAM,0BACxB,EAPqB,kBAAjBgJ,EAAKV,QACdxd,GAAU2E,EAAO2c,WAAWpD,EAAKV,SAEjCxd,GAAUke,EAAKV,QAAQxd,OAQ7B,IAAI8e,EAAiB,GACrB,GAAwB,IAApBhB,EAAuB,CAEzB,GADAgB,EAAiBgb,EAAclzB,EAAQsX,EAAKS,aACvCG,EAAkB,OAAO,EAC9B9e,GAAU8e,EAAe9e,QAK7B,IAAI+5B,GAAmB,EACvB,GAAgB,MAAZrc,EAAkB,CACpB,IAAIsc,EAAiBtc,GAKnB,OADA9W,EAAO2C,KAAK,QAAS,IAAI2L,MAAM,sBACxB,EAJP6kB,GAAmB,EACnB/5B,GAAU2E,EAAO2c,WAAW5D,GAAY,EAQ5C,GAAgB,MAAZD,EAAkB,CACpB,IAAKsc,EAEH,OADAnzB,EAAO2C,KAAK,QAAS,IAAI2L,MAAM,0CACxB,EAGT,IAAI8kB,EAAiBvc,GAInB,OADA7W,EAAO2C,KAAK,QAAS,IAAI2L,MAAM,sBACxB,EAHPlV,GAAUshB,EAAW7D,GAAY,EAQrC7W,EAAOyC,MAAM3M,EAASu9B,gBAGtBC,EAAgBtzB,EAAQ5G,GAGxBm6B,EAAoBvzB,EAAQgX,GAExBvC,EAAS0C,aACXD,GAAmB,KAGrBlX,EAAOyC,MACe,MAApByU,EACIphB,EAAS09B,WACW,MAApBtc,EACEphB,EAAS29B,WACW,IAApBvc,EACEphB,EAAS49B,SACW,IAApBxc,EACEphB,EAAS69B,SACT79B,EAAS89B,UAIrB,IAAI7c,EAAQ,EAuCZ,OAtCAA,GAAsB,MAAZD,EAAoBhhB,EAASshB,cAAgB,EACvDL,GAAsB,MAAZF,EAAoB/gB,EAASuhB,cAAgB,EACvDN,GAAUO,GAAQA,EAAKhC,OAAUxf,EAAS0hB,iBAAmB,EAC7DT,GAAUO,GAAQA,EAAK9B,IAAO8B,EAAK9B,KAAO1f,EAAS4hB,eAAiB,EACpEX,GAASO,EAAOxhB,EAASyhB,eAAiB,EAC1CR,GAASY,EAAQ7hB,EAAS8hB,mBAAqB,EAE/C5X,EAAOyC,MAAM1E,EAAOM,KAAK,CAAC0Y,KAG1Bqb,EAAYpyB,EAAQ6X,GAGI,IAApBX,GACF+b,EAAexwB,QAIjB8wB,EAAoBvzB,EAAQiY,GAGxBX,IACsB,IAApBJ,GACFgB,EAAezV,QAEjBoxB,EAAY7zB,EAAQsX,EAAKX,OACzB4c,EAAoBvzB,EAAQsX,EAAKV,UAInB,MAAZE,GACFyc,EAAoBvzB,EAAQ8W,GAEd,MAAZD,GACF0c,EAAoBvzB,EAAQ6W,IAIvB,EAGT,SAAS2b,EAAS5d,EAAQ5U,EAAQ3K,GAChC,MAAMy+B,EAAUz+B,EAAOA,EAAK6hB,gBAAkB,EACxCzC,EAAWG,GAAU,GACrBmf,EAAiB,IAAZD,EAAgBrf,EAAS6D,WAAa7D,EAAS8D,WACpDR,EAAatD,EAASsD,WAC5B,IAAI3e,EAAS,EAGb,GAAkB,kBAAP26B,EAET,OADA/zB,EAAO2C,KAAK,QAAS,IAAI2L,MAAM,yBACxB,EAGT,IAAI2kB,EAAiB,KACrB,GAAgB,IAAZa,EAAe,CAEjB,GADAb,EAAiBC,EAAclzB,EAAQ+X,IAClCkb,EAAkB,OAAO,EAC9B75B,GAAU65B,EAAe75B,OAY3B,OATA4G,EAAOyC,MAAM3M,EAASk+B,gBAEtBV,EAAgBtzB,EAAQ5G,GACxB4G,EAAOyC,MAAMgS,EAAS2D,eAAiBtiB,EAASm+B,sBAAwBrC,GAExE5xB,EAAOyC,MAAM1E,EAAOM,KAAK,CAAC01B,KACJ,MAAlBd,GACFA,EAAexwB,SAEV,EAGT,SAASgwB,EAAS7d,EAAQ5U,EAAQ3K,GAChCH,EAAM,sBAAuB0f,GAC7B,MAAMkf,EAAUz+B,EAAOA,EAAK6hB,gBAAkB,EACxCzC,EAAWG,GAAU,GACrBY,EAAMf,EAASe,KAAO,EACtBF,EAASb,EAASa,OAASxf,EAASyf,YAAc,EAClDoB,EAAQlC,EAASkC,MACjBC,EAAUnC,EAASmC,SAAW+a,EAC9BJ,EAAK9c,EAAS+E,UACdzB,EAAatD,EAASsD,WAE5B,IAAI3e,EAAS,EAGb,GAAqB,kBAAVud,EAAoBvd,GAAU2E,EAAO2c,WAAW/D,GAAS,MAC/D,KAAI5Y,EAAOQ,SAASoY,GAGvB,OADA3W,EAAO2C,KAAK,QAAS,IAAI2L,MAAM,mBACxB,EAHwBlV,GAAUud,EAAMvd,OAAS,EAW1D,GAJK2E,EAAOQ,SAASqY,GAChBxd,GAAUwd,EAAQxd,OADQA,GAAU2E,EAAO2c,WAAW9D,GAIvDpB,GAAqB,kBAAP+b,EAEhB,OADAvxB,EAAO2C,KAAK,QAAS,IAAI2L,MAAM,uBACxB,EACEkH,IAAKpc,GAAU,GAG1B,IAAI65B,EAAiB,KACrB,GAAgB,IAAZa,EAAe,CAEjB,GADAb,EAAiBC,EAAclzB,EAAQ+X,IAClCkb,EAAkB,OAAO,EAC9B75B,GAAU65B,EAAe75B,OAuB3B,OAnBA4G,EAAOyC,MAAM3M,EAASo+B,eAAe1e,GAAKf,EAASkB,IAAM,EAAI,GAAGL,EAAS,EAAI,IAG7Ege,EAAgBtzB,EAAQ5G,GAGxBg5B,EAAYpyB,EAAQ0a,EAAW/D,IAC/B3W,EAAOyC,MAAMkU,GAGTnB,EAAM,GAAG4c,EAAYpyB,EAAQuxB,GAGX,MAAlB0B,GACFA,EAAexwB,QAIjBvN,EAAM,uBAAwB0hB,GACvB5W,EAAOyC,MAAMmU,GAItB,SAAS8b,EAAc9d,EAAQ5U,EAAQ3K,GACrC,MAAMy+B,EAAUz+B,EAAOA,EAAK6hB,gBAAkB,EACxCzC,EAAWG,GAAU,GACrB/W,EAAO4W,EAASU,KAAO,SACvBoc,EAAK9c,EAAS+E,UACd7D,EAAOlB,EAASkB,KAAgB,WAAT9X,EAAqB/H,EAAS8f,SAAW,EACtE,IAAIJ,EAAM,EACV,MAAM8C,EAAa7D,EAAS6D,WACtBP,EAAatD,EAASsD,WAC5B,IAAI3e,EAAqB,IAAZ06B,EAAgB,EAAI,EAKjC,GAHa,WAATj2B,IAAmB2X,EAAM,GAGX,kBAAP+b,EAET,OADAvxB,EAAO2C,KAAK,QAAS,IAAI2L,MAAM,uBACxB,EAIT,IAAI2kB,EAAiB,KACrB,GAAgB,IAAZa,GAEwB,kBAAf/b,EAAyB,CAElC,GADAkb,EAAiBkB,EAAiCn0B,EAAQ+X,EAAY1iB,EAAM+D,IACvE65B,EAAkB,OAAO,EAC9B75B,GAAU65B,EAAe75B,OAsB7B,OAjBA4G,EAAOyC,MAAM3M,EAASs+B,KAAKv2B,GAAM2X,GAAKG,GAAK,IAG3C2d,EAAgBtzB,EAAQ5G,GAGxBg5B,EAAYpyB,EAAQuxB,GAGJ,IAAZuC,GACF9zB,EAAOyC,MAAM1E,EAAOM,KAAK,CAACia,KAIL,OAAnB2a,GACFA,EAAexwB,SAEV,EAGT,SAASkwB,EAAW/d,EAAQ5U,EAAQ3K,GAClCH,EAAM,uBACN,MAAM4+B,EAAUz+B,EAAOA,EAAK6hB,gBAAkB,EACxCzC,EAAWG,GAAU,GACrBe,EAAMlB,EAASkB,IAAM7f,EAAS8f,SAAW,EACzC2b,EAAK9c,EAAS+E,UACd6a,EAAO5f,EAASoE,cAChBd,EAAatD,EAASsD,WAE5B,IAAI3e,EAAS,EAGb,GAAkB,kBAAPm4B,EAET,OADAvxB,EAAO2C,KAAK,QAAS,IAAI2L,MAAM,uBACxB,EACFlV,GAAU,EAGjB,IAAI65B,EAAiB,KACrB,GAAgB,IAAZa,EAAe,CAEjB,GADAb,EAAiBC,EAAclzB,EAAQ+X,IAClCkb,EAAkB,OAAO,EAC9B75B,GAAU65B,EAAe75B,OAI3B,GAAoB,kBAATi7B,IAAqBA,EAAKj7B,OAoCnC,OADA4G,EAAO2C,KAAK,QAAS,IAAI2L,MAAM,2BACxB,EAnCP,IAAK,IAAIxU,EAAI,EAAGA,EAAIu6B,EAAKj7B,OAAQU,GAAK,EAAG,CACvC,MAAMw6B,EAASD,EAAKv6B,GAAG6c,MACjB4d,EAAOF,EAAKv6B,GAAG0b,IAErB,GAAsB,kBAAX8e,EAET,OADAt0B,EAAO2C,KAAK,QAAS,IAAI2L,MAAM,2CACxB,EAET,GAAoB,kBAATimB,EAET,OADAv0B,EAAO2C,KAAK,QAAS,IAAI2L,MAAM,yCACxB,EAGT,GAAgB,IAAZwlB,EAAe,CACjB,MAAMnb,EAAK0b,EAAKv6B,GAAG6e,KAAM,EACzB,GAAkB,mBAAPA,EAET,OADA3Y,EAAO2C,KAAK,QAAS,IAAI2L,MAAM,8CACxB,EAET,MAAMoK,EAAM2b,EAAKv6B,GAAG4e,MAAO,EAC3B,GAAmB,mBAARA,EAET,OADA1Y,EAAO2C,KAAK,QAAS,IAAI2L,MAAM,yDACxB,EAET,MAAMmK,EAAK4b,EAAKv6B,GAAG2e,IAAM,EACzB,GAAkB,kBAAPA,GAAmBA,EAAK,EAEjC,OADAzY,EAAO2C,KAAK,QAAS,IAAI2L,MAAM,qDACxB,EAIXlV,GAAU2E,EAAO2c,WAAW4Z,GAAU,EAAI,EAQ9Cp/B,EAAM,mCAAoCY,EAAS0+B,kBACnDx0B,EAAOyC,MAAM3M,EAAS0+B,iBAAiB,GAAG7e,EAAM,EAAI,GAAG,IAGvD2d,EAAgBtzB,EAAQ5G,GAGxBg5B,EAAYpyB,EAAQuxB,GAGG,OAAnB0B,GACFA,EAAexwB,QAGjB,IAAI5G,GAAS,EAGb,IAAK,MAAM44B,KAAOJ,EAAM,CACtB,MAAMK,EAASD,EAAI9d,MACbge,EAAOF,EAAIjf,IACXof,GAAOH,EAAI9b,GACXkc,GAAQJ,EAAI/b,IACZoc,EAAML,EAAIhc,GAChB,IAAIsc,EAGJlB,EAAY7zB,EAAQ00B,GAGpBK,EAAWj/B,EAASk/B,sBAAsBL,GAC1B,IAAZb,IACFiB,GAAYH,EAAM9+B,EAASm/B,qBAAuB,EAClDF,GAAYF,EAAO/+B,EAASo/B,sBAAwB,EACpDH,GAAYD,EAAMh/B,EAASq/B,qBAAqBL,GAAO,GAGzDj5B,EAASmE,EAAOyC,MAAM1E,EAAOM,KAAK,CAAC02B,KAGrC,OAAOl5B,EAGT,SAAS+2B,EAAQhe,EAAQ5U,EAAQ3K,GAC/B,MAAMy+B,EAAUz+B,EAAOA,EAAK6hB,gBAAkB,EACxCzC,EAAWG,GAAU,GACrB2c,EAAK9c,EAAS+E,UACdF,EAAU7E,EAAS6E,QACnBvB,EAAatD,EAASsD,WAC5B,IAAI3e,EAAS,EAGb,GAAkB,kBAAPm4B,EAET,OADAvxB,EAAO2C,KAAK,QAAS,IAAI2L,MAAM,uBACxB,EAIT,GAHOlV,GAAU,EAGM,kBAAZkgB,IAAwBA,EAAQlgB,OAUzC,OADA4G,EAAO2C,KAAK,QAAS,IAAI2L,MAAM,wBACxB,EATP,IAAK,IAAIxU,EAAI,EAAGA,EAAIwf,EAAQlgB,OAAQU,GAAK,EAAG,CAC1C,GAA0B,kBAAfwf,EAAQxf,GAEjB,OADAkG,EAAO2C,KAAK,QAAS,IAAI2L,MAAM,wBACxB,EAETlV,GAAU,EAQd,IAAI65B,EAAiB,KACrB,GAAgB,IAAZa,EAAe,CAEjB,GADAb,EAAiBkB,EAAiCn0B,EAAQ+X,EAAY1iB,EAAM+D,IACvE65B,EAAkB,OAAO,EAC9B75B,GAAU65B,EAAe75B,OAiB3B,OAbA4G,EAAOyC,MAAM3M,EAASs/B,eAGtB9B,EAAgBtzB,EAAQ5G,GAGxBg5B,EAAYpyB,EAAQuxB,GAGG,OAAnB0B,GACFA,EAAexwB,QAGVzC,EAAOyC,MAAM1E,EAAOM,KAAKib,IAGlC,SAASuZ,EAAaje,EAAQ5U,EAAQ3K,GACpC,MAAMy+B,EAAUz+B,EAAOA,EAAK6hB,gBAAkB,EACxCzC,EAAWG,GAAU,GACrB2c,EAAK9c,EAAS+E,UACd7D,EAAMlB,EAASkB,IAAM7f,EAAS8f,SAAW,EACzCyf,EAAS5gB,EAAS8E,gBAClBxB,EAAatD,EAASsD,WAE5B,IAAI3e,EAAS,EAGb,GAAkB,kBAAPm4B,EAET,OADAvxB,EAAO2C,KAAK,QAAS,IAAI2L,MAAM,uBACxB,EAKT,GAHElV,GAAU,EAGU,kBAAXi8B,IAAuBA,EAAOj8B,OAUvC,OADA4G,EAAO2C,KAAK,QAAS,IAAI2L,MAAM,6BACxB,EATP,IAAK,IAAIxU,EAAI,EAAGA,EAAIu7B,EAAOj8B,OAAQU,GAAK,EAAG,CACzC,GAAyB,kBAAdu7B,EAAOv7B,GAEhB,OADAkG,EAAO2C,KAAK,QAAS,IAAI2L,MAAM,6BACxB,EAETlV,GAAU2E,EAAO2c,WAAW2a,EAAOv7B,IAAM,EAO7C,IAAIm5B,EAAiB,KACrB,GAAgB,IAAZa,EAAe,CAEjB,GADAb,EAAiBC,EAAclzB,EAAQ+X,IAClCkb,EAAkB,OAAO,EAC9B75B,GAAU65B,EAAe75B,OAI3B4G,EAAOyC,MAAM3M,EAASw/B,mBAAmB,GAAG3f,EAAM,EAAI,GAAG,IAGzD2d,EAAgBtzB,EAAQ5G,GAGxBg5B,EAAYpyB,EAAQuxB,GAGG,OAAnB0B,GACFA,EAAexwB,QAIjB,IAAI5G,GAAS,EACb,IAAK,IAAIrB,EAAI,EAAGA,EAAI66B,EAAOj8B,OAAQoB,IACjCqB,EAASg4B,EAAY7zB,EAAQq1B,EAAO76B,IAGtC,OAAOqB,EAGT,SAASi3B,EAAUle,EAAQ5U,EAAQ3K,GACjC,MAAMy+B,EAAUz+B,EAAOA,EAAK6hB,gBAAkB,EACxCzC,EAAWG,GAAU,GACrB2c,EAAK9c,EAAS+E,UACd7D,EAAMlB,EAASkB,IAAM7f,EAAS8f,SAAW,EACzC0D,EAAU7E,EAAS6E,QACnBvB,EAAatD,EAASsD,WACtBla,EAAO4W,EAASU,IAChBK,EAAM,EAEZ,IAAIpc,EAAS,EAGb,GAAkB,kBAAPm4B,EAET,OADAvxB,EAAO2C,KAAK,QAAS,IAAI2L,MAAM,uBACxB,EAIT,GAAgB,IAAZwlB,EAAe,CACjB,GAAuB,kBAAZxa,IAAwBA,EAAQlgB,OAUzC,OADA4G,EAAO2C,KAAK,QAAS,IAAI2L,MAAM,wBACxB,EATP,IAAK,IAAIxU,EAAI,EAAGA,EAAIwf,EAAQlgB,OAAQU,GAAK,EAAG,CAC1C,GAA0B,kBAAfwf,EAAQxf,GAEjB,OADAkG,EAAO2C,KAAK,QAAS,IAAI2L,MAAM,wBACxB,EAETlV,GAAU,GAShB,IAAI65B,EAAiB,KACrB,GAAgB,IAAZa,EAAe,CAEjB,GADAb,EAAiBkB,EAAiCn0B,EAAQ+X,EAAY1iB,EAAM+D,IACvE65B,EAAkB,OAAO,EAC9B75B,GAAU65B,EAAe75B,OAqB3B,OAjBA4G,EAAOyC,MAAM3M,EAASs+B,KAAKv2B,GAAM2X,GAAKG,GAAK,IAG3C2d,EAAgBtzB,EAAQ5G,GAGxBg5B,EAAYpyB,EAAQuxB,GAGG,OAAnB0B,GACFA,EAAexwB,QAID,IAAZqxB,GACF9zB,EAAOyC,MAAM1E,EAAOM,KAAKib,KAEpB,EAGT,SAASyZ,EAAane,EAAQ5U,EAAQ3K,GACpC,OAAO2K,EAAOyC,MAAM3M,EAASy/B,MAAM3gB,EAAOO,MAG5C,SAAS6d,EAAYpe,EAAQ5U,EAAQ3K,GACnC,MAAMy+B,EAAUz+B,EAAOA,EAAK6hB,gBAAkB,EACxCzC,EAAWG,GAAU,GACrB0D,EAAa7D,EAAS6D,WACtBP,EAAatD,EAASsD,WAC5B,IAAI3e,EAAqB,IAAZ06B,EAAgB,EAAI,EAG7Bb,EAAiB,KACrB,GAAgB,IAAZa,EAAe,CAEjB,GADAb,EAAiBkB,EAAiCn0B,EAAQ+X,EAAY1iB,EAAM+D,IACvE65B,EAAkB,OAAO,EAC9B75B,GAAU65B,EAAe75B,OAmB3B,OAfA4G,EAAOyC,MAAM1E,EAAOM,KAAK,CAACvI,EAASmJ,MAAM+zB,YAAc,KAGvDM,EAAgBtzB,EAAQ5G,GAGR,IAAZ06B,GACF9zB,EAAOyC,MAAM1E,EAAOM,KAAK,CAACia,KAIL,OAAnB2a,GACFA,EAAexwB,SAGV,EAGT,SAASzM,EAAM4e,EAAQ5U,EAAQ3K,GAC7B,MAAMy+B,EAAUz+B,EAAOA,EAAK6hB,gBAAkB,EACxCzC,EAAWG,GAAU,GACrB0D,EAAa7D,EAAS6D,WACtBP,EAAatD,EAASsD,WAC5B,IAAI3e,EAAqB,IAAZ06B,EAAgB,EAAI,EAEjB,IAAZA,GAAe9zB,EAAO2C,KAAK,QAAS,IAAI2L,MAAM,yCAGlD,MAAM2kB,EAAiBkB,EAAiCn0B,EAAQ+X,EAAY1iB,EAAM+D,GAClF,QAAK65B,IACL75B,GAAU65B,EAAe75B,OAGzB4G,EAAOyC,MAAM1E,EAAOM,KAAK,CAACvI,EAASmJ,MAAMjJ,MAAQ,KAGjDs9B,EAAgBtzB,EAAQ5G,GAGxB4G,EAAOyC,MAAM1E,EAAOM,KAAK,CAACia,KAGH,OAAnB2a,GACFA,EAAexwB,SAEV,GAxsBT/N,OAAO4I,eAAekmB,EAAU,eAAgB,CAC9C,MACE,OAAO4O,IAAgBC,GAEzB,IAAK90B,GACCA,GACGu0B,GAA6C,IAAjCp9B,OAAO+G,KAAKq2B,GAAU14B,SAAck5B,GAAa,GAClEF,EAAcC,IAEdC,GAAa,EACbF,EAAcoD,MA4sBpB,MAAMC,EAAkB,GACxB,SAASnC,EAAiBtzB,EAAQ2b,GAChC,GAAIA,EAAM7lB,EAAS4/B,eAEjB,OADA11B,EAAO2C,KAAK,QAAS,IAAI2L,MAAM,kCAAkCqN,KAC1D,EAGT,IAAItb,EAASo1B,EAAgB9Z,GAO7B,OALKtb,IACHA,EAAS6xB,EAAsBvW,GAC3BA,EAAM,QAAO8Z,EAAgB9Z,GAAOtb,IAE1CnL,EAAM,yCAA0CmL,GACzCL,EAAOyC,MAAMpC,GActB,SAASwzB,EAAa7zB,EAAQqR,GAC5B,MAAMskB,EAAS53B,EAAO2c,WAAWrJ,GAIjC,OAHA+gB,EAAYpyB,EAAQ21B,GAEpBzgC,EAAM,kBAAmBmc,GAClBrR,EAAOyC,MAAM4O,EAAQ,QAa9B,SAASukB,EAAiB51B,EAAQiO,EAAM1Q,GACtCs2B,EAAY7zB,EAAQiO,GACpB4lB,EAAY7zB,EAAQzC,GAatB,SAAS80B,EAAmBryB,EAAQ61B,GAGlC,OAFA3gC,EAAM,gCAAiC2gC,GACvC3gC,EAAM,wBAAyB48B,EAAS+D,IACjC71B,EAAOyC,MAAMqvB,EAAS+D,IAE/B,SAASL,EAAsBx1B,EAAQ61B,GACrC,MAAMC,EAAkB9D,EAAe6D,GAEvC,OADA3gC,EAAM,2BAA4B4gC,GAC3B91B,EAAOyC,MAAMqzB,GAEtB,SAASC,EAAkB/1B,EAAQ61B,GACjC,MAAMG,EAAuB7D,EAAoB0D,GAEjD,OADA3gC,EAAM,uBAAwB8gC,GACvBh2B,EAAOyC,MAAMuzB,GAUtB,SAASzC,EAAqBvzB,EAAQi2B,GACb,kBAAZA,EACTpC,EAAY7zB,EAAQi2B,GACXA,GACT7D,EAAYpyB,EAAQi2B,EAAQ78B,QAC5B4G,EAAOyC,MAAMwzB,IACR7D,EAAYpyB,EAAQ,GAG7B,SAASkzB,EAAelzB,EAAQ+X,GAE9B,GAA0B,kBAAfA,GAAgD,MAArBA,EAAW3e,OAC/C,MAAO,CACLA,OAAQ,EACR,QACE88B,EAAgBl2B,EAAQ,GAAI,KAIlC,IAAIm2B,EAAmB,EACvB,SAASC,EAAmBnoB,EAAM1Q,GAChC,MAAMM,EAAO/H,EAASykB,gBAAgBtM,GACtC,IAAI7U,EAAS,EACb,OAAQyE,GACN,IAAK,OACH,GAAqB,mBAAVN,EAET,OADAyC,EAAO2C,KAAK,QAAS,IAAI2L,MAAM,WAAWL,MAAS1Q,OAC5C,EAETnE,GAAU,EACV,MAEF,IAAK,OACH,GAAqB,kBAAVmE,GAAsBA,EAAQ,GAAKA,EAAQ,IAEpD,OADAyC,EAAO2C,KAAK,QAAS,IAAI2L,MAAM,WAAWL,MAAS1Q,OAC5C,EAETnE,GAAU,EACV,MAEF,IAAK,SACH,GAAImE,GAAmB,OAAVA,EAEX,OADAyC,EAAO2C,KAAK,QAAS,IAAI2L,MAAM,WAAWL,MAAS1Q,OAC5C,EAETnE,GAAU,EAAI2E,EAAO2c,WAAWnd,GAAS,EACzC,MAEF,IAAK,QACH,GAAqB,kBAAVA,GAAsBA,EAAQ,GAAKA,EAAQ,MAEpD,OADAyC,EAAO2C,KAAK,QAAS,IAAI2L,MAAM,WAAWL,MAAS1Q,OAC5C,EAETnE,GAAU,EACV,MAEF,IAAK,QACH,GAAqB,kBAAVmE,GAAsBA,EAAQ,GAAKA,EAAQ,WAEpD,OADAyC,EAAO2C,KAAK,QAAS,IAAI2L,MAAM,WAAWL,MAAS1Q,OAC5C,EAETnE,GAAU,EACV,MAEF,IAAK,MAEH,GAAqB,kBAAVmE,GAAsBA,EAAQ,GAAKA,EAAQ,UAEpD,OADAyC,EAAO2C,KAAK,QAAS,IAAI2L,MAAM,WAAWL,MAAS1Q,OAC5C,EAETnE,GAAU,EAAI2E,EAAO2c,WAAWwX,EAAsB30B,IACtD,MAEF,IAAK,SACH,GAAqB,kBAAVA,EAET,OADAyC,EAAO2C,KAAK,QAAS,IAAI2L,MAAM,WAAWL,MAAS1Q,OAC5C,EAETnE,GAAU,EAAQ2E,EAAO2c,WAAWnd,EAAMhJ,YAC1C,MAEF,IAAK,OACH,GAAqB,kBAAVgJ,EAET,OADAyC,EAAO2C,KAAK,QAAS,IAAI2L,MAAM,WAAWL,MAAS1Q,OAC5C,EAETnE,GAAU1E,OAAOC,oBAAoB4I,GAAOorB,OAAO,CAAC9sB,EAAQoS,KAC1D,MAAMkF,EAAe5V,EAAM0Q,GAS3B,OARIrO,MAAMC,QAAQsT,GAChBtX,GAAUsX,EAAawV,OAAO,CAAC0N,EAAe94B,KAC5C84B,GAAiB,EAAQt4B,EAAO2c,WAAWzM,EAAK1Z,YAAc,EAAIwJ,EAAO2c,WAAWnd,EAAMhJ,YACnF8hC,GACN,GAEHx6B,GAAU,EAAQkC,EAAO2c,WAAWzM,EAAK1Z,YAAc,EAAIwJ,EAAO2c,WAAWnd,EAAM0Q,GAAM1Z,YAEpFsH,GACN,GACH,MAEF,QAEE,OADAmE,EAAO2C,KAAK,QAAS,IAAI2L,MAAM,oBAAoBL,MAAS1Q,OACrD,EAGX,OAAOnE,EAET,GAAI2e,EACF,IAAK,MAAMue,KAAYve,EAAY,CACjC,IAAIwe,EAAa,EACbC,EAAkB,EACtB,MAAMC,EAAY1e,EAAWue,GAC7B,GAAI12B,MAAMC,QAAQ42B,GAChB,IAAK,IAAIC,EAAa,EAAGA,EAAaD,EAAUr9B,OAAQs9B,IAAc,CAEpE,GADAF,EAAkBJ,EAAkBE,EAAUG,EAAUC,KACnDF,EAAmB,OAAO,EAC/BD,GAAcC,MAEX,CAEL,GADAA,EAAkBJ,EAAkBE,EAAUG,IACzCD,EAAmB,OAAO,EAC/BD,EAAaC,EAEf,IAAKD,EAAY,OAAO,EACxBJ,GAAoBI,EAGxB,MAAMI,EAAyB54B,EAAO2c,WAAWwX,EAAsBiE,IAEvE,MAAO,CACL/8B,OAAQu9B,EAAyBR,EACjC,QACED,EAAgBl2B,EAAQ+X,EAAYoe,KAK1C,SAAShC,EAAkCn0B,EAAQ+X,EAAY1iB,EAAM+D,GACnE,MAAMw9B,EAAgB,CAAC,eAAgB,kBACjCC,EAAoBxhC,GAAQA,EAAK0iB,YAAc1iB,EAAK0iB,WAAW8e,kBAAoBxhC,EAAK0iB,WAAW8e,kBAAoB,EAE7H,IAAI5D,EAAiBC,EAAclzB,EAAQ+X,GAC3C,GAAI8e,EACF,MAAOz9B,EAAS65B,EAAe75B,OAASy9B,EAAmB,CACzD,MAAMC,EAAsBF,EAAct6B,QAC1C,IAAIw6B,IAAuB/e,EAAW+e,GAIpC,OAAO,SAHA/e,EAAW+e,GAClB7D,EAAiBC,EAAclzB,EAAQ+X,GAM7C,OAAOkb,EAGT,SAAS8D,EAAe/2B,EAAQs2B,EAAU/4B,GACxC,MAAMM,EAAO/H,EAASykB,gBAAgB+b,GACtC,OAAQz4B,GACN,IAAK,OACHmC,EAAOyC,MAAM1E,EAAOM,KAAK,CAACvI,EAASiiB,WAAWue,MAC9Ct2B,EAAOyC,MAAM1E,EAAOM,KAAK,EAAEd,KAC3B,MAEF,IAAK,OACHyC,EAAOyC,MAAM1E,EAAOM,KAAK,CAACvI,EAASiiB,WAAWue,MAC9Ct2B,EAAOyC,MAAM1E,EAAOM,KAAK,CAACd,KAC1B,MAEF,IAAK,SACHyC,EAAOyC,MAAM1E,EAAOM,KAAK,CAACvI,EAASiiB,WAAWue,MAC9C/C,EAAoBvzB,EAAQzC,GAC5B,MAEF,IAAK,QACHyC,EAAOyC,MAAM1E,EAAOM,KAAK,CAACvI,EAASiiB,WAAWue,MAC9ClE,EAAYpyB,EAAQzC,GACpB,MAEF,IAAK,QACHyC,EAAOyC,MAAM1E,EAAOM,KAAK,CAACvI,EAASiiB,WAAWue,MAC9CP,EAAiB/1B,EAAQzC,GACzB,MAEF,IAAK,MACHyC,EAAOyC,MAAM1E,EAAOM,KAAK,CAACvI,EAASiiB,WAAWue,MAC9ChD,EAAgBtzB,EAAQzC,GACxB,MAEF,IAAK,SACHyC,EAAOyC,MAAM1E,EAAOM,KAAK,CAACvI,EAASiiB,WAAWue,MAC9CzC,EAAY7zB,EAAQzC,GACpB,MAEF,IAAK,OACH7I,OAAOC,oBAAoB4I,GAAOkR,QAAQR,IACxC,MAAMkF,EAAe5V,EAAM0Q,GACvBrO,MAAMC,QAAQsT,GAChBA,EAAa1E,QAAQlR,IACnByC,EAAOyC,MAAM1E,EAAOM,KAAK,CAACvI,EAASiiB,WAAWue,MAC9CV,EAAgB51B,EAAQiO,EAAK1Z,WAAYgJ,EAAMhJ,eAGjDyL,EAAOyC,MAAM1E,EAAOM,KAAK,CAACvI,EAASiiB,WAAWue,MAC9CV,EAAgB51B,EAAQiO,EAAK1Z,WAAY4e,EAAa5e,eAG1D,MAEF,QAEE,OADAyL,EAAO2C,KAAK,QAAS,IAAI2L,MAAM,oBAAoBgoB,YAAmB/4B,OAC/D,GAKb,SAAS24B,EAAiBl2B,EAAQ+X,EAAYoe,GAE5C7C,EAAgBtzB,EAAQm2B,GACxB,IAAK,MAAMG,KAAYve,EACrB,GAAIrjB,OAAO4D,UAAUs1B,eAAe54B,KAAK+iB,EAAYue,IAAsC,OAAzBve,EAAWue,GAAoB,CAC/F,MAAM/4B,EAAQwa,EAAWue,GACzB,GAAI12B,MAAMC,QAAQtC,GAChB,IAAK,IAAIm5B,EAAa,EAAGA,EAAan5B,EAAMnE,OAAQs9B,IAClDK,EAAc/2B,EAAQs2B,EAAU/4B,EAAMm5B,SAGxCK,EAAc/2B,EAAQs2B,EAAU/4B,IAMxC,SAASmd,EAAYsc,GACnB,OAAKA,EACIA,aAAuBj5B,EAAei5B,EAAY59B,OAC/C2E,EAAO2c,WAAWsc,GAFL,EAK3B,SAAS5D,EAAkB6D,GACzB,MAAwB,kBAAVA,GAAsBA,aAAiBl5B,EAGvDpK,EAAOD,QAAU8vB,I,oDC5lCjB,IAAIntB,EAAO,EAAQ,QACf6gC,EAAM,EAAQ,QACdC,EAA+B,EAAQ,QACvC75B,EAAiB,EAAQ,QAAuChJ,EAEpEX,EAAOD,QAAU,SAAU0jC,GACzB,IAAIpvB,EAAS3R,EAAK2R,SAAW3R,EAAK2R,OAAS,IACtCkvB,EAAIlvB,EAAQovB,IAAO95B,EAAe0K,EAAQovB,EAAM,CACnD75B,MAAO45B,EAA6B7iC,EAAE8iC,O,qCCR1C,YAEA,IAAI1T,EAEJ,SAASC,EAAgBvrB,EAAKwrB,EAAKrmB,GAAiK,OAApJqmB,KAAOxrB,EAAO1D,OAAO4I,eAAelF,EAAKwrB,EAAK,CAAErmB,MAAOA,EAAOuF,YAAY,EAAM+gB,cAAc,EAAMhZ,UAAU,IAAkBzS,EAAIwrB,GAAOrmB,EAAgBnF,EAE3M,IAAIlE,EAAW,EAAQ,QAEnB4vB,EAAe9b,OAAO,eACtB+b,EAAc/b,OAAO,cACrBgc,EAAShc,OAAO,SAChBic,EAASjc,OAAO,SAChBkc,EAAelc,OAAO,eACtBmc,EAAiBnc,OAAO,iBACxBoc,EAAUpc,OAAO,UAErB,SAASqc,EAAiB9mB,EAAO+mB,GAC/B,MAAO,CACL/mB,MAAOA,EACP+mB,KAAMA,GAIV,SAASC,EAAeC,GACtB,IAAI/tB,EAAU+tB,EAAKV,GAEnB,GAAgB,OAAZrtB,EAAkB,CACpB,IAAIiN,EAAO8gB,EAAKJ,GAASxiB,OAIZ,OAAT8B,IACF8gB,EAAKN,GAAgB,KACrBM,EAAKV,GAAgB,KACrBU,EAAKT,GAAe,KACpBttB,EAAQ4tB,EAAiB3gB,GAAM,MAKrC,SAAS+gB,EAAWD,GAGlBrgB,EAAQC,SAASmgB,EAAgBC,GAGnC,SAASE,EAAYC,EAAaH,GAChC,OAAO,SAAU/tB,EAASmuB,GACxBD,EAAYE,MAAK,WACXL,EAAKP,GACPxtB,EAAQ4tB,OAAiBxhB,GAAW,IAItC2hB,EAAKL,GAAgB1tB,EAASmuB,KAC7BA,IAIP,IAAIE,EAAyBpwB,OAAO6N,gBAAe,eAC/CwiB,EAAuCrwB,OAAOswB,gBAAgBtB,EAAwB,CACxF,aACE,OAAO7tB,KAAKuuB,IAGdzgB,KAAM,WACJ,IAAIkE,EAAQhS,KAIRf,EAAQe,KAAKmuB,GAEjB,GAAc,OAAVlvB,EACF,OAAOmwB,QAAQL,OAAO9vB,GAGxB,GAAIe,KAAKouB,GACP,OAAOgB,QAAQxuB,QAAQ4tB,OAAiBxhB,GAAW,IAGrD,GAAIhN,KAAKuuB,GAAShjB,UAKhB,OAAO,IAAI6jB,SAAQ,SAAUxuB,EAASmuB,GACpCzgB,EAAQC,UAAS,WACXyD,EAAMmc,GACRY,EAAO/c,EAAMmc,IAEbvtB,EAAQ4tB,OAAiBxhB,GAAW,UAU5C,IACIqiB,EADAP,EAAc9uB,KAAKquB,GAGvB,GAAIS,EACFO,EAAU,IAAID,QAAQP,EAAYC,EAAa9uB,WAC1C,CAGL,IAAI6N,EAAO7N,KAAKuuB,GAASxiB,OAEzB,GAAa,OAAT8B,EACF,OAAOuhB,QAAQxuB,QAAQ4tB,EAAiB3gB,GAAM,IAGhDwhB,EAAU,IAAID,QAAQpvB,KAAKsuB,IAI7B,OADAtuB,KAAKquB,GAAgBgB,EACdA,IAERvB,EAAgBD,EAAuB1b,OAAOC,eAAe,WAC9D,OAAOpS,QACL8tB,EAAgBD,EAAuB,UAAU,WACnD,IAAIyB,EAAStvB,KAKb,OAAO,IAAIovB,SAAQ,SAAUxuB,EAASmuB,GACpCO,EAAOf,GAAStiB,QAAQ,MAAM,SAAUqB,GAClCA,EACFyhB,EAAOzhB,GAIT1M,EAAQ4tB,OAAiBxhB,GAAW,aAGtC6gB,GAAwBoB,GAExBnmB,EAAoC,SAA2CqB,GACjF,IAAIolB,EAEAC,EAAW3wB,OAAO8lB,OAAOuK,GAAuCK,EAAiB,GAAIzB,EAAgByB,EAAgBhB,EAAS,CAChI7mB,MAAOyC,EACP6K,UAAU,IACR8Y,EAAgByB,EAAgBtB,EAAc,CAChDvmB,MAAO,KACPsN,UAAU,IACR8Y,EAAgByB,EAAgBrB,EAAa,CAC/CxmB,MAAO,KACPsN,UAAU,IACR8Y,EAAgByB,EAAgBpB,EAAQ,CAC1CzmB,MAAO,KACPsN,UAAU,IACR8Y,EAAgByB,EAAgBnB,EAAQ,CAC1C1mB,MAAOyC,EAAO0B,eAAehB,WAC7BmK,UAAU,IACR8Y,EAAgByB,EAAgBjB,EAAgB,CAClD5mB,MAAO,SAAe9G,EAASmuB,GAC7B,IAAIlhB,EAAO2hB,EAASjB,GAASxiB,OAEzB8B,GACF2hB,EAASnB,GAAgB,KACzBmB,EAASvB,GAAgB,KACzBuB,EAAStB,GAAe,KACxBttB,EAAQ4tB,EAAiB3gB,GAAM,MAE/B2hB,EAASvB,GAAgBrtB,EACzB4uB,EAAStB,GAAea,IAG5B/Z,UAAU,IACRua,IA8BJ,OA7BAC,EAASnB,GAAgB,KACzBhwB,EAAS8L,GAAQ,SAAUmD,GACzB,GAAIA,GAAoB,+BAAbA,EAAI6X,KAAuC,CACpD,IAAI4J,EAASS,EAAStB,GAWtB,OARe,OAAXa,IACFS,EAASnB,GAAgB,KACzBmB,EAASvB,GAAgB,KACzBuB,EAAStB,GAAe,KACxBa,EAAOzhB,SAGTkiB,EAASrB,GAAU7gB,GAIrB,IAAI1M,EAAU4uB,EAASvB,GAEP,OAAZrtB,IACF4uB,EAASnB,GAAgB,KACzBmB,EAASvB,GAAgB,KACzBuB,EAAStB,GAAe,KACxBttB,EAAQ4tB,OAAiBxhB,GAAW,KAGtCwiB,EAASpB,IAAU,KAErBjkB,EAAOF,GAAG,WAAY2kB,EAAW1c,KAAK,KAAMsd,IACrCA,GAGT1xB,EAAOD,QAAUiL,I,0DCrLjB,IAAIZ,EAAS,EAAQ,QAAeA,OAGhCs5B,EAAat5B,EAAOs5B,YAAc,SAAU51B,GAE9C,OADAA,EAAW,GAAKA,EACRA,GAAYA,EAAS/H,eAC3B,IAAK,MAAM,IAAK,OAAO,IAAK,QAAQ,IAAK,QAAQ,IAAK,SAAS,IAAK,SAAS,IAAK,OAAO,IAAK,QAAQ,IAAK,UAAU,IAAK,WAAW,IAAK,MACxI,OAAO,EACT,QACE,OAAO,IAIb,SAAS49B,EAAmB/zB,GAC1B,IAAKA,EAAK,MAAO,OACjB,IAAIg0B,EACJ,MAAO,EACL,OAAQh0B,GACN,IAAK,OACL,IAAK,QACH,MAAO,OACT,IAAK,OACL,IAAK,QACL,IAAK,UACL,IAAK,WACH,MAAO,UACT,IAAK,SACL,IAAK,SACH,MAAO,SACT,IAAK,SACL,IAAK,QACL,IAAK,MACH,OAAOA,EACT,QACE,GAAIg0B,EAAS,OACbh0B,GAAO,GAAKA,GAAK7J,cACjB69B,GAAU,GAOlB,SAASC,EAAkBj0B,GACzB,IAAIk0B,EAAOH,EAAmB/zB,GAC9B,GAAoB,kBAATk0B,IAAsB15B,EAAOs5B,aAAeA,IAAeA,EAAW9zB,IAAO,MAAM,IAAI+K,MAAM,qBAAuB/K,GAC/H,OAAOk0B,GAAQl0B,EAOjB,SAAS7E,EAAc+C,GAErB,IAAIi2B,EACJ,OAFA7hC,KAAK4L,SAAW+1B,EAAkB/1B,GAE1B5L,KAAK4L,UACX,IAAK,UACH5L,KAAK8hC,KAAOC,EACZ/hC,KAAKoO,IAAM4zB,EACXH,EAAK,EACL,MACF,IAAK,OACH7hC,KAAKiiC,SAAWC,EAChBL,EAAK,EACL,MACF,IAAK,SACH7hC,KAAK8hC,KAAOK,EACZniC,KAAKoO,IAAMg0B,EACXP,EAAK,EACL,MACF,QAGE,OAFA7hC,KAAK4M,MAAQy1B,OACbriC,KAAKoO,IAAMk0B,GAGftiC,KAAKuiC,SAAW,EAChBviC,KAAKwiC,UAAY,EACjBxiC,KAAKyiC,SAAWv6B,EAAO4hB,YAAY+X,GAoCrC,SAASa,EAAcC,GACrB,OAAIA,GAAQ,IAAa,EAAWA,GAAQ,IAAM,EAAa,EAAWA,GAAQ,IAAM,GAAa,EAAWA,GAAQ,IAAM,GAAa,EACpIA,GAAQ,IAAM,GAAQ,GAAK,EAMpC,SAASC,EAAoB9zB,EAAMoQ,EAAKjb,GACtC,IAAIU,EAAIua,EAAI3b,OAAS,EACrB,GAAIoB,EAAIV,EAAG,OAAO,EAClB,IAAI49B,EAAKa,EAAcxjB,EAAIva,IAC3B,OAAIk9B,GAAM,GACJA,EAAK,IAAG/yB,EAAKyzB,SAAWV,EAAK,GAC1BA,KAEHl9B,EAAIV,IAAa,IAAR49B,EAAkB,GACjCA,EAAKa,EAAcxjB,EAAIva,IACnBk9B,GAAM,GACJA,EAAK,IAAG/yB,EAAKyzB,SAAWV,EAAK,GAC1BA,KAEHl9B,EAAIV,IAAa,IAAR49B,EAAkB,GACjCA,EAAKa,EAAcxjB,EAAIva,IACnBk9B,GAAM,GACJA,EAAK,IACI,IAAPA,EAAUA,EAAK,EAAO/yB,EAAKyzB,SAAWV,EAAK,GAE1CA,GAEF,IAWT,SAASgB,EAAoB/zB,EAAMoQ,EAAK9Z,GACtC,GAAwB,OAAV,IAAT8Z,EAAI,IAEP,OADApQ,EAAKyzB,SAAW,EACT,IAET,GAAIzzB,EAAKyzB,SAAW,GAAKrjB,EAAI3b,OAAS,EAAG,CACvC,GAAwB,OAAV,IAAT2b,EAAI,IAEP,OADApQ,EAAKyzB,SAAW,EACT,IAET,GAAIzzB,EAAKyzB,SAAW,GAAKrjB,EAAI3b,OAAS,GACZ,OAAV,IAAT2b,EAAI,IAEP,OADApQ,EAAKyzB,SAAW,EACT,KAOf,SAASL,EAAahjB,GACpB,IAAI9Z,EAAIpF,KAAKwiC,UAAYxiC,KAAKuiC,SAC1BpR,EAAI0R,EAAoB7iC,KAAMkf,EAAK9Z,GACvC,YAAU4H,IAANmkB,EAAwBA,EACxBnxB,KAAKuiC,UAAYrjB,EAAI3b,QACvB2b,EAAIoK,KAAKtpB,KAAKyiC,SAAUr9B,EAAG,EAAGpF,KAAKuiC,UAC5BviC,KAAKyiC,SAAS/jC,SAASsB,KAAK4L,SAAU,EAAG5L,KAAKwiC,aAEvDtjB,EAAIoK,KAAKtpB,KAAKyiC,SAAUr9B,EAAG,EAAG8Z,EAAI3b,aAClCvD,KAAKuiC,UAAYrjB,EAAI3b,SAMvB,SAASu/B,EAAS5jB,EAAKjb,GACrB,IAAI8+B,EAAQH,EAAoB5iC,KAAMkf,EAAKjb,GAC3C,IAAKjE,KAAKuiC,SAAU,OAAOrjB,EAAIxgB,SAAS,OAAQuF,GAChDjE,KAAKwiC,UAAYO,EACjB,IAAI30B,EAAM8Q,EAAI3b,QAAUw/B,EAAQ/iC,KAAKuiC,UAErC,OADArjB,EAAIoK,KAAKtpB,KAAKyiC,SAAU,EAAGr0B,GACpB8Q,EAAIxgB,SAAS,OAAQuF,EAAGmK,GAKjC,SAAS40B,EAAQ9jB,GACf,IAAIiS,EAAIjS,GAAOA,EAAI3b,OAASvD,KAAK4M,MAAMsS,GAAO,GAC9C,OAAIlf,KAAKuiC,SAAiBpR,EAAI,IACvBA,EAOT,SAAS4Q,EAAU7iB,EAAKjb,GACtB,IAAKib,EAAI3b,OAASU,GAAK,IAAM,EAAG,CAC9B,IAAIktB,EAAIjS,EAAIxgB,SAAS,UAAWuF,GAChC,GAAIktB,EAAG,CACL,IAAIV,EAAIU,EAAEtsB,WAAWssB,EAAE5tB,OAAS,GAChC,GAAIktB,GAAK,OAAUA,GAAK,MAKtB,OAJAzwB,KAAKuiC,SAAW,EAChBviC,KAAKwiC,UAAY,EACjBxiC,KAAKyiC,SAAS,GAAKvjB,EAAIA,EAAI3b,OAAS,GACpCvD,KAAKyiC,SAAS,GAAKvjB,EAAIA,EAAI3b,OAAS,GAC7B4tB,EAAEjyB,MAAM,GAAI,GAGvB,OAAOiyB,EAKT,OAHAnxB,KAAKuiC,SAAW,EAChBviC,KAAKwiC,UAAY,EACjBxiC,KAAKyiC,SAAS,GAAKvjB,EAAIA,EAAI3b,OAAS,GAC7B2b,EAAIxgB,SAAS,UAAWuF,EAAGib,EAAI3b,OAAS,GAKjD,SAASy+B,EAAS9iB,GAChB,IAAIiS,EAAIjS,GAAOA,EAAI3b,OAASvD,KAAK4M,MAAMsS,GAAO,GAC9C,GAAIlf,KAAKuiC,SAAU,CACjB,IAAIn0B,EAAMpO,KAAKwiC,UAAYxiC,KAAKuiC,SAChC,OAAOpR,EAAInxB,KAAKyiC,SAAS/jC,SAAS,UAAW,EAAG0P,GAElD,OAAO+iB,EAGT,SAASgR,EAAWjjB,EAAKjb,GACvB,IAAIiK,GAAKgR,EAAI3b,OAASU,GAAK,EAC3B,OAAU,IAANiK,EAAgBgR,EAAIxgB,SAAS,SAAUuF,IAC3CjE,KAAKuiC,SAAW,EAAIr0B,EACpBlO,KAAKwiC,UAAY,EACP,IAANt0B,EACFlO,KAAKyiC,SAAS,GAAKvjB,EAAIA,EAAI3b,OAAS,IAEpCvD,KAAKyiC,SAAS,GAAKvjB,EAAIA,EAAI3b,OAAS,GACpCvD,KAAKyiC,SAAS,GAAKvjB,EAAIA,EAAI3b,OAAS,IAE/B2b,EAAIxgB,SAAS,SAAUuF,EAAGib,EAAI3b,OAAS2K,IAGhD,SAASk0B,EAAUljB,GACjB,IAAIiS,EAAIjS,GAAOA,EAAI3b,OAASvD,KAAK4M,MAAMsS,GAAO,GAC9C,OAAIlf,KAAKuiC,SAAiBpR,EAAInxB,KAAKyiC,SAAS/jC,SAAS,SAAU,EAAG,EAAIsB,KAAKuiC,UACpEpR,EAIT,SAASkR,EAAYnjB,GACnB,OAAOA,EAAIxgB,SAASsB,KAAK4L,UAG3B,SAAS02B,EAAUpjB,GACjB,OAAOA,GAAOA,EAAI3b,OAASvD,KAAK4M,MAAMsS,GAAO,GAzN/CrhB,EAAQgL,cAAgBA,EA6BxBA,EAAcpG,UAAUmK,MAAQ,SAAUsS,GACxC,GAAmB,IAAfA,EAAI3b,OAAc,MAAO,GAC7B,IAAI4tB,EACAltB,EACJ,GAAIjE,KAAKuiC,SAAU,CAEjB,GADApR,EAAInxB,KAAKiiC,SAAS/iB,QACRlS,IAANmkB,EAAiB,MAAO,GAC5BltB,EAAIjE,KAAKuiC,SACTviC,KAAKuiC,SAAW,OAEhBt+B,EAAI,EAEN,OAAIA,EAAIib,EAAI3b,OAAe4tB,EAAIA,EAAInxB,KAAK8hC,KAAK5iB,EAAKjb,GAAKjE,KAAK8hC,KAAK5iB,EAAKjb,GAC/DktB,GAAK,IAGdtoB,EAAcpG,UAAU2L,IAAM40B,EAG9Bn6B,EAAcpG,UAAUq/B,KAAOgB,EAG/Bj6B,EAAcpG,UAAUw/B,SAAW,SAAU/iB,GAC3C,GAAIlf,KAAKuiC,UAAYrjB,EAAI3b,OAEvB,OADA2b,EAAIoK,KAAKtpB,KAAKyiC,SAAUziC,KAAKwiC,UAAYxiC,KAAKuiC,SAAU,EAAGviC,KAAKuiC,UACzDviC,KAAKyiC,SAAS/jC,SAASsB,KAAK4L,SAAU,EAAG5L,KAAKwiC,WAEvDtjB,EAAIoK,KAAKtpB,KAAKyiC,SAAUziC,KAAKwiC,UAAYxiC,KAAKuiC,SAAU,EAAGrjB,EAAI3b,QAC/DvD,KAAKuiC,UAAYrjB,EAAI3b,S,wBCtIvB,oBAAsB,EAAQ,QACxBsE,EAAe,EAAQ,QAE7B,SAAS8lB,EAAU5O,EAAQvf,GACzB,MAAM2K,EAAS,IAAI84B,EAEnB,OADArV,EAAc7O,EAAQ5U,EAAQ3K,GACvB2K,EAAO5I,SAGhB,MAAM0hC,UAAoBp7B,EACxB,cACE4W,QACAze,KAAKkjC,OAAS,IAAIn5B,MAAM,IACxB/J,KAAKmjC,GAAK,EAGZ,MAAO56B,GAEL,OADAvI,KAAKkjC,OAAOljC,KAAKmjC,MAAQ56B,GAClB,EAGT,SACE,IAAIhF,EAAS,EACb,MAAM6/B,EAAU,IAAIr5B,MAAM/J,KAAKkjC,OAAO3/B,QAChC8/B,EAAOrjC,KAAKkjC,OAClB,IACIj/B,EADA82B,EAAM,EAGV,IAAK92B,EAAI,EAAGA,EAAIo/B,EAAK9/B,aAAsByJ,IAAZq2B,EAAKp/B,GAAkBA,IAC7B,kBAAZo/B,EAAKp/B,GAAiBm/B,EAAQn/B,GAAKo/B,EAAKp/B,GAAGV,OACjD6/B,EAAQn/B,GAAKiE,EAAO2c,WAAWwe,EAAKp/B,IAEzCV,GAAU6/B,EAAQn/B,GAGpB,MAAM+B,EAASkC,EAAO4hB,YAAYvmB,GAElC,IAAKU,EAAI,EAAGA,EAAIo/B,EAAK9/B,aAAsByJ,IAAZq2B,EAAKp/B,GAAkBA,IAC7B,kBAAZo/B,EAAKp/B,IACdo/B,EAAKp/B,GAAGqlB,KAAKtjB,EAAQ+0B,GACrBA,GAAOqI,EAAQn/B,KAEf+B,EAAO4G,MAAMy2B,EAAKp/B,GAAI82B,GACtBA,GAAOqI,EAAQn/B,IAInB,OAAO+B,GAIXlI,EAAOD,QAAU8vB,I,mKClDX2V,MAAM,gB,EAIX,eAAsB,OAAjB5H,GAAG,SAAO,S,oGAJf,eAGM,MAHN,EAGM,CAFL,eAAkB,yBAAX,EAAA6H,KAAG,GACV,eAAuB,yBAAhB,EAAAC,UAAQ,KAEhB,G,uPCLc,SAASC,EAAkB9d,EAAKjX,IAClC,MAAPA,GAAeA,EAAMiX,EAAIpiB,UAAQmL,EAAMiX,EAAIpiB,QAE/C,IAAK,IAAIU,EAAI,EAAGy/B,EAAO,IAAI35B,MAAM2E,GAAMzK,EAAIyK,EAAKzK,IAC9Cy/B,EAAKz/B,GAAK0hB,EAAI1hB,GAGhB,OAAOy/B,ECNM,SAASC,EAA4BrJ,EAAGsJ,GACrD,GAAKtJ,EAAL,CACA,GAAiB,kBAANA,EAAgB,OAAOuJ,EAAiBvJ,EAAGsJ,GACtD,IAAI11B,EAAIrP,OAAO4D,UAAU/D,SAASS,KAAKm7B,GAAGp7B,MAAM,GAAI,GAEpD,MADU,WAANgP,GAAkBosB,EAAEpc,cAAahQ,EAAIosB,EAAEpc,YAAY9F,MAC7C,QAANlK,GAAqB,QAANA,EAAoBnE,MAAMvB,KAAK8xB,GACxC,cAANpsB,GAAqB,2CAA2CwP,KAAKxP,GAAW21B,EAAiBvJ,EAAGsJ,QAAxG,GCNa,SAASE,EAAmBne,GACzC,GAAI5b,MAAMC,QAAQ2b,GAAM,OAAOke,EAAiBle,GCFnC,SAASoe,EAAiBpV,GACvC,GAAsB,qBAAXxc,QAA0BA,OAAOqd,YAAY3wB,OAAO8vB,GAAO,OAAO5kB,MAAMvB,KAAKmmB,GCD3E,SAASqV,IACtB,MAAM,IAAIphC,UAAU,wICGP,SAASqhC,EAAmBte,GACzC,OAAOue,EAAkBve,IAAQwe,EAAgBxe,IAAQye,EAA2Bze,IAAQ0e,I,gBNS1FC,EAAqB,mvBAErB9W,EAAM,IAAI,aAAQ,CAAEN,MAAOoX,IAE/B9W,EACEkP,UACA1N,MAAK,WAIL,OAFAxB,EAAI+W,UAAU,MAAO,eACrBxX,QAAQ6D,IAAIpD,EAAIgX,UAAU,QACnBhX,EAAIgX,UAAU,UAErBxV,MAAK,WACL,OAAOxB,EAAIiX,aAAa,CAAE70B,EAAG,EAAG8H,EAAG,EAAGgtB,EAAG,EAAGjY,MAAO,SAGrDM,QAAQ6D,IAAI,MAAOpD,GAWnB,IAAMmX,EAAW/lC,OAAO+lC,SACxB5X,QAAQ6D,IAAI,kBAAmB+T,GAG/B,IAUIC,EAEAC,EACAC,EACAC,EAdEC,EAAaL,EAASM,YACtBC,EAAgBP,EAASQ,eACzBC,EAAYT,EAASU,WAErBC,GADWX,EAASY,UACVZ,EAASa,UACnBC,EAAUd,EAASe,SACzB3Y,QAAQ6D,IAAI,oBAAqBoU,EAAYE,GAS5CH,EAAM,IAAIY,IAAIC,IAAI,CAAEC,WAAW,EAAMC,YAAY,IACjDf,EAAIgB,QACJhB,EAAIiB,WAAWtK,GAAK,MACpB,IAUGuK,EACAC,EAXCC,EAAsBpB,EAAIqB,UAAU,wBAEpCC,EAAqBtB,EAAIqB,UAAU,mBACnCE,EAAoBvB,EAAIqB,UAAU,qBAClCG,EAAuBxB,EAAIqB,UAAU,cACrCI,EAAmBzB,EAAIqB,UAAU,QAGjCK,GAFoB1B,EAAIqB,UAAU,UAEVrB,EAAIqB,UAAU,gBACtCM,EAAoB3B,EAAIqB,UAAU,aAInCO,EAAS,CACZ,OAAgB,QAChBA,EAAOC,WAAajS,KAAKkS,MAC1B,IAAIC,EAAa,GACbC,EAAQ,CAAC,iBAAkB,UAAW,OAAQ,YAAa,WAAY,oBAC1EA,EAAI,YAAQA,GAAR,CAAe,aAAc,UAAW,UAAW,OAAQ,UAAW,sBAC3E,IAuBIC,EAAS,CAEZC,MAAOpoC,OAAOqoC,OAAO,CACpBC,KAAQh1B,OAAO,QACfi1B,QAASj1B,OAAO,WAChBk1B,aAAel1B,OAAO,gBACtBm1B,eAAgBn1B,OAAO,kBACvBo1B,OAAQp1B,OAAO,UACfq1B,SAAUr1B,OAAO,cAGlBs1B,SAAS,EAETC,WAAY,GAAF,OAAKtC,EAAL,WAEVv3B,KAAM,CACL85B,MAAO,CAAC,CAACjM,GAAI+J,IACbb,MAAO,GACPgD,UAAW,GACXC,IAAK,GACLC,MAAO,GACPC,cAAe,IAGhBC,mBAAoB,KACpBC,mBAAoB,KAEpBC,UAAW,GAEXC,YAAa,GAEbC,UAAW,IAEZpB,EAAOqB,KAAOrB,EAAOC,MAAME,KAC3BhB,EAAkBmC,IAAItB,EAAQ,WAAW5uB,KAAK,iBAG9C,IAAMlO,EAAU,CACfq+B,OAAO,WAMHvB,EAAOU,WANJ,iCAOHV,EAAOU,WAPJ,+BAQHV,EAAOU,WARJ,gBAUPc,WAAY,WACXC,MAIF1B,EAAMnuB,SAAS,SAAS8vB,GAAOx+B,EAAQq+B,OAAOtjC,KAAf,UAAuB+hC,EAAOU,WAA9B,sBAAsDgB,EAAtD,YAE/B1B,EAAOqB,KAAOrB,EAAOC,MAAMG,QAE3Bra,QAAQ6D,IAAI,gBAAiBoW,GAC7Bja,QAAQ6D,IAAI,iBAAkB1mB,GAOZ,IAAIy+B,UAAUz+B,GAKhCtL,OAAOgqC,OAAS,SAAS9b,GACxB2b,KAED7pC,OAAOiqC,YAAS,EAChBjqC,OAAOkqC,QAAU,SAAS7pC,GACzB8tB,QAAQ9tB,MAAMyZ,KAAK7S,UAAU5G,KAa9B,IAAM8pC,EAAY,IAAIC,MAAMC,UAGtBC,EAAgB,IAAIF,MAAMG,cAE1BC,EAAQ,IAAIJ,MAAMK,MAGlBC,EAAY,IAAIN,MAAMO,UACtBC,EAAU,IAAIR,MAAMS,QAGpBC,EAAa,UAAOpE,EAAP,8BACbqE,EAAiB,UAAOrE,EAAP,kCACjBsE,EAAW,UAAOtE,EAAP,4BACXuE,EAAqB,UAAOvE,EAAP,sCACrBwE,EAAa,UAAOxE,EAAP,8BAEfyE,EAAW,CACdL,EACAC,EACAC,EACAC,EACAC,GAMD,SAASrB,IAER1b,QAAQ6D,IAAI,eAEZxB,QAAQ4a,WACPD,EAAS1uB,KACR,SAAAnZ,GAAE,OAAK+nC,MAAM/nC,GACV8sB,MAAK,SAAAkb,GAAM,OAAKA,EAAQC,UACxBnb,MAAK,SAAAnhB,GACL,IAAI7F,EAAO6F,EAAK,GAAG7F,KACnB,OAAQA,GACP,IAAK,QACJg/B,EAAOn5B,KAAK+2B,MAAZ,EAAwB/2B,GACxB,MACD,IAAK,YACJm5B,EAAOn5B,KAAK+5B,UAAZ,EAA4B/5B,GAC5B,MACD,IAAK,MACJm5B,EAAOn5B,KAAKg6B,IAAZ,EAAsBh6B,GACtB,MACD,IAAK,QACJm5B,EAAOn5B,KAAKi6B,MAAZ,EAAwBj6B,GACxB,MACD,IAAK,gBACJm5B,EAAOn5B,KAAKk6B,cAAZ,EAAgCl6B,GAChC,MACD,QACC,MAEFkf,QAAQ6D,IAAI,cAAe/iB,UAI/BmhB,MAAK,SAAAkb,GACJnd,QAAQ6D,IAAI,iBAAkBsZ,GAC9BA,EAAQtxB,SAAQ,SAAC5S,EAAQ8f,GACpB9f,EAAOokC,OAIU,YAAjBpkC,EAAOokC,QAEVrd,QAAQ6D,IAAI5qB,MAGd+mB,QAAQ6D,IAAI,qBAAsBoW,EAAOn5B,MAIzCw8B,OAUH,SAASA,IAERtd,QAAQ6D,IAAI,2BAA4BoW,EAAOn5B,KAAK+2B,OAEpD,IAAI0F,EAAUtD,EAAOn5B,KAAK+2B,MAAM,GAC5B2F,EAAUD,EAAQ5O,GAatB,GAPAkJ,EAAQ,IAAIoE,MAAMwB,MAElB5F,EAAMxsB,KAAO,YAEb2U,QAAQ6D,IAAI,eAAgBgU,GAGvB0F,EAAQG,IAAIC,0BAA4B,CAC5C,IAAIC,EAAc,CACjBL,EAAQG,IAAIC,0BACZJ,EAAQG,IAAIG,0BACZN,EAAQG,IAAII,0BACZP,EAAQG,IAAIK,0BACZR,EAAQG,IAAIM,0BACZT,EAAQG,IAAIO,2BAETC,GAAiB,IAAIjC,MAAMkC,mBAAoBha,KAAKyZ,GACxDM,EAAejqC,OAASgoC,MAAMmC,UAC9BvG,EAAMwG,WAAaH,OAGf,GAAKX,EAAQG,IAAIY,uBAGrB,IAAIC,EAAYpC,EAAchY,KAC7BoZ,EAAQG,IAAIY,wBACZ,WACC,IAAME,EAAK,IAAIvC,MAAMwC,sBAAsBF,EAAUG,MAAMC,QAC3DH,EAAGI,2BAA2B1F,EAAUqF,GACxC1G,EAAMwG,WAAaG,UAKZjB,EAAQG,IAAImB,yBACrBhH,EAAMwG,WAAa,IAAIpC,MAAM6C,MAAMvB,EAAQG,IAAImB,yBAMhD,IAAIE,EAAQC,GACXzB,EAAQG,IAAIuB,oBACZ1B,EAAQG,IAAIwB,qBACZ3B,EAAQG,IAAIyB,8BAYb,GAVAJ,EAAM1zB,KAAO,aACb0zB,EAAMK,SAASv8B,GAAKmI,KAAKq0B,GAAK,EAG9BjG,EAAkBmC,IAAIwD,EAAMK,SAAU,KAAMp0B,KAAKq0B,GAAIr0B,KAAKq0B,IAAIC,SAC9DlG,EAAkBmC,IAAIwD,EAAMK,SAAU,KAAMp0B,KAAKq0B,GAAIr0B,KAAKq0B,IAAIC,SAC9DlG,EAAkBmC,IAAIwD,EAAMK,SAAU,KAAMp0B,KAAKq0B,GAAIr0B,KAAKq0B,IAAIC,SAIzD/B,EAAQG,IAAI6B,0BAA4B,CAC5CR,EAAMS,SAASC,UAAY,EAE3BV,EAAMS,SAASlxB,IAAM6tB,EAAchY,KAAKoZ,EAAQG,IAAI6B,2BAIpD,IAAIG,EAAkBX,EAAMS,SAASlxB,IACrCoxB,EAAgBC,MAAQ1D,MAAM2D,eAC9BF,EAAgBG,MAAQ5D,MAAM2D,eAC9BF,EAAgBh6B,OAAOtF,IAAI,EAAG,GAa/B,IAAI0/B,EAAmBC,GAAoB,SAAU,KACrDD,EAAiB3R,SAAS/tB,KAAM,IAAK,IAAK,KAG1C,IAAI4/B,EAAyB,IAAI/D,MAAMgE,aAAaH,EAAiBI,OAAOpI,QAC5EkI,EAAuBG,SAAU,EAajC5G,EAAgBgC,IAAIyE,EAAwB,UAAW,EAAG,IAAI30B,KAAK,qBACnEkuB,EAAgBgC,IAAIuE,EAAkB,YAAa,EAAG,IACtDvG,EAAgBgC,IAAIuE,EAAiB3R,SAAU,KAAM,IAAK,KAC1DoL,EAAgBgC,IAAIuE,EAAiB3R,SAAU,KAAM,IAAK,KAC1DoL,EAAgBgC,IAAIuE,EAAiB3R,SAAU,KAAM,IAAK,KAa1D4Q,EAAMxD,IAAIuE,GAGVjI,EAAM0D,IAAIyE,GAEVnI,EAAM0D,IAAIwD,GAIVjH,EAAS,IAAImE,MAAMmE,kBAClB,GACAvuC,OAAOwuC,WAAWxuC,OAAOyuC,YACzB,GACA,KAEDxI,EAAOzsB,KAAO,aACdysB,EAAO3J,SAAS/tB,IAAI,GAAI,GAAI,KAG5B,IAAImgC,EAAe,IAAItE,MAAMgE,aAAanI,GAC1CyI,EAAaJ,SAAU,EACvBtI,EAAM0D,IAAIgF,GAEVjH,EAAiBiC,IAAIgF,EAAc,UAAW,EAAG,IAAIl1B,KAAK,sBAC1DiuB,EAAiBiC,IAAIzD,EAAO3J,SAAU,KAAM,IAAK,KAAKmR,SACtDhG,EAAiBiC,IAAIzD,EAAO3J,SAAU,KAAM,IAAK,KAAKmR,SACtDhG,EAAiBiC,IAAIzD,EAAO3J,SAAU,KAAM,IAAK,KAAKmR,SAItDpG,EAAW,IAAI+C,MAAMuE,cACpB,CAAGC,OAAO,EACTC,WAAW,IAGbxH,EAASyH,UAAUC,SAAU,EAC7B1H,EAAS2H,QAAQhvC,OAAOwuC,WAAa,IAAKxuC,OAAOyuC,YAAc,KAG/DpH,EAASD,WAAWnB,OAASA,EAC7BoB,EAASD,WAAW6H,WAAa/B,EAAMjR,SAEvCoL,EAASD,WAAW8H,iBAAiB,cAAeC,IAAe,GACnE9H,EAASD,WAAW8H,iBAAiB,cAAeE,IAAe,GAGlElJ,EAAW,IAAIkE,MAAMiF,cAAcpJ,EAAQoB,EAASD,YACpDlB,EAASoJ,eAAgB,EACzBpJ,EAASqJ,cAAgB,IACzBrJ,EAASsJ,YAAa,EACtBtJ,EAASuJ,YAAc,GACvBvJ,EAASwJ,YAAa,EACtBxJ,EAASyJ,gBAAkB,IAC3BzJ,EAAS0J,YAAc,IACvB1J,EAAS2J,YAAc,IACvB3J,EAAS4J,cAAgB32B,KAAKq0B,GAAG,EAAI,IACrCtH,EAASprB,OAAS,IAAIsvB,MAAM2F,QAAQ,EAAG,EAAG,GAG1C1I,EAASD,WAAWlB,SAAWA,EAIhCoB,EAAYrW,SAAS+e,cAAc,UACnC1I,EAAU/mB,OAAO4lB,EAAIiB,YACrBE,EAAU/mB,OAAO8mB,EAASD,YACjBC,EAASD,WAIlB6I,GACC7H,EAAOn5B,KAAK+5B,UACZkE,EACAvB,GAQDxB,EAAU7X,KAAV,UAAmB8V,EAAOU,WAA1B,yCAA4E,SAAUvwB,GAErFA,EAAO23B,MAAQ,IAAI9F,MAAM+F,eAAgB53B,GACzCwvB,EAAOmI,MAAQ33B,EAAO23B,MACtBnI,EAAO1sB,KAAO9C,EAAO23B,MAAME,UAE3B73B,EAAOiB,KAAO,WAEdjB,EAAO83B,UAAU,SAAWC,GACtBA,EAAMC,SACVD,EAAME,YAAa,EACnBF,EAAMG,eAAgB,MAKxBnG,EAAchY,KAAd,UAAsB8V,EAAOU,WAA7B,0CAAgF,SAAS4H,GACxFn4B,EAAO83B,UAAU,SAAWC,GACtBA,EAAMC,SACVD,EAAM3C,SAASlxB,IAAMi0B,SAUxB3I,EAAOxvB,OAAS,IAAI6xB,MAAMuG,SAC1B5I,EAAOxvB,OAAOmxB,IAAInxB,GAElBwvB,EAAOxvB,OAAOq4B,MAAMriC,IAAI,KAAO,KAAO,MACtCw5B,EAAOxvB,OAAOg1B,SAASv8B,EAAImI,KAAKq0B,GAAG,EAKnCN,EAAMxD,IAAI3B,EAAOxvB,QACjBuvB,EAAgB4B,IAAI3B,EAAOxvB,OAAQ,WAAWiB,KAAK,kBAAkBi0B,SAOrEoD,EAAa1G,MAKd2G,GAAc5D,GACd6D,GAAgB7D,GAEhB8D,GAAY9D,GAOZ+D,GAAS/D,GAKM,IAAIgE,SAAS,CAC3BC,OAAQC,GACRC,KAAM/J,IAFP,IAOIgK,EAAU,SAAVA,IAEH,IAAMC,EAAK/G,EAAMgH,WAkBX,GAjBNC,GAAaxL,EAAQiH,EAAMjR,UAC3BiK,EAASwL,SACTC,MAAMD,SAENE,sBAAsBN,GAEjBlJ,EAAOS,UAGXqE,EAAMK,SAASzH,GAAK,WAIC13B,IAAjB25B,EAAOmI,OACXnI,EAAOmI,MAAMwB,OAAOH,GAGO,WAAjBxJ,EAAO8J,OAAsB,CACvC,IAAMC,EAAc/b,KAAKkS,MAAQF,EAAOC,WACnC8J,EAAc,KAAQ/J,EAAOgK,KAAKC,QAAU,IAChDC,GAAU,WAQZ,QAJqB7jC,IAAhB25B,EAAOgK,MACXG,GAAWX,QAGWnjC,GAAlB25B,EAAOoK,cAAiD/jC,GAAzB25B,EAAOoK,QAAQC,OAAsB,CACxEnM,EAAO3J,SAAS+V,KAAMtK,EAAOoK,QAAQC,OAAOE,iBAAiB,IAAIlI,MAAM2F,SAAY,KACnF,IAAM5T,EAAM4L,EAAOxvB,OAAO+jB,SAASiW,QACnCpW,EAAIrjB,GAAK,IACTmtB,EAAOuM,OAAOrW,GAUfkL,EAASoL,OAAOzM,EAAOC,IAGxBqL,IAGA,IAAIT,EAAe,SAAfA,EAAyB6B,GAC5B,IAAI5I,EAAO3B,EAAM//B,MAKjBsqC,EAAOpgB,KAAP,UAAgB8V,EAAOU,WAAvB,sBAA+CgB,EAA/C,SAA2D,SAASvxB,GAKnE2vB,EAAW4B,GAAQvxB,EAAO2vB,WAAW,GACjCC,EAAMxjC,OAAS,EAYlBksC,EAAa6B,IAObvK,EAAQ,GACR8J,GAAU,QACVX,SAQJ,SAASW,GAAUz4B,GAClB,IAAMq4B,EAAS9J,EAAOmI,MAAMyC,WAAYzK,EAAW1uB,IACnDq4B,EAAOe,KAAO,EACdzkB,QAAQ6D,IAAI,2BACZ7D,QAAQ6D,IAAI,+BACZ7D,QAAQ6D,IAAIkW,GACZ/Z,QAAQ6D,IAAI,2BACZ+V,EAAOmI,MAAM2C,gBACb9K,EAAO8J,OAASr4B,EAChBuuB,EAAOC,WAAajS,KAAKkS,MAMzB4J,EAAOiB,OAAO,IACdjB,EAAOkB,OAkCR,SAASb,GAAWX,GACnB,IAAMpV,EAAM4L,EAAOxvB,OAAO+jB,SAASiW,QACnCpW,EAAIrjB,GAAK,GACT,IAAI+d,EAAM,IAAIuT,MAAM2F,QACpBhI,EAAOxvB,OAAOy6B,kBAAkBnc,GAC5BkR,EAAOgK,KAAKC,QAAQ,GAAGnb,EAAIoc,SACf,IAAI7I,MAAMO,UAAUxO,EAAKtF,GAAzC,IACIqc,GAAU,EACI9K,EAAOkB,UASzB,IAAK4J,EACJ,GAAInL,EAAOgK,KAAKC,QAAQ,EAAE,CACzB,IAAMnkB,EAAwB,WAAfka,EAAO8J,OAAqB,GAAK,EAChD9J,EAAOxvB,OAAO46B,WAAW5B,EAAG1jB,QAEnBka,EAAOgK,KAAKC,QAAU,GAC/BjK,EAAOxvB,OAAO46B,WAAe,GAAH5B,GA+D5BxJ,EAAOxvB,OAAO66B,QAAQrL,EAAOgK,KAAKsB,KAAK9B,GAIxC,SAASH,GAAcY,EAASqB,GAE/BA,GAAQA,EAEHrB,EAAU,GACc,WAAjBjK,EAAO8J,QAAwC,WAAjB9J,EAAO8J,QAC/CI,GAAU,WAGFD,GAAW,GACQ,qBAAjBjK,EAAO8J,QACjBI,GAAU,sBAILD,EAAU,EACL74B,KAAKC,IAAIi6B,GAAQ,IACI,aAAjBtL,EAAO8J,QACpBI,GAAU,aAGe,QAAjBlK,EAAO8J,QACPI,GAAU,SAWdlK,EAAOgK,KAAO,CAAEC,UAASqB,QAoDjC,SAASvC,GAAc5D,GAEtB/C,EAAU7X,KAAV,UAAkB8V,EAAOU,WAAzB,mCAAqE,SAASvwB,GAE7E6vB,EAAOoB,UAAYjxB,EACnB6vB,EAAOkB,UAAY,GACnB/wB,EAAOg1B,SAASz0B,EAAWK,KAAKq0B,GAAG,IAAf,IACpBj1B,EAAO+jB,SAAS/tB,IAAI,EAAG,EAAG,KAE1BgK,EAAOq4B,MAAMriC,IAAI,IAAK,IAAK,KAC3By3B,EAAM0D,IAAInxB,GACVA,EAAO83B,UAAU,SAAWC,GACtBA,EAAMC,SACND,EAAM92B,KAAK2P,WAAW,UACzBif,EAAOkB,UAAUjjC,KAAKiqC,GACtBA,EAAM3C,SAASW,SAAU,IAEzBgC,EAAME,YAAa,EACnBF,EAAMG,eAAgB,OAKzBnG,EAAchY,KAAd,UAAsB8V,EAAOU,WAA7B,4BAAkE,SAAS4H,GAC1En4B,EAAO83B,UAAU,SAAWC,GACtBA,EAAMC,SACVD,EAAM3C,SAASlxB,IAAMi0B,YA2C1B,SAASK,GAAgB7D,GACxB/C,EAAU7X,KAAV,UAAkB8V,EAAOU,WAAzB,iCAAmE,SAASvwB,GAC3E6vB,EAAOoB,UAAYjxB,EACnB6vB,EAAOkB,UAAY,GACnB/wB,EAAOg1B,SAASz0B,EAAUK,KAAKq0B,GAAG,IAAd,GACpBj1B,EAAO+jB,SAAS/tB,IAAI,GAAI,GAAI,IAC5BgK,EAAOq4B,MAAMriC,IAAI,IAAK,IAAK,KAC3By3B,EAAM0D,IAAInxB,GACVA,EAAO83B,UAAU,SAAWC,GACtBA,EAAMC,SACND,EAAM92B,KAAK2P,WAAW,UACzBif,EAAOkB,UAAUjjC,KAAKiqC,GACtBA,EAAM3C,SAASW,SAAU,IAEzBgC,EAAME,YAAa,EACnBF,EAAMG,eAAgB,OAIzBnG,EAAchY,KAAd,UAAsB8V,EAAOU,WAA7B,4BAAkE,SAAS4H,GAC1En4B,EAAO83B,UAAU,SAAWC,GACtBA,EAAMC,SACVD,EAAM3C,SAASlxB,IAAMi0B,YAS1B,SAASM,GAAY9D,GAEpBoG,WAAWhhB,KAAX,UAAoB8V,EAAOU,WAA3B,qBAAyD,SAAUvwB,GAElE,IAAIg7B,EAAQh7B,EAAOytB,MACnBuN,EAAM/5B,KAAO,cACb+5B,EAAMjX,SAAS/tB,KAAK,EAAG,EAAG,GAE1BglC,EAAM3C,MAAMriC,IAAI,EAAG,EAAG,GACtBglC,EAAMlD,UAAU,SAAWC,GACrBA,EAAMC,SAASD,EAAME,YAAa,MAExCxK,EAAM0D,IAAI6J,GAOVplB,QAAQ6D,IAAI,2BACZ7D,QAAQ6D,IAAI,sCACZ7D,QAAQ6D,IAAIzZ,GACZ4V,QAAQ6D,IAAI,2BAEZ7D,QAAQ6D,IAAI,2BACZ7D,QAAQ6D,IAAI,qCACZ7D,QAAQ6D,IAAIuhB,GACZplB,QAAQ6D,IAAI,8BA0bd,SAASif,GAAS/D,GAEjB,IAAI7nC,EACAyO,EAAQ,EACR0/B,GAAU,GACVC,EAAU,EACVC,GAAU,IACVC,EAAU,GAGd,IAAMtuC,EAAI,EAAGA,GAAKyO,EAAOzO,IACxB8kC,EAAU7X,KAAV,UAAkB8V,EAAOU,WAAzB,2CAA6E,SAASvwB,GAUrFA,EAAO+jB,SAAS/tB,IAAIilC,EAAQ,EAAGE,GAC/BF,GAAkBC,EAClBC,GAAkBC,EAClBp7B,EAAOq4B,MAAMriC,IAAI,IAAM,IAAM,KAC7BgK,EAAO83B,UAAU,SAAWC,GACtBA,EAAMC,SAKTD,EAAME,YAAa,EACnBF,EAAMG,eAAgB,MAIzBnG,EAAchY,KAAd,UAAsB8V,EAAOU,WAA7B,0CAAgF,SAAS4H,GACxFn4B,EAAO83B,UAAU,SAAWC,GACtBA,EAAMC,SAEVD,EAAM3C,SAASiG,aAAc,EAC7BtD,EAAM3C,SAASkG,QAAU,GAEzBvD,EAAM3C,SAASlxB,IAAMi0B,SAKxB1K,EAAM0D,IAAInxB,GAEV4V,QAAQ6D,IAAI,2BACZ7D,QAAQ6D,IAAI,wBACZ7D,QAAQ6D,IAAIzZ,GACZ4V,QAAQ6D,IAAI,8BAOd,IAAM3sB,EAAI,EAAGA,GAAK,EAAGA,IACpB8kC,EAAU7X,KAAV,UAAkB8V,EAAOU,WAAzB,4CAA8E,SAASvwB,GAEtF4V,QAAQ6D,IAAI,2BACZ7D,QAAQ6D,IAAI,0BACZ7D,QAAQ6D,IAAIwhB,EAAQE,GACpBvlB,QAAQ6D,IAAI,2BAKZzZ,EAAO+jB,SAAS/tB,IAAIilC,EAAQ,EAAGE,GAC/BF,GAAkBC,EAClBC,GAAkBC,EAClBp7B,EAAOq4B,MAAMriC,IAAI,IAAM,IAAM,KAC7BgK,EAAO83B,UAAU,SAAWC,GACtBA,EAAMC,SAKTD,EAAME,YAAa,EACnBF,EAAMG,eAAgB,MAIzBnG,EAAchY,KAAd,UAAsB8V,EAAOU,WAA7B,0CAAgF,SAAS4H,GACxFn4B,EAAO83B,UAAU,SAAWC,GACtBA,EAAMC,SAEVD,EAAM3C,SAASiG,aAAc,EAC7BtD,EAAM3C,SAASkG,QAAU,GAEzBvD,EAAM3C,SAASlxB,IAAMi0B,SAKxB1K,EAAM0D,IAAInxB,GAEV4V,QAAQ6D,IAAI,2BACZ7D,QAAQ6D,IAAI,0BACZ7D,QAAQ6D,IAAIzZ,GACZ4V,QAAQ6D,IAAI,8BAYf,SAASie,GAAgB6D,EAAY5G,EAAOvB,GAE3Cxd,QAAQ6D,IAAI,6BACZ7D,QAAQ6D,IAAI,6BACZ7D,QAAQ6D,IAAI8hB,GACZ3lB,QAAQ6D,IAAI,6BAEZ,IAAI+hB,EAAqBD,EAAWjc,QAAO,SAAUl0B,GACpD,OAAOA,EAAIkoC,IAAImI,iBAAmBrI,KAMnCoI,EAAmB/5B,SAAS,SAASmV,GASpC,IAAI6Z,EAAY,CAChB,WAAuB,GACvB,SAAqB,GACrB,OAAmB,IACnBA,EAAUiL,WAAWjjC,EAAIC,SAASke,EAAI0c,IAAIqI,iBAC1ClL,EAAUiL,WAAWn7B,EAAI7H,SAASke,EAAI0c,IAAIsI,kBAC1CnL,EAAUiL,WAAWnO,EAAI70B,SAASke,EAAI0c,IAAIuI,kBAC1CpL,EAAU1M,SAAStrB,EAAIC,SAASke,EAAI0c,IAAIwI,sBACxCrL,EAAU1M,SAASxjB,EAAI7H,SAASke,EAAI0c,IAAIyI,sBACxCtL,EAAU1M,SAASwJ,EAAI70B,SAASke,EAAI0c,IAAI0I,sBACxCvL,EAAUwL,OAAO9D,QAAUvhB,EAAI0c,IAAI4I,wBACnCzL,EAAUwL,OAAOE,SAAWC,GAAiBxlB,GAC7C6Z,EAAU4L,MAAQzlB,EAAI0c,IAAIgJ,gBAC1B7L,EAAUlX,MAAQ3C,EAAI0c,IAAIiJ,gBAC1B9L,EAAU3S,MAAQlH,EAAIkH,MAAM0e,SAC5B/L,EAAUgM,OAAS7lB,EAAI2N,GACvBkM,EAAUiM,YAAc9lB,EAAIngB,QAAQ+lC,SACpC/L,EAAUkM,KAAO/lB,EAAI+lB,KAOrB,IAAIC,EAAYC,GACfpM,EAAU4L,MACV5L,EAAUiL,WAAWjjC,EACrBg4B,EAAUiL,WAAWn7B,EACrBkwB,EAAUiL,WAAWnO,EACrBkD,EAAUlX,OAYX,GAVAqjB,EAAU37B,KAAOwvB,EAAU3S,MAC3B8e,EAAUE,SAASjsC,KAAO,YAC1B+rC,EAAUE,SAASL,OAAShM,EAAUgM,OACtCG,EAAUE,SAASJ,YAAcjM,EAAUiM,YAC3CE,EAAUE,SAASC,WAAatM,EAAU3S,MAC1C8e,EAAUE,SAASH,KAAOlM,EAAUkM,KACpCC,EAAU7Y,SAAStrB,EAAIg4B,EAAU1M,SAAStrB,EAC1CmkC,EAAU7Y,SAASxjB,EAAIkwB,EAAU1M,SAASxjB,EAC1Cq8B,EAAU7Y,SAASwJ,EAAKqP,EAAUI,SAAStB,WAAWuB,MAAQ,EAAKxM,EAAU1M,SAASwJ,EACtFqP,EAAUxH,SAASC,UAAY,GACC,MAA5B5E,EAAUwL,OAAO9D,SAA+C,GAA5B1H,EAAUwL,OAAO9D,QAAkB,CAC1EyE,EAAUxH,SAASlxB,IAAM6tB,EAAchY,KAAK0W,EAAUwL,OAAO9D,SAC7D,IAAK,IAAIrrC,EAAI,EAAGA,EAAI8vC,EAAUxH,SAAShpC,OAAQU,IAAK,CAGnD8vC,EAAUxH,SAAStoC,GAAGoX,IAAM6tB,EAAchY,KAAK0W,EAAUwL,OAAO9D,SAKhE,IAAI+E,EAAsBN,EAAUxH,SAAStoC,GAAGoX,IAChDg5B,EAAoB3H,MAAQ1D,MAAM2D,eAClC0H,EAAoBzH,MAAQ5D,MAAM2D,eAClC0H,EAAoB5hC,OAAOtF,IAAI,EAAG,IAIpC2+B,EAAMxD,IAAIyL,GAaVO,GACCtN,EAAOn5B,KAAKg6B,IACZiE,EACAlE,EAAUgM,OACVG,EAAU7Y,SAAStrB,EAAGmkC,EAAU7Y,SAASxjB,EAAG,GAK7C,IAAI68B,EAAWC,GACdT,EAAU37B,KACV27B,EAAU7Y,SAAStrB,EACnBmkC,EAAU7Y,SAASxjB,EACnBkwB,EAAUiL,WAAWnO,EAAI,EACzBkD,EAAUgM,OACVG,EAAUE,SAASC,WACnBH,EAAUE,SAASH,MAEpBS,EAASn8B,KAAT,oBAA6B27B,EAAU37B,MACvCm8B,EAASrH,SAAU,EAEnB3G,EAAoB+B,IAAIiM,EAAU,WAAWn8B,KAAK,cAAci0B,SAEhEP,EAAMxD,IAAIiM,MAeZ,SAASD,GAAU5B,EAAY5G,EAAO2I,EAAaC,EAAYC,EAAYC,GAQ1E,IAAIjC,EAAqBD,EAAWjc,QAAO,SAAUl0B,GACpD,OAAOA,EAAIkoC,IAAIoK,eAAiBJ,KAMjC9B,EAAmB/5B,SAAS,SAASmV,GAQpC,IAAI8Z,EAAM,CACV,WAAiB,GACjB,SAAe,GACf,OAAa,IACbA,EAAIgL,WAAWjjC,EAAIC,SAASke,EAAI0c,IAAIqK,WAAa,GACjDjN,EAAIgL,WAAWn7B,EAAI7H,SAASke,EAAI0c,IAAIsK,YAAc,GAClDlN,EAAIgL,WAAWnO,EAAI70B,SAASke,EAAI0c,IAAIuK,YAAc,GAClDnN,EAAI3M,SAAStrB,EAAIC,SAASke,EAAI0c,IAAIwK,gBAAkB,GAAKP,EACzD7M,EAAI3M,SAASxjB,EAAI7H,SAASke,EAAI0c,IAAIyK,gBAAkB,GAAKP,EACzD9M,EAAI3M,SAASwJ,EAAI70B,SAASke,EAAI0c,IAAI0K,gBAAkB,GAAMtN,EAAIgL,WAAWnO,EAAI,EAC7EmD,EAAIuL,OAAO9D,QAAUvhB,EAAI0c,IAAI2K,kBAC7BvN,EAAIuL,OAAOE,SAAWC,GAAiBxlB,GACvC8Z,EAAI2L,MAAQzlB,EAAI0c,IAAI4K,UACpBxN,EAAInX,MAAQ3C,EAAI0c,IAAI6K,UACpBzN,EAAI5S,MAAQlH,EAAIkH,MAAM0e,SACtB9L,EAAI+L,OAAS7lB,EAAI2N,GACjBmM,EAAIgM,YAAc9lB,EAAIngB,QAAQ+lC,SAC9B9L,EAAIiM,KAAO/lB,EAAI+lB,KAOf,IAAIC,EAAYC,GACfnM,EAAI2L,MACJ3L,EAAIgL,WAAWjjC,EACfi4B,EAAIgL,WAAWn7B,EACfmwB,EAAIgL,WAAWnO,EACfmD,EAAInX,OAaL,GAXAqjB,EAAU37B,KAAOyvB,EAAI5S,MACrB8e,EAAUE,SAASjsC,KAAO,YAC1B+rC,EAAUE,SAASL,OAAS/L,EAAI+L,OAChCG,EAAUE,SAASJ,YAAchM,EAAIgM,YACrCE,EAAUE,SAASC,WAAarM,EAAI5S,MACpC8e,EAAUE,SAASH,KAAOjM,EAAIiM,KAC9BC,EAAU7Y,SAAStrB,EAAIi4B,EAAI3M,SAAStrB,EAAIi4B,EAAI3M,SAAStrB,EAAI,EACzDmkC,EAAU7Y,SAASxjB,EAAImwB,EAAI3M,SAASxjB,EAAImwB,EAAI3M,SAASxjB,EAAI,EACzDq8B,EAAU7Y,SAASwJ,EAAImD,EAAI3M,SAASwJ,EAAImD,EAAI3M,SAASwJ,EAAI,EAEzDqP,EAAUxH,SAASC,UAAY,GACL,MAAtB3E,EAAIuL,OAAO9D,SAAyC,GAAtBzH,EAAIuL,OAAO9D,QAAkB,CAC9DyE,EAAUxH,SAASlxB,IAAM6tB,EAAchY,KAAK2W,EAAIuL,OAAO9D,SACvD,IAAK,IAAIrrC,EAAI,EAAGA,EAAI8vC,EAAUxH,SAAShpC,OAAQU,IAAK,CAGnD8vC,EAAUxH,SAAStoC,GAAGoX,IAAM6tB,EAAchY,KAAK2W,EAAIuL,OAAO9D,SAK1D,IAAI+E,EAAsBN,EAAUxH,SAAStoC,GAAGoX,IAChDg5B,EAAoB3H,MAAQ1D,MAAM2D,eAClC0H,EAAoBzH,MAAQ5D,MAAM2D,eAClC0H,EAAoB5hC,OAAOtF,IAAI,EAAG,IAIpC2+B,EAAMxD,IAAIyL,GAEV/M,EAAOkB,UAAUjjC,KAAK8uC,GAStBwB,GACCvO,EAAOn5B,KAAKk6B,cACZ+D,EACAjE,EAAI+L,OACJG,EAAU7Y,SAAStrB,EAAGmkC,EAAU7Y,SAASxjB,EAAG,GAK7C,IAAI68B,EAAWC,GACdT,EAAU37B,KACV27B,EAAU7Y,SAAStrB,EACnBmkC,EAAU7Y,SAASxjB,EACnBmwB,EAAIgL,WAAWnO,EAAI,EACnBmD,EAAI+L,OACJG,EAAUE,SAASC,WACnBH,EAAUE,SAASH,MAEpBS,EAASn8B,KAAT,oBAA6B27B,EAAU37B,MACvCm8B,EAASrH,SAAU,EAEnB1G,EAAc8B,IAAIiM,EAAU,WAAWn8B,KAAK,cAAci0B,SAE1DP,EAAMxD,IAAIiM,MAeZ,SAASgB,GAAmB7C,EAAY5G,EAAO0J,EAAOd,EAAYC,EAAYC,GAQ7E,IAAIjC,EAAqB,GACrB8C,EAAU,GACd/C,EAAW95B,SAAQ,SAAUrW,GAC5BA,EAAIkoC,IAAIiL,iCAAiC98B,SAAQ,SAAS3U,GACpDA,EAAE0xC,mBAAqBH,GAI3BC,EAAQG,eAAerzC,GAAK,SAASuqB,GACpC,OAAOA,EAAE4O,KAAOn5B,EAAIm5B,SAIvBiX,EAAiB,UAAQ8C,MAU1B9C,EAAmB/5B,SAAS,SAASmV,GASpCA,EAAI0c,IAAIiL,iCAAiC98B,SAAQ,SAASi9B,GAOzD,GAAKA,EAAKF,mBAAqBH,EAAQ,CAGtC,IAAIM,EAAgB9O,EAAOn5B,KAAKi6B,MAAMrR,QAAO,SAAUl0B,GACtD,OAAOA,EAAIm5B,IAAMma,EAAKE,uBAQvBD,EAAcl9B,SAAQ,SAASo9B,GAM9B,IAAIlO,EAAQ,CACZ,WAAmB,GACnB,SAAiB,GACjB,OAAe,IACfA,EAAM+K,WAAWjjC,EAAIC,SAASmmC,EAAKvL,IAAIwL,aAAe,GACtDnO,EAAM+K,WAAWn7B,EAAI7H,SAASmmC,EAAKvL,IAAIyL,cAAgB,GACvDpO,EAAM+K,WAAWnO,EAAI70B,SAASmmC,EAAKvL,IAAI0L,cAAgB,GACvDrO,EAAM5M,SAAStrB,EAAIC,SAASgmC,EAAKO,kBAAoB,GAAK1B,EAC1D5M,EAAM5M,SAASxjB,EAAI7H,SAASgmC,EAAKQ,kBAAoB,GAAK1B,EAC1D7M,EAAM5M,SAASwJ,EAAI70B,SAASgmC,EAAKS,kBAAoB,GAAMxO,EAAM+K,WAAWnO,EAAI,EAChFoD,EAAMsL,OAAO9D,QAAU0G,EAAKvL,IAAI8L,oBAChCzO,EAAMsL,OAAOE,SAAWC,GAAiBxlB,GACzC+Z,EAAM0L,MAAQwC,EAAKvL,IAAI+L,YACvB1O,EAAMpX,MAAQslB,EAAKvL,IAAIgM,YACvB3O,EAAM7S,MAAQ+gB,EAAK/gB,MAAM0e,SACzB7L,EAAM8L,OAASoC,EAAKta,GACpBoM,EAAM+L,YAAcmC,EAAKpoC,QAAQ+lC,SACjC7L,EAAMgM,KAAOkC,EAAKlC,KAOlB,IAAIC,EAAYC,GACf,OACAlM,EAAM+K,WAAWjjC,EACjBk4B,EAAM+K,WAAWn7B,EACjBowB,EAAM+K,WAAWnO,EACjBoD,EAAMpX,OAaP,GAXAqjB,EAAU37B,KAAO0vB,EAAM7S,MACvB8e,EAAUE,SAASjsC,KAAO,YAC1B+rC,EAAUE,SAASL,OAAS9L,EAAM8L,OAClCG,EAAUE,SAASJ,YAAc/L,EAAM+L,YACvCE,EAAUE,SAASC,WAAapM,EAAM7S,MACtC8e,EAAUE,SAASH,KAAOhM,EAAMgM,KAChCC,EAAU7Y,SAAStrB,EAAIk4B,EAAM5M,SAAStrB,EAAIk4B,EAAM5M,SAAStrB,EAAI,EAC7DmkC,EAAU7Y,SAASxjB,EAAIowB,EAAM5M,SAASxjB,EAAIowB,EAAM5M,SAASxjB,EAAI,EAC7Dq8B,EAAU7Y,SAASwJ,EAAIoD,EAAM5M,SAASwJ,EAAIoD,EAAM5M,SAASwJ,EAAI,EAC7DqP,EAAU5H,SAASv8B,EAAImI,KAAKq0B,GAAK,EACjC2H,EAAUxH,SAASC,UAAY,GACH,MAAxB1E,EAAMsL,OAAO9D,SAA2C,GAAxBxH,EAAMsL,OAAO9D,QAAkB,CAClEyE,EAAUxH,SAASlxB,IAAM6tB,EAAchY,KAAK4W,EAAMsL,OAAO9D,SACzD,IAAK,IAAIrrC,EAAI,EAAGA,EAAI8vC,EAAUxH,SAAShpC,OAAQU,IAAK,CAGnD8vC,EAAUxH,SAAStoC,GAAGoX,IAAM6tB,EAAchY,KAAK4W,EAAMsL,OAAO9D,SAK5D,IAAI+E,EAAsBN,EAAUxH,SAAStoC,GAAGoX,IAChDg5B,EAAoB3H,MAAQ1D,MAAM2D,eAClC0H,EAAoBzH,MAAQ5D,MAAM2D,eAClC0H,EAAoB5hC,OAAOtF,IAAI,EAAG,IAIpC2+B,EAAMxD,IAAIyL,GAEV/M,EAAOkB,UAAUjjC,KAAK8uC,GAEtBhnB,QAAQ6D,IAAI,6BACZ7D,QAAQ6D,IAAI,6BACZ7D,QAAQ6D,IAAImjB,GACZhnB,QAAQ6D,IAAI,6BAIZ,IAAI2jB,EAAWC,GACdT,EAAU37B,KACV27B,EAAU7Y,SAAStrB,EACnBmkC,EAAU7Y,SAASxjB,EACnBowB,EAAM+K,WAAWnO,EAAI,EACrBoD,EAAM8L,OACNG,EAAUE,SAASC,WACnBH,EAAUE,SAASH,MAEpBS,EAASn8B,KAAT,oBAA6B27B,EAAU37B,MACvCm8B,EAASrH,SAAU,EAEnB1G,EAAc8B,IAAIiM,EAAU,WAAWn8B,KAAK,cAAci0B,SAE1DP,EAAMxD,IAAIiM,aAoBf,SAASP,GAAYR,EAAO5jC,EAAG8H,EAAGgtB,EAAGhU,GACpC,IAAIyjB,EACA5H,EACAmK,EACJ,OAAQlD,GACP,IAAK,MACJW,EAAW,IAAInL,MAAM2N,YAAY/mC,EAAG8H,EAAGgtB,GASvC6H,EAAW,IAAIvD,MAAM4N,qBAAqB,CACzCpE,aAAa,EACbC,QAAS,GACT/hB,MAAOA,EACPmmB,KAAM7N,MAAM8N,WACZC,YAAY,IAEbL,EAAO,IAAI1N,MAAMgO,KAChB7C,EACA,CACC5H,EAAUA,EACVA,EAAUA,IAGZmK,EAAKtH,YAAa,EAClB,MAED,IAAK,OACJ+E,EAAW,IAAInL,MAAMiO,aAAarnC,EAAE,EAAG8H,EAAE,EAAGgtB,EAAG,GAAI,GAAG,GACtD6H,EAAW,IAAIvD,MAAM4N,qBAAqB,CACzClmB,MAAOA,EACPmmB,KAAM7N,MAAM8N,aAEbJ,EAAO,IAAI1N,MAAMgO,KAAK7C,EAAU5H,GAChCmK,EAAKtH,YAAa,EAClBsH,EAAKvK,SAASv8B,EAAImI,KAAKq0B,GAAK,EAC5B,MAED,IAAK,WACJ+H,EAAW,IAAInL,MAAMkO,iBAAiBtnC,EAAE,EAAG8H,EAAE,EAAGgtB,EAAG,GAAI,GAAG,GAC1D6H,EAAW,IAAIvD,MAAM4N,qBAAqB,CACzClmB,MAAOA,EACPmmB,KAAM7N,MAAM8N,aAEbJ,EAAO,IAAI1N,MAAMgO,KAAK7C,EAAU5H,GAChCmK,EAAKtH,YAAa,EAClBsH,EAAKvK,SAASv8B,EAAImI,KAAKq0B,GAAK,EAC5B,MAED,IAAK,aACJ+H,EAAW,IAAInL,MAAMmO,eAAevnC,EAAG8H,EAAGgtB,GAC1C6H,EAAW,IAAIvD,MAAM4N,qBAAqB,CACzClmB,MAAOA,EACPmmB,KAAM7N,MAAM8N,aAEbJ,EAAO,IAAI1N,MAAMgO,KAAK7C,EAAU5H,GAChCmK,EAAKtH,YAAa,EAElB,MAED,IAAK,SACJ+E,EAAW,IAAInL,MAAMmO,eAAevnC,EAAG8H,EAAGgtB,GAC1C6H,EAAW,IAAIvD,MAAM4N,qBAAqB,CACzClmB,MAAOA,EACPmmB,KAAM7N,MAAM8N,aAEbJ,EAAO,IAAI1N,MAAMgO,KAAK7C,EAAU5H,GAChCmK,EAAKtH,YAAa,EAElB,MAED,IAAK,OACJ,IAAIgI,EAAO,IAAIpO,MAAMqO,KAAK,CACzBC,YAAc,EACd/zC,OAAc,EACdg0C,SAAc,EACdC,OAAc,GACdC,eAAiB,EACjBC,eAAiB,IAElBvD,EAAWnL,MAAM2O,aAAaC,MAAMR,GAEpC7K,EAAW,IAAIvD,MAAM4N,qBAAqB,CACzClmB,MAAOA,EACPmmB,KAAM7N,MAAM8N,aAEbJ,EAAO,IAAI1N,MAAMgO,KAAK7C,EAAU5H,GAChCmK,EAAKtH,YAAa,EAElB,MAED,IAAK,OAEJ+E,EAAW,IAAInL,MAAM6O,aAAajoC,EAAG8H,EAAGgtB,GAGxChU,EAAQ,IAAIsY,MAAM6C,MAAM,iBACxBU,EAAW,IAAIvD,MAAM8O,kBAAkB,CAAEpnB,MAAOA,EAAOqnB,WAAW,IAClErB,EAAO,IAAI1N,MAAMgO,KAAK7C,EAAU5H,GAEhC3H,EAAM0D,IAAIoO,GACVA,EAAKsB,OAAOC,gBAAgB,GAAG,IAAI,GACnCvB,EAAKwB,kBAAmB,EAExB,IAAIC,EAAS,EACTC,EAAS,IACTC,EAAS,IAEb,SAASC,EAAKpqC,EAAGqqC,EAAK9nB,GACrB,GAAGviB,EAAI,EAAG,CACT,IAAIsqC,EAAU,IAAIxP,MAAMyP,QACpBC,EAAW,IAAI1P,MAAMyP,QACrBE,EAAa,IAAI3P,MAAMyP,QACvBG,EAAY,IAAI5P,MAAMyP,QACtBI,EAAY,IAAI7P,MAAMyP,QACtBK,EAAa,IAAI9P,MAAMyP,QACvBM,EAAY,IAAI/P,MAAMyP,QAEtBO,GADOT,EAAIpH,QACJ1gB,EAAE0gB,SACT8H,EAAOxoB,EAAE0gB,QAEb6H,EAAKE,GAAK,IAAKf,EACf5L,EAAW,IAAIvD,MAAM8O,kBAAmB,CAAEpnB,MAAMsoB,EAAMjB,WAAW,IACjErB,EAAO,IAAI1N,MAAMgO,KAAK7C,EAAU5H,GAChCoM,EAAWV,gBAAgBG,EAAO,EAAE,EAAE,GACtCQ,EAAUX,gBAAgB,EAAEI,EAAO,GACnCQ,EAAUM,eAAephC,KAAKq0B,GAAG,GACjC0M,EAAWM,cAAcrhC,KAAKq0B,GAAG,GACjC2M,EAAUM,UAAU,IAAK,IAAK,KAC9Bb,EAAQc,SAASR,GACjBN,EAAQc,SAASX,GACjBH,EAAQc,SAAST,GACjBL,EAAQc,SAASP,GACjBP,EAAQc,SAASV,GACjBJ,EAAQc,SAASf,GACjB7B,EAAKsB,OAAO1uB,KAAKkvB,GACjB9B,EAAKwB,kBAAiB,EACtBxB,EAAK6C,cAAa,EAClB3U,EAAM0D,IAAIoO,GACV4B,EAAKpqC,EAAE,EAAGwoC,EAAKsB,OAAO7G,QAAS6H,GAG/BC,EAAKC,GAAK,IAAKf,EACf5L,EAAW,IAAIvD,MAAM8O,kBAAmB,CAAEpnB,MAAMuoB,EAAMlB,WAAW,IACjErB,EAAO,IAAI1N,MAAMgO,KAAK7C,EAAU5H,GAChCoM,EAAWV,iBAAiBG,EAAO,EAAE,EAAE,GACvCQ,EAAUX,gBAAgB,EAAEI,EAAO,GACnCQ,EAAUM,cAAcphC,KAAKq0B,GAAG,GAChC0M,EAAWM,cAAcrhC,KAAKq0B,GAAG,GACjC2M,EAAUM,UAAU,IAAK,IAAK,KAC9BX,EAASY,SAASR,GAClBJ,EAASY,SAASX,GAClBD,EAASY,SAAST,GAClBH,EAASY,SAASP,GAClBL,EAASY,SAASV,GAClBF,EAASY,SAASf,GAClB7B,EAAKsB,OAAO1uB,KAAKovB,GACjBhC,EAAKwB,kBAAiB,EACtBxB,EAAK6C,cAAa,EAClB3U,EAAM0D,IAAIoO,GACV4B,EAAKpqC,EAAE,EAAGwoC,EAAKsB,OAAO7G,QAAS8H,IAIjCX,EAAKH,EAAQzB,EAAKsB,OAAQtnB,GAE3B,QACCyjB,EAAW,IAAInL,MAAM2N,YAAY/mC,EAAG8H,EAAGgtB,GACvC6H,EAAW,IAAIvD,MAAM4N,qBAAqB,CACzClmB,MAAOA,EACPmmB,KAAM7N,MAAM8N,aAEbJ,EAAO,IAAI1N,MAAMgO,KAAK7C,EAAU5H,GAChCmK,EAAKtH,YAAa,EAClB,MAGF,OAAOsH,EAGR,SAAS3K,GAASn8B,EAAG8H,EAAGgZ,GACvB,IAAIyjB,EAAW,IAAInL,MAAMwQ,cAAc5pC,EAAG8H,GACtC60B,EAAW,IAAIvD,MAAM4N,qBAAqB,CAC7ClmB,MAAOA,EACPmmB,KAAM7N,MAAM8N,aAETJ,EAAO,IAAI1N,MAAMgO,KAAK7C,EAAU5H,GAEpC,OADAmK,EAAKrH,eAAgB,EACdqH,EAqBR,SAAS5J,GAAoBpc,EAAO+oB,GACnC,IAAIC,EAAQ,IAAI1Q,MAAM2Q,iBAAiBjpB,EAAO+oB,GAW9C,OAVAC,EAAMtK,YAAa,EACnBsK,EAAMzM,OAAOhwB,KAAU,KACvBy8B,EAAMzM,OAAO2M,QAAQC,MAAS,KAC9BH,EAAMzM,OAAO2M,QAAQlO,OAAS,KAC9BgO,EAAMzM,OAAOpI,OAAOiV,MAAS,IAC7BJ,EAAMzM,OAAOpI,OAAOkV,QAAW,IAC/BL,EAAMzM,OAAOpI,OAAOmV,MAAS,IAC7BN,EAAMzM,OAAOpI,OAAOoV,IAAO,IAC3BP,EAAMzM,OAAOpI,OAAOqV,KAAQ,GAC5BR,EAAMzM,OAAOpI,OAAOsV,IAAO,IACpBT,EAiER,SAASlF,GAAmB9iB,EAAS0oB,EAAWC,EAAWC,EAAW1G,EAAQ2G,EAAazG,GAI1F,IAAIC,EAAYC,GACf,aACA,GACA,GACA,GACA,SAEDD,EAAU37B,KAAOsZ,EACjBqiB,EAAUE,SAASjsC,KAAO,WAC1B+rC,EAAUE,SAASL,OAASA,EAC5BG,EAAUE,SAASJ,YAAc,GACjCE,EAAUE,SAASC,WAAaqG,EAChCxG,EAAUE,SAASH,KAAOA,EAI1BC,EAAU7Y,SAAS/tB,IAAIitC,EAAWC,EAAWC,GAG7CvG,EAAU7G,SAAU,EAMpB,IAAIsN,EAAS,IAAIxR,MAAM2F,QAAQoF,EAAU7Y,SAAStrB,EAAGmkC,EAAU7Y,SAASxjB,EAAG,GAK3E8iC,EAAOC,QAAQ5V,GAEf2V,EAAO5qC,EAAImI,KAAKE,OAAO,GAAMuiC,EAAO5qC,EAAI,IAAMq2B,EAASD,WAAW6T,MAAQj7C,OAAO87C,mBACjFF,EAAO9iC,EAAIK,KAAKE,OAAO,GAAMuiC,EAAO9iC,EAAI,IAAMuuB,EAASD,WAAW0F,OAAS9sC,OAAO87C,mBAMlF,IAAIC,EAAaH,EAAO5qC,EACpBgrC,EAAcJ,EAAO9iC,EAKrBw8B,EAAa2G,GAChB9G,EAAUE,SAASH,KACnBC,EAAU37B,KACVuiC,EACAC,GAiBD,OAfA1G,EAAW97B,KAAX,sBAAiC27B,EAAU37B,MAC3C87B,EAAWD,SAASjsC,KAAO,aAC3BksC,EAAWD,SAASL,OAASA,EAC7BM,EAAWD,SAASJ,YAAc,GAClCK,EAAWD,SAASC,WAAaH,EAAU37B,KAC3C87B,EAAWD,SAASH,KAAOA,EAC3BI,EAAWhH,SAAU,EAOrB6G,EAAUzL,IAAI4L,GAEPH,EAGR,SAAS8G,GAAe/G,EAAMyG,EAAaH,EAAWC,GAErD,IAAIS,EAAUjrB,SAASkrB,cAAc,OACrCD,EAAQE,UAAU1S,IAAI,cACtBwS,EAAQG,UAAR,yBACYnH,EADZ,6BACqCyG,EADrC,sBAEIH,EAFJ,aAEkBC,EAFlB,qEAKAS,EAAQI,QAAS,EACjBJ,EAAQ/qB,MAAMorB,QAAU,OACxBL,EAAQ/qB,MAAMkqB,IAAd,UAAuBI,EAAvB,MACGS,EAAQ/qB,MAAM+pB,KAAd,UAAwBM,EAAxB,MACH3T,EAAqB6B,IAAIwS,EAAS,UAAUzO,SAC5C5F,EAAqB6B,IAAIwS,EAAQ/qB,MAAO,WAAWsc,SACnD5F,EAAqB6B,IAAIwS,EAAQ/qB,MAAO,OAAOsc,SAC/C5F,EAAqB6B,IAAIwS,EAAQ/qB,MAAO,QAAQsc,SAChDxc,SAAS+L,KAAKwf,YAAaN,GAG3BO,GAAYP,GAEZ,IAAIQ,EAAY,CAAErH,SAAU,IAc5B,OAAOqH,EA2HR,SAASjL,GAAaxL,EAAQgJ,GAG7BvE,EAAUiS,cAAc/R,EAAS3E,GAMjC,IAAM2W,EAAalS,EAAUmS,iBAAiB5N,GAG9C,GAAK2N,EAAWj4C,OAAS,GAWxB,GAAKi4C,EAAW,GAAGrkC,QAAU6vB,EAAOgB,mBAAqB,CAGxD,GAAKhB,EAAOgB,mBACX,GAA4D,SAAvDhB,EAAOgB,mBAAmBuE,SAASruB,YAAY9F,KACnD,IAAK,IAAInU,EAAI,EAAGA,EAAI+iC,EAAOgB,mBAAmBuE,SAAShpC,OAAQU,IAC9D+iC,EAAOgB,mBAAmBuE,SAAStoC,GAAGysB,MAAMgrB,OAAQ1U,EAAOgB,mBAAmB2T,iBAI/E3U,EAAOgB,mBAAmBuE,SAAS7b,MAAMgrB,OAAQ1U,EAAOgB,mBAAmB2T,YAY7E,GAPA3U,EAAOgB,mBAAqBwT,EAAW,GAAGrkC,OAOkB,SAAvD6vB,EAAOgB,mBAAmBuE,SAASruB,YAAY9F,KAAkB,CAGrE,IAAK,IAAI,EAAI,EAAG,EAAI4uB,EAAOgB,mBAAmBuE,SAAShpC,OAAQ,IAC9DyjC,EAAOgB,mBAAmB2T,WAAa3U,EAAOgB,mBAAmBuE,SAAS,GAAG7b,MAAMkrB,SAGpF,IAAK,IAAI,EAAI,EAAG,EAAI5U,EAAOgB,mBAAmBuE,SAAShpC,OAAQ,IAC9DyjC,EAAOgB,mBAAmBuE,SAAS,GAAG7b,MAAMgrB,OAAQ,eAMrD1U,EAAOgB,mBAAmB2T,WAAa3U,EAAOgB,mBAAmBuE,SAAS7b,MAAMkrB,SAEhF5U,EAAOgB,mBAAmBuE,SAAS7b,MAAMgrB,OAAQ,eAM/C,CAEJ,GAAK1U,EAAOgB,mBACX,GAA4D,SAAvDhB,EAAOgB,mBAAmBuE,SAASruB,YAAY9F,KACnD,IAAK,IAAI,EAAI,EAAG,EAAI4uB,EAAOgB,mBAAmBuE,SAAShpC,OAAQ,IAC9DyjC,EAAOgB,mBAAmBuE,SAAS,GAAG7b,MAAMgrB,OAAQ1U,EAAOgB,mBAAmB2T,iBAI/E3U,EAAOgB,mBAAmBuE,SAAS7b,MAAMgrB,OAAQ1U,EAAOgB,mBAAmB2T,YAK7E3U,EAAOgB,mBAAqB,MAO9B,SAAS+F,GAAenkC,GAWvB4/B,EAAQ55B,EAAKhG,EAAMyoC,SAAWzzC,OAAOwuC,WAAa,KAAQ,EAAI,EAC9D5D,EAAQ9xB,GAAM9N,EAAMiyC,SAAWj9C,OAAOyuC,YAAc,KAAQ,EAAI,EASjE,SAASW,GAAcpkC,GAgBtB4/B,EAAQ55B,EAAKhG,EAAMyoC,SAAWzzC,OAAOwuC,WAAa,KAAQ,EAAI,EAC9D5D,EAAQ9xB,GAAM9N,EAAMiyC,SAAWj9C,OAAOyuC,YAAc,KAAQ,EAAI,EAiBhE,IAAIyO,EAAa,IAAI9S,MAAMO,UAC3BuS,EAAWP,cAAc/R,EAAS5/B,EAAM8P,OAAOmrB,QAW/C,IAAI2W,EAAaM,EAAWL,iBAAkB7xC,EAAM8P,OAAOm0B,YAO3D,GAAK2N,EAAWj4C,OAAS,EACzB,CAOC,IAAIw4C,EAAuBP,EAAW,GAAGrkC,OAoDzC,GAjCK6vB,EAAOiB,mBAUZjB,EAAOiB,mBAAqB8T,EAuBqB,cAA5C/U,EAAOiB,mBAAmBgM,SAASjsC,MAAwC,GAAhB4B,EAAMoyC,OAAc,CAEnF,IAAIC,EAAiBrX,EAAMsX,gBAAN,oBAAoClV,EAAOiB,mBAAmB7vB,OAC9E6jC,KAC2B,IAA3BA,EAAe/O,QAClB+O,EAAe/O,SAAU,EAGzB+O,EAAe/O,SAAU,GAU5BlG,EAAOiB,mBAAmBpN,SAASjiB,SAAS,SAASmV,GAgBlC,aAAbA,EAAI/lB,MAAuC,GAAhB4B,EAAMoyC,UACV,IAAvBjuB,EAAIouB,QAAQjB,QAMfntB,EAAIouB,QAAQjB,QAAS,EACrBntB,EAAIouB,QAAQpsB,MAAMorB,QAAU,QAC5BptB,EAAImf,SAAU,IAOdnf,EAAIouB,QAAQjB,QAAS,EACrBntB,EAAIouB,QAAQpsB,MAAMorB,QAAU,OAC5BptB,EAAImf,SAAU,YA+BZlG,EAAOiB,mBAKZjB,EAAOiB,mBAAqB,KAsB9B,SAASoT,GAAYe,GAOpB,IAAwBC,EAAO,EAAGC,EAAO,EAUzC,SAASC,EAAczvB,GACtBA,EAAIA,GAAKluB,OAAOgL,MAChBkjB,EAAE0vB,iBAEFH,EAAOvvB,EAAE2vB,QACTH,EAAOxvB,EAAE4vB,QAOT7sB,SAAS8sB,UAAYC,EAErB/sB,SAASgtB,YAAcC,EAGxB,SAASA,EAAYhwB,GACpBA,EAAIA,GAAKluB,OAAOgL,MAChBkjB,EAAE0vB,iBAEKH,EAAOvvB,EAAE2vB,QACTH,EAAOxvB,EAAE4vB,QAChBL,EAAOvvB,EAAE2vB,QACTH,EAAOxvB,EAAE4vB,QAUTN,EAAMrsB,MAAMkqB,IAAOqC,EAAQ,KAC3BF,EAAMrsB,MAAM+pB,KAAQuC,EAAQ,KAG7B,SAASO,IAER/sB,SAAS8sB,UAAY,KACrB9sB,SAASgtB,YAAc,KAjDpBhtB,SAASktB,eAAeX,EAAM1gB,GAAK,UAEtC7L,SAASktB,eAAeX,EAAM1gB,GAAK,UAAUshB,YAAcT,EAG3DH,EAAMY,YAAcT,EA0JtB,SAAShJ,GAAkBb,GAC1B,IAAIuK,EAAY,GAEhB,OAAK,IAAMvK,EAAWwK,iBAIrBD,EAAUE,eAAiBzK,EAAW0K,UAAU,oBAAoB,GACpEH,EAAUI,OAASJ,EAAUE,eAAeG,WAC5CL,EAAUM,aAAe,GACzBN,EAAUO,YAAc,GACxBP,EAAUQ,SAAWR,EAAUE,eAAeO,cAAc7D,MAC5DoD,EAAUU,UAAYV,EAAUE,eAAeO,cAAchS,OACzDuR,EAAUE,eAAeO,cAAcE,MAAM7lB,eAAe,WAC/DklB,EAAUQ,SAAWR,EAAUE,eAAeO,cAAcE,MAAMC,KAAKhE,MACvEoD,EAAUU,UAAYV,EAAUE,eAAeO,cAAcE,MAAMC,KAAKnS,OACxEuR,EAAUO,YAAcP,EAAUE,eAAeO,cAAcE,MAAME,MAAMR,WAAc,aAZnFL,EA/FTlzC,MAAMtH,UAAUs7C,QAAU,SAASC,GAC/B,IAAI,IAAI/5C,EAAI,EAAGA,EAAIjE,KAAKuD,OAAQU,IAC5B,GAAI+5C,EAASh+C,KAAKiE,IAAK,OAAO,EAElC,OAAO,GAKX8F,MAAMtH,UAAUmzC,eAAiB,SAASuG,EAAS6B,GAC1Ch+C,KAAK+9C,QAAQC,IACdh+C,KAAKiF,KAAKk3C,IA8JH,QACd/jC,KAAM,eACN6lC,MAAO,CACN1a,IAAK3wB,OACL4wB,SAAU5wB,S,oCOnhGZ,MAAMsrC,GAA2B,KAAgB,GAAQ,CAAC,CAAC,SAAS,GAAQ,CAAC,YAAY,qBAE1E,iB,oCCRf,IAAItnB,EAAW,EAAQ,QACnBunB,EAAkB,EAAQ,QAC1Bz2B,EAAW,EAAQ,QAIvB5pB,EAAOD,QAAU,SAAc6J,GAC7B,IAAIyvB,EAAIP,EAAS52B,MACbuD,EAASmkB,EAASyP,EAAE5zB,QACpB8zB,EAAkBvlB,UAAUvO,OAC5BiO,EAAQ2sC,EAAgB9mB,EAAkB,EAAIvlB,UAAU,QAAK9E,EAAWzJ,GACxE6K,EAAMipB,EAAkB,EAAIvlB,UAAU,QAAK9E,EAC3CoxC,OAAiBpxC,IAARoB,EAAoB7K,EAAS46C,EAAgB/vC,EAAK7K,GAC/D,MAAO66C,EAAS5sC,EAAO2lB,EAAE3lB,KAAW9J,EACpC,OAAOyvB,I,oCCdT,IAAI5d,EAAI,EAAQ,QACZ8kC,EAAY,EAAQ,QACpBC,EAA6B,EAAQ,QACrCC,EAAU,EAAQ,QAClBC,EAAU,EAAQ,QAItBjlC,EAAE,CAAEG,OAAQ,UAAW+kC,MAAM,GAAQ,CACnCzU,WAAY,SAAoB13B,GAC9B,IAAI8kB,EAAIp3B,KACJ0+C,EAAaJ,EAA2B7/C,EAAE24B,GAC1Cx2B,EAAU89C,EAAW99C,QACrBmuB,EAAS2vB,EAAW3vB,OACpB/oB,EAASu4C,GAAQ,WACnB,IAAII,EAAiBN,EAAUjnB,EAAEx2B,SAC7Bg+C,EAAS,GACT7iC,EAAU,EACV8iC,EAAY,EAChBL,EAAQlsC,GAAU,SAAU+c,GAC1B,IAAI7d,EAAQuK,IACR+iC,GAAgB,EACpBF,EAAO35C,UAAK+H,GACZ6xC,IACAF,EAAex/C,KAAKi4B,EAAG/H,GAASL,MAAK,SAAUtnB,GACzCo3C,IACJA,GAAgB,EAChBF,EAAOptC,GAAS,CAAE44B,OAAQ,YAAa1iC,MAAOA,KAC5Cm3C,GAAaj+C,EAAQg+C,OACtB,SAAU9xB,GACPgyB,IACJA,GAAgB,EAChBF,EAAOptC,GAAS,CAAE44B,OAAQ,WAAY2U,OAAQjyB,KAC5C+xB,GAAaj+C,EAAQg+C,YAGzBC,GAAaj+C,EAAQg+C,MAGzB,OADI54C,EAAO/G,OAAO8vB,EAAO/oB,EAAO0B,OACzBg3C,EAAWrvB,Y,mCCxCtB,YAEA,IAII2vB,EACAC,EACA90C,EANAhM,EAAY,EAAQ,QAAmBA,UACvC+gD,EAAY,EAAQ,QAOxB,SAASC,IACP,IAAIF,EAAQ,IAAI9gD,EAoBhB,OAnBA8gD,EAAMhqC,OAAS,SAAU1M,EAAOqD,EAAUkC,GACxCkxC,EAAWI,KAAK,CACdvxC,KAAMtF,EAAMiC,OACZ60C,QAAS,WACPvxC,KAEFwxC,KAAM,SAAUC,GACdzxC,EAAK,IAAI2K,MAAM8mC,QAIrBN,EAAMrrB,OAAS,SAAoBnF,GACjCuwB,EAAWjZ,MAAM,CACfsZ,QAAS,WACP5wB,QAKCwwB,EAGT,SAASO,EAAgBhgD,GAClBA,EAAKG,WACRH,EAAKG,SAAW,aAEbH,EAAKgB,OACRhB,EAAKgB,KAAO,KAGThB,EAAKigD,YACRjgD,EAAKigD,UAAY,IAIrB,SAASC,EAAUlgD,EAAMD,GACvB,IAAIU,EAA6B,QAAlBT,EAAKS,SAAqB,MAAQ,KAC7CiC,EAAMjC,EAAW,MAAQT,EAAKG,SAAWH,EAAKgB,KAOlD,OANIhB,EAAKC,MAAsB,KAAdD,EAAKC,MAA6B,MAAdD,EAAKC,OACxCyC,EAAMjC,EAAW,MAAQT,EAAKG,SAAW,IAAMH,EAAKC,KAAOD,EAAKgB,MAE7B,oBAAzBhB,EAAmB,iBAC7B0C,EAAM1C,EAAKmgD,eAAez9C,EAAK1C,EAAMD,IAEhC2C,EAGT,SAAS09C,IACPZ,EAAWa,QAAO,WAChB11C,EAAOovB,YAAY0lB,GACnB90C,EAAOmvB,YAAY2lB,GACnB90C,EAAO2C,KAAK,cAGdkyC,EAAWc,WAAU,SAAUpuC,GAC7B,IAAI7D,EAAO6D,EAAI7D,KAEkBA,EAA7BA,aAAgBkyC,YAAoB73C,EAAOM,KAAKqF,GACxC3F,EAAOM,KAAKqF,EAAM,QAC9BoxC,EAAMh6C,KAAK4I,MAGbmxC,EAAWgB,SAAQ,WACjB71C,EAAOiE,MACPjE,EAAO8B,aAGT+yC,EAAWlW,SAAQ,SAAUp3B,GAC3BvH,EAAO8B,QAAQ,IAAIwM,MAAM/G,EAAI6tC,YAIjC,SAASU,EAAa1gD,EAAQC,GAG5B,GAFAA,EAAKG,SAAWH,EAAKG,UAAYH,EAAKE,MAEjCF,EAAKG,SACR,MAAM,IAAI8Y,MAAM,oDAGlB,IAAIynC,EACmB,WAApB1gD,EAAK2hB,YAAsD,IAAzB3hB,EAAK6hB,gBACpC,WACA,OAENm+B,EAAehgD,GAEf,IAAI0C,EAAMw9C,EAASlgD,EAAMD,GACzBy/C,EAAamB,GAAGC,cAAc,CAC5Bl+C,IAAKA,EACLm+C,UAAW,CAACH,KAGdjB,EAAQE,IACRh1C,EAAS+0C,EAAU38C,MACnB4H,EAAO+B,SAAW,SAAUoB,EAAKC,GAC/ByxC,EAAWjZ,MAAM,CACfsZ,QAAS,WACP9xC,GAAMA,EAAGD,OAKf,IAAIgzC,EAAan2C,EAAO8B,QAgBxB,OAfA9B,EAAO8B,QAAU,WACf9B,EAAO8B,QAAUq0C,EAEjB,IAAIxxC,EAAO9O,KACX60B,YAAW,WACTmqB,EAAWjZ,MAAM,CACfuZ,KAAM,WACJxwC,EAAK5C,SAAS,IAAIuM,YAGrB,IACHvG,KAAK/H,GAEPy1C,IAEOz1C,EAGTrM,EAAOD,QAAUoiD,I,+DCpIjB,IAAIM,EAAc,EAAQ,QACtBC,EAAuB,EAAQ,QAC/BC,EAA2B,EAAQ,QAEvC3iD,EAAOD,QAAU,SAAUsZ,EAAQ4W,EAAKrmB,GACtC,IAAIg5C,EAAcH,EAAYxyB,GAC1B2yB,KAAevpC,EAAQqpC,EAAqB/hD,EAAE0Y,EAAQupC,EAAaD,EAAyB,EAAG/4C,IAC9FyP,EAAOupC,GAAeh5C,I,uBCR7B,IAAI8K,EAAyB,EAAQ,QAEjCmuC,EAAO,KAIX7iD,EAAOD,QAAU,SAAU2d,EAAQolC,EAAKC,EAAWn5C,GACjD,IAAIuzB,EAAIroB,OAAOJ,EAAuBgJ,IAClCslC,EAAK,IAAMF,EAEf,MADkB,KAAdC,IAAkBC,GAAM,IAAMD,EAAY,KAAOjuC,OAAOlL,GAAOvE,QAAQw9C,EAAM,UAAY,KACtFG,EAAK,IAAM7lB,EAAI,KAAO2lB,EAAM,M,qCCVrC,cAyBA,IAAI1iD,EAHJJ,EAAOD,QAAUG,EAMjBA,EAAS4J,cAAgBA,EAGhB,EAAQ,QAAUC,aAA3B,IAEIC,EAAkB,SAAyBC,EAASC,GACtD,OAAOD,EAAQE,UAAUD,GAAMzE,QAO7BxF,EAAS,EAAQ,QAIjBmK,EAAS,EAAQ,QAAUA,OAE3BC,EAAgBC,EAAOC,YAAc,aAEzC,SAASC,EAAoBC,GAC3B,OAAOL,EAAOM,KAAKD,GAGrB,SAASE,EAAclG,GACrB,OAAO2F,EAAOQ,SAASnG,IAAQA,aAAe4F,EAKhD,IAEI9I,EAFAsJ,EAAY,EAAQ,GAKtBtJ,EADEsJ,GAAaA,EAAUC,SACjBD,EAAUC,SAAS,UAEnB,aAKV,IAcIC,EACAC,EACAN,EAhBAO,EAAa,EAAQ,QAErBC,EAAc,EAAQ,QAEtBC,EAAW,EAAQ,QACnBC,EAAmBD,EAASC,iBAE5BC,EAAiB,EAAQ,QAAaC,MACtCC,EAAuBF,EAAeE,qBACtCC,EAA4BH,EAAeG,0BAC3CC,EAA6BJ,EAAeI,2BAC5CC,EAAqCL,EAAeK,mCAOxD,EAAQ,OAAR,CAAoBxL,EAAUD,GAE9B,IAAI0L,EAAiBT,EAAYS,eAC7BC,EAAe,CAAC,QAAS,QAAS,UAAW,QAAS,UAE1D,SAASC,EAAgB5B,EAAS6B,EAAOC,GAGvC,GAAuC,oBAA5B9B,EAAQ4B,gBAAgC,OAAO5B,EAAQ4B,gBAAgBC,EAAOC,GAKpF9B,EAAQ+B,SAAY/B,EAAQ+B,QAAQF,GAAuCG,MAAMC,QAAQjC,EAAQ+B,QAAQF,IAAS7B,EAAQ+B,QAAQF,GAAO1E,QAAQ2E,GAAS9B,EAAQ+B,QAAQF,GAAS,CAACC,EAAI9B,EAAQ+B,QAAQF,IAA5J7B,EAAQkC,GAAGL,EAAOC,GAGrE,SAASjC,EAAcsC,EAASC,EAAQC,GACtClM,EAASA,GAAU,EAAQ,QAC3BgM,EAAUA,GAAW,GAMG,mBAAbE,IAAwBA,EAAWD,aAAkBjM,GAGhE8B,KAAKqK,aAAeH,EAAQG,WACxBD,IAAUpK,KAAKqK,WAAarK,KAAKqK,cAAgBH,EAAQI,oBAG7DtK,KAAKuK,cAAgBrB,EAAiBlJ,KAAMkK,EAAS,wBAAyBE,GAI9EpK,KAAKwK,OAAS,IAAIzB,EAClB/I,KAAKuD,OAAS,EACdvD,KAAKyK,MAAQ,KACbzK,KAAK0K,WAAa,EAClB1K,KAAK2K,QAAU,KACf3K,KAAK4K,OAAQ,EACb5K,KAAK6K,YAAa,EAClB7K,KAAK8K,SAAU,EAKf9K,KAAK+K,MAAO,EAGZ/K,KAAKgL,cAAe,EACpBhL,KAAKiL,iBAAkB,EACvBjL,KAAKkL,mBAAoB,EACzBlL,KAAKmL,iBAAkB,EACvBnL,KAAKoL,QAAS,EAEdpL,KAAKqL,WAAkC,IAAtBnB,EAAQmB,UAEzBrL,KAAKsL,cAAgBpB,EAAQoB,YAE7BtL,KAAKuL,WAAY,EAIjBvL,KAAKwL,gBAAkBtB,EAAQsB,iBAAmB,OAElDxL,KAAKyL,WAAa,EAElBzL,KAAK0L,aAAc,EACnB1L,KAAK2L,QAAU,KACf3L,KAAK4L,SAAW,KAEZ1B,EAAQ0B,WACL/C,IAAeA,EAAgB,EAAQ,QAAmBA,eAC/D7I,KAAK2L,QAAU,IAAI9C,EAAcqB,EAAQ0B,UACzC5L,KAAK4L,SAAW1B,EAAQ0B,UAI5B,SAAS5N,EAASkM,GAEhB,GADAhM,EAASA,GAAU,EAAQ,UACrB8B,gBAAgBhC,GAAW,OAAO,IAAIA,EAASkM,GAGrD,IAAIE,EAAWpK,gBAAgB9B,EAC/B8B,KAAK6L,eAAiB,IAAIjE,EAAcsC,EAASlK,KAAMoK,GAEvDpK,KAAK8L,UAAW,EAEZ5B,IAC0B,oBAAjBA,EAAQ6B,OAAqB/L,KAAKgM,MAAQ9B,EAAQ6B,MAC9B,oBAApB7B,EAAQ+B,UAAwBjM,KAAKkM,SAAWhC,EAAQ+B,UAGrElO,EAAOoB,KAAKa,MAiEd,SAASmM,EAAiBhC,EAAQ5B,EAAOqD,EAAUQ,EAAYC,GAC7DhN,EAAM,mBAAoBkJ,GAC1B,IAMM+D,EANFC,EAAQpC,EAAO0B,eAEnB,GAAc,OAAVtD,EACFgE,EAAMzB,SAAU,EAChB0B,EAAWrC,EAAQoC,QAKnB,GAFKF,IAAgBC,EAAKG,EAAaF,EAAOhE,IAE1C+D,EACF7C,EAAeU,EAAQmC,QAClB,GAAIC,EAAMlC,YAAc9B,GAASA,EAAMhF,OAAS,EAKrD,GAJqB,kBAAVgF,GAAuBgE,EAAMlC,YAAcxL,OAAO6N,eAAenE,KAAWL,EAAOzF,YAC5F8F,EAAQD,EAAoBC,IAG1B6D,EACEG,EAAM1B,WAAYpB,EAAeU,EAAQ,IAAIX,GAA2CmD,EAASxC,EAAQoC,EAAOhE,GAAO,QACtH,GAAIgE,EAAM3B,MACfnB,EAAeU,EAAQ,IAAIb,OACtB,IAAIiD,EAAMhB,UACf,OAAO,EAEPgB,EAAMzB,SAAU,EAEZyB,EAAMZ,UAAYC,GACpBrD,EAAQgE,EAAMZ,QAAQiB,MAAMrE,GACxBgE,EAAMlC,YAA+B,IAAjB9B,EAAMhF,OAAcoJ,EAASxC,EAAQoC,EAAOhE,GAAO,GAAYsE,EAAc1C,EAAQoC,IAE7GI,EAASxC,EAAQoC,EAAOhE,GAAO,QAGzB6D,IACVG,EAAMzB,SAAU,EAChB+B,EAAc1C,EAAQoC,IAO1B,OAAQA,EAAM3B,QAAU2B,EAAMhJ,OAASgJ,EAAMhC,eAAkC,IAAjBgC,EAAMhJ,QAGtE,SAASoJ,EAASxC,EAAQoC,EAAOhE,EAAO6D,GAClCG,EAAM5B,SAA4B,IAAjB4B,EAAMhJ,SAAiBgJ,EAAMxB,MAChDwB,EAAMd,WAAa,EACnBtB,EAAO2C,KAAK,OAAQvE,KAGpBgE,EAAMhJ,QAAUgJ,EAAMlC,WAAa,EAAI9B,EAAMhF,OACzC6I,EAAYG,EAAM/B,OAAOtF,QAAQqD,GAAYgE,EAAM/B,OAAOvF,KAAKsD,GAC/DgE,EAAMvB,cAAc+B,EAAa5C,IAGvC0C,EAAc1C,EAAQoC,GAGxB,SAASE,EAAaF,EAAOhE,GAC3B,IAAI+D,EAMJ,OAJK7D,EAAcF,IAA2B,kBAAVA,QAAgCyE,IAAVzE,GAAwBgE,EAAMlC,aACtFiC,EAAK,IAAIjD,EAAqB,QAAS,CAAC,SAAU,SAAU,cAAed,IAGtE+D,EAjITzN,OAAO4I,eAAezJ,EAASyE,UAAW,YAAa,CAIrDwK,YAAY,EACZC,IAAK,WACH,YAA4BF,IAAxBhN,KAAK6L,gBAIF7L,KAAK6L,eAAeN,WAE7B4B,IAAK,SAAazF,GAGX1H,KAAK6L,iBAMV7L,KAAK6L,eAAeN,UAAY7D,MAGpC1J,EAASyE,UAAUwJ,QAAUjD,EAAYiD,QACzCjO,EAASyE,UAAU2K,WAAapE,EAAYqE,UAE5CrP,EAASyE,UAAUyJ,SAAW,SAAUoB,EAAKC,GAC3CA,EAAGD,IAOLtP,EAASyE,UAAUwC,KAAO,SAAUsD,EAAOqD,GACzC,IACIS,EADAE,EAAQvM,KAAK6L,eAkBjB,OAfKU,EAAMlC,WAYTgC,GAAiB,EAXI,kBAAV9D,IACTqD,EAAWA,GAAYW,EAAMf,gBAEzBI,IAAaW,EAAMX,WACrBrD,EAAQL,EAAOM,KAAKD,EAAOqD,GAC3BA,EAAW,IAGbS,GAAiB,GAMdF,EAAiBnM,KAAMuI,EAAOqD,GAAU,EAAOS,IAIxDrO,EAASyE,UAAUyC,QAAU,SAAUqD,GACrC,OAAO4D,EAAiBnM,KAAMuI,EAAO,MAAM,GAAM,IAyEnDvK,EAASyE,UAAU+K,SAAW,WAC5B,OAAuC,IAAhCxN,KAAK6L,eAAelB,SAI7B3M,EAASyE,UAAUgL,YAAc,SAAUC,GACpC7E,IAAeA,EAAgB,EAAQ,QAAmBA,eAC/D,IAAI8C,EAAU,IAAI9C,EAAc6E,GAChC1N,KAAK6L,eAAeF,QAAUA,EAE9B3L,KAAK6L,eAAeD,SAAW5L,KAAK6L,eAAeF,QAAQC,SAE3D,IAAIxG,EAAIpF,KAAK6L,eAAerB,OAAOmD,KAC/BC,EAAU,GAEd,MAAa,OAANxI,EACLwI,GAAWjC,EAAQiB,MAAMxH,EAAEyI,MAC3BzI,EAAIA,EAAE0I,KAOR,OAJA9N,KAAK6L,eAAerB,OAAOuD,QAEX,KAAZH,GAAgB5N,KAAK6L,eAAerB,OAAOvF,KAAK2I,GACpD5N,KAAK6L,eAAetI,OAASqK,EAAQrK,OAC9BvD,MAIT,IAAIgO,EAAU,WAEd,SAASC,EAAwBC,GAgB/B,OAfIA,GAAKF,EAEPE,EAAIF,GAIJE,IACAA,GAAKA,IAAM,EACXA,GAAKA,IAAM,EACXA,GAAKA,IAAM,EACXA,GAAKA,IAAM,EACXA,GAAKA,IAAM,GACXA,KAGKA,EAKT,SAASC,EAAcD,EAAG3B,GACxB,OAAI2B,GAAK,GAAsB,IAAjB3B,EAAMhJ,QAAgBgJ,EAAM3B,MAAc,EACpD2B,EAAMlC,WAAmB,EAEzB6D,IAAMA,EAEJ3B,EAAM5B,SAAW4B,EAAMhJ,OAAegJ,EAAM/B,OAAOmD,KAAKE,KAAKtK,OAAmBgJ,EAAMhJ,QAIxF2K,EAAI3B,EAAMhC,gBAAegC,EAAMhC,cAAgB0D,EAAwBC,IACvEA,GAAK3B,EAAMhJ,OAAe2K,EAEzB3B,EAAM3B,MAKJ2B,EAAMhJ,QAJXgJ,EAAMvB,cAAe,EACd,IAsGX,SAASwB,EAAWrC,EAAQoC,GAE1B,GADAlN,EAAM,eACFkN,EAAM3B,MAAV,CAEA,GAAI2B,EAAMZ,QAAS,CACjB,IAAIpD,EAAQgE,EAAMZ,QAAQyC,MAEtB7F,GAASA,EAAMhF,SACjBgJ,EAAM/B,OAAOvF,KAAKsD,GAClBgE,EAAMhJ,QAAUgJ,EAAMlC,WAAa,EAAI9B,EAAMhF,QAIjDgJ,EAAM3B,OAAQ,EAEV2B,EAAMxB,KAIRgC,EAAa5C,IAGboC,EAAMvB,cAAe,EAEhBuB,EAAMtB,kBACTsB,EAAMtB,iBAAkB,EACxBoD,EAAclE,MAQpB,SAAS4C,EAAa5C,GACpB,IAAIoC,EAAQpC,EAAO0B,eACnBxM,EAAM,eAAgBkN,EAAMvB,aAAcuB,EAAMtB,iBAChDsB,EAAMvB,cAAe,EAEhBuB,EAAMtB,kBACT5L,EAAM,eAAgBkN,EAAM5B,SAC5B4B,EAAMtB,iBAAkB,EACxBqD,EAAQC,SAASF,EAAelE,IAIpC,SAASkE,EAAclE,GACrB,IAAIoC,EAAQpC,EAAO0B,eACnBxM,EAAM,gBAAiBkN,EAAMhB,UAAWgB,EAAMhJ,OAAQgJ,EAAM3B,OAEvD2B,EAAMhB,YAAcgB,EAAMhJ,SAAUgJ,EAAM3B,QAC7CT,EAAO2C,KAAK,YACZP,EAAMtB,iBAAkB,GAS1BsB,EAAMvB,cAAgBuB,EAAM5B,UAAY4B,EAAM3B,OAAS2B,EAAMhJ,QAAUgJ,EAAMhC,cAC7EiE,EAAKrE,GASP,SAAS0C,EAAc1C,EAAQoC,GACxBA,EAAMb,cACTa,EAAMb,aAAc,EACpB4C,EAAQC,SAASE,EAAgBtE,EAAQoC,IAI7C,SAASkC,EAAetE,EAAQoC,GAwB9B,OAAQA,EAAMzB,UAAYyB,EAAM3B,QAAU2B,EAAMhJ,OAASgJ,EAAMhC,eAAiBgC,EAAM5B,SAA4B,IAAjB4B,EAAMhJ,QAAe,CACpH,IAAImL,EAAMnC,EAAMhJ,OAGhB,GAFAlE,EAAM,wBACN8K,EAAO4B,KAAK,GACR2C,IAAQnC,EAAMhJ,OAChB,MAGJgJ,EAAMb,aAAc,EAgJtB,SAASiD,EAAYC,GACnB,OAAO,WACL,IAAIrC,EAAQqC,EAAI/C,eAChBxM,EAAM,cAAekN,EAAMd,YACvBc,EAAMd,YAAYc,EAAMd,aAEH,IAArBc,EAAMd,YAAoB3D,EAAgB8G,EAAK,UACjDrC,EAAM5B,SAAU,EAChB6D,EAAKI,KAqHX,SAASC,EAAwBC,GAC/B,IAAIvC,EAAQuC,EAAKjD,eACjBU,EAAMrB,kBAAoB4D,EAAKC,cAAc,YAAc,EAEvDxC,EAAMpB,kBAAoBoB,EAAMnB,OAGlCmB,EAAM5B,SAAU,EACPmE,EAAKC,cAAc,QAAU,GACtCD,EAAKE,SAIT,SAASC,EAAiBH,GACxBzP,EAAM,4BACNyP,EAAK/C,KAAK,GAqBZ,SAASiD,EAAO7E,EAAQoC,GACjBA,EAAMpB,kBACToB,EAAMpB,iBAAkB,EACxBmD,EAAQC,SAASW,EAAS/E,EAAQoC,IAItC,SAAS2C,EAAQ/E,EAAQoC,GACvBlN,EAAM,SAAUkN,EAAMzB,SAEjByB,EAAMzB,SACTX,EAAO4B,KAAK,GAGdQ,EAAMpB,iBAAkB,EACxBhB,EAAO2C,KAAK,UACZ0B,EAAKrE,GACDoC,EAAM5B,UAAY4B,EAAMzB,SAASX,EAAO4B,KAAK,GAgBnD,SAASyC,EAAKrE,GACZ,IAAIoC,EAAQpC,EAAO0B,eACnBxM,EAAM,OAAQkN,EAAM5B,SAEpB,MAAO4B,EAAM5B,SAA6B,OAAlBR,EAAO4B,SA4HjC,SAASoD,EAASjB,EAAG3B,GAEnB,OAAqB,IAAjBA,EAAMhJ,OAAqB,MAE3BgJ,EAAMlC,WAAY+E,EAAM7C,EAAM/B,OAAO/D,SAAkByH,GAAKA,GAAK3B,EAAMhJ,QAEtD6L,EAAf7C,EAAMZ,QAAeY,EAAM/B,OAAOpH,KAAK,IAAqC,IAAxBmJ,EAAM/B,OAAOjH,OAAoBgJ,EAAM/B,OAAO6E,QAAmB9C,EAAM/B,OAAOjJ,OAAOgL,EAAMhJ,QACnJgJ,EAAM/B,OAAOuD,SAGbqB,EAAM7C,EAAM/B,OAAO8E,QAAQpB,EAAG3B,EAAMZ,SAE/ByD,GATP,IAAIA,EAYN,SAASG,EAAYpF,GACnB,IAAIoC,EAAQpC,EAAO0B,eACnBxM,EAAM,cAAekN,EAAM1B,YAEtB0B,EAAM1B,aACT0B,EAAM3B,OAAQ,EACd0D,EAAQC,SAASiB,EAAejD,EAAOpC,IAI3C,SAASqF,EAAcjD,EAAOpC,GAG5B,GAFA9K,EAAM,gBAAiBkN,EAAM1B,WAAY0B,EAAMhJ,SAE1CgJ,EAAM1B,YAA+B,IAAjB0B,EAAMhJ,SAC7BgJ,EAAM1B,YAAa,EACnBV,EAAO2B,UAAW,EAClB3B,EAAO2C,KAAK,OAERP,EAAMjB,aAAa,CAGrB,IAAImE,EAAStF,EAAOuF,iBAEfD,GAAUA,EAAOnE,aAAemE,EAAOpR,WAC1C8L,EAAO8B,WAgBf,SAASnJ,EAAQ6M,EAAIC,GACnB,IAAK,IAAI3L,EAAI,EAAGO,EAAImL,EAAGpM,OAAQU,EAAIO,EAAGP,IACpC,GAAI0L,EAAG1L,KAAO2L,EAAG,OAAO3L,EAG1B,OAAQ,EA3tBVjG,EAASyE,UAAUsJ,KAAO,SAAUmC,GAClC7O,EAAM,OAAQ6O,GACdA,EAAI2B,SAAS3B,EAAG,IAChB,IAAI3B,EAAQvM,KAAK6L,eACbiE,EAAQ5B,EAKZ,GAJU,IAANA,IAAS3B,EAAMtB,iBAAkB,GAI3B,IAANiD,GAAW3B,EAAMvB,gBAA0C,IAAxBuB,EAAMhC,cAAsBgC,EAAMhJ,QAAUgJ,EAAMhC,cAAgBgC,EAAMhJ,OAAS,IAAMgJ,EAAM3B,OAGlI,OAFAvL,EAAM,qBAAsBkN,EAAMhJ,OAAQgJ,EAAM3B,OAC3B,IAAjB2B,EAAMhJ,QAAgBgJ,EAAM3B,MAAO2E,EAAYvP,MAAW+M,EAAa/M,MACpE,KAKT,GAFAkO,EAAIC,EAAcD,EAAG3B,GAEX,IAAN2B,GAAW3B,EAAM3B,MAEnB,OADqB,IAAjB2B,EAAMhJ,QAAcgM,EAAYvP,MAC7B,KAyBT,IA4BIoP,EA5BAW,EAASxD,EAAMvB,aAgDnB,OA/CA3L,EAAM,gBAAiB0Q,IAEF,IAAjBxD,EAAMhJ,QAAgBgJ,EAAMhJ,OAAS2K,EAAI3B,EAAMhC,iBACjDwF,GAAS,EACT1Q,EAAM,6BAA8B0Q,IAKlCxD,EAAM3B,OAAS2B,EAAMzB,SACvBiF,GAAS,EACT1Q,EAAM,mBAAoB0Q,IACjBA,IACT1Q,EAAM,WACNkN,EAAMzB,SAAU,EAChByB,EAAMxB,MAAO,EAEQ,IAAjBwB,EAAMhJ,SAAcgJ,EAAMvB,cAAe,GAE7ChL,KAAKgM,MAAMO,EAAMhC,eAEjBgC,EAAMxB,MAAO,EAGRwB,EAAMzB,UAASoD,EAAIC,EAAc2B,EAAOvD,KAIpC6C,EAAPlB,EAAI,EAASiB,EAASjB,EAAG3B,GAAkB,KAEnC,OAAR6C,GACF7C,EAAMvB,aAAeuB,EAAMhJ,QAAUgJ,EAAMhC,cAC3C2D,EAAI,IAEJ3B,EAAMhJ,QAAU2K,EAChB3B,EAAMd,WAAa,GAGA,IAAjBc,EAAMhJ,SAGHgJ,EAAM3B,QAAO2B,EAAMvB,cAAe,GAEnC8E,IAAU5B,GAAK3B,EAAM3B,OAAO2E,EAAYvP,OAGlC,OAARoP,GAAcpP,KAAK8M,KAAK,OAAQsC,GAC7BA,GAwHTpR,EAASyE,UAAUuJ,MAAQ,SAAUkC,GACnCzE,EAAezJ,KAAM,IAAIuJ,EAA2B,aAGtDvL,EAASyE,UAAUuN,KAAO,SAAUC,EAAMC,GACxC,IAAItB,EAAM5O,KACNuM,EAAQvM,KAAK6L,eAEjB,OAAQU,EAAM7B,YACZ,KAAK,EACH6B,EAAM9B,MAAQwF,EACd,MAEF,KAAK,EACH1D,EAAM9B,MAAQ,CAAC8B,EAAM9B,MAAOwF,GAC5B,MAEF,QACE1D,EAAM9B,MAAMxF,KAAKgL,GACjB,MAGJ1D,EAAM7B,YAAc,EACpBrL,EAAM,wBAAyBkN,EAAM7B,WAAYwF,GACjD,IAAIC,IAAUD,IAA6B,IAAjBA,EAAS9B,MAAkB6B,IAAS3B,EAAQ8B,QAAUH,IAAS3B,EAAQ+B,OAC7FC,EAAQH,EAAQI,EAAQC,EAI5B,SAASC,EAAS3E,EAAU4E,GAC1BrR,EAAM,YAEFyM,IAAa8C,GACX8B,IAAwC,IAA1BA,EAAWC,aAC3BD,EAAWC,YAAa,EACxBC,KAKN,SAASL,IACPlR,EAAM,SACN4Q,EAAK7B,MAhBH7B,EAAM1B,WAAYyD,EAAQC,SAAS+B,GAAY1B,EAAIiC,KAAK,MAAOP,GACnEL,EAAKhG,GAAG,SAAUwG,GAsBlB,IAAIK,EAAUnC,EAAYC,GAC1BqB,EAAKhG,GAAG,QAAS6G,GACjB,IAAIC,GAAY,EAEhB,SAASH,IACPvR,EAAM,WAEN4Q,EAAKe,eAAe,QAASC,GAC7BhB,EAAKe,eAAe,SAAUE,GAC9BjB,EAAKe,eAAe,QAASF,GAC7Bb,EAAKe,eAAe,QAASG,GAC7BlB,EAAKe,eAAe,SAAUP,GAC9B7B,EAAIoC,eAAe,MAAOT,GAC1B3B,EAAIoC,eAAe,MAAOR,GAC1B5B,EAAIoC,eAAe,OAAQI,GAC3BL,GAAY,GAMRxE,EAAMd,YAAgBwE,EAAKP,iBAAkBO,EAAKP,eAAe2B,WAAYP,IAKnF,SAASM,EAAO7I,GACdlJ,EAAM,UACN,IAAI+P,EAAMa,EAAKrD,MAAMrE,GACrBlJ,EAAM,aAAc+P,IAER,IAARA,KAKwB,IAArB7C,EAAM7B,YAAoB6B,EAAM9B,QAAUwF,GAAQ1D,EAAM7B,WAAa,IAAqC,IAAhC5H,EAAQyJ,EAAM9B,MAAOwF,MAAkBc,IACpH1R,EAAM,8BAA+BkN,EAAMd,YAC3Cc,EAAMd,cAGRmD,EAAI0C,SAMR,SAASH,EAAQ7E,GACfjN,EAAM,UAAWiN,GACjBkE,IACAP,EAAKe,eAAe,QAASG,GACU,IAAnCrJ,EAAgBmI,EAAM,UAAgBxG,EAAewG,EAAM3D,GAMjE,SAAS2E,IACPhB,EAAKe,eAAe,SAAUE,GAC9BV,IAKF,SAASU,IACP7R,EAAM,YACN4Q,EAAKe,eAAe,QAASC,GAC7BT,IAKF,SAASA,IACPnR,EAAM,UACNuP,EAAI4B,OAAOP,GAWb,OA7DArB,EAAI3E,GAAG,OAAQmH,GA+BfzH,EAAgBsG,EAAM,QAASkB,GAO/BlB,EAAKY,KAAK,QAASI,GAQnBhB,EAAKY,KAAK,SAAUK,GAQpBjB,EAAKnD,KAAK,OAAQ8B,GAEbrC,EAAM5B,UACTtL,EAAM,eACNuP,EAAII,UAGCiB,GAgBTjS,EAASyE,UAAU+N,OAAS,SAAUP,GACpC,IAAI1D,EAAQvM,KAAK6L,eACb6E,EAAa,CACfC,YAAY,GAGd,GAAyB,IAArBpE,EAAM7B,WAAkB,OAAO1K,KAEnC,GAAyB,IAArBuM,EAAM7B,WAER,OAAIuF,GAAQA,IAAS1D,EAAM9B,QACtBwF,IAAMA,EAAO1D,EAAM9B,OAExB8B,EAAM9B,MAAQ,KACd8B,EAAM7B,WAAa,EACnB6B,EAAM5B,SAAU,EACZsF,GAAMA,EAAKnD,KAAK,SAAU9M,KAAM0Q,IANK1Q,KAW3C,IAAKiQ,EAAM,CAET,IAAIsB,EAAQhF,EAAM9B,MACdiE,EAAMnC,EAAM7B,WAChB6B,EAAM9B,MAAQ,KACd8B,EAAM7B,WAAa,EACnB6B,EAAM5B,SAAU,EAEhB,IAAK,IAAI1G,EAAI,EAAGA,EAAIyK,EAAKzK,IACvBsN,EAAMtN,GAAG6I,KAAK,SAAU9M,KAAM,CAC5B2Q,YAAY,IAIhB,OAAO3Q,KAIT,IAAIwR,EAAQ1O,EAAQyJ,EAAM9B,MAAOwF,GACjC,OAAe,IAAXuB,IACJjF,EAAM9B,MAAMlD,OAAOiK,EAAO,GAC1BjF,EAAM7B,YAAc,EACK,IAArB6B,EAAM7B,aAAkB6B,EAAM9B,MAAQ8B,EAAM9B,MAAM,IACtDwF,EAAKnD,KAAK,SAAU9M,KAAM0Q,IAJD1Q,MAU3BhC,EAASyE,UAAUwH,GAAK,SAAUwH,EAAI5H,GACpC,IAAI6H,EAAM3T,EAAO0E,UAAUwH,GAAG9K,KAAKa,KAAMyR,EAAI5H,GACzC0C,EAAQvM,KAAK6L,eAuBjB,MArBW,SAAP4F,GAGFlF,EAAMrB,kBAAoBlL,KAAK+O,cAAc,YAAc,GAErC,IAAlBxC,EAAM5B,SAAmB3K,KAAKgP,UAClB,aAAPyC,IACJlF,EAAM1B,YAAe0B,EAAMrB,oBAC9BqB,EAAMrB,kBAAoBqB,EAAMvB,cAAe,EAC/CuB,EAAM5B,SAAU,EAChB4B,EAAMtB,iBAAkB,EACxB5L,EAAM,cAAekN,EAAMhJ,OAAQgJ,EAAMzB,SAErCyB,EAAMhJ,OACRwJ,EAAa/M,MACHuM,EAAMzB,SAChBwD,EAAQC,SAASU,EAAkBjP,QAKlC0R,GAGT1T,EAASyE,UAAUkP,YAAc3T,EAASyE,UAAUwH,GAEpDjM,EAASyE,UAAUuO,eAAiB,SAAUS,EAAI5H,GAChD,IAAI6H,EAAM3T,EAAO0E,UAAUuO,eAAe7R,KAAKa,KAAMyR,EAAI5H,GAYzD,MAVW,aAAP4H,GAOFnD,EAAQC,SAASM,EAAyB7O,MAGrC0R,GAGT1T,EAASyE,UAAUmP,mBAAqB,SAAUH,GAChD,IAAIC,EAAM3T,EAAO0E,UAAUmP,mBAAmBC,MAAM7R,KAAM8R,WAY1D,MAVW,aAAPL,QAA4BzE,IAAPyE,GAOvBnD,EAAQC,SAASM,EAAyB7O,MAGrC0R,GAuBT1T,EAASyE,UAAUuM,OAAS,WAC1B,IAAIzC,EAAQvM,KAAK6L,eAYjB,OAVKU,EAAM5B,UACTtL,EAAM,UAINkN,EAAM5B,SAAW4B,EAAMrB,kBACvB8D,EAAOhP,KAAMuM,IAGfA,EAAMnB,QAAS,EACRpL,MAuBThC,EAASyE,UAAU6O,MAAQ,WAUzB,OATAjS,EAAM,wBAAyBW,KAAK6L,eAAelB,UAEf,IAAhC3K,KAAK6L,eAAelB,UACtBtL,EAAM,SACNW,KAAK6L,eAAelB,SAAU,EAC9B3K,KAAK8M,KAAK,UAGZ9M,KAAK6L,eAAeT,QAAS,EACtBpL,MAeThC,EAASyE,UAAUsP,KAAO,SAAU5H,GAClC,IAAI6H,EAAQhS,KAERuM,EAAQvM,KAAK6L,eACbT,GAAS,EA0Bb,IAAK,IAAInH,KAzBTkG,EAAOF,GAAG,OAAO,WAGf,GAFA5K,EAAM,eAEFkN,EAAMZ,UAAYY,EAAM3B,MAAO,CACjC,IAAIrC,EAAQgE,EAAMZ,QAAQyC,MACtB7F,GAASA,EAAMhF,QAAQyO,EAAM/M,KAAKsD,GAGxCyJ,EAAM/M,KAAK,SAEbkF,EAAOF,GAAG,QAAQ,SAAU1B,GAI1B,GAHAlJ,EAAM,gBACFkN,EAAMZ,UAASpD,EAAQgE,EAAMZ,QAAQiB,MAAMrE,MAE3CgE,EAAMlC,YAAyB,OAAV9B,QAA4ByE,IAAVzE,KAAuCgE,EAAMlC,YAAgB9B,GAAUA,EAAMhF,QAA3C,CAE7E,IAAI6L,EAAM4C,EAAM/M,KAAKsD,GAEhB6G,IACHhE,GAAS,EACTjB,EAAOmH,aAKGnH,OACI6C,IAAZhN,KAAKiE,IAAyC,oBAAdkG,EAAOlG,KACzCjE,KAAKiE,GAAK,SAAoBgO,GAC5B,OAAO,WACL,OAAO9H,EAAO8H,GAAQJ,MAAM1H,EAAQ2H,YAF9B,CAIR7N,IAKN,IAAK,IAAIiK,EAAI,EAAGA,EAAIxE,EAAanG,OAAQ2K,IACvC/D,EAAOF,GAAGP,EAAawE,GAAIlO,KAAK8M,KAAKoF,KAAKlS,KAAM0J,EAAawE,KAc/D,OATAlO,KAAKgM,MAAQ,SAAUkC,GACrB7O,EAAM,gBAAiB6O,GAEnB9C,IACFA,GAAS,EACTjB,EAAO6E,WAIJhP,MAGa,oBAAXmS,SACTnU,EAASyE,UAAU0P,OAAOC,eAAiB,WAKzC,YAJ0CpF,IAAtClE,IACFA,EAAoC,EAAQ,SAGvCA,EAAkC9I,QAI7CnB,OAAO4I,eAAezJ,EAASyE,UAAW,wBAAyB,CAIjEwK,YAAY,EACZC,IAAK,WACH,OAAOlN,KAAK6L,eAAetB,iBAG/B1L,OAAO4I,eAAezJ,EAASyE,UAAW,iBAAkB,CAI1DwK,YAAY,EACZC,IAAK,WACH,OAAOlN,KAAK6L,gBAAkB7L,KAAK6L,eAAerB,UAGtD3L,OAAO4I,eAAezJ,EAASyE,UAAW,kBAAmB,CAI3DwK,YAAY,EACZC,IAAK,WACH,OAAOlN,KAAK6L,eAAelB,SAE7BwC,IAAK,SAAaZ,GACZvM,KAAK6L,iBACP7L,KAAK6L,eAAelB,QAAU4B,MAKpCvO,EAASqU,UAAYlD,EACrBtQ,OAAO4I,eAAezJ,EAASyE,UAAW,iBAAkB,CAI1DwK,YAAY,EACZC,IAAK,WACH,OAAOlN,KAAK6L,eAAetI,UAoDT,oBAAX4O,SACTnU,EAASwK,KAAO,SAAU8J,EAAU9S,GAKlC,YAJawN,IAATxE,IACFA,EAAO,EAAQ,SAGVA,EAAKxK,EAAUsU,EAAU9S,O,oECvlCpC,IAAI8oB,EAAwB,EAAQ,QAAmBlf,MAAMkf,sBAE7D,SAASC,EAAkBre,EAASE,EAAUoe,GAC5C,OAAgC,MAAzBte,EAAQK,cAAwBL,EAAQK,cAAgBH,EAAWF,EAAQse,GAAa,KAGjG,SAAStf,EAAiBqD,EAAOrC,EAASse,EAAWpe,GACnD,IAAIqe,EAAMF,EAAkBre,EAASE,EAAUoe,GAE/C,GAAW,MAAPC,EAAa,CACf,IAAMlQ,SAASkQ,IAAQ1Q,KAAKmD,MAAMuN,KAASA,GAAQA,EAAM,EAAG,CAC1D,IAAIrQ,EAAOhO,EAAWoe,EAAY,gBAClC,MAAM,IAAIF,EAAsBlQ,EAAMqQ,GAGxC,OAAO1Q,KAAKmD,MAAMuN,GAIpB,OAAOlc,EAAMlC,WAAa,GAAK,MAGjCvM,EAAOD,QAAU,CACfqL,iBAAkBA,I,qBCxBpB,IAAIsB,EAAS,EAAQ,QACjBtC,EAASsC,EAAOtC,OAGpB,SAAS64C,EAAWnyC,EAAK2a,GACvB,IAAK,IAAIwE,KAAOnf,EACd2a,EAAIwE,GAAOnf,EAAImf,GAWnB,SAASizB,EAAYlvB,EAAKmvB,EAAkB19C,GAC1C,OAAO2E,EAAO4pB,EAAKmvB,EAAkB19C,GATnC2E,EAAOM,MAAQN,EAAOyhB,OAASzhB,EAAO4hB,aAAe5hB,EAAOg5C,gBAC9DpjD,EAAOD,QAAU2M,GAGjBu2C,EAAUv2C,EAAQ3M,GAClBA,EAAQqK,OAAS84C,GAQnBD,EAAU74C,EAAQ84C,GAElBA,EAAWx4C,KAAO,SAAUspB,EAAKmvB,EAAkB19C,GACjD,GAAmB,kBAARuuB,EACT,MAAM,IAAIlvB,UAAU,iCAEtB,OAAOsF,EAAO4pB,EAAKmvB,EAAkB19C,IAGvCy9C,EAAWr3B,MAAQ,SAAU9P,EAAMsnC,EAAMv1C,GACvC,GAAoB,kBAATiO,EACT,MAAM,IAAIjX,UAAU,6BAEtB,IAAIsc,EAAMhX,EAAO2R,GAUjB,YATa7M,IAATm0C,EACsB,kBAAbv1C,EACTsT,EAAIiiC,KAAKA,EAAMv1C,GAEfsT,EAAIiiC,KAAKA,GAGXjiC,EAAIiiC,KAAK,GAEJjiC,GAGT8hC,EAAWl3B,YAAc,SAAUjQ,GACjC,GAAoB,kBAATA,EACT,MAAM,IAAIjX,UAAU,6BAEtB,OAAOsF,EAAO2R,IAGhBmnC,EAAWE,gBAAkB,SAAUrnC,GACrC,GAAoB,kBAATA,EACT,MAAM,IAAIjX,UAAU,6BAEtB,OAAO4H,EAAO42C,WAAWvnC,K,mBC5D3Bhc,EAAQkO,KAAO,SAAUvB,EAAQwe,EAAQq4B,EAAMC,EAAMC,GACnD,IAAIz0B,EAAGvV,EACHiqC,EAAiB,EAATD,EAAcD,EAAO,EAC7BG,GAAQ,GAAKD,GAAQ,EACrBE,EAAQD,GAAQ,EAChBE,GAAS,EACT19C,EAAIo9C,EAAQE,EAAS,EAAK,EAC1B/pC,EAAI6pC,GAAQ,EAAI,EAChB17C,EAAI6E,EAAOwe,EAAS/kB,GAOxB,IALAA,GAAKuT,EAELsV,EAAInnB,GAAM,IAAOg8C,GAAU,EAC3Bh8C,KAAQg8C,EACRA,GAASH,EACFG,EAAQ,EAAG70B,EAAS,IAAJA,EAAWtiB,EAAOwe,EAAS/kB,GAAIA,GAAKuT,EAAGmqC,GAAS,GAKvE,IAHApqC,EAAIuV,GAAM,IAAO60B,GAAU,EAC3B70B,KAAQ60B,EACRA,GAASL,EACFK,EAAQ,EAAGpqC,EAAS,IAAJA,EAAW/M,EAAOwe,EAAS/kB,GAAIA,GAAKuT,EAAGmqC,GAAS,GAEvE,GAAU,IAAN70B,EACFA,EAAI,EAAI40B,MACH,IAAI50B,IAAM20B,EACf,OAAOlqC,EAAIqqC,IAAsB/uC,KAAdlN,GAAK,EAAI,GAE5B4R,GAAQQ,KAAK8pC,IAAI,EAAGP,GACpBx0B,GAAQ40B,EAEV,OAAQ/7C,GAAK,EAAI,GAAK4R,EAAIQ,KAAK8pC,IAAI,EAAG/0B,EAAIw0B,IAG5CzjD,EAAQ+O,MAAQ,SAAUpC,EAAQ9C,EAAOshB,EAAQq4B,EAAMC,EAAMC,GAC3D,IAAIz0B,EAAGvV,EAAGkZ,EACN+wB,EAAiB,EAATD,EAAcD,EAAO,EAC7BG,GAAQ,GAAKD,GAAQ,EACrBE,EAAQD,GAAQ,EAChBlW,EAAe,KAAT+V,EAAcvpC,KAAK8pC,IAAI,GAAI,IAAM9pC,KAAK8pC,IAAI,GAAI,IAAM,EAC1D59C,EAAIo9C,EAAO,EAAKE,EAAS,EACzB/pC,EAAI6pC,EAAO,GAAK,EAChB17C,EAAI+B,EAAQ,GAAgB,IAAVA,GAAe,EAAIA,EAAQ,EAAK,EAAI,EAmC1D,IAjCAA,EAAQqQ,KAAKC,IAAItQ,GAEb2iB,MAAM3iB,IAAUA,IAAUmL,KAC5B0E,EAAI8S,MAAM3iB,GAAS,EAAI,EACvBolB,EAAI20B,IAEJ30B,EAAI/U,KAAKmD,MAAMnD,KAAK6Y,IAAIlpB,GAASqQ,KAAK+pC,KAClCp6C,GAAS+oB,EAAI1Y,KAAK8pC,IAAI,GAAI/0B,IAAM,IAClCA,IACA2D,GAAK,GAGL/oB,GADEolB,EAAI40B,GAAS,EACNnW,EAAK9a,EAEL8a,EAAKxzB,KAAK8pC,IAAI,EAAG,EAAIH,GAE5Bh6C,EAAQ+oB,GAAK,IACf3D,IACA2D,GAAK,GAGH3D,EAAI40B,GAASD,GACflqC,EAAI,EACJuV,EAAI20B,GACK30B,EAAI40B,GAAS,GACtBnqC,GAAM7P,EAAQ+oB,EAAK,GAAK1Y,KAAK8pC,IAAI,EAAGP,GACpCx0B,GAAQ40B,IAERnqC,EAAI7P,EAAQqQ,KAAK8pC,IAAI,EAAGH,EAAQ,GAAK3pC,KAAK8pC,IAAI,EAAGP,GACjDx0B,EAAI,IAIDw0B,GAAQ,EAAG92C,EAAOwe,EAAS/kB,GAAS,IAAJsT,EAAUtT,GAAKuT,EAAGD,GAAK,IAAK+pC,GAAQ,GAI3E,IAFAx0B,EAAKA,GAAKw0B,EAAQ/pC,EAClBiqC,GAAQF,EACDE,EAAO,EAAGh3C,EAAOwe,EAAS/kB,GAAS,IAAJ6oB,EAAU7oB,GAAKuT,EAAGsV,GAAK,IAAK00B,GAAQ,GAE1Eh3C,EAAOwe,EAAS/kB,EAAIuT,IAAU,IAAJ7R,I,oCCxD5B,SAASoyB,EAAex1B,EAAKw/C,GAC3B,OAAOljD,OAAO4D,UAAUs1B,eAAe54B,KAAKoD,EAAKw/C,GAGnDjkD,EAAOD,QAAU,SAASmkD,EAAIC,EAAKC,EAAIh4C,GACrC+3C,EAAMA,GAAO,IACbC,EAAKA,GAAM,IACX,IAAI3/C,EAAM,GAEV,GAAkB,kBAAPy/C,GAAiC,IAAdA,EAAGz+C,OAC/B,OAAOhB,EAGT,IAAI4/C,EAAS,MACbH,EAAKA,EAAG/+C,MAAMg/C,GAEd,IAAIG,EAAU,IACVl4C,GAAsC,kBAApBA,EAAQk4C,UAC5BA,EAAUl4C,EAAQk4C,SAGpB,IAAI1zC,EAAMszC,EAAGz+C,OAET6+C,EAAU,GAAK1zC,EAAM0zC,IACvB1zC,EAAM0zC,GAGR,IAAK,IAAIn+C,EAAI,EAAGA,EAAIyK,IAAOzK,EAAG,CAC5B,IAEIo+C,EAAMC,EAAM19C,EAAG2B,EAFfqJ,EAAIoyC,EAAG/9C,GAAGd,QAAQg/C,EAAQ,OAC1BI,EAAM3yC,EAAE9M,QAAQo/C,GAGhBK,GAAO,GACTF,EAAOzyC,EAAElM,OAAO,EAAG6+C,GACnBD,EAAO1yC,EAAElM,OAAO6+C,EAAM,KAEtBF,EAAOzyC,EACP0yC,EAAO,IAGT19C,EAAIR,mBAAmBi+C,GACvB97C,EAAInC,mBAAmBk+C,GAElBvqB,EAAex1B,EAAKqC,GAEdoF,EAAQzH,EAAIqC,IACrBrC,EAAIqC,GAAGK,KAAKsB,GAEZhE,EAAIqC,GAAK,CAACrC,EAAIqC,GAAI2B,GAJlBhE,EAAIqC,GAAK2B,EAQb,OAAOhE,GAGT,IAAIyH,EAAUD,MAAMC,SAAW,SAAU2F,GACvC,MAA8C,mBAAvC9Q,OAAO4D,UAAU/D,SAASS,KAAKwQ,K,qCClFxC,YAWA,SAASpB,EAAS1E,EAAI24C,EAAMC,EAAMC,GAChC,GAAkB,oBAAP74C,EACT,MAAM,IAAIjH,UAAU,0CAEtB,IACIqkB,EAAMhjB,EADNyK,EAAMoD,UAAUvO,OAEpB,OAAQmL,GACR,KAAK,EACL,KAAK,EACH,OAAOJ,EAAQC,SAAS1E,GAC1B,KAAK,EACH,OAAOyE,EAAQC,UAAS,WACtB1E,EAAG1K,KAAK,KAAMqjD,MAElB,KAAK,EACH,OAAOl0C,EAAQC,UAAS,WACtB1E,EAAG1K,KAAK,KAAMqjD,EAAMC,MAExB,KAAK,EACH,OAAOn0C,EAAQC,UAAS,WACtB1E,EAAG1K,KAAK,KAAMqjD,EAAMC,EAAMC,MAE9B,QACEz7B,EAAO,IAAIld,MAAM2E,EAAM,GACvBzK,EAAI,EACJ,MAAOA,EAAIgjB,EAAK1jB,OACd0jB,EAAKhjB,KAAO6N,UAAU7N,GAExB,OAAOqK,EAAQC,UAAS,WACtB1E,EAAGgI,MAAM,KAAMoV,OAtCE,qBAAZ3Y,IACNA,EAAQ2vB,SAC0B,IAAnC3vB,EAAQ2vB,QAAQn7B,QAAQ,QACW,IAAnCwL,EAAQ2vB,QAAQn7B,QAAQ,QAAqD,IAArCwL,EAAQ2vB,QAAQn7B,QAAQ,SAClEhF,EAAOD,QAAU,CAAE0Q,SAAUA,GAE7BzQ,EAAOD,QAAUyQ,I,wDCPnB,IAAIiL,EAAI,EAAQ,QACZC,EAAa,EAAQ,QACrBC,EAAyB,EAAQ,QAIrCF,EAAE,CAAEG,OAAQ,SAAU/V,OAAO,EAAMgW,OAAQF,EAAuB,SAAW,CAC3Eq6B,KAAM,SAAc5xC,GAClB,OAAOsX,EAAWxZ,KAAM,IAAK,OAAQkC,O,oCCRzC,IAAIqX,EAAI,EAAQ,QACZsE,EAAQ,EAAQ,QAChB7T,EAAU,EAAQ,QAClB3H,EAAW,EAAQ,QACnBu0B,EAAW,EAAQ,QACnBlP,EAAW,EAAQ,QACnBqP,EAAiB,EAAQ,QACzB4rB,EAAqB,EAAQ,QAC7BjsB,EAA+B,EAAQ,QACvC5Y,EAAkB,EAAQ,QAC1BC,EAAa,EAAQ,QAErB6kC,EAAuB9kC,EAAgB,sBACvC+kC,EAAmB,iBACnBC,EAAiC,iCAKjCC,EAA+BhlC,GAAc,KAAOF,GAAM,WAC5D,IAAIvC,EAAQ,GAEZ,OADAA,EAAMsnC,IAAwB,EACvBtnC,EAAM/Z,SAAS,KAAO+Z,KAG3B0nC,EAAkBtsB,EAA6B,UAE/CusB,EAAqB,SAAU9rB,GACjC,IAAK90B,EAAS80B,GAAI,OAAO,EACzB,IAAI+rB,EAAa/rB,EAAEyrB,GACnB,YAAsB51C,IAAfk2C,IAA6BA,EAAal5C,EAAQmtB,IAGvDgsB,GAAUJ,IAAiCC,EAK/CzpC,EAAE,CAAEG,OAAQ,QAAS/V,OAAO,EAAMgW,OAAQwpC,GAAU,CAClD5hD,OAAQ,SAAgBuwB,GACtB,IAGI7tB,EAAGW,EAAGrB,EAAQmL,EAAK00C,EAHnBjsB,EAAIP,EAAS52B,MACbqjD,EAAIV,EAAmBxrB,EAAG,GAC1BjpB,EAAI,EAER,IAAKjK,GAAK,EAAGV,EAASuO,UAAUvO,OAAQU,EAAIV,EAAQU,IAElD,GADAm/C,GAAW,IAAPn/C,EAAWkzB,EAAIrlB,UAAU7N,GACzBg/C,EAAmBG,GAAI,CAEzB,GADA10C,EAAMgZ,EAAS07B,EAAE7/C,QACb2K,EAAIQ,EAAMm0C,EAAkB,MAAMjgD,UAAUkgD,GAChD,IAAKl+C,EAAI,EAAGA,EAAI8J,EAAK9J,IAAKsJ,IAAStJ,KAAKw+C,GAAGrsB,EAAessB,EAAGn1C,EAAGk1C,EAAEx+C,QAC7D,CACL,GAAIsJ,GAAK20C,EAAkB,MAAMjgD,UAAUkgD,GAC3C/rB,EAAessB,EAAGn1C,IAAKk1C,GAI3B,OADAC,EAAE9/C,OAAS2K,EACJm1C,M,oCCvDX,SAASC,EAAeC,EAAUC,GAAcD,EAAS9gD,UAAY5D,OAAO8lB,OAAO6+B,EAAW/gD,WAAY8gD,EAAS9gD,UAAUyb,YAAcqlC,EAAUA,EAASE,UAAYD,EAE1K,IAAIp6C,EAAQ,GAEZ,SAASs6C,EAAgBv+B,EAAMuM,EAASiyB,GAKtC,SAASC,EAAWpB,EAAMC,EAAMC,GAC9B,MAAuB,kBAAZhxB,EACFA,EAEAA,EAAQ8wB,EAAMC,EAAMC,GAR1BiB,IACHA,EAAOlrC,OAWT,IAAIorC,EAEJ,SAAUC,GAGR,SAASD,EAAUrB,EAAMC,EAAMC,GAC7B,OAAOoB,EAAM3kD,KAAKa,KAAM4jD,EAAWpB,EAAMC,EAAMC,KAAU1iD,KAG3D,OANAsjD,EAAeO,EAAWC,GAMnBD,EAPT,CAQEF,GAEFE,EAAUphD,UAAU2V,KAAOurC,EAAKvrC,KAChCyrC,EAAUphD,UAAU0iB,KAAOA,EAC3B/b,EAAM+b,GAAQ0+B,EAIhB,SAASE,EAAMC,EAAUC,GACvB,GAAIl6C,MAAMC,QAAQg6C,GAAW,CAC3B,IAAIt1C,EAAMs1C,EAASzgD,OAKnB,OAJAygD,EAAWA,EAAS3oC,KAAI,SAAUpX,GAChC,OAAO2O,OAAO3O,MAGZyK,EAAM,EACD,UAAUnN,OAAO0iD,EAAO,KAAK1iD,OAAOyiD,EAAS9kD,MAAM,EAAGwP,EAAM,GAAGtL,KAAK,MAAO,SAAW4gD,EAASt1C,EAAM,GAC3F,IAARA,EACF,UAAUnN,OAAO0iD,EAAO,KAAK1iD,OAAOyiD,EAAS,GAAI,QAAQziD,OAAOyiD,EAAS,IAEzE,MAAMziD,OAAO0iD,EAAO,KAAK1iD,OAAOyiD,EAAS,IAGlD,MAAO,MAAMziD,OAAO0iD,EAAO,KAAK1iD,OAAOqR,OAAOoxC,IAKlD,SAASj8B,EAAWpV,EAAKtS,EAAQ06B,GAC/B,OAAOpoB,EAAIjP,QAAQq3B,GAAOA,EAAM,EAAI,GAAKA,EAAK16B,EAAOkD,UAAYlD,EAInE,SAAS6jD,EAASvxC,EAAKtS,EAAQ8jD,GAK7B,YAJiBn3C,IAAbm3C,GAA0BA,EAAWxxC,EAAIpP,UAC3C4gD,EAAWxxC,EAAIpP,QAGVoP,EAAIyxC,UAAUD,EAAW9jD,EAAOkD,OAAQ4gD,KAAc9jD,EAI/D,SAASgkD,EAAS1xC,EAAKtS,EAAQkkB,GAK7B,MAJqB,kBAAVA,IACTA,EAAQ,KAGNA,EAAQlkB,EAAOkD,OAASoP,EAAIpP,UAGS,IAAhCoP,EAAI7P,QAAQzC,EAAQkkB,GAI/Bm/B,EAAgB,yBAAyB,SAAUtrC,EAAM1Q,GACvD,MAAO,cAAgBA,EAAQ,4BAA8B0Q,EAAO,MACnExV,WACH8gD,EAAgB,wBAAwB,SAAUtrC,EAAM4rC,EAAUM,GAEhE,IAAIC,EASAhhB,EAEJ,GATwB,kBAAbygB,GAAyBj8B,EAAWi8B,EAAU,SACvDO,EAAa,cACbP,EAAWA,EAAS7gD,QAAQ,QAAS,KAErCohD,EAAa,UAKXL,EAAS9rC,EAAM,aAEjBmrB,EAAM,OAAOhiC,OAAO6W,EAAM,KAAK7W,OAAOgjD,EAAY,KAAKhjD,OAAOwiD,EAAMC,EAAU,aACzE,CACL,IAAIh8C,EAAOq8C,EAASjsC,EAAM,KAAO,WAAa,WAC9CmrB,EAAM,QAAShiC,OAAO6W,EAAM,MAAO7W,OAAOyG,EAAM,KAAKzG,OAAOgjD,EAAY,KAAKhjD,OAAOwiD,EAAMC,EAAU,SAItG,OADAzgB,GAAO,mBAAmBhiC,cAAc+iD,GACjC/gB,IACN3gC,WACH8gD,EAAgB,4BAA6B,2BAC7CA,EAAgB,8BAA8B,SAAUtrC,GACtD,MAAO,OAASA,EAAO,gCAEzBsrC,EAAgB,6BAA8B,mBAC9CA,EAAgB,wBAAwB,SAAUtrC,GAChD,MAAO,eAAiBA,EAAO,mCAEjCsrC,EAAgB,wBAAyB,kCACzCA,EAAgB,yBAA0B,6BAC1CA,EAAgB,6BAA8B,mBAC9CA,EAAgB,yBAA0B,sCAAuC9gD,WACjF8gD,EAAgB,wBAAwB,SAAU5xB,GAChD,MAAO,qBAAuBA,IAC7BlvB,WACH8gD,EAAgB,qCAAsC,oCACtD5lD,EAAOD,QAAQuL,MAAQA,G,oCCrGvBtL,EAAOD,QAAUO,EAEjB,IAAID,EAAY,EAAQ,QAIxB,SAASC,EAAY8L,GACnB,KAAMlK,gBAAgB5B,GAAc,OAAO,IAAIA,EAAY8L,GAC3D/L,EAAUgB,KAAKa,KAAMkK,GAJvB,EAAQ,OAAR,CAAoB9L,EAAaD,GAOjCC,EAAYqE,UAAUixB,WAAa,SAAUnrB,EAAOqD,EAAU2B,GAC5DA,EAAG,KAAMhF,K,uBCrCXzK,EAAOD,QAAU,EAAQ,QAAUgK,c,oCCGnC,SAAS4zB,IACL,IAAI+oB,EAAW,uCACXC,EAAc,SAAUh0B,GACxB,IAAIU,EAAoB,GAAhBpZ,KAAK2sC,SAAgB,EACzBn+C,EAAU,MAANkqB,EAAYU,EAAQ,EAAJA,EAAU,EAClC,OAAO5qB,EAAE7H,SAAS,KAEtB,OAAO8lD,EAASrhD,QAAQ,QAASshD,GATrC5lD,OAAO4I,eAAe5J,EAAS,aAAc,CAAE6J,OAAO,IACtD7J,EAAQ49B,UAAO,EAUf59B,EAAQ49B,KAAOA,G,kCCXf,IAAIliB,EAAI,EAAQ,QACZorC,EAAgB,EAAQ,QACxBpmD,EAAkB,EAAQ,QAC1B2a,EAAsB,EAAQ,QAE9B0rC,EAAa,GAAGxhD,KAEhByhD,EAAcF,GAAiB9lD,OAC/Bua,EAAgBF,EAAoB,OAAQ,KAIhDK,EAAE,CAAEG,OAAQ,QAAS/V,OAAO,EAAMgW,OAAQkrC,IAAgBzrC,GAAiB,CACzEhW,KAAM,SAAc0hD,GAClB,OAAOF,EAAWzlD,KAAKZ,EAAgByB,WAAqBgN,IAAd83C,EAA0B,IAAMA,O,mCCflF,YA2BA,IAAIC,EAAalmD,OAAO+G,MAAQ,SAAUrD,GACxC,IAAIqD,EAAO,GAEX,IAAK,IAAImoB,KAAOxrB,EACdqD,EAAKX,KAAK8oB,GAGZ,OAAOnoB,GAKT9H,EAAOD,QAAUK,EAEjB,IAAIF,EAAW,EAAQ,QAEnBC,EAAW,EAAQ,QAEvB,EAAQ,OAAR,CAAoBC,EAAQF,GAM1B,IAFA,IAAI4H,EAAOm/C,EAAW9mD,EAASwE,WAEtB8D,EAAI,EAAGA,EAAIX,EAAKrC,OAAQgD,IAAK,CACpC,IAAI0L,EAASrM,EAAKW,GACbrI,EAAOuE,UAAUwP,KAAS/T,EAAOuE,UAAUwP,GAAUhU,EAASwE,UAAUwP,IAIjF,SAAS/T,EAAOgM,GACd,KAAMlK,gBAAgB9B,GAAS,OAAO,IAAIA,EAAOgM,GACjDlM,EAASmB,KAAKa,KAAMkK,GACpBjM,EAASkB,KAAKa,KAAMkK,GACpBlK,KAAKglD,eAAgB,EAEjB96C,KACuB,IAArBA,EAAQ4B,WAAoB9L,KAAK8L,UAAW,IACvB,IAArB5B,EAAQ8K,WAAoBhV,KAAKgV,UAAW,IAElB,IAA1B9K,EAAQ86C,gBACVhlD,KAAKglD,eAAgB,EACrBhlD,KAAK6Q,KAAK,MAAON,KAiCvB,SAASA,IAEHvQ,KAAK0P,eAAe9E,OAGxB0D,EAAQC,SAAS02C,EAASjlD,MAG5B,SAASilD,EAAQn2C,GACfA,EAAKV,MArCPvP,OAAO4I,eAAevJ,EAAOuE,UAAW,wBAAyB,CAI/DwK,YAAY,EACZC,IAAK,WACH,OAAOlN,KAAK0P,eAAenF,iBAG/B1L,OAAO4I,eAAevJ,EAAOuE,UAAW,iBAAkB,CAIxDwK,YAAY,EACZC,IAAK,WACH,OAAOlN,KAAK0P,gBAAkB1P,KAAK0P,eAAemH,eAGtDhY,OAAO4I,eAAevJ,EAAOuE,UAAW,iBAAkB,CAIxDwK,YAAY,EACZC,IAAK,WACH,OAAOlN,KAAK0P,eAAenM,UAgB/B1E,OAAO4I,eAAevJ,EAAOuE,UAAW,YAAa,CAInDwK,YAAY,EACZC,IAAK,WACH,YAA4BF,IAAxBhN,KAAK6L,qBAAwDmB,IAAxBhN,KAAK0P,iBAIvC1P,KAAK6L,eAAeN,WAAavL,KAAK0P,eAAenE,YAE9D4B,IAAK,SAAazF,QAGYsF,IAAxBhN,KAAK6L,qBAAwDmB,IAAxBhN,KAAK0P,iBAM9C1P,KAAK6L,eAAeN,UAAY7D,EAChC1H,KAAK0P,eAAenE,UAAY7D,Q,wDCvIpC,IAAI6R,EAAI,EAAQ,QACZnR,EAAS,EAAQ,QACjB88C,EAAa,EAAQ,QACrBr9B,EAAU,EAAQ,QAClBs9B,EAAc,EAAQ,QACtBC,EAAgB,EAAQ,QACxBC,EAAoB,EAAQ,QAC5BxnC,EAAQ,EAAQ,QAChBwjB,EAAM,EAAQ,QACdr3B,EAAU,EAAQ,QAClB3H,EAAW,EAAQ,QACnBgkB,EAAW,EAAQ,QACnBuQ,EAAW,EAAQ,QACnBr4B,EAAkB,EAAQ,QAC1BgiD,EAAc,EAAQ,QACtBE,EAA2B,EAAQ,QACnC6E,EAAqB,EAAQ,QAC7BP,EAAa,EAAQ,QACrBQ,EAA4B,EAAQ,QACpCC,EAA8B,EAAQ,QACtCC,EAA8B,EAAQ,QACtCC,EAAiC,EAAQ,QACzClF,EAAuB,EAAQ,QAC/BmF,EAA6B,EAAQ,QACrC9sC,EAA8B,EAAQ,QACtCuN,EAAW,EAAQ,QACnBw/B,EAAS,EAAQ,QACjBC,EAAY,EAAQ,QACpBC,EAAa,EAAQ,QACrBC,EAAM,EAAQ,QACdjoC,EAAkB,EAAQ,QAC1BwjB,EAA+B,EAAQ,QACvC0kB,EAAwB,EAAQ,QAChCC,EAAiB,EAAQ,QACzBnyB,EAAsB,EAAQ,QAC9B7a,EAAW,EAAQ,QAAgCL,QAEnDstC,EAASL,EAAU,UACnBM,EAAS,SACTC,EAAY,YACZC,EAAevoC,EAAgB,eAC/BmW,EAAmBH,EAAoB3mB,IACvC+mB,EAAmBJ,EAAoBK,UAAUgyB,GACjDG,EAAkBznD,OAAOunD,GACzBG,EAAUn+C,EAAO+J,OACjBq0C,EAAatB,EAAW,OAAQ,aAChCuB,EAAiCf,EAA+BjnD,EAChEioD,EAAuBlG,EAAqB/hD,EAC5CD,EAA4BgnD,EAA4B/mD,EACxDkoD,EAA6BhB,EAA2BlnD,EACxDmoD,EAAahB,EAAO,WACpBiB,EAAyBjB,EAAO,cAChCkB,GAAyBlB,EAAO,6BAChCmB,GAAyBnB,EAAO,6BAChCoB,GAAwBpB,EAAO,OAC/BqB,GAAU7+C,EAAO6+C,QAEjBC,IAAcD,KAAYA,GAAQb,KAAea,GAAQb,GAAWe,UAGpEC,GAAsBjC,GAAetnC,GAAM,WAC7C,OAES,GAFFynC,EAAmBoB,EAAqB,GAAI,IAAK,CACtDx5C,IAAK,WAAc,OAAOw5C,EAAqB1mD,KAAM,IAAK,CAAE0H,MAAO,IAAK2/C,MACtEA,KACD,SAAUlwB,EAAGmwB,EAAGC,GACnB,IAAIC,EAA4Bf,EAA+BH,EAAiBgB,GAC5EE,UAAkClB,EAAgBgB,GACtDZ,EAAqBvvB,EAAGmwB,EAAGC,GACvBC,GAA6BrwB,IAAMmvB,GACrCI,EAAqBJ,EAAiBgB,EAAGE,IAEzCd,EAEA30C,GAAO,SAAU6uC,EAAK/M,GACxB,IAAInrB,EAASk+B,EAAWhG,GAAO0E,EAAmBiB,EAAQH,IAO1D,OANAnyB,EAAiBvL,EAAQ,CACvB1gB,KAAMm+C,EACNvF,IAAKA,EACL/M,YAAaA,IAEVsR,IAAaz8B,EAAOmrB,YAAcA,GAChCnrB,GAGL++B,GAAWpC,EAAoB,SAAUrmD,GAC3C,MAAoB,iBAANA,GACZ,SAAUA,GACZ,OAAOH,OAAOG,aAAeunD,GAG3BmB,GAAkB,SAAwBvwB,EAAGmwB,EAAGC,GAC9CpwB,IAAMmvB,GAAiBoB,GAAgBb,EAAwBS,EAAGC,GACtElhC,EAAS8Q,GACT,IAAIpJ,EAAMwyB,EAAY+G,GAAG,GAEzB,OADAjhC,EAASkhC,GACLlmB,EAAIulB,EAAY74B,IACbw5B,EAAWt6C,YAIVo0B,EAAIlK,EAAG+uB,IAAW/uB,EAAE+uB,GAAQn4B,KAAMoJ,EAAE+uB,GAAQn4B,IAAO,GACvDw5B,EAAajC,EAAmBiC,EAAY,CAAEt6C,WAAYwzC,EAAyB,GAAG,OAJjFpf,EAAIlK,EAAG+uB,IAASQ,EAAqBvvB,EAAG+uB,EAAQzF,EAAyB,EAAG,KACjFtpB,EAAE+uB,GAAQn4B,IAAO,GAIVq5B,GAAoBjwB,EAAGpJ,EAAKw5B,IAC9Bb,EAAqBvvB,EAAGpJ,EAAKw5B,IAGpCI,GAAoB,SAA0BxwB,EAAGywB,GACnDvhC,EAAS8Q,GACT,IAAIjV,EAAa3jB,EAAgBqpD,GAC7BhiD,EAAOm/C,EAAW7iC,GAAY3gB,OAAOsmD,GAAuB3lC,IAIhE,OAHAjJ,EAASrT,GAAM,SAAUmoB,GAClBo3B,IAAe2C,GAAsB3oD,KAAK+iB,EAAY6L,IAAM25B,GAAgBvwB,EAAGpJ,EAAK7L,EAAW6L,OAE/FoJ,GAGL4wB,GAAU,SAAgB5wB,EAAGywB,GAC/B,YAAsB56C,IAAf46C,EAA2BtC,EAAmBnuB,GAAKwwB,GAAkBrC,EAAmBnuB,GAAIywB,IAGjGE,GAAwB,SAA8BE,GACxD,IAAIV,EAAI/G,EAAYyH,GAAG,GACnB/6C,EAAa05C,EAA2BxnD,KAAKa,KAAMsnD,GACvD,QAAItnD,OAASsmD,GAAmBjlB,EAAIulB,EAAYU,KAAOjmB,EAAIwlB,EAAwBS,QAC5Er6C,IAAeo0B,EAAIrhC,KAAMsnD,KAAOjmB,EAAIulB,EAAYU,IAAMjmB,EAAIrhC,KAAMkmD,IAAWlmD,KAAKkmD,GAAQoB,KAAKr6C,IAGlGg7C,GAA4B,SAAkC9wB,EAAGmwB,GACnE,IAAItoD,EAAKT,EAAgB44B,GACrBpJ,EAAMwyB,EAAY+G,GAAG,GACzB,GAAItoD,IAAOsnD,IAAmBjlB,EAAIulB,EAAY74B,IAASsT,EAAIwlB,EAAwB94B,GAAnF,CACA,IAAI5F,EAAas+B,EAA+BznD,EAAI+uB,GAIpD,OAHI5F,IAAckZ,EAAIulB,EAAY74B,IAAUsT,EAAIriC,EAAIknD,IAAWlnD,EAAGknD,GAAQn4B,KACxE5F,EAAWlb,YAAa,GAEnBkb,IAGL+/B,GAAuB,SAA6B/wB,GACtD,IAAIgxB,EAAQ3pD,EAA0BD,EAAgB44B,IAClDnxB,EAAS,GAIb,OAHAiT,EAASkvC,GAAO,SAAUp6B,GACnBsT,EAAIulB,EAAY74B,IAASsT,EAAIykB,EAAY/3B,IAAM/nB,EAAOf,KAAK8oB,MAE3D/nB,GAGL6hD,GAAyB,SAA+B1wB,GAC1D,IAAIixB,EAAsBjxB,IAAMmvB,EAC5B6B,EAAQ3pD,EAA0B4pD,EAAsBvB,EAAyBtoD,EAAgB44B,IACjGnxB,EAAS,GAMb,OALAiT,EAASkvC,GAAO,SAAUp6B,IACpBsT,EAAIulB,EAAY74B,IAAUq6B,IAAuB/mB,EAAIilB,EAAiBv4B,IACxE/nB,EAAOf,KAAK2hD,EAAW74B,OAGpB/nB,GAkHT,GA7GKo/C,IACHmB,EAAU,WACR,GAAIvmD,gBAAgBumD,EAAS,MAAM3jD,UAAU,+BAC7C,IAAIixC,EAAe/hC,UAAUvO,aAA2ByJ,IAAjB8E,UAAU,GAA+Bc,OAAOd,UAAU,SAA7B9E,EAChE4zC,EAAMmF,EAAIlS,GACVwU,EAAS,SAAU3gD,GACjB1H,OAASsmD,GAAiB+B,EAAOlpD,KAAK0nD,EAAwBn/C,GAC9D25B,EAAIrhC,KAAMkmD,IAAW7kB,EAAIrhC,KAAKkmD,GAAStF,KAAM5gD,KAAKkmD,GAAQtF,IAAO,GACrEwG,GAAoBpnD,KAAM4gD,EAAKH,EAAyB,EAAG/4C,KAG7D,OADIy9C,GAAe+B,IAAYE,GAAoBd,EAAiB1F,EAAK,CAAE5yB,cAAc,EAAM7gB,IAAKk7C,IAC7Ft2C,GAAK6uC,EAAK/M,IAGnBztB,EAASmgC,EAAQH,GAAY,YAAY,WACvC,OAAOlyB,EAAiBl0B,MAAM4gD,OAGhCx6B,EAASmgC,EAAS,iBAAiB,SAAU1S,GAC3C,OAAO9hC,GAAKg0C,EAAIlS,GAAcA,MAGhC8R,EAA2BlnD,EAAIqpD,GAC/BtH,EAAqB/hD,EAAIipD,GACzBhC,EAA+BjnD,EAAIwpD,GACnC1C,EAA0B9mD,EAAI+mD,EAA4B/mD,EAAIypD,GAC9DzC,EAA4BhnD,EAAIopD,GAEhCvmB,EAA6B7iC,EAAI,SAAU2Z,GACzC,OAAOrG,GAAK+L,EAAgB1F,GAAOA,IAGjC+sC,IAEFuB,EAAqBH,EAAQH,GAAY,cAAe,CACtDp4B,cAAc,EACd9gB,IAAK,WACH,OAAOgnB,EAAiBl0B,MAAM6zC,eAG7BhsB,GACHzB,EAASkgC,EAAiB,uBAAwBwB,GAAuB,CAAEhhC,QAAQ,MAKzFvN,EAAE,CAAEnR,QAAQ,EAAM2J,MAAM,EAAM4H,QAASyrC,EAAekD,MAAOlD,GAAiB,CAC5EjzC,OAAQo0C,IAGVttC,EAAS8rC,EAAWiC,KAAwB,SAAU5uC,GACpD4tC,EAAsB5tC,MAGxBmB,EAAE,CAAEG,OAAQysC,EAAQ1H,MAAM,EAAM9kC,QAASyrC,GAAiB,CAGxD,IAAO,SAAUr3B,GACf,IAAIvS,EAAS5I,OAAOmb,GACpB,GAAIsT,EAAIylB,GAAwBtrC,GAAS,OAAOsrC,GAAuBtrC,GACvE,IAAIkN,EAAS69B,EAAQ/qC,GAGrB,OAFAsrC,GAAuBtrC,GAAUkN,EACjCq+B,GAAuBr+B,GAAUlN,EAC1BkN,GAIT6/B,OAAQ,SAAgBC,GACtB,IAAKf,GAASe,GAAM,MAAM5lD,UAAU4lD,EAAM,oBAC1C,GAAInnB,EAAI0lB,GAAwByB,GAAM,OAAOzB,GAAuByB,IAEtEC,UAAW,WAAcvB,IAAa,GACtCwB,UAAW,WAAcxB,IAAa,KAGxC3tC,EAAE,CAAEG,OAAQ,SAAU+kC,MAAM,EAAM9kC,QAASyrC,EAAekD,MAAOnD,GAAe,CAG9ExgC,OAAQojC,GAGRtgD,eAAgBigD,GAGhBiB,iBAAkBhB,GAGlBlgC,yBAA0BwgC,KAG5B1uC,EAAE,CAAEG,OAAQ,SAAU+kC,MAAM,EAAM9kC,QAASyrC,GAAiB,CAG1DtmD,oBAAqBopD,GAGrBU,sBAAuBf,KAKzBtuC,EAAE,CAAEG,OAAQ,SAAU+kC,MAAM,EAAM9kC,OAAQkE,GAAM,WAAc4nC,EAA4BhnD,EAAE,OAAU,CACpGmqD,sBAAuB,SAA+B5pD,GACpD,OAAOymD,EAA4BhnD,EAAEm4B,EAAS53B,OAM9CwnD,EAAY,CACd,IAAIqC,IAAyBzD,GAAiBvnC,GAAM,WAClD,IAAI6K,EAAS69B,IAEb,MAA+B,UAAxBC,EAAW,CAAC99B,KAEe,MAA7B89B,EAAW,CAAEa,EAAG3+B,KAEc,MAA9B89B,EAAW3nD,OAAO6pB,OAGzBnP,EAAE,CAAEG,OAAQ,OAAQ+kC,MAAM,EAAM9kC,OAAQkvC,IAAyB,CAE/DhjD,UAAW,SAAmB7G,EAAI8pD,EAAUC,GAC1C,IAEIC,EAFA/hC,EAAO,CAACjoB,GACRwS,EAAQ,EAEZ,MAAOM,UAAUvO,OAASiO,EAAOyV,EAAKhiB,KAAK6M,UAAUN,MAErD,GADAw3C,EAAYF,GACPzmD,EAASymD,SAAoB97C,IAAPhO,KAAoByoD,GAASzoD,GAMxD,OALKgL,EAAQ8+C,KAAWA,EAAW,SAAU/6B,EAAKrmB,GAEhD,GADwB,mBAAbshD,IAAyBthD,EAAQshD,EAAU7pD,KAAKa,KAAM+tB,EAAKrmB,KACjE+/C,GAAS//C,GAAQ,OAAOA,IAE/Buf,EAAK,GAAK6hC,EACHtC,EAAW30C,MAAM,KAAMoV,MAO/Bs/B,EAAQH,GAAWC,IACtBxtC,EAA4B0tC,EAAQH,GAAYC,EAAcE,EAAQH,GAAW6C,SAInFhD,EAAeM,EAASJ,GAExBL,EAAWI,IAAU,G,mBCtTrBpoD,EAAOD,QAAU,WACf,MAAM,IAAI4a,MAAM,mD,qBCDlB,IAAIc,EAAI,EAAQ,QACZ/Q,EAAO,EAAQ,QACf0gD,EAA8B,EAAQ,QAEtCC,GAAuBD,GAA4B,SAAU52C,GAC/DvI,MAAMvB,KAAK8J,MAKbiH,EAAE,CAAEG,OAAQ,QAAS+kC,MAAM,EAAM9kC,OAAQwvC,GAAuB,CAC9D3gD,KAAMA,K,kCCVR,IAAIqV,EAAQ,EAAQ,QAEpB/f,EAAOD,QAAU,SAAUogB,EAAamrC,GACtC,IAAIn3C,EAAS,GAAGgM,GAChB,QAAShM,GAAU4L,GAAM,WAEvB5L,EAAO9S,KAAK,KAAMiqD,GAAY,WAAc,MAAM,GAAM,Q,mBCP5D,MAAM9qC,EACJ,cACEte,KAAKsf,IAAM,KACXtf,KAAKyf,QAAS,EACdzf,KAAK2f,IAAM,EACX3f,KAAK8f,KAAM,EACX9f,KAAKuD,QAAU,EACfvD,KAAK8gB,MAAQ,KACb9gB,KAAK+gB,QAAU,MAInBjjB,EAAOD,QAAUygB,G,kCCVjBxgB,EAAOD,QAAU,WACf,MAAM,IAAI4a,MACR,2F,qBCJJ,IAAIqF,EAAkB,EAAQ,QAE1BqY,EAAQrY,EAAgB,SAE5BhgB,EAAOD,QAAU,SAAUogB,GACzB,IAAIkkC,EAAS,IACb,IACE,MAAMlkC,GAAakkC,GACnB,MAAOr1B,GACP,IAEE,OADAq1B,EAAOhsB,IAAS,EACT,MAAMlY,GAAakkC,GAC1B,MAAO1jD,KACT,OAAO,I,sBCbX,kBAAW,EAAQ,QAEfyzB,EAAO,aAEPC,EAAY,SAAShoB,GACxB,OAAOA,EAAOioB,WAAqC,oBAAjBjoB,EAAOkoB,OAGtCg3B,EAAiB,SAASl/C,GAC7B,OAAOA,EAAOm/C,OAASv/C,MAAMC,QAAQG,EAAOm/C,QAAkC,IAAxBn/C,EAAOm/C,MAAM/lD,QAGhEwuB,EAAM,SAAS5nB,EAAQ3K,EAAMoW,GAChC,GAAoB,oBAATpW,EAAqB,OAAOuyB,EAAI5nB,EAAQ,KAAM3K,GACpDA,IAAMA,EAAO,IAElBoW,EAAW/E,EAAK+E,GAAYsc,GAE5B,IAAIuG,EAAKtuB,EAAOuF,eACZ4jB,EAAKnpB,EAAO0B,eACZC,EAAWtM,EAAKsM,WAA+B,IAAlBtM,EAAKsM,UAAsB3B,EAAO2B,SAC/DkJ,EAAWxV,EAAKwV,WAA+B,IAAlBxV,EAAKwV,UAAsB7K,EAAO6K,SAC/Du0C,GAAY,EAEZC,EAAiB,WACfr/C,EAAO6K,UAAU9D,KAGnBA,EAAW,WACd8D,GAAW,EACNlJ,GAAU8J,EAASzW,KAAKgL,IAG1BoG,EAAQ,WACXzE,GAAW,EACNkJ,GAAUY,EAASzW,KAAKgL,IAG1Bs/C,EAAS,SAASC,GACrB9zC,EAASzW,KAAKgL,EAAQu/C,EAAW,IAAIjxC,MAAM,2BAA6BixC,GAAY,OAGjFv4C,EAAU,SAAS7D,GACtBsI,EAASzW,KAAKgL,EAAQmD,IAGnB2D,EAAU,WACb3C,EAAQC,SAASo7C,IAGdA,EAAkB,WACrB,IAAIJ,EACJ,QAAIz9C,GAAcwnB,GAAOA,EAAG1oB,QAAU0oB,EAAG/nB,cACrCyJ,GAAcyjB,GAAOA,EAAG7tB,QAAU6tB,EAAGltB,gBAAzC,EAD6DqK,EAASzW,KAAKgL,EAAQ,IAAIsO,MAAM,qBAI1FmxC,EAAY,WACfz/C,EAAO0/C,IAAI5/C,GAAG,SAAUiH,IAoBzB,OAjBIihB,EAAUhoB,IACbA,EAAOF,GAAG,WAAYiH,GACtB/G,EAAOF,GAAG,QAASgH,GACf9G,EAAO0/C,IAAKD,IACXz/C,EAAOF,GAAG,UAAW2/C,IAChB50C,IAAayjB,IACvBtuB,EAAOF,GAAG,MAAOu/C,GACjBr/C,EAAOF,GAAG,QAASu/C,IAGhBH,EAAel/C,IAASA,EAAOF,GAAG,OAAQw/C,GAE9Ct/C,EAAOF,GAAG,MAAOsG,GACjBpG,EAAOF,GAAG,SAAUiH,IACD,IAAf1R,EAAKP,OAAiBkL,EAAOF,GAAG,QAASkH,GAC7ChH,EAAOF,GAAG,QAASgH,GAEZ,WACNs4C,GAAY,EACZp/C,EAAO6G,eAAe,WAAYE,GAClC/G,EAAO6G,eAAe,QAASC,GAC/B9G,EAAO6G,eAAe,UAAW44C,GAC7Bz/C,EAAO0/C,KAAK1/C,EAAO0/C,IAAI74C,eAAe,SAAUE,GACpD/G,EAAO6G,eAAe,MAAOw4C,GAC7Br/C,EAAO6G,eAAe,QAASw4C,GAC/Br/C,EAAO6G,eAAe,SAAUE,GAChC/G,EAAO6G,eAAe,OAAQy4C,GAC9Bt/C,EAAO6G,eAAe,MAAOT,GAC7BpG,EAAO6G,eAAe,QAASG,GAC/BhH,EAAO6G,eAAe,QAASC,KAIjCnT,EAAOD,QAAUk0B,I,wDC5FjB,IAAI1L,EAAW,EAAQ,QAIvBvoB,EAAOD,QAAU,WACf,IAAIwqB,EAAOhC,EAASrmB,MAChBgG,EAAS,GAOb,OANIqiB,EAAKjgB,SAAQpC,GAAU,KACvBqiB,EAAKyhC,aAAY9jD,GAAU,KAC3BqiB,EAAK0hC,YAAW/jD,GAAU,KAC1BqiB,EAAK2hC,SAAQhkD,GAAU,KACvBqiB,EAAK4hC,UAASjkD,GAAU,KACxBqiB,EAAK6hC,SAAQlkD,GAAU,KACpBA,I,kCCbTnH,OAAO4I,eAAe5J,EAAS,aAAc,CAAE6J,OAAO,IACtD7J,EAAQssD,qBAAkB,EAC1B,IAAIC,EAAM,EAAQ,QACdC,EAAY,EAAQ,QACpBC,EAAe,EAAQ,QACvBH,EAAiC,WACjC,SAASA,EAAgBI,EAAQtpC,GAC7B,IAAIjP,EAAQhS,KACZA,KAAKuqD,OAASA,EACdvqD,KAAKihB,SAAWA,EAChBjhB,KAAKiM,QAAU,SAAUklB,GACrB,IAAI5xB,EAASyS,EAAMu4C,OAAOhrD,OAC1B,OAAQA,EAASyS,EAAMw4C,UAAUjrD,EAAQ4xB,EAAEqJ,KAAMrJ,EAAEuK,IAAM4uB,EAAaG,aAE1EzqD,KAAK6wB,KAAO,SAAU65B,GAClB,IAAInrD,EAASyS,EAAMu4C,OAAOhrD,OAC1B,OAAQA,EAASyS,EAAM24C,OAAOprD,EAAQmrD,GAAYJ,EAAaG,aAEnEzqD,KAAK4qD,WAAa,SAAUf,GAAO,OAAOz6B,QAAQy7B,IAAIhB,EAAIxuC,KAAI,SAAU8V,GAAK,OAAOnf,EAAM/F,QAAQklB,QAClGnxB,KAAKwqD,UAAY,SAAUjrD,EAAQi7B,EAAMkB,GACrC,OAAO,IAAItM,SAAQ,SAAU1d,EAAKmqB,GAC9B,IAAIivB,EAAYV,EAAI3uB,OACpBzpB,EAAMu4C,OAAOtgD,GAAG6gD,EAAWT,EAAUhvB,gBAAgB3pB,EAAKmqB,IAC1Dt8B,EAAOq9B,QAAQytB,EAAU9uB,gBAAgBvpB,EAAMiP,SAAU,UAAWuZ,EAAMswB,EAAWpvB,GAAK,QAGlG17B,KAAK2qD,OAAS,SAAUprD,EAAQ4xB,GAC5B,OAAO,IAAI/B,SAAQ,SAAU1d,EAAKmqB,GAC9B,IAAIkqB,EAAMqE,EAAI3uB,OACdzpB,EAAMu4C,OAAOtgD,GAAG87C,EAAKsE,EAAUhvB,gBAAgB3pB,EAAKmqB,IACpD,IAAIkvB,EAAOV,EAAU9uB,gBAAgBvpB,EAAMiP,SAAU,OAAQkQ,EAAEqJ,KAAMurB,EAAK50B,EAAEyK,KAAKF,IACjFn8B,EAAOq9B,QAAQmuB,EAAMryC,KAAK7S,UAAUsrB,EAAEyK,WAIlD,OAAOuuB,EA9ByB,GAgCpCtsD,EAAQssD,gBAAkBA,G,qBCtC1B,IAAIhF,EAAc,EAAQ,QACtBtnC,EAAQ,EAAQ,QAChBwjB,EAAM,EAAQ,QAEd55B,EAAiB5I,OAAO4I,eACxBy0B,EAAQ,GAER8uB,EAAU,SAAUhsD,GAAM,MAAMA,GAEpClB,EAAOD,QAAU,SAAUogB,EAAa/T,GACtC,GAAIm3B,EAAInF,EAAOje,GAAc,OAAOie,EAAMje,GACrC/T,IAASA,EAAU,IACxB,IAAI+H,EAAS,GAAGgM,GACZgtC,IAAY5pB,EAAIn3B,EAAS,cAAeA,EAAQ+gD,UAChDC,EAAY7pB,EAAIn3B,EAAS,GAAKA,EAAQ,GAAK8gD,EAC3CG,EAAY9pB,EAAIn3B,EAAS,GAAKA,EAAQ,QAAK8C,EAE/C,OAAOkvB,EAAMje,KAAiBhM,IAAW4L,GAAM,WAC7C,GAAIotC,IAAc9F,EAAa,OAAO,EACtC,IAAIhuB,EAAI,CAAE5zB,QAAS,GAEf0nD,EAAWxjD,EAAe0vB,EAAG,EAAG,CAAElqB,YAAY,EAAMC,IAAK89C,IACxD7zB,EAAE,GAAK,EAEZllB,EAAO9S,KAAKg4B,EAAG+zB,EAAWC,Q,kCCb9B,SAASC,EAAetqC,GAGtB,IAFA,IAAIrF,EAAQqF,EAAM7d,MAAM,KAEfgB,EAAI,EAAGA,EAAIwX,EAAMlY,OAAQU,IAChC,GAAiB,MAAbwX,EAAMxX,GAAV,CAIA,GAAiB,MAAbwX,EAAMxX,GAER,OAAOA,IAAMwX,EAAMlY,OAAS,EAG9B,IAA+B,IAA3BkY,EAAMxX,GAAGnB,QAAQ,OAA0C,IAA3B2Y,EAAMxX,GAAGnB,QAAQ,KACnD,OAAO,EAIX,OAAO,EAQT,SAASuoD,EAAgBC,GACvB,GAAsB,IAAlBA,EAAO/nD,OACT,MAAO,mBAET,IAAK,IAAIU,EAAI,EAAGA,EAAIqnD,EAAO/nD,OAAQU,IACjC,IAAKmnD,EAAcE,EAAOrnD,IACxB,OAAOqnD,EAAOrnD,GAGlB,OAAO,KAGTnG,EAAOD,QAAU,CACfwtD,eAAgBA,I,qBClDlB,IAAIxtC,EAAQ,EAAQ,QAIpB/f,EAAOD,QAAU,SAAUogB,GACzB,OAAOJ,GAAM,WACX,IAAIH,EAAO,GAAGO,GAAa,KAC3B,OAAOP,IAASA,EAAK7Z,eAAiB6Z,EAAKza,MAAM,KAAKM,OAAS,O,qBCPnE,IAAI4hD,EAAc,EAAQ,QACtB19C,EAAiB,EAAQ,QAAuChJ,EAEhE8sD,EAAoBr0C,SAASzU,UAC7B+oD,EAA4BD,EAAkB7sD,SAC9C+sD,EAAS,wBACTlqB,EAAO,OAIP4jB,KAAiB5jB,KAAQgqB,IAC3B9jD,EAAe8jD,EAAmBhqB,EAAM,CACtCvT,cAAc,EACd9gB,IAAK,WACH,IACE,OAAOs+C,EAA0BrsD,KAAKa,MAAM8D,MAAM2nD,GAAQ,GAC1D,MAAOxsD,GACP,MAAO,Q,sBCjBf,YACA,MAAMgB,EAAWnC,EAAOD,QAGxBoC,EAASsf,MAAQ,CACfmsC,EAAG,WACHC,EAAG,UACHC,EAAG,UACHC,EAAG,UACHC,EAAG,SACHC,EAAG,SACHC,EAAG,SACHC,EAAG,UACHC,EAAG,YACHC,EAAG,SACHC,GAAI,cACJC,GAAI,WACJC,GAAI,UACJC,GAAI,WACJC,GAAI,aACJC,GAAI,QAINxsD,EAASmJ,MAAQ,GACjB,IAAK,MAAMxE,KAAK3E,EAASsf,MAAO,CAC9B,MAAMhZ,EAAItG,EAASsf,MAAM3a,GACzB3E,EAASmJ,MAAM7C,GAAK3B,EAItB3E,EAASuf,UAAY,EACrBvf,EAASysD,SAAW,IACpBzsD,EAAS8f,SAAW,EACpB9f,EAAS4f,SAAW,EACpB5f,EAAS2f,UAAY,EACrB3f,EAASyf,YAAc,EAGvBzf,EAASkkB,gBAAkB,IAC3BlkB,EAASmkB,oBAAsB,IAC/BnkB,EAAS4/B,eAAiB,UAG1B5/B,EAASuiB,oBAAsB,EAC/BviB,EAASm+B,sBAAwBl2B,EAAOM,KAAK,CAACvI,EAASuiB,sBACvDviB,EAASk+B,eAAiBj2B,EAAOM,KAAK,CAACvI,EAASmJ,MAAMuzB,SAAW18B,EAASuf,YAG1Evf,EAASshB,cAAgB,IACzBthB,EAASuhB,cAAgB,GACzBvhB,EAAS0hB,iBAAmB,GAC5B1hB,EAAS2hB,cAAgB,GACzB3hB,EAAS4hB,eAAiB,EAC1B5hB,EAASyhB,eAAiB,EAC1BzhB,EAAS8hB,mBAAqB,EAC9B9hB,EAASu9B,eAAiBt1B,EAAOM,KAAK,CAACvI,EAASmJ,MAAMszB,SAAWz8B,EAASuf,YAG1Evf,EAASiiB,WAAa,CACpByqC,sBAAuB,GACvBC,kBAAmB,GACnBC,eAAgB,GAChB7rB,kBAAmB,GACnB8rB,kBAAmB,GACnBC,2BAA4B,GAC5BC,0BAA2B,GAC3BC,eAAgB,GAChBC,qBAAsB,GACtBC,mBAAoB,GACpBC,uBAAwB,EACxBC,sBAAuB,EACvBC,YAAa,EACbC,cAAe,EACfC,gBAAiB,EACjBC,WAAY,GACZC,gBAAiB,GACjBC,yBAA0B,GAC1BC,aAAc,GACdC,8BAA+B,GAC/BC,iCAAkC,GAClCC,4BAA6B,GAC7BC,gBAAiB,GACjBC,oBAAqB,GACrBC,gBAAiB,GACjBC,WAAY,GACZC,uBAAwB,IAE1BnuD,EAASukB,gBAAkB,GAC3B,IAAK,MAAMu9B,KAAQ9hD,EAASiiB,WAAY,CACtC,MAAMwZ,EAAKz7B,EAASiiB,WAAW6/B,GAC/B9hD,EAASukB,gBAAgBkX,GAAMqmB,EAgCjC,SAASsM,EAAWrmD,GAClB,MAAO,CAAC,EAAG,EAAG,GAAGqT,IAAIsE,GACZ,CAAC,EAAG,GAAGtE,IAAIyE,GACT,CAAC,EAAG,GAAGzE,IAAIoE,IAChB,MAAMP,EAAMhX,EAAOyhB,MAAM,GAKzB,OAJAzK,EAAIovC,WACFruD,EAASmJ,MAAMpB,IAAS/H,EAASuf,WAChCM,EAAM7f,EAAS8f,SAAW,GAC3BJ,GAAO1f,EAAS2f,UAAYH,EAAQ,GAAG,GAClCP,MAvCfjf,EAASykB,gBAAkB,CACzBioC,sBAAuB,QACvBC,kBAAmB,QACnBC,eAAgB,QAChB7rB,kBAAmB,QACnB8rB,kBAAmB,QACnBC,2BAA4B,OAC5BC,0BAA2B,OAC3BC,eAAgB,OAChBC,qBAAsB,SACtBC,mBAAoB,SACpBC,uBAAwB,OACxBC,sBAAuB,QACvBC,YAAa,SACbC,cAAe,SACfC,gBAAiB,SACjBC,WAAY,OACZC,gBAAiB,OACjBC,yBAA0B,SAC1BC,aAAc,SACdC,8BAA+B,OAC/BC,iCAAkC,OAClCC,4BAA6B,OAC7BC,gBAAiB,QACjBC,oBAAqB,SACrBC,gBAAiB,SACjBC,WAAY,QACZC,uBAAwB,OAmB1BnuD,EAASo+B,eAAiBgwB,EAAU,WAGpCpuD,EAAS0+B,iBAAmB0vB,EAAU,aACtCpuD,EAASijB,2BAA6B,EACtCjjB,EAASmjB,0BAA4B,EACrCnjB,EAASkjB,2BAA6B,EACtCljB,EAASqjB,2BAA6B,EACtCrjB,EAASojB,4BAA8B,EACvCpjB,EAASujB,0BAA4B,EACrCvjB,EAASsjB,2BAA6B,EACtCtjB,EAASq/B,qBAAuB,CAAC,EAAM,GAAM,IAC7Cr/B,EAASm/B,qBAAuB,EAChCn/B,EAASo/B,sBAAwB,EACjCp/B,EAASk/B,sBAAwB,CAAC,EAAM,EAAM,GAG9Cl/B,EAASw/B,mBAAqB4uB,EAAU,eAGxCpuD,EAASs+B,KAAO,CACdtB,SAAUoxB,EAAU,YACpBE,OAAQF,EAAU,UAClBG,QAASH,EAAU,WACnBI,OAAQJ,EAAU,UAClBK,OAAQL,EAAU,WAGpBpuD,EAASs/B,cAAgBr3B,EAAOM,KAAK,CAACvI,EAASmJ,MAAM2zB,QAAU98B,EAASuf,YAGxEvf,EAAS89B,SAAW71B,EAAOM,KAAK,CAAC,IACjCvI,EAAS49B,SAAW31B,EAAOM,KAAK,CAAC,IACjCvI,EAAS69B,SAAW51B,EAAOM,KAAK,CAAC,IACjCvI,EAAS09B,WAAaz1B,EAAOM,KAAK,CAAC,MACnCvI,EAAS29B,WAAa11B,EAAOM,KAAK,CAAC,MAGnCvI,EAAS0uD,IAAM,CAAC,EAAG,EAAG,GAAGtzC,IAAIsE,GACpBzX,EAAOM,KAAK,CAACmX,KAItB1f,EAASy/B,MAAQ,CACfkvB,QAAS1mD,EAAOM,KAAK,CAACvI,EAASmJ,MAAMwlD,SAAW,EAAG,IACnDC,SAAU3mD,EAAOM,KAAK,CAACvI,EAASmJ,MAAMylD,UAAY,EAAG,IACrD1xB,WAAYj1B,EAAOM,KAAK,CAACvI,EAASmJ,MAAM+zB,YAAc,EAAG,O,+DCvL3Dt/B,EAAQ6e,OAAS7e,EAAQ6C,MAAQ,EAAQ,QACzC7C,EAAQqf,OAASrf,EAAQgI,UAAY,EAAQ,S,mCCH7C;;;;;;;AAUA,IAAIipD,EAAS,EAAQ,QACjBC,EAAU,EAAQ,QAClB/kD,EAAU,EAAQ,QAuCtB,SAASglD,IACP,IACE,IAAIrpC,EAAM,IAAItd,WAAW,GAEzB,OADAsd,EAAI89B,UAAY,CAACA,UAAWp7C,WAAW5F,UAAW0b,IAAK,WAAc,OAAO,KACvD,KAAdwH,EAAIxH,OACiB,oBAAjBwH,EAAIspC,UACuB,IAAlCtpC,EAAIspC,SAAS,EAAG,GAAGpqC,WACvB,MAAOiI,GACP,OAAO,GAIX,SAASoiC,IACP,OAAOhnD,EAAOinD,oBACV,WACA,WAGN,SAASC,EAAc/mC,EAAM9kB,GAC3B,GAAI2rD,IAAe3rD,EACjB,MAAM,IAAIuP,WAAW,8BAcvB,OAZI5K,EAAOinD,qBAET9mC,EAAO,IAAIhgB,WAAW9E,GACtB8kB,EAAKo7B,UAAYv7C,EAAOzF,YAGX,OAAT4lB,IACFA,EAAO,IAAIngB,EAAO3E,IAEpB8kB,EAAK9kB,OAASA,GAGT8kB,EAaT,SAASngB,EAAQ4pB,EAAKmvB,EAAkB19C,GACtC,IAAK2E,EAAOinD,uBAAyBnvD,gBAAgBkI,GACnD,OAAO,IAAIA,EAAO4pB,EAAKmvB,EAAkB19C,GAI3C,GAAmB,kBAARuuB,EAAkB,CAC3B,GAAgC,kBAArBmvB,EACT,MAAM,IAAIxoC,MACR,qEAGJ,OAAOqR,EAAY9pB,KAAM8xB,GAE3B,OAAOtpB,EAAKxI,KAAM8xB,EAAKmvB,EAAkB19C,GAW3C,SAASiF,EAAM6f,EAAM3gB,EAAOu5C,EAAkB19C,GAC5C,GAAqB,kBAAVmE,EACT,MAAM,IAAI9E,UAAU,yCAGtB,MAA2B,qBAAhBm9C,aAA+Br4C,aAAiBq4C,YAClDsP,EAAgBhnC,EAAM3gB,EAAOu5C,EAAkB19C,GAGnC,kBAAVmE,EACF4nD,EAAWjnC,EAAM3gB,EAAOu5C,GAG1BsO,EAAWlnC,EAAM3gB,GA4B1B,SAAS8nD,EAAY31C,GACnB,GAAoB,kBAATA,EACT,MAAM,IAAIjX,UAAU,oCACf,GAAIiX,EAAO,EAChB,MAAM,IAAI/G,WAAW,wCAIzB,SAAS6W,EAAOtB,EAAMxO,EAAMsnC,EAAMv1C,GAEhC,OADA4jD,EAAW31C,GACPA,GAAQ,EACHu1C,EAAa/mC,EAAMxO,QAEf7M,IAATm0C,EAIyB,kBAAbv1C,EACVwjD,EAAa/mC,EAAMxO,GAAMsnC,KAAKA,EAAMv1C,GACpCwjD,EAAa/mC,EAAMxO,GAAMsnC,KAAKA,GAE7BiO,EAAa/mC,EAAMxO,GAW5B,SAASiQ,EAAazB,EAAMxO,GAG1B,GAFA21C,EAAW31C,GACXwO,EAAO+mC,EAAa/mC,EAAMxO,EAAO,EAAI,EAAoB,EAAhB41C,EAAQ51C,KAC5C3R,EAAOinD,oBACV,IAAK,IAAIlrD,EAAI,EAAGA,EAAI4V,IAAQ5V,EAC1BokB,EAAKpkB,GAAK,EAGd,OAAOokB,EAgBT,SAASinC,EAAYjnC,EAAM7M,EAAQ5P,GAKjC,GAJwB,kBAAbA,GAAsC,KAAbA,IAClCA,EAAW,SAGR1D,EAAOs5B,WAAW51B,GACrB,MAAM,IAAIhJ,UAAU,8CAGtB,IAAIW,EAAwC,EAA/BshB,EAAWrJ,EAAQ5P,GAChCyc,EAAO+mC,EAAa/mC,EAAM9kB,GAE1B,IAAI+gD,EAASj8B,EAAKzb,MAAM4O,EAAQ5P,GAShC,OAPI04C,IAAW/gD,IAIb8kB,EAAOA,EAAKnpB,MAAM,EAAGolD,IAGhBj8B,EAGT,SAASqnC,EAAernC,EAAM/M,GAC5B,IAAI/X,EAAS+X,EAAM/X,OAAS,EAAI,EAA4B,EAAxBksD,EAAQn0C,EAAM/X,QAClD8kB,EAAO+mC,EAAa/mC,EAAM9kB,GAC1B,IAAK,IAAIU,EAAI,EAAGA,EAAIV,EAAQU,GAAK,EAC/BokB,EAAKpkB,GAAgB,IAAXqX,EAAMrX,GAElB,OAAOokB,EAGT,SAASgnC,EAAiBhnC,EAAM/M,EAAOkP,EAAYjnB,GAGjD,GAFA+X,EAAMuJ,WAEF2F,EAAa,GAAKlP,EAAMuJ,WAAa2F,EACvC,MAAM,IAAI1X,WAAW,6BAGvB,GAAIwI,EAAMuJ,WAAa2F,GAAcjnB,GAAU,GAC7C,MAAM,IAAIuP,WAAW,6BAmBvB,OAfEwI,OADiBtO,IAAfwd,QAAuCxd,IAAXzJ,EACtB,IAAI8E,WAAWiT,QACHtO,IAAXzJ,EACD,IAAI8E,WAAWiT,EAAOkP,GAEtB,IAAIniB,WAAWiT,EAAOkP,EAAYjnB,GAGxC2E,EAAOinD,qBAET9mC,EAAO/M,EACP+M,EAAKo7B,UAAYv7C,EAAOzF,WAGxB4lB,EAAOqnC,EAAcrnC,EAAM/M,GAEtB+M,EAGT,SAASknC,EAAYlnC,EAAM9lB,GACzB,GAAI2F,EAAOQ,SAASnG,GAAM,CACxB,IAAImM,EAA4B,EAAtB+gD,EAAQltD,EAAIgB,QAGtB,OAFA8kB,EAAO+mC,EAAa/mC,EAAM3Z,GAEN,IAAhB2Z,EAAK9kB,OACA8kB,GAGT9lB,EAAI+mB,KAAKjB,EAAM,EAAG,EAAG3Z,GACd2Z,GAGT,GAAI9lB,EAAK,CACP,GAA4B,qBAAhBw9C,aACRx9C,EAAIiI,kBAAkBu1C,aAAgB,WAAYx9C,EACpD,MAA0B,kBAAfA,EAAIgB,QAAuBosD,GAAMptD,EAAIgB,QACvC6rD,EAAa/mC,EAAM,GAErBqnC,EAAcrnC,EAAM9lB,GAG7B,GAAiB,WAAbA,EAAIyF,MAAqBgC,EAAQzH,EAAIsL,MACvC,OAAO6hD,EAAcrnC,EAAM9lB,EAAIsL,MAInC,MAAM,IAAIjL,UAAU,sFAGtB,SAAS6sD,EAASlsD,GAGhB,GAAIA,GAAU2rD,IACZ,MAAM,IAAIp8C,WAAW,0DACao8C,IAAaxwD,SAAS,IAAM,UAEhE,OAAgB,EAAT6E,EAGT,SAAS69C,EAAY79C,GAInB,OAHKA,GAAUA,IACbA,EAAS,GAEJ2E,EAAOyhB,OAAOpmB,GA+EvB,SAASshB,EAAYrJ,EAAQ5P,GAC3B,GAAI1D,EAAOQ,SAAS8S,GAClB,OAAOA,EAAOjY,OAEhB,GAA2B,qBAAhBw8C,aAA6D,oBAAvBA,YAAY6P,SACxD7P,YAAY6P,OAAOp0C,IAAWA,aAAkBukC,aACnD,OAAOvkC,EAAOqJ,WAEM,kBAAXrJ,IACTA,EAAS,GAAKA,GAGhB,IAAI9M,EAAM8M,EAAOjY,OACjB,GAAY,IAARmL,EAAW,OAAO,EAItB,IADA,IAAImhD,GAAc,IAEhB,OAAQjkD,GACN,IAAK,QACL,IAAK,SACL,IAAK,SACH,OAAO8C,EACT,IAAK,OACL,IAAK,QACL,UAAK1B,EACH,OAAO8iD,EAAYt0C,GAAQjY,OAC7B,IAAK,OACL,IAAK,QACL,IAAK,UACL,IAAK,WACH,OAAa,EAANmL,EACT,IAAK,MACH,OAAOA,IAAQ,EACjB,IAAK,SACH,OAAOqhD,EAAcv0C,GAAQjY,OAC/B,QACE,GAAIssD,EAAa,OAAOC,EAAYt0C,GAAQjY,OAC5CqI,GAAY,GAAKA,GAAU/H,cAC3BgsD,GAAc,GAMtB,SAASG,EAAcpkD,EAAU2Y,EAAOnW,GACtC,IAAIyhD,GAAc,EAclB,SALc7iD,IAAVuX,GAAuBA,EAAQ,KACjCA,EAAQ,GAINA,EAAQvkB,KAAKuD,OACf,MAAO,GAOT,SAJYyJ,IAARoB,GAAqBA,EAAMpO,KAAKuD,UAClC6K,EAAMpO,KAAKuD,QAGT6K,GAAO,EACT,MAAO,GAOT,GAHAA,KAAS,EACTmW,KAAW,EAEPnW,GAAOmW,EACT,MAAO,GAGJ3Y,IAAUA,EAAW,QAE1B,MAAO,EACL,OAAQA,GACN,IAAK,MACH,OAAOqkD,EAASjwD,KAAMukB,EAAOnW,GAE/B,IAAK,OACL,IAAK,QACH,OAAO8hD,EAAUlwD,KAAMukB,EAAOnW,GAEhC,IAAK,QACH,OAAO+hD,EAAWnwD,KAAMukB,EAAOnW,GAEjC,IAAK,SACL,IAAK,SACH,OAAOgiD,EAAYpwD,KAAMukB,EAAOnW,GAElC,IAAK,SACH,OAAOiiD,EAAYrwD,KAAMukB,EAAOnW,GAElC,IAAK,OACL,IAAK,QACL,IAAK,UACL,IAAK,WACH,OAAOkiD,EAAatwD,KAAMukB,EAAOnW,GAEnC,QACE,GAAIyhD,EAAa,MAAM,IAAIjtD,UAAU,qBAAuBgJ,GAC5DA,GAAYA,EAAW,IAAI/H,cAC3BgsD,GAAc,GAStB,SAASU,EAAMrkC,EAAGhe,EAAGqJ,GACnB,IAAItT,EAAIioB,EAAEhe,GACVge,EAAEhe,GAAKge,EAAE3U,GACT2U,EAAE3U,GAAKtT,EAmIT,SAASusD,EAAsBhmD,EAAQ8N,EAAKkS,EAAY5e,EAAU6pB,GAEhE,GAAsB,IAAlBjrB,EAAOjH,OAAc,OAAQ,EAmBjC,GAhB0B,kBAAfinB,GACT5e,EAAW4e,EACXA,EAAa,GACJA,EAAa,WACtBA,EAAa,WACJA,GAAc,aACvBA,GAAc,YAEhBA,GAAcA,EACVH,MAAMG,KAERA,EAAaiL,EAAM,EAAKjrB,EAAOjH,OAAS,GAItCinB,EAAa,IAAGA,EAAahgB,EAAOjH,OAASinB,GAC7CA,GAAchgB,EAAOjH,OAAQ,CAC/B,GAAIkyB,EAAK,OAAQ,EACZjL,EAAahgB,EAAOjH,OAAS,OAC7B,GAAIinB,EAAa,EAAG,CACzB,IAAIiL,EACC,OAAQ,EADJjL,EAAa,EAUxB,GALmB,kBAARlS,IACTA,EAAMpQ,EAAOM,KAAK8P,EAAK1M,IAIrB1D,EAAOQ,SAAS4P,GAElB,OAAmB,IAAfA,EAAI/U,QACE,EAEHktD,EAAajmD,EAAQ8N,EAAKkS,EAAY5e,EAAU6pB,GAClD,GAAmB,kBAARnd,EAEhB,OADAA,GAAY,IACRpQ,EAAOinD,qBACiC,oBAAjC9mD,WAAW5F,UAAUK,QAC1B2yB,EACKptB,WAAW5F,UAAUK,QAAQ3D,KAAKqL,EAAQ8N,EAAKkS,GAE/CniB,WAAW5F,UAAU0B,YAAYhF,KAAKqL,EAAQ8N,EAAKkS,GAGvDimC,EAAajmD,EAAQ,CAAE8N,GAAOkS,EAAY5e,EAAU6pB,GAG7D,MAAM,IAAI7yB,UAAU,wCAGtB,SAAS6tD,EAAc9qC,EAAKrN,EAAKkS,EAAY5e,EAAU6pB,GACrD,IA0BIxxB,EA1BAysD,EAAY,EACZC,EAAYhrC,EAAIpiB,OAChBqtD,EAAYt4C,EAAI/U,OAEpB,QAAiByJ,IAAbpB,IACFA,EAAWgH,OAAOhH,GAAU/H,cACX,SAAb+H,GAAoC,UAAbA,GACV,YAAbA,GAAuC,aAAbA,GAAyB,CACrD,GAAI+Z,EAAIpiB,OAAS,GAAK+U,EAAI/U,OAAS,EACjC,OAAQ,EAEVmtD,EAAY,EACZC,GAAa,EACbC,GAAa,EACbpmC,GAAc,EAIlB,SAASze,EAAMmT,EAAKjb,GAClB,OAAkB,IAAdysD,EACKxxC,EAAIjb,GAEJib,EAAI2E,aAAa5f,EAAIysD,GAKhC,GAAIj7B,EAAK,CACP,IAAIo7B,GAAc,EAClB,IAAK5sD,EAAIumB,EAAYvmB,EAAI0sD,EAAW1sD,IAClC,GAAI8H,EAAK4Z,EAAK1hB,KAAO8H,EAAKuM,GAAqB,IAAhBu4C,EAAoB,EAAI5sD,EAAI4sD,IAEzD,IADoB,IAAhBA,IAAmBA,EAAa5sD,GAChCA,EAAI4sD,EAAa,IAAMD,EAAW,OAAOC,EAAaH,OAEtC,IAAhBG,IAAmB5sD,GAAKA,EAAI4sD,GAChCA,GAAc,OAKlB,IADIrmC,EAAaomC,EAAYD,IAAWnmC,EAAammC,EAAYC,GAC5D3sD,EAAIumB,EAAYvmB,GAAK,EAAGA,IAAK,CAEhC,IADA,IAAI6sD,GAAQ,EACHnsD,EAAI,EAAGA,EAAIisD,EAAWjsD,IAC7B,GAAIoH,EAAK4Z,EAAK1hB,EAAIU,KAAOoH,EAAKuM,EAAK3T,GAAI,CACrCmsD,GAAQ,EACR,MAGJ,GAAIA,EAAO,OAAO7sD,EAItB,OAAQ,EAeV,SAAS8sD,EAAU7xC,EAAK1D,EAAQwN,EAAQzlB,GACtCylB,EAASoB,OAAOpB,IAAW,EAC3B,IAAI61B,EAAY3/B,EAAI3b,OAASylB,EACxBzlB,GAGHA,EAAS6mB,OAAO7mB,GACZA,EAASs7C,IACXt7C,EAASs7C,IAJXt7C,EAASs7C,EASX,IAAImS,EAASx1C,EAAOjY,OACpB,GAAIytD,EAAS,IAAM,EAAG,MAAM,IAAIpuD,UAAU,sBAEtCW,EAASytD,EAAS,IACpBztD,EAASytD,EAAS,GAEpB,IAAK,IAAI/sD,EAAI,EAAGA,EAAIV,IAAUU,EAAG,CAC/B,IAAIgtD,EAASphD,SAAS2L,EAAO9X,OAAW,EAAJO,EAAO,GAAI,IAC/C,GAAIomB,MAAM4mC,GAAS,OAAOhtD,EAC1Bib,EAAI8J,EAAS/kB,GAAKgtD,EAEpB,OAAOhtD,EAGT,SAASitD,EAAWhyC,EAAK1D,EAAQwN,EAAQzlB,GACvC,OAAO4tD,GAAWrB,EAAYt0C,EAAQ0D,EAAI3b,OAASylB,GAAS9J,EAAK8J,EAAQzlB,GAG3E,SAAS6tD,EAAYlyC,EAAK1D,EAAQwN,EAAQzlB,GACxC,OAAO4tD,GAAWE,EAAa71C,GAAS0D,EAAK8J,EAAQzlB,GAGvD,SAAS+tD,EAAapyC,EAAK1D,EAAQwN,EAAQzlB,GACzC,OAAO6tD,EAAWlyC,EAAK1D,EAAQwN,EAAQzlB,GAGzC,SAASguD,EAAaryC,EAAK1D,EAAQwN,EAAQzlB,GACzC,OAAO4tD,GAAWpB,EAAcv0C,GAAS0D,EAAK8J,EAAQzlB,GAGxD,SAASiuD,EAAWtyC,EAAK1D,EAAQwN,EAAQzlB,GACvC,OAAO4tD,GAAWM,EAAej2C,EAAQ0D,EAAI3b,OAASylB,GAAS9J,EAAK8J,EAAQzlB,GAkF9E,SAAS8sD,EAAanxC,EAAKqF,EAAOnW,GAChC,OAAc,IAAVmW,GAAenW,IAAQ8Q,EAAI3b,OACtBurD,EAAO/pC,cAAc7F,GAErB4vC,EAAO/pC,cAAc7F,EAAIhgB,MAAMqlB,EAAOnW,IAIjD,SAAS8hD,EAAWhxC,EAAKqF,EAAOnW,GAC9BA,EAAM2J,KAAKiQ,IAAI9I,EAAI3b,OAAQ6K,GAC3B,IAAIsD,EAAM,GAENzN,EAAIsgB,EACR,MAAOtgB,EAAImK,EAAK,CACd,IAQMsjD,EAAYC,EAAWC,EAAYC,EARrCC,EAAY5yC,EAAIjb,GAChBiY,EAAY,KACZ61C,EAAoBD,EAAY,IAAQ,EACvCA,EAAY,IAAQ,EACpBA,EAAY,IAAQ,EACrB,EAEJ,GAAI7tD,EAAI8tD,GAAoB3jD,EAG1B,OAAQ2jD,GACN,KAAK,EACCD,EAAY,MACd51C,EAAY41C,GAEd,MACF,KAAK,EACHJ,EAAaxyC,EAAIjb,EAAI,GACO,OAAV,IAAbytD,KACHG,GAA6B,GAAZC,IAAqB,EAAoB,GAAbJ,EACzCG,EAAgB,MAClB31C,EAAY21C,IAGhB,MACF,KAAK,EACHH,EAAaxyC,EAAIjb,EAAI,GACrB0tD,EAAYzyC,EAAIjb,EAAI,GACQ,OAAV,IAAbytD,IAAsD,OAAV,IAAZC,KACnCE,GAA6B,GAAZC,IAAoB,IAAoB,GAAbJ,IAAsB,EAAmB,GAAZC,EACrEE,EAAgB,OAAUA,EAAgB,OAAUA,EAAgB,SACtE31C,EAAY21C,IAGhB,MACF,KAAK,EACHH,EAAaxyC,EAAIjb,EAAI,GACrB0tD,EAAYzyC,EAAIjb,EAAI,GACpB2tD,EAAa1yC,EAAIjb,EAAI,GACO,OAAV,IAAbytD,IAAsD,OAAV,IAAZC,IAAsD,OAAV,IAAbC,KAClEC,GAA6B,GAAZC,IAAoB,IAAqB,GAAbJ,IAAsB,IAAmB,GAAZC,IAAqB,EAAoB,GAAbC,EAClGC,EAAgB,OAAUA,EAAgB,UAC5C31C,EAAY21C,IAMJ,OAAd31C,GAGFA,EAAY,MACZ61C,EAAmB,GACV71C,EAAY,QAErBA,GAAa,MACbxK,EAAIzM,KAAKiX,IAAc,GAAK,KAAQ,OACpCA,EAAY,MAAqB,KAAZA,GAGvBxK,EAAIzM,KAAKiX,GACTjY,GAAK8tD,EAGP,OAAOC,EAAsBtgD,GA98B/B7T,EAAQqK,OAASA,EACjBrK,EAAQujD,WAAaA,EACrBvjD,EAAQo0D,kBAAoB,GA0B5B/pD,EAAOinD,yBAAqDniD,IAA/B5E,EAAO+mD,oBAChC/mD,EAAO+mD,oBACPH,IAKJnxD,EAAQqxD,WAAaA,IAkErBhnD,EAAOgqD,SAAW,KAGlBhqD,EAAOiqD,SAAW,SAAUxsC,GAE1B,OADAA,EAAI89B,UAAYv7C,EAAOzF,UAChBkjB,GA2BTzd,EAAOM,KAAO,SAAUd,EAAOu5C,EAAkB19C,GAC/C,OAAOiF,EAAK,KAAMd,EAAOu5C,EAAkB19C,IAGzC2E,EAAOinD,sBACTjnD,EAAOzF,UAAUghD,UAAYp7C,WAAW5F,UACxCyF,EAAOu7C,UAAYp7C,WACG,qBAAX8J,QAA0BA,OAAOigD,SACxClqD,EAAOiK,OAAOigD,WAAalqD,GAE7BrJ,OAAO4I,eAAeS,EAAQiK,OAAOigD,QAAS,CAC5C1qD,MAAO,KACPsmB,cAAc,KAiCpB9lB,EAAOyhB,MAAQ,SAAU9P,EAAMsnC,EAAMv1C,GACnC,OAAO+d,EAAM,KAAM9P,EAAMsnC,EAAMv1C,IAiBjC1D,EAAO4hB,YAAc,SAAUjQ,GAC7B,OAAOiQ,EAAY,KAAMjQ,IAK3B3R,EAAOg5C,gBAAkB,SAAUrnC,GACjC,OAAOiQ,EAAY,KAAMjQ,IAiH3B3R,EAAOQ,SAAW,SAAmBwjB,GACnC,QAAe,MAALA,IAAaA,EAAEmmC,YAG3BnqD,EAAOoqD,QAAU,SAAkBjL,EAAGn7B,GACpC,IAAKhkB,EAAOQ,SAAS2+C,KAAOn/C,EAAOQ,SAASwjB,GAC1C,MAAM,IAAItpB,UAAU,6BAGtB,GAAIykD,IAAMn7B,EAAG,OAAO,EAKpB,IAHA,IAAItc,EAAIy3C,EAAE9jD,OACNmU,EAAIwU,EAAE3oB,OAEDU,EAAI,EAAGyK,EAAMqJ,KAAKiQ,IAAIpY,EAAG8H,GAAIzT,EAAIyK,IAAOzK,EAC/C,GAAIojD,EAAEpjD,KAAOioB,EAAEjoB,GAAI,CACjB2L,EAAIy3C,EAAEpjD,GACNyT,EAAIwU,EAAEjoB,GACN,MAIJ,OAAI2L,EAAI8H,GAAW,EACfA,EAAI9H,EAAU,EACX,GAGT1H,EAAOs5B,WAAa,SAAqB51B,GACvC,OAAQgH,OAAOhH,GAAU/H,eACvB,IAAK,MACL,IAAK,OACL,IAAK,QACL,IAAK,QACL,IAAK,SACL,IAAK,SACL,IAAK,SACL,IAAK,OACL,IAAK,QACL,IAAK,UACL,IAAK,WACH,OAAO,EACT,QACE,OAAO,IAIbqE,EAAO3G,OAAS,SAAiB8hC,EAAM9/B,GACrC,IAAKyG,EAAQq5B,GACX,MAAM,IAAIzgC,UAAU,+CAGtB,GAAoB,IAAhBygC,EAAK9/B,OACP,OAAO2E,EAAOyhB,MAAM,GAGtB,IAAI1lB,EACJ,QAAe+I,IAAXzJ,EAEF,IADAA,EAAS,EACJU,EAAI,EAAGA,EAAIo/B,EAAK9/B,SAAUU,EAC7BV,GAAU8/B,EAAKp/B,GAAGV,OAItB,IAAIiH,EAAStC,EAAO4hB,YAAYvmB,GAC5Bw3B,EAAM,EACV,IAAK92B,EAAI,EAAGA,EAAIo/B,EAAK9/B,SAAUU,EAAG,CAChC,IAAIib,EAAMmkB,EAAKp/B,GACf,IAAKiE,EAAOQ,SAASwW,GACnB,MAAM,IAAItc,UAAU,+CAEtBsc,EAAIoK,KAAK9e,EAAQuwB,GACjBA,GAAO7b,EAAI3b,OAEb,OAAOiH,GA8CTtC,EAAO2c,WAAaA,EA0EpB3c,EAAOzF,UAAU4vD,WAAY,EAQ7BnqD,EAAOzF,UAAU8vD,OAAS,WACxB,IAAI7jD,EAAM1O,KAAKuD,OACf,GAAImL,EAAM,IAAM,EACd,MAAM,IAAIoE,WAAW,6CAEvB,IAAK,IAAI7O,EAAI,EAAGA,EAAIyK,EAAKzK,GAAK,EAC5BssD,EAAKvwD,KAAMiE,EAAGA,EAAI,GAEpB,OAAOjE,MAGTkI,EAAOzF,UAAU+vD,OAAS,WACxB,IAAI9jD,EAAM1O,KAAKuD,OACf,GAAImL,EAAM,IAAM,EACd,MAAM,IAAIoE,WAAW,6CAEvB,IAAK,IAAI7O,EAAI,EAAGA,EAAIyK,EAAKzK,GAAK,EAC5BssD,EAAKvwD,KAAMiE,EAAGA,EAAI,GAClBssD,EAAKvwD,KAAMiE,EAAI,EAAGA,EAAI,GAExB,OAAOjE,MAGTkI,EAAOzF,UAAUgwD,OAAS,WACxB,IAAI/jD,EAAM1O,KAAKuD,OACf,GAAImL,EAAM,IAAM,EACd,MAAM,IAAIoE,WAAW,6CAEvB,IAAK,IAAI7O,EAAI,EAAGA,EAAIyK,EAAKzK,GAAK,EAC5BssD,EAAKvwD,KAAMiE,EAAGA,EAAI,GAClBssD,EAAKvwD,KAAMiE,EAAI,EAAGA,EAAI,GACtBssD,EAAKvwD,KAAMiE,EAAI,EAAGA,EAAI,GACtBssD,EAAKvwD,KAAMiE,EAAI,EAAGA,EAAI,GAExB,OAAOjE,MAGTkI,EAAOzF,UAAU/D,SAAW,WAC1B,IAAI6E,EAAuB,EAAdvD,KAAKuD,OAClB,OAAe,IAAXA,EAAqB,GACA,IAArBuO,UAAUvO,OAAqB2sD,EAAUlwD,KAAM,EAAGuD,GAC/CysD,EAAan+C,MAAM7R,KAAM8R,YAGlC5J,EAAOzF,UAAUiwD,OAAS,SAAiBxmC,GACzC,IAAKhkB,EAAOQ,SAASwjB,GAAI,MAAM,IAAItpB,UAAU,6BAC7C,OAAI5C,OAASksB,GACsB,IAA5BhkB,EAAOoqD,QAAQtyD,KAAMksB,IAG9BhkB,EAAOzF,UAAUkwD,QAAU,WACzB,IAAIhgD,EAAM,GACNigD,EAAM/0D,EAAQo0D,kBAKlB,OAJIjyD,KAAKuD,OAAS,IAChBoP,EAAM3S,KAAKtB,SAAS,MAAO,EAAGk0D,GAAK9uD,MAAM,SAASV,KAAK,KACnDpD,KAAKuD,OAASqvD,IAAKjgD,GAAO,UAEzB,WAAaA,EAAM,KAG5BzK,EAAOzF,UAAU6vD,QAAU,SAAkB54C,EAAQ6K,EAAOnW,EAAKykD,EAAWC,GAC1E,IAAK5qD,EAAOQ,SAASgR,GACnB,MAAM,IAAI9W,UAAU,6BAgBtB,QAbcoK,IAAVuX,IACFA,EAAQ,QAEEvX,IAARoB,IACFA,EAAMsL,EAASA,EAAOnW,OAAS,QAEfyJ,IAAd6lD,IACFA,EAAY,QAEE7lD,IAAZ8lD,IACFA,EAAU9yD,KAAKuD,QAGbghB,EAAQ,GAAKnW,EAAMsL,EAAOnW,QAAUsvD,EAAY,GAAKC,EAAU9yD,KAAKuD,OACtE,MAAM,IAAIuP,WAAW,sBAGvB,GAAI+/C,GAAaC,GAAWvuC,GAASnW,EACnC,OAAO,EAET,GAAIykD,GAAaC,EACf,OAAQ,EAEV,GAAIvuC,GAASnW,EACX,OAAO,EAQT,GALAmW,KAAW,EACXnW,KAAS,EACTykD,KAAe,EACfC,KAAa,EAET9yD,OAAS0Z,EAAQ,OAAO,EAS5B,IAPA,IAAI9J,EAAIkjD,EAAUD,EACdn7C,EAAItJ,EAAMmW,EACV7V,EAAMqJ,KAAKiQ,IAAIpY,EAAG8H,GAElBq7C,EAAW/yD,KAAKd,MAAM2zD,EAAWC,GACjCE,EAAat5C,EAAOxa,MAAMqlB,EAAOnW,GAE5BnK,EAAI,EAAGA,EAAIyK,IAAOzK,EACzB,GAAI8uD,EAAS9uD,KAAO+uD,EAAW/uD,GAAI,CACjC2L,EAAImjD,EAAS9uD,GACbyT,EAAIs7C,EAAW/uD,GACf,MAIJ,OAAI2L,EAAI8H,GAAW,EACfA,EAAI9H,EAAU,EACX,GA6HT1H,EAAOzF,UAAU4hD,SAAW,SAAmB/rC,EAAKkS,EAAY5e,GAC9D,OAAoD,IAA7C5L,KAAK8C,QAAQwV,EAAKkS,EAAY5e,IAGvC1D,EAAOzF,UAAUK,QAAU,SAAkBwV,EAAKkS,EAAY5e,GAC5D,OAAO4kD,EAAqBxwD,KAAMsY,EAAKkS,EAAY5e,GAAU,IAG/D1D,EAAOzF,UAAU0B,YAAc,SAAsBmU,EAAKkS,EAAY5e,GACpE,OAAO4kD,EAAqBxwD,KAAMsY,EAAKkS,EAAY5e,GAAU,IAkD/D1D,EAAOzF,UAAUmK,MAAQ,SAAgB4O,EAAQwN,EAAQzlB,EAAQqI,GAE/D,QAAeoB,IAAXgc,EACFpd,EAAW,OACXrI,EAASvD,KAAKuD,OACdylB,EAAS,OAEJ,QAAehc,IAAXzJ,GAA0C,kBAAXylB,EACxCpd,EAAWod,EACXzlB,EAASvD,KAAKuD,OACdylB,EAAS,MAEJ,KAAIzQ,SAASyQ,GAWlB,MAAM,IAAIvQ,MACR,2EAXFuQ,GAAkB,EACdzQ,SAAShV,IACXA,GAAkB,OACDyJ,IAAbpB,IAAwBA,EAAW,UAEvCA,EAAWrI,EACXA,OAASyJ,GASb,IAAI6xC,EAAY7+C,KAAKuD,OAASylB,EAG9B,SAFehc,IAAXzJ,GAAwBA,EAASs7C,KAAWt7C,EAASs7C,GAEpDrjC,EAAOjY,OAAS,IAAMA,EAAS,GAAKylB,EAAS,IAAOA,EAAShpB,KAAKuD,OACrE,MAAM,IAAIuP,WAAW,0CAGlBlH,IAAUA,EAAW,QAG1B,IADA,IAAIikD,GAAc,IAEhB,OAAQjkD,GACN,IAAK,MACH,OAAOmlD,EAAS/wD,KAAMwb,EAAQwN,EAAQzlB,GAExC,IAAK,OACL,IAAK,QACH,OAAO2tD,EAAUlxD,KAAMwb,EAAQwN,EAAQzlB,GAEzC,IAAK,QACH,OAAO6tD,EAAWpxD,KAAMwb,EAAQwN,EAAQzlB,GAE1C,IAAK,SACL,IAAK,SACH,OAAO+tD,EAAYtxD,KAAMwb,EAAQwN,EAAQzlB,GAE3C,IAAK,SAEH,OAAOguD,EAAYvxD,KAAMwb,EAAQwN,EAAQzlB,GAE3C,IAAK,OACL,IAAK,QACL,IAAK,UACL,IAAK,WACH,OAAOiuD,EAAUxxD,KAAMwb,EAAQwN,EAAQzlB,GAEzC,QACE,GAAIssD,EAAa,MAAM,IAAIjtD,UAAU,qBAAuBgJ,GAC5DA,GAAY,GAAKA,GAAU/H,cAC3BgsD,GAAc,IAKtB3nD,EAAOzF,UAAUwwD,OAAS,WACxB,MAAO,CACLjrD,KAAM,SACN6F,KAAM9D,MAAMtH,UAAUvD,MAAMC,KAAKa,KAAKkzD,MAAQlzD,KAAM,KAwFxD,IAAImzD,EAAuB,KAE3B,SAASnB,EAAuBoB,GAC9B,IAAI1kD,EAAM0kD,EAAW7vD,OACrB,GAAImL,GAAOykD,EACT,OAAOvgD,OAAOwI,aAAavJ,MAAMe,OAAQwgD,GAI3C,IAAI1hD,EAAM,GACNzN,EAAI,EACR,MAAOA,EAAIyK,EACTgD,GAAOkB,OAAOwI,aAAavJ,MACzBe,OACAwgD,EAAWl0D,MAAM+E,EAAGA,GAAKkvD,IAG7B,OAAOzhD,EAGT,SAASy+C,EAAYjxC,EAAKqF,EAAOnW,GAC/B,IAAIgB,EAAM,GACVhB,EAAM2J,KAAKiQ,IAAI9I,EAAI3b,OAAQ6K,GAE3B,IAAK,IAAInK,EAAIsgB,EAAOtgB,EAAImK,IAAOnK,EAC7BmL,GAAOwD,OAAOwI,aAAsB,IAAT8D,EAAIjb,IAEjC,OAAOmL,EAGT,SAASghD,EAAalxC,EAAKqF,EAAOnW,GAChC,IAAIgB,EAAM,GACVhB,EAAM2J,KAAKiQ,IAAI9I,EAAI3b,OAAQ6K,GAE3B,IAAK,IAAInK,EAAIsgB,EAAOtgB,EAAImK,IAAOnK,EAC7BmL,GAAOwD,OAAOwI,aAAa8D,EAAIjb,IAEjC,OAAOmL,EAGT,SAAS6gD,EAAU/wC,EAAKqF,EAAOnW,GAC7B,IAAIM,EAAMwQ,EAAI3b,SAETghB,GAASA,EAAQ,KAAGA,EAAQ,KAC5BnW,GAAOA,EAAM,GAAKA,EAAMM,KAAKN,EAAMM,GAGxC,IADA,IAAIqI,EAAM,GACD9S,EAAIsgB,EAAOtgB,EAAImK,IAAOnK,EAC7B8S,GAAOs8C,EAAMn0C,EAAIjb,IAEnB,OAAO8S,EAGT,SAASu5C,EAAcpxC,EAAKqF,EAAOnW,GAGjC,IAFA,IAAI6R,EAAQf,EAAIhgB,MAAMqlB,EAAOnW,GACzBsD,EAAM,GACDzN,EAAI,EAAGA,EAAIgc,EAAM1c,OAAQU,GAAK,EACrCyN,GAAOkB,OAAOwI,aAAa6E,EAAMhc,GAAoB,IAAfgc,EAAMhc,EAAI,IAElD,OAAOyN,EA0CT,SAAS4hD,EAAatqC,EAAQuqC,EAAKhwD,GACjC,GAAKylB,EAAS,IAAO,GAAKA,EAAS,EAAG,MAAM,IAAIlW,WAAW,sBAC3D,GAAIkW,EAASuqC,EAAMhwD,EAAQ,MAAM,IAAIuP,WAAW,yCA+JlD,SAAS0gD,EAAUt0C,EAAKxX,EAAOshB,EAAQuqC,EAAKX,EAAK5qC,GAC/C,IAAK9f,EAAOQ,SAASwW,GAAM,MAAM,IAAItc,UAAU,+CAC/C,GAAI8E,EAAQkrD,GAAOlrD,EAAQsgB,EAAK,MAAM,IAAIlV,WAAW,qCACrD,GAAIkW,EAASuqC,EAAMr0C,EAAI3b,OAAQ,MAAM,IAAIuP,WAAW,sBAkDtD,SAAS2gD,EAAmBv0C,EAAKxX,EAAOshB,EAAQ0qC,GAC1ChsD,EAAQ,IAAGA,EAAQ,MAASA,EAAQ,GACxC,IAAK,IAAIzD,EAAI,EAAGU,EAAIoT,KAAKiQ,IAAI9I,EAAI3b,OAASylB,EAAQ,GAAI/kB,EAAIU,IAAKV,EAC7Dib,EAAI8J,EAAS/kB,IAAMyD,EAAS,KAAS,GAAKgsD,EAAezvD,EAAI,EAAIA,MAClC,GAA5ByvD,EAAezvD,EAAI,EAAIA,GA8B9B,SAAS0vD,EAAmBz0C,EAAKxX,EAAOshB,EAAQ0qC,GAC1ChsD,EAAQ,IAAGA,EAAQ,WAAaA,EAAQ,GAC5C,IAAK,IAAIzD,EAAI,EAAGU,EAAIoT,KAAKiQ,IAAI9I,EAAI3b,OAASylB,EAAQ,GAAI/kB,EAAIU,IAAKV,EAC7Dib,EAAI8J,EAAS/kB,GAAMyD,IAAuC,GAA5BgsD,EAAezvD,EAAI,EAAIA,GAAU,IAmJnE,SAAS2vD,EAAc10C,EAAKxX,EAAOshB,EAAQuqC,EAAKX,EAAK5qC,GACnD,GAAIgB,EAASuqC,EAAMr0C,EAAI3b,OAAQ,MAAM,IAAIuP,WAAW,sBACpD,GAAIkW,EAAS,EAAG,MAAM,IAAIlW,WAAW,sBAGvC,SAAS+gD,EAAY30C,EAAKxX,EAAOshB,EAAQ0qC,EAAcI,GAKrD,OAJKA,GACHF,EAAa10C,EAAKxX,EAAOshB,EAAQ,EAAG,sBAAyB,sBAE/D+lC,EAAQniD,MAAMsS,EAAKxX,EAAOshB,EAAQ0qC,EAAc,GAAI,GAC7C1qC,EAAS,EAWlB,SAAS+qC,EAAa70C,EAAKxX,EAAOshB,EAAQ0qC,EAAcI,GAKtD,OAJKA,GACHF,EAAa10C,EAAKxX,EAAOshB,EAAQ,EAAG,uBAA0B,uBAEhE+lC,EAAQniD,MAAMsS,EAAKxX,EAAOshB,EAAQ0qC,EAAc,GAAI,GAC7C1qC,EAAS,EA/clB9gB,EAAOzF,UAAUvD,MAAQ,SAAgBqlB,EAAOnW,GAC9C,IAoBI4lD,EApBAtlD,EAAM1O,KAAKuD,OAqBf,GApBAghB,IAAUA,EACVnW,OAAcpB,IAARoB,EAAoBM,IAAQN,EAE9BmW,EAAQ,GACVA,GAAS7V,EACL6V,EAAQ,IAAGA,EAAQ,IACdA,EAAQ7V,IACjB6V,EAAQ7V,GAGNN,EAAM,GACRA,GAAOM,EACHN,EAAM,IAAGA,EAAM,IACVA,EAAMM,IACfN,EAAMM,GAGJN,EAAMmW,IAAOnW,EAAMmW,GAGnBrc,EAAOinD,oBACT6E,EAASh0D,KAAKivD,SAAS1qC,EAAOnW,GAC9B4lD,EAAOvQ,UAAYv7C,EAAOzF,cACrB,CACL,IAAIwxD,EAAW7lD,EAAMmW,EACrByvC,EAAS,IAAI9rD,EAAO+rD,OAAUjnD,GAC9B,IAAK,IAAI/I,EAAI,EAAGA,EAAIgwD,IAAYhwD,EAC9B+vD,EAAO/vD,GAAKjE,KAAKiE,EAAIsgB,GAIzB,OAAOyvC,GAWT9rD,EAAOzF,UAAUwpB,WAAa,SAAqBjD,EAAQnE,EAAYivC,GACrE9qC,GAAkB,EAClBnE,GAA0B,EACrBivC,GAAUR,EAAYtqC,EAAQnE,EAAY7kB,KAAKuD,QAEpD,IAAI+U,EAAMtY,KAAKgpB,GACX/E,EAAM,EACNhgB,EAAI,EACR,QAASA,EAAI4gB,IAAeZ,GAAO,KACjC3L,GAAOtY,KAAKgpB,EAAS/kB,GAAKggB,EAG5B,OAAO3L,GAGTpQ,EAAOzF,UAAUupB,WAAa,SAAqBhD,EAAQnE,EAAYivC,GACrE9qC,GAAkB,EAClBnE,GAA0B,EACrBivC,GACHR,EAAYtqC,EAAQnE,EAAY7kB,KAAKuD,QAGvC,IAAI+U,EAAMtY,KAAKgpB,IAAWnE,GACtBZ,EAAM,EACV,MAAOY,EAAa,IAAMZ,GAAO,KAC/B3L,GAAOtY,KAAKgpB,IAAWnE,GAAcZ,EAGvC,OAAO3L,GAGTpQ,EAAOzF,UAAU4c,UAAY,SAAoB2J,EAAQ8qC,GAEvD,OADKA,GAAUR,EAAYtqC,EAAQ,EAAGhpB,KAAKuD,QACpCvD,KAAKgpB,IAGd9gB,EAAOzF,UAAUmpB,aAAe,SAAuB5C,EAAQ8qC,GAE7D,OADKA,GAAUR,EAAYtqC,EAAQ,EAAGhpB,KAAKuD,QACpCvD,KAAKgpB,GAAWhpB,KAAKgpB,EAAS,IAAM,GAG7C9gB,EAAOzF,UAAUohB,aAAe,SAAuBmF,EAAQ8qC,GAE7D,OADKA,GAAUR,EAAYtqC,EAAQ,EAAGhpB,KAAKuD,QACnCvD,KAAKgpB,IAAW,EAAKhpB,KAAKgpB,EAAS,IAG7C9gB,EAAOzF,UAAUgpB,aAAe,SAAuBzC,EAAQ8qC,GAG7D,OAFKA,GAAUR,EAAYtqC,EAAQ,EAAGhpB,KAAKuD,SAElCvD,KAAKgpB,GACThpB,KAAKgpB,EAAS,IAAM,EACpBhpB,KAAKgpB,EAAS,IAAM,IACD,SAAnBhpB,KAAKgpB,EAAS,IAGrB9gB,EAAOzF,UAAUqhB,aAAe,SAAuBkF,EAAQ8qC,GAG7D,OAFKA,GAAUR,EAAYtqC,EAAQ,EAAGhpB,KAAKuD,QAEpB,SAAfvD,KAAKgpB,IACThpB,KAAKgpB,EAAS,IAAM,GACrBhpB,KAAKgpB,EAAS,IAAM,EACrBhpB,KAAKgpB,EAAS,KAGlB9gB,EAAOzF,UAAUspB,UAAY,SAAoB/C,EAAQnE,EAAYivC,GACnE9qC,GAAkB,EAClBnE,GAA0B,EACrBivC,GAAUR,EAAYtqC,EAAQnE,EAAY7kB,KAAKuD,QAEpD,IAAI+U,EAAMtY,KAAKgpB,GACX/E,EAAM,EACNhgB,EAAI,EACR,QAASA,EAAI4gB,IAAeZ,GAAO,KACjC3L,GAAOtY,KAAKgpB,EAAS/kB,GAAKggB,EAM5B,OAJAA,GAAO,IAEH3L,GAAO2L,IAAK3L,GAAOP,KAAK8pC,IAAI,EAAG,EAAIh9B,IAEhCvM,GAGTpQ,EAAOzF,UAAUqpB,UAAY,SAAoB9C,EAAQnE,EAAYivC,GACnE9qC,GAAkB,EAClBnE,GAA0B,EACrBivC,GAAUR,EAAYtqC,EAAQnE,EAAY7kB,KAAKuD,QAEpD,IAAIU,EAAI4gB,EACJZ,EAAM,EACN3L,EAAMtY,KAAKgpB,IAAW/kB,GAC1B,MAAOA,EAAI,IAAMggB,GAAO,KACtB3L,GAAOtY,KAAKgpB,IAAW/kB,GAAKggB,EAM9B,OAJAA,GAAO,IAEH3L,GAAO2L,IAAK3L,GAAOP,KAAK8pC,IAAI,EAAG,EAAIh9B,IAEhCvM,GAGTpQ,EAAOzF,UAAUopB,SAAW,SAAmB7C,EAAQ8qC,GAErD,OADKA,GAAUR,EAAYtqC,EAAQ,EAAGhpB,KAAKuD,QACtB,IAAfvD,KAAKgpB,IAC0B,GAA5B,IAAOhpB,KAAKgpB,GAAU,GADKhpB,KAAKgpB,IAI3C9gB,EAAOzF,UAAUkpB,YAAc,SAAsB3C,EAAQ8qC,GACtDA,GAAUR,EAAYtqC,EAAQ,EAAGhpB,KAAKuD,QAC3C,IAAI+U,EAAMtY,KAAKgpB,GAAWhpB,KAAKgpB,EAAS,IAAM,EAC9C,OAAc,MAAN1Q,EAAsB,WAANA,EAAmBA,GAG7CpQ,EAAOzF,UAAUipB,YAAc,SAAsB1C,EAAQ8qC,GACtDA,GAAUR,EAAYtqC,EAAQ,EAAGhpB,KAAKuD,QAC3C,IAAI+U,EAAMtY,KAAKgpB,EAAS,GAAMhpB,KAAKgpB,IAAW,EAC9C,OAAc,MAAN1Q,EAAsB,WAANA,EAAmBA,GAG7CpQ,EAAOzF,UAAU+oB,YAAc,SAAsBxC,EAAQ8qC,GAG3D,OAFKA,GAAUR,EAAYtqC,EAAQ,EAAGhpB,KAAKuD,QAEnCvD,KAAKgpB,GACVhpB,KAAKgpB,EAAS,IAAM,EACpBhpB,KAAKgpB,EAAS,IAAM,GACpBhpB,KAAKgpB,EAAS,IAAM,IAGzB9gB,EAAOzF,UAAU8oB,YAAc,SAAsBvC,EAAQ8qC,GAG3D,OAFKA,GAAUR,EAAYtqC,EAAQ,EAAGhpB,KAAKuD,QAEnCvD,KAAKgpB,IAAW,GACrBhpB,KAAKgpB,EAAS,IAAM,GACpBhpB,KAAKgpB,EAAS,IAAM,EACpBhpB,KAAKgpB,EAAS,IAGnB9gB,EAAOzF,UAAU6oB,YAAc,SAAsBtC,EAAQ8qC,GAE3D,OADKA,GAAUR,EAAYtqC,EAAQ,EAAGhpB,KAAKuD,QACpCwrD,EAAQhjD,KAAK/L,KAAMgpB,GAAQ,EAAM,GAAI,IAG9C9gB,EAAOzF,UAAU4oB,YAAc,SAAsBrC,EAAQ8qC,GAE3D,OADKA,GAAUR,EAAYtqC,EAAQ,EAAGhpB,KAAKuD,QACpCwrD,EAAQhjD,KAAK/L,KAAMgpB,GAAQ,EAAO,GAAI,IAG/C9gB,EAAOzF,UAAU2oB,aAAe,SAAuBpC,EAAQ8qC,GAE7D,OADKA,GAAUR,EAAYtqC,EAAQ,EAAGhpB,KAAKuD,QACpCwrD,EAAQhjD,KAAK/L,KAAMgpB,GAAQ,EAAM,GAAI,IAG9C9gB,EAAOzF,UAAU0oB,aAAe,SAAuBnC,EAAQ8qC,GAE7D,OADKA,GAAUR,EAAYtqC,EAAQ,EAAGhpB,KAAKuD,QACpCwrD,EAAQhjD,KAAK/L,KAAMgpB,GAAQ,EAAO,GAAI,IAS/C9gB,EAAOzF,UAAUyxD,YAAc,SAAsBxsD,EAAOshB,EAAQnE,EAAYivC,GAI9E,GAHApsD,GAASA,EACTshB,GAAkB,EAClBnE,GAA0B,GACrBivC,EAAU,CACb,IAAI9vC,EAAWjM,KAAK8pC,IAAI,EAAG,EAAIh9B,GAAc,EAC7C2uC,EAASxzD,KAAM0H,EAAOshB,EAAQnE,EAAYb,EAAU,GAGtD,IAAIC,EAAM,EACNhgB,EAAI,EACRjE,KAAKgpB,GAAkB,IAARthB,EACf,QAASzD,EAAI4gB,IAAeZ,GAAO,KACjCjkB,KAAKgpB,EAAS/kB,GAAMyD,EAAQuc,EAAO,IAGrC,OAAO+E,EAASnE,GAGlB3c,EAAOzF,UAAU0xD,YAAc,SAAsBzsD,EAAOshB,EAAQnE,EAAYivC,GAI9E,GAHApsD,GAASA,EACTshB,GAAkB,EAClBnE,GAA0B,GACrBivC,EAAU,CACb,IAAI9vC,EAAWjM,KAAK8pC,IAAI,EAAG,EAAIh9B,GAAc,EAC7C2uC,EAASxzD,KAAM0H,EAAOshB,EAAQnE,EAAYb,EAAU,GAGtD,IAAI/f,EAAI4gB,EAAa,EACjBZ,EAAM,EACVjkB,KAAKgpB,EAAS/kB,GAAa,IAARyD,EACnB,QAASzD,GAAK,IAAMggB,GAAO,KACzBjkB,KAAKgpB,EAAS/kB,GAAMyD,EAAQuc,EAAO,IAGrC,OAAO+E,EAASnE,GAGlB3c,EAAOzF,UAAU6rD,WAAa,SAAqB5mD,EAAOshB,EAAQ8qC,GAMhE,OALApsD,GAASA,EACTshB,GAAkB,EACb8qC,GAAUN,EAASxzD,KAAM0H,EAAOshB,EAAQ,EAAG,IAAM,GACjD9gB,EAAOinD,sBAAqBznD,EAAQqQ,KAAKmD,MAAMxT,IACpD1H,KAAKgpB,GAAmB,IAARthB,EACTshB,EAAS,GAWlB9gB,EAAOzF,UAAU2xD,cAAgB,SAAwB1sD,EAAOshB,EAAQ8qC,GAUtE,OATApsD,GAASA,EACTshB,GAAkB,EACb8qC,GAAUN,EAASxzD,KAAM0H,EAAOshB,EAAQ,EAAG,MAAQ,GACpD9gB,EAAOinD,qBACTnvD,KAAKgpB,GAAmB,IAARthB,EAChB1H,KAAKgpB,EAAS,GAAMthB,IAAU,GAE9B+rD,EAAkBzzD,KAAM0H,EAAOshB,GAAQ,GAElCA,EAAS,GAGlB9gB,EAAOzF,UAAU4xD,cAAgB,SAAwB3sD,EAAOshB,EAAQ8qC,GAUtE,OATApsD,GAASA,EACTshB,GAAkB,EACb8qC,GAAUN,EAASxzD,KAAM0H,EAAOshB,EAAQ,EAAG,MAAQ,GACpD9gB,EAAOinD,qBACTnvD,KAAKgpB,GAAWthB,IAAU,EAC1B1H,KAAKgpB,EAAS,GAAc,IAARthB,GAEpB+rD,EAAkBzzD,KAAM0H,EAAOshB,GAAQ,GAElCA,EAAS,GAUlB9gB,EAAOzF,UAAU6xD,cAAgB,SAAwB5sD,EAAOshB,EAAQ8qC,GAYtE,OAXApsD,GAASA,EACTshB,GAAkB,EACb8qC,GAAUN,EAASxzD,KAAM0H,EAAOshB,EAAQ,EAAG,WAAY,GACxD9gB,EAAOinD,qBACTnvD,KAAKgpB,EAAS,GAAMthB,IAAU,GAC9B1H,KAAKgpB,EAAS,GAAMthB,IAAU,GAC9B1H,KAAKgpB,EAAS,GAAMthB,IAAU,EAC9B1H,KAAKgpB,GAAmB,IAARthB,GAEhBisD,EAAkB3zD,KAAM0H,EAAOshB,GAAQ,GAElCA,EAAS,GAGlB9gB,EAAOzF,UAAU8xD,cAAgB,SAAwB7sD,EAAOshB,EAAQ8qC,GAYtE,OAXApsD,GAASA,EACTshB,GAAkB,EACb8qC,GAAUN,EAASxzD,KAAM0H,EAAOshB,EAAQ,EAAG,WAAY,GACxD9gB,EAAOinD,qBACTnvD,KAAKgpB,GAAWthB,IAAU,GAC1B1H,KAAKgpB,EAAS,GAAMthB,IAAU,GAC9B1H,KAAKgpB,EAAS,GAAMthB,IAAU,EAC9B1H,KAAKgpB,EAAS,GAAc,IAARthB,GAEpBisD,EAAkB3zD,KAAM0H,EAAOshB,GAAQ,GAElCA,EAAS,GAGlB9gB,EAAOzF,UAAU+xD,WAAa,SAAqB9sD,EAAOshB,EAAQnE,EAAYivC,GAG5E,GAFApsD,GAASA,EACTshB,GAAkB,GACb8qC,EAAU,CACb,IAAIW,EAAQ18C,KAAK8pC,IAAI,EAAG,EAAIh9B,EAAa,GAEzC2uC,EAASxzD,KAAM0H,EAAOshB,EAAQnE,EAAY4vC,EAAQ,GAAIA,GAGxD,IAAIxwD,EAAI,EACJggB,EAAM,EACN2a,EAAM,EACV5+B,KAAKgpB,GAAkB,IAARthB,EACf,QAASzD,EAAI4gB,IAAeZ,GAAO,KAC7Bvc,EAAQ,GAAa,IAARk3B,GAAsC,IAAzB5+B,KAAKgpB,EAAS/kB,EAAI,KAC9C26B,EAAM,GAER5+B,KAAKgpB,EAAS/kB,IAAOyD,EAAQuc,GAAQ,GAAK2a,EAAM,IAGlD,OAAO5V,EAASnE,GAGlB3c,EAAOzF,UAAUiyD,WAAa,SAAqBhtD,EAAOshB,EAAQnE,EAAYivC,GAG5E,GAFApsD,GAASA,EACTshB,GAAkB,GACb8qC,EAAU,CACb,IAAIW,EAAQ18C,KAAK8pC,IAAI,EAAG,EAAIh9B,EAAa,GAEzC2uC,EAASxzD,KAAM0H,EAAOshB,EAAQnE,EAAY4vC,EAAQ,GAAIA,GAGxD,IAAIxwD,EAAI4gB,EAAa,EACjBZ,EAAM,EACN2a,EAAM,EACV5+B,KAAKgpB,EAAS/kB,GAAa,IAARyD,EACnB,QAASzD,GAAK,IAAMggB,GAAO,KACrBvc,EAAQ,GAAa,IAARk3B,GAAsC,IAAzB5+B,KAAKgpB,EAAS/kB,EAAI,KAC9C26B,EAAM,GAER5+B,KAAKgpB,EAAS/kB,IAAOyD,EAAQuc,GAAQ,GAAK2a,EAAM,IAGlD,OAAO5V,EAASnE,GAGlB3c,EAAOzF,UAAUkyD,UAAY,SAAoBjtD,EAAOshB,EAAQ8qC,GAO9D,OANApsD,GAASA,EACTshB,GAAkB,EACb8qC,GAAUN,EAASxzD,KAAM0H,EAAOshB,EAAQ,EAAG,KAAO,KAClD9gB,EAAOinD,sBAAqBznD,EAAQqQ,KAAKmD,MAAMxT,IAChDA,EAAQ,IAAGA,EAAQ,IAAOA,EAAQ,GACtC1H,KAAKgpB,GAAmB,IAARthB,EACTshB,EAAS,GAGlB9gB,EAAOzF,UAAUmyD,aAAe,SAAuBltD,EAAOshB,EAAQ8qC,GAUpE,OATApsD,GAASA,EACTshB,GAAkB,EACb8qC,GAAUN,EAASxzD,KAAM0H,EAAOshB,EAAQ,EAAG,OAAS,OACrD9gB,EAAOinD,qBACTnvD,KAAKgpB,GAAmB,IAARthB,EAChB1H,KAAKgpB,EAAS,GAAMthB,IAAU,GAE9B+rD,EAAkBzzD,KAAM0H,EAAOshB,GAAQ,GAElCA,EAAS,GAGlB9gB,EAAOzF,UAAUoyD,aAAe,SAAuBntD,EAAOshB,EAAQ8qC,GAUpE,OATApsD,GAASA,EACTshB,GAAkB,EACb8qC,GAAUN,EAASxzD,KAAM0H,EAAOshB,EAAQ,EAAG,OAAS,OACrD9gB,EAAOinD,qBACTnvD,KAAKgpB,GAAWthB,IAAU,EAC1B1H,KAAKgpB,EAAS,GAAc,IAARthB,GAEpB+rD,EAAkBzzD,KAAM0H,EAAOshB,GAAQ,GAElCA,EAAS,GAGlB9gB,EAAOzF,UAAUqyD,aAAe,SAAuBptD,EAAOshB,EAAQ8qC,GAYpE,OAXApsD,GAASA,EACTshB,GAAkB,EACb8qC,GAAUN,EAASxzD,KAAM0H,EAAOshB,EAAQ,EAAG,YAAa,YACzD9gB,EAAOinD,qBACTnvD,KAAKgpB,GAAmB,IAARthB,EAChB1H,KAAKgpB,EAAS,GAAMthB,IAAU,EAC9B1H,KAAKgpB,EAAS,GAAMthB,IAAU,GAC9B1H,KAAKgpB,EAAS,GAAMthB,IAAU,IAE9BisD,EAAkB3zD,KAAM0H,EAAOshB,GAAQ,GAElCA,EAAS,GAGlB9gB,EAAOzF,UAAUsyD,aAAe,SAAuBrtD,EAAOshB,EAAQ8qC,GAapE,OAZApsD,GAASA,EACTshB,GAAkB,EACb8qC,GAAUN,EAASxzD,KAAM0H,EAAOshB,EAAQ,EAAG,YAAa,YACzDthB,EAAQ,IAAGA,EAAQ,WAAaA,EAAQ,GACxCQ,EAAOinD,qBACTnvD,KAAKgpB,GAAWthB,IAAU,GAC1B1H,KAAKgpB,EAAS,GAAMthB,IAAU,GAC9B1H,KAAKgpB,EAAS,GAAMthB,IAAU,EAC9B1H,KAAKgpB,EAAS,GAAc,IAARthB,GAEpBisD,EAAkB3zD,KAAM0H,EAAOshB,GAAQ,GAElCA,EAAS,GAgBlB9gB,EAAOzF,UAAUuyD,aAAe,SAAuBttD,EAAOshB,EAAQ8qC,GACpE,OAAOD,EAAW7zD,KAAM0H,EAAOshB,GAAQ,EAAM8qC,IAG/C5rD,EAAOzF,UAAUwyD,aAAe,SAAuBvtD,EAAOshB,EAAQ8qC,GACpE,OAAOD,EAAW7zD,KAAM0H,EAAOshB,GAAQ,EAAO8qC,IAWhD5rD,EAAOzF,UAAUyyD,cAAgB,SAAwBxtD,EAAOshB,EAAQ8qC,GACtE,OAAOC,EAAY/zD,KAAM0H,EAAOshB,GAAQ,EAAM8qC,IAGhD5rD,EAAOzF,UAAU0yD,cAAgB,SAAwBztD,EAAOshB,EAAQ8qC,GACtE,OAAOC,EAAY/zD,KAAM0H,EAAOshB,GAAQ,EAAO8qC,IAIjD5rD,EAAOzF,UAAU6mB,KAAO,SAAe5P,EAAQ07C,EAAa7wC,EAAOnW,GAQjE,GAPKmW,IAAOA,EAAQ,GACfnW,GAAe,IAARA,IAAWA,EAAMpO,KAAKuD,QAC9B6xD,GAAe17C,EAAOnW,SAAQ6xD,EAAc17C,EAAOnW,QAClD6xD,IAAaA,EAAc,GAC5BhnD,EAAM,GAAKA,EAAMmW,IAAOnW,EAAMmW,GAG9BnW,IAAQmW,EAAO,OAAO,EAC1B,GAAsB,IAAlB7K,EAAOnW,QAAgC,IAAhBvD,KAAKuD,OAAc,OAAO,EAGrD,GAAI6xD,EAAc,EAChB,MAAM,IAAItiD,WAAW,6BAEvB,GAAIyR,EAAQ,GAAKA,GAASvkB,KAAKuD,OAAQ,MAAM,IAAIuP,WAAW,6BAC5D,GAAI1E,EAAM,EAAG,MAAM,IAAI0E,WAAW,2BAG9B1E,EAAMpO,KAAKuD,SAAQ6K,EAAMpO,KAAKuD,QAC9BmW,EAAOnW,OAAS6xD,EAAchnD,EAAMmW,IACtCnW,EAAMsL,EAAOnW,OAAS6xD,EAAc7wC,GAGtC,IACItgB,EADAyK,EAAMN,EAAMmW,EAGhB,GAAIvkB,OAAS0Z,GAAU6K,EAAQ6wC,GAAeA,EAAchnD,EAE1D,IAAKnK,EAAIyK,EAAM,EAAGzK,GAAK,IAAKA,EAC1ByV,EAAOzV,EAAImxD,GAAep1D,KAAKiE,EAAIsgB,QAEhC,GAAI7V,EAAM,MAASxG,EAAOinD,oBAE/B,IAAKlrD,EAAI,EAAGA,EAAIyK,IAAOzK,EACrByV,EAAOzV,EAAImxD,GAAep1D,KAAKiE,EAAIsgB,QAGrClc,WAAW5F,UAAU0K,IAAIhO,KACvBua,EACA1Z,KAAKivD,SAAS1qC,EAAOA,EAAQ7V,GAC7B0mD,GAIJ,OAAO1mD,GAOTxG,EAAOzF,UAAU0+C,KAAO,SAAe7oC,EAAKiM,EAAOnW,EAAKxC,GAEtD,GAAmB,kBAAR0M,EAAkB,CAS3B,GARqB,kBAAViM,GACT3Y,EAAW2Y,EACXA,EAAQ,EACRnW,EAAMpO,KAAKuD,QACa,kBAAR6K,IAChBxC,EAAWwC,EACXA,EAAMpO,KAAKuD,QAEM,IAAf+U,EAAI/U,OAAc,CACpB,IAAI4hB,EAAO7M,EAAIzT,WAAW,GACtBsgB,EAAO,MACT7M,EAAM6M,GAGV,QAAiBnY,IAAbpB,GAA8C,kBAAbA,EACnC,MAAM,IAAIhJ,UAAU,6BAEtB,GAAwB,kBAAbgJ,IAA0B1D,EAAOs5B,WAAW51B,GACrD,MAAM,IAAIhJ,UAAU,qBAAuBgJ,OAErB,kBAAR0M,IAChBA,GAAY,KAId,GAAIiM,EAAQ,GAAKvkB,KAAKuD,OAASghB,GAASvkB,KAAKuD,OAAS6K,EACpD,MAAM,IAAI0E,WAAW,sBAGvB,GAAI1E,GAAOmW,EACT,OAAOvkB,KAQT,IAAIiE,EACJ,GANAsgB,KAAkB,EAClBnW,OAAcpB,IAARoB,EAAoBpO,KAAKuD,OAAS6K,IAAQ,EAE3CkK,IAAKA,EAAM,GAGG,kBAARA,EACT,IAAKrU,EAAIsgB,EAAOtgB,EAAImK,IAAOnK,EACzBjE,KAAKiE,GAAKqU,MAEP,CACL,IAAI2H,EAAQ/X,EAAOQ,SAAS4P,GACxBA,EACAw3C,EAAY,IAAI5nD,EAAOoQ,EAAK1M,GAAUlN,YACtCgQ,EAAMuR,EAAM1c,OAChB,IAAKU,EAAI,EAAGA,EAAImK,EAAMmW,IAAStgB,EAC7BjE,KAAKiE,EAAIsgB,GAAStE,EAAMhc,EAAIyK,GAIhC,OAAO1O,MAMT,IAAIq1D,EAAoB,qBAExB,SAASC,EAAa3iD,GAIpB,GAFAA,EAAM4iD,EAAW5iD,GAAKxP,QAAQkyD,EAAmB,IAE7C1iD,EAAIpP,OAAS,EAAG,MAAO,GAE3B,MAAOoP,EAAIpP,OAAS,IAAM,EACxBoP,GAAY,IAEd,OAAOA,EAGT,SAAS4iD,EAAY5iD,GACnB,OAAIA,EAAIrP,KAAaqP,EAAIrP,OAClBqP,EAAIxP,QAAQ,aAAc,IAGnC,SAASkwD,EAAOnlD,GACd,OAAIA,EAAI,GAAW,IAAMA,EAAExP,SAAS,IAC7BwP,EAAExP,SAAS,IAGpB,SAASoxD,EAAat0C,EAAQg6C,GAE5B,IAAIt5C,EADJs5C,EAAQA,GAAS3iD,IAMjB,IAJA,IAAItP,EAASiY,EAAOjY,OAChBkyD,EAAgB,KAChBx1C,EAAQ,GAEHhc,EAAI,EAAGA,EAAIV,IAAUU,EAAG,CAI/B,GAHAiY,EAAYV,EAAO3W,WAAWZ,GAG1BiY,EAAY,OAAUA,EAAY,MAAQ,CAE5C,IAAKu5C,EAAe,CAElB,GAAIv5C,EAAY,MAAQ,EAEjBs5C,GAAS,IAAM,GAAGv1C,EAAMhb,KAAK,IAAM,IAAM,KAC9C,SACK,GAAIhB,EAAI,IAAMV,EAAQ,EAEtBiyD,GAAS,IAAM,GAAGv1C,EAAMhb,KAAK,IAAM,IAAM,KAC9C,SAIFwwD,EAAgBv5C,EAEhB,SAIF,GAAIA,EAAY,MAAQ,EACjBs5C,GAAS,IAAM,GAAGv1C,EAAMhb,KAAK,IAAM,IAAM,KAC9CwwD,EAAgBv5C,EAChB,SAIFA,EAAkE,OAArDu5C,EAAgB,OAAU,GAAKv5C,EAAY,YAC/Cu5C,IAEJD,GAAS,IAAM,GAAGv1C,EAAMhb,KAAK,IAAM,IAAM,KAMhD,GAHAwwD,EAAgB,KAGZv5C,EAAY,IAAM,CACpB,IAAKs5C,GAAS,GAAK,EAAG,MACtBv1C,EAAMhb,KAAKiX,QACN,GAAIA,EAAY,KAAO,CAC5B,IAAKs5C,GAAS,GAAK,EAAG,MACtBv1C,EAAMhb,KACJiX,GAAa,EAAM,IACP,GAAZA,EAAmB,UAEhB,GAAIA,EAAY,MAAS,CAC9B,IAAKs5C,GAAS,GAAK,EAAG,MACtBv1C,EAAMhb,KACJiX,GAAa,GAAM,IACnBA,GAAa,EAAM,GAAO,IACd,GAAZA,EAAmB,SAEhB,MAAIA,EAAY,SASrB,MAAM,IAAIzD,MAAM,sBARhB,IAAK+8C,GAAS,GAAK,EAAG,MACtBv1C,EAAMhb,KACJiX,GAAa,GAAO,IACpBA,GAAa,GAAM,GAAO,IAC1BA,GAAa,EAAM,GAAO,IACd,GAAZA,EAAmB,MAOzB,OAAO+D,EAGT,SAASoxC,EAAc1+C,GAErB,IADA,IAAI+iD,EAAY,GACPzxD,EAAI,EAAGA,EAAI0O,EAAIpP,SAAUU,EAEhCyxD,EAAUzwD,KAAyB,IAApB0N,EAAI9N,WAAWZ,IAEhC,OAAOyxD,EAGT,SAASjE,EAAgB9+C,EAAK6iD,GAG5B,IAFA,IAAI/kC,EAAGklC,EAAIC,EACPF,EAAY,GACPzxD,EAAI,EAAGA,EAAI0O,EAAIpP,SAAUU,EAAG,CACnC,IAAKuxD,GAAS,GAAK,EAAG,MAEtB/kC,EAAI9d,EAAI9N,WAAWZ,GACnB0xD,EAAKllC,GAAK,EACVmlC,EAAKnlC,EAAI,IACTilC,EAAUzwD,KAAK2wD,GACfF,EAAUzwD,KAAK0wD,GAGjB,OAAOD,EAGT,SAAS3F,EAAep9C,GACtB,OAAOm8C,EAAOhqC,YAAYwwC,EAAY3iD,IAGxC,SAASw+C,GAAYviD,EAAK2a,EAAKP,EAAQzlB,GACrC,IAAK,IAAIU,EAAI,EAAGA,EAAIV,IAAUU,EAAG,CAC/B,GAAKA,EAAI+kB,GAAUO,EAAIhmB,QAAYU,GAAK2K,EAAIrL,OAAS,MACrDgmB,EAAItlB,EAAI+kB,GAAUpa,EAAI3K,GAExB,OAAOA,EAGT,SAAS0rD,GAAOr3C,GACd,OAAOA,IAAQA,K,2CC3vDjB,IAAIpG,EAAO,EAAQ,QACfyyC,EAAgB,EAAQ,QACxB/tB,EAAW,EAAQ,QACnBlP,EAAW,EAAQ,QACnBi7B,EAAqB,EAAQ,QAE7B19C,EAAO,GAAGA,KAGV+0B,EAAe,SAAUC,GAC3B,IAAI47B,EAAiB,GAAR57B,EACT67B,EAAoB,GAAR77B,EACZ87B,EAAkB,GAAR97B,EACV+7B,EAAmB,GAAR/7B,EACXg8B,EAAwB,GAARh8B,EAChBi8B,EAAmB,GAARj8B,GAAag8B,EAC5B,OAAO,SAAU/7B,EAAO5gB,EAAY+O,EAAM8tC,GASxC,IARA,IAOIzuD,EAAO1B,EAPPmxB,EAAIP,EAASsD,GACbprB,EAAO61C,EAAcxtB,GACrBi/B,EAAgBlkD,EAAKoH,EAAY+O,EAAM,GACvC9kB,EAASmkB,EAAS5Y,EAAKvL,QACvBiO,EAAQ,EACRmT,EAASwxC,GAAkBxT,EAC3BjpC,EAASm8C,EAASlxC,EAAOuV,EAAO32B,GAAUuyD,EAAYnxC,EAAOuV,EAAO,QAAKltB,EAEvEzJ,EAASiO,EAAOA,IAAS,IAAI0kD,GAAY1kD,KAAS1C,KACtDpH,EAAQoH,EAAK0C,GACbxL,EAASowD,EAAc1uD,EAAO8J,EAAO2lB,GACjC8C,GACF,GAAI47B,EAAQn8C,EAAOlI,GAASxL,OACvB,GAAIA,EAAQ,OAAQi0B,GACvB,KAAK,EAAG,OAAO,EACf,KAAK,EAAG,OAAOvyB,EACf,KAAK,EAAG,OAAO8J,EACf,KAAK,EAAGvM,EAAK9F,KAAKua,EAAQhS,QACrB,GAAIsuD,EAAU,OAAO,EAGhC,OAAOC,GAAiB,EAAIF,GAAWC,EAAWA,EAAWt8C,IAIjE5b,EAAOD,QAAU,CAGf+a,QAASohB,EAAa,GAGtB3e,IAAK2e,EAAa,GAGlBvD,OAAQuD,EAAa,GAGrBq8B,KAAMr8B,EAAa,GAGnBs8B,MAAOt8B,EAAa,GAGpBu8B,KAAMv8B,EAAa,GAGnBw8B,UAAWx8B,EAAa,K,kCCtC1B,SAAS3mB,EAAWxJ,EAAI05B,GACtB,GAAIkzB,EAAO,iBACT,OAAO5sD,EAGT,IAAI6sD,GAAS,EACb,SAASC,IACP,IAAKD,EAAQ,CACX,GAAID,EAAO,oBACT,MAAM,IAAIh+C,MAAM8qB,GACPkzB,EAAO,oBAChB1pC,QAAQ6pC,MAAMrzB,GAEdxW,QAAQC,KAAKuW,GAEfmzB,GAAS,EAEX,OAAO7sD,EAAGgI,MAAM7R,KAAM8R,WAGxB,OAAO6kD,EAWT,SAASF,EAAQr+C,GAEf,IACE,IAAKhQ,EAAOmpB,aAAc,OAAO,EACjC,MAAOva,GACP,OAAO,EAET,IAAIsB,EAAMlQ,EAAOmpB,aAAanZ,GAC9B,OAAI,MAAQE,GACyB,SAA9B1F,OAAO0F,GAAKzU,cA5DrB/F,EAAOD,QAAUwV,I,2CCLjBvV,EAAOD,QAAU,EAAQ,QAAUgK,c,qBCAnC,IAAIgW,EAAQ,EAAQ,QAEpB/f,EAAOD,SAAWggB,GAAM,WACtB,OAAOhf,OAAOg4D,aAAah4D,OAAOi4D,kBAAkB,S,kCCFtDj4D,OAAO4I,eAAe5J,EAAS,aAAc,CAAE6J,OAAO,IACtD7J,EAAQ4sD,eAAY,EACpB,IAAIJ,EAAY,EAAQ,QACxBxsD,EAAQ4sD,UAAY,WAAc,OAAOr7B,QAAQL,OAAOs7B,EAAU/uB,iB,mCCJlE,YA2BA,IAAIypB,EAAalmD,OAAO+G,MAAQ,SAAUrD,GACxC,IAAIqD,EAAO,GAEX,IAAK,IAAImoB,KAAOxrB,EACdqD,EAAKX,KAAK8oB,GAGZ,OAAOnoB,GAKT9H,EAAOD,QAAUK,EAEjB,IAAIF,EAAW,EAAQ,QAEnBC,EAAW,EAAQ,QAEvB,EAAQ,OAAR,CAAoBC,EAAQF,GAM1B,IAFA,IAAI4H,EAAOm/C,EAAW9mD,EAASwE,WAEtB8D,EAAI,EAAGA,EAAIX,EAAKrC,OAAQgD,IAAK,CACpC,IAAI0L,EAASrM,EAAKW,GACbrI,EAAOuE,UAAUwP,KAAS/T,EAAOuE,UAAUwP,GAAUhU,EAASwE,UAAUwP,IAIjF,SAAS/T,EAAOgM,GACd,KAAMlK,gBAAgB9B,GAAS,OAAO,IAAIA,EAAOgM,GACjDlM,EAASmB,KAAKa,KAAMkK,GACpBjM,EAASkB,KAAKa,KAAMkK,GACpBlK,KAAKglD,eAAgB,EAEjB96C,KACuB,IAArBA,EAAQ4B,WAAoB9L,KAAK8L,UAAW,IACvB,IAArB5B,EAAQ8K,WAAoBhV,KAAKgV,UAAW,IAElB,IAA1B9K,EAAQ86C,gBACVhlD,KAAKglD,eAAgB,EACrBhlD,KAAK6Q,KAAK,MAAON,KAiCvB,SAASA,IAEHvQ,KAAK0P,eAAe9E,OAGxB0D,EAAQC,SAAS02C,EAASjlD,MAG5B,SAASilD,EAAQn2C,GACfA,EAAKV,MArCPvP,OAAO4I,eAAevJ,EAAOuE,UAAW,wBAAyB,CAI/DwK,YAAY,EACZC,IAAK,WACH,OAAOlN,KAAK0P,eAAenF,iBAG/B1L,OAAO4I,eAAevJ,EAAOuE,UAAW,iBAAkB,CAIxDwK,YAAY,EACZC,IAAK,WACH,OAAOlN,KAAK0P,gBAAkB1P,KAAK0P,eAAemH,eAGtDhY,OAAO4I,eAAevJ,EAAOuE,UAAW,iBAAkB,CAIxDwK,YAAY,EACZC,IAAK,WACH,OAAOlN,KAAK0P,eAAenM,UAgB/B1E,OAAO4I,eAAevJ,EAAOuE,UAAW,YAAa,CAInDwK,YAAY,EACZC,IAAK,WACH,YAA4BF,IAAxBhN,KAAK6L,qBAAwDmB,IAAxBhN,KAAK0P,iBAIvC1P,KAAK6L,eAAeN,WAAavL,KAAK0P,eAAenE,YAE9D4B,IAAK,SAAazF,QAGYsF,IAAxBhN,KAAK6L,qBAAwDmB,IAAxBhN,KAAK0P,iBAM9C1P,KAAK6L,eAAeN,UAAY7D,EAChC1H,KAAK0P,eAAenE,UAAY7D,Q,wDCpIpC,IAAIqvD,EAA6B,EAAQ,QAAmB3tD,MAAM2tD,2BAElE,SAASlmD,EAAK+E,GACZ,IAAIoc,GAAS,EACb,OAAO,WACL,IAAIA,EAAJ,CACAA,GAAS,EAET,IAAK,IAAIW,EAAO7gB,UAAUvO,OAAQ0jB,EAAO,IAAIld,MAAM4oB,GAAOC,EAAO,EAAGA,EAAOD,EAAMC,IAC/E3L,EAAK2L,GAAQ9gB,UAAU8gB,GAGzBhd,EAAS/D,MAAM7R,KAAMinB,KAIzB,SAASiL,KAET,SAASC,EAAUhoB,GACjB,OAAOA,EAAOioB,WAAqC,oBAAjBjoB,EAAOkoB,MAG3C,SAASN,EAAI5nB,EAAQ3K,EAAMoW,GACzB,GAAoB,oBAATpW,EAAqB,OAAOuyB,EAAI5nB,EAAQ,KAAM3K,GACpDA,IAAMA,EAAO,IAClBoW,EAAW/E,EAAK+E,GAAYsc,GAC5B,IAAIpmB,EAAWtM,EAAKsM,WAA8B,IAAlBtM,EAAKsM,UAAsB3B,EAAO2B,SAC9DkJ,EAAWxV,EAAKwV,WAA8B,IAAlBxV,EAAKwV,UAAsB7K,EAAO6K,SAE9Dw0C,EAAiB,WACdr/C,EAAO6K,UAAU9D,KAGpB8lD,EAAgB7sD,EAAOuF,gBAAkBvF,EAAOuF,eAAerR,SAE/D6S,EAAW,WACb8D,GAAW,EACXgiD,GAAgB,EACXlrD,GAAU8J,EAASzW,KAAKgL,IAG3B8sD,EAAgB9sD,EAAO0B,gBAAkB1B,EAAO0B,eAAehB,WAE/D0F,EAAQ,WACVzE,GAAW,EACXmrD,GAAgB,EACXjiD,GAAUY,EAASzW,KAAKgL,IAG3BgH,EAAU,SAAiB7D,GAC7BsI,EAASzW,KAAKgL,EAAQmD,IAGpB2D,EAAU,WACZ,IAAI3D,EAEJ,OAAIxB,IAAamrD,GACV9sD,EAAO0B,gBAAmB1B,EAAO0B,eAAejB,QAAO0C,EAAM,IAAIypD,GAC/DnhD,EAASzW,KAAKgL,EAAQmD,IAG3B0H,IAAagiD,GACV7sD,EAAOuF,gBAAmBvF,EAAOuF,eAAe9E,QAAO0C,EAAM,IAAIypD,GAC/DnhD,EAASzW,KAAKgL,EAAQmD,SAF/B,GAMEs8C,EAAY,WACdz/C,EAAO0/C,IAAI5/C,GAAG,SAAUiH,IAiB1B,OAdIihB,EAAUhoB,IACZA,EAAOF,GAAG,WAAYiH,GACtB/G,EAAOF,GAAG,QAASgH,GACf9G,EAAO0/C,IAAKD,IAAiBz/C,EAAOF,GAAG,UAAW2/C,IAC7C50C,IAAa7K,EAAOuF,iBAE7BvF,EAAOF,GAAG,MAAOu/C,GACjBr/C,EAAOF,GAAG,QAASu/C,IAGrBr/C,EAAOF,GAAG,MAAOsG,GACjBpG,EAAOF,GAAG,SAAUiH,IACD,IAAf1R,EAAKP,OAAiBkL,EAAOF,GAAG,QAASkH,GAC7ChH,EAAOF,GAAG,QAASgH,GACZ,WACL9G,EAAO6G,eAAe,WAAYE,GAClC/G,EAAO6G,eAAe,QAASC,GAC/B9G,EAAO6G,eAAe,UAAW44C,GAC7Bz/C,EAAO0/C,KAAK1/C,EAAO0/C,IAAI74C,eAAe,SAAUE,GACpD/G,EAAO6G,eAAe,MAAOw4C,GAC7Br/C,EAAO6G,eAAe,QAASw4C,GAC/Br/C,EAAO6G,eAAe,SAAUE,GAChC/G,EAAO6G,eAAe,MAAOT,GAC7BpG,EAAO6G,eAAe,QAASG,GAC/BhH,EAAO6G,eAAe,QAASC,IAInCnT,EAAOD,QAAUk0B,G,kCCpGjB,SAAS9E,IACL,MAAyB,qBAAXruB,OAHlBC,OAAO4I,eAAe5J,EAAS,aAAc,CAAE6J,OAAO,IACtD7J,EAAQovB,YAAS,EAIjBpvB,EAAQovB,OAASA,G,mCCNjB,YAEA,IAIIiqC,EACAjY,EACA90C,EANAhM,EAAY,EAAQ,QAAmBA,UACvC+gD,EAAY,EAAQ,QAMpBiY,GAAgB,EAEpB,SAAShY,IACP,IAAIF,EAAQ,IAAI9gD,EAoBhB,OAnBA8gD,EAAMhqC,OAAS,SAAU1M,EAAOqD,EAAUkC,GACxCopD,EAAGE,kBAAkB,CACnBvpD,KAAMtF,EAAMiC,OACZ60C,QAAS,WACPvxC,KAEFwxC,KAAM,WACJxxC,EAAK,IAAI2K,WAIfwmC,EAAMrrB,OAAS,SAAoBnF,GACjCyoC,EAAGG,YAAY,CACbhY,QAAS,WACP5wB,QAKCwwB,EAGT,SAASO,EAAgBhgD,GAClBA,EAAKG,WACRH,EAAKG,SAAW,aAEbH,EAAKgB,OACRhB,EAAKgB,KAAO,KAGThB,EAAKigD,YACRjgD,EAAKigD,UAAY,IAIrB,SAASC,EAAUlgD,EAAMD,GACvB,IAAIU,EAA6B,SAAlBT,EAAKS,SAAsB,MAAQ,KAC9CiC,EAAMjC,EAAW,MAAQT,EAAKG,SAAWH,EAAKgB,KAOlD,OANIhB,EAAKC,MAAsB,KAAdD,EAAKC,MAA6B,MAAdD,EAAKC,OACxCyC,EAAMjC,EAAW,MAAQT,EAAKG,SAAW,IAAMH,EAAKC,KAAOD,EAAKgB,MAE7B,oBAAzBhB,EAAmB,iBAC7B0C,EAAM1C,EAAKmgD,eAAez9C,EAAK1C,EAAMD,IAEhC2C,EAGT,SAAS09C,IACHuX,IAEJA,GAAgB,EAEhBD,EAAGI,cAAa,WACdntD,EAAOovB,YAAY0lB,GACnB90C,EAAOmvB,YAAY2lB,GACnB90C,EAAO2C,KAAK,cAGdoqD,EAAGK,iBAAgB,SAAU7lD,GAC3B,GAAwB,kBAAbA,EAAI7D,KAAmB,CAChC,IAAIrD,EAAStC,EAAOM,KAAKkJ,EAAI7D,KAAM,UACnCoxC,EAAMh6C,KAAKuF,OACN,CACL,IAAIgtD,EAAS,IAAIC,WACjBD,EAAO1pB,iBAAiB,QAAQ,WAC9B,IAAIjgC,EAAO2pD,EAAOxxD,OAEe6H,EAA7BA,aAAgBkyC,YAAoB73C,EAAOM,KAAKqF,GACxC3F,EAAOM,KAAKqF,EAAM,QAC9BoxC,EAAMh6C,KAAK4I,MAEb2pD,EAAOE,kBAAkBhmD,EAAI7D,UAIjCqpD,EAAGS,eAAc,WACfxtD,EAAOiE,MACPjE,EAAO8B,aAGTirD,EAAGU,eAAc,SAAUlmD,GACzBvH,EAAO8B,QAAQyF,OAInB,SAASuuC,EAAa1gD,EAAQC,GAG5B,GAFAA,EAAKG,SAAWH,EAAKG,UAAYH,EAAKE,MAEjCF,EAAKG,SACR,MAAM,IAAI8Y,MAAM,oDAGlB,IAAIynC,EACmB,WAApB1gD,EAAK2hB,YAAsD,IAAzB3hB,EAAK6hB,gBACpC,WACA,OAENm+B,EAAehgD,GAEf,IAAI0C,EAAMw9C,EAASlgD,EAAMD,GAYzB,OAXA23D,EAAK13D,EAAK03D,GACVA,EAAG9W,cAAc,CACfl+C,IAAKA,EACLm+C,UAAWH,IAGbjB,EAAQE,IACRh1C,EAAS+0C,EAAU38C,MAEnBq9C,IAEOz1C,EAGTrM,EAAOD,QAAUoiD,I,kDC/HjB,IAAIpiC,EAAQ,EAAQ,QAChB+b,EAAc,EAAQ,QAEtBi+B,EAAM,MAIV/5D,EAAOD,QAAU,SAAUogB,GACzB,OAAOJ,GAAM,WACX,QAAS+b,EAAY3b,MAAkB45C,EAAI55C,MAAkB45C,GAAOj+B,EAAY3b,GAAa7F,OAAS6F,O,qBCT1G,IAAI1E,EAAI,EAAQ,QACZ4nC,EAAO,EAAQ,QACf2W,EAAmB,EAAQ,QAI/Bv+C,EAAE,CAAEG,OAAQ,QAAS/V,OAAO,GAAQ,CAClCw9C,KAAMA,IAIR2W,EAAiB,S,qBCXjB,IAAI9R,EAAwB,EAAQ,QAIpCA,EAAsB,a,kCCHtB,IAAI+R,EAAmB/3D,MAAQA,KAAK+3D,kBAAqBl5D,OAAO8lB,OAAS,SAAU2V,EAAG/iB,EAAG3S,EAAGozD,QAC7EhrD,IAAPgrD,IAAkBA,EAAKpzD,GAC3B/F,OAAO4I,eAAe6yB,EAAG09B,EAAI,CAAE/qD,YAAY,EAAMC,IAAK,WAAa,OAAOqK,EAAE3S,OAC3E,SAAU01B,EAAG/iB,EAAG3S,EAAGozD,QACThrD,IAAPgrD,IAAkBA,EAAKpzD,GAC3B01B,EAAE09B,GAAMzgD,EAAE3S,KAEVqzD,EAAgBj4D,MAAQA,KAAKi4D,cAAiB,SAAS1gD,EAAG1Z,GAC1D,IAAK,IAAIuH,KAAKmS,EAAa,YAANnS,GAAoBvH,EAAQk6B,eAAe3yB,IAAI2yD,EAAgBl6D,EAAS0Z,EAAGnS,IAUpG,SAAS8yD,EAAevlD,GACpB,IAAIwlD,EAAgBxlD,EAAI1P,MAAM,IAAIoY,KAAI,SAAUzL,GAAK,OAAOA,EAAE/K,WAAW,MACrEuzD,EAAS,IAAI/vD,WAAW8vD,GAC5B,OAAOC,EAGX,SAASC,IACL,MAAoB,qBAATv4D,MAAwBA,KAAKw4D,YAC7B,IAAIx4D,KAAKw4D,YAEE,qBAAX15D,QAA0BA,OAAO05D,YACjC,IAAI15D,OAAO05D,YAEf,CACH57C,OAAQ,SAAUlS,GACd,IAAI+tD,EAAQ,GAEZ,OADA/tD,EAAOoO,SAAQ,SAAUhJ,GAAK,OAAO2oD,EAAMtzD,KAAK2N,OAAOwI,aAAaxL,OAC7D2oD,EAAMn1D,KAAK,MAzB9BvE,OAAO4I,eAAe5J,EAAS,aAAc,CAAE6J,OAAO,IACtD7J,EAAQ26D,eAAiB36D,EAAQq6D,oBAAiB,EAClDD,EAAa,EAAQ,QAAsBp6D,GAC3Co6D,EAAa,EAAQ,QAA4Bp6D,GACjDo6D,EAAa,EAAQ,QAAmBp6D,GACxCo6D,EAAa,EAAQ,QAAgBp6D,GACrCo6D,EAAa,EAAQ,QAAuBp6D,GAC5Co6D,EAAa,EAAQ,QAAgBp6D,GAMrCA,EAAQq6D,eAAiBA,EAgBzB,IAAIO,EAAKJ,IAKTx6D,EAAQ26D,eAAiB,SAAUtsC,GAAK,OAAOusC,EAAG/7C,OAAOwP,K,mBCvCzD,SAAS8L,EAAQnuB,EAAI0D,GACnB,GAAI1D,GAAM0D,EAAI,OAAOyqB,EAAOnuB,EAAPmuB,CAAWzqB,GAEhC,GAAkB,oBAAP1D,EACT,MAAM,IAAIjH,UAAU,yBAMtB,OAJA/D,OAAO+G,KAAKiE,GAAI+O,SAAQ,SAAUhU,GAChC8zD,EAAQ9zD,GAAKiF,EAAGjF,MAGX8zD,EAEP,SAASA,IAEP,IADA,IAAIzxC,EAAO,IAAIld,MAAM+H,UAAUvO,QACtBU,EAAI,EAAGA,EAAIgjB,EAAK1jB,OAAQU,IAC/BgjB,EAAKhjB,GAAK6N,UAAU7N,GAEtB,IAAImL,EAAMvF,EAAGgI,MAAM7R,KAAMinB,GACrB1Z,EAAK0Z,EAAKA,EAAK1jB,OAAO,GAM1B,MALmB,oBAAR6L,GAAsBA,IAAQ7B,GACvC1O,OAAO+G,KAAK2H,GAAIqL,SAAQ,SAAUhU,GAChCwK,EAAIxK,GAAK2I,EAAG3I,MAGTwK,GAzBXtR,EAAOD,QAAUm6B,G,kCCJjB,IAAIze,EAAI,EAAQ,QACZo/C,EAAO,EAAQ,QAAgCt9C,IAC/Cqb,EAA+B,EAAQ,QACvCvd,EAA0B,EAAQ,QAElCwd,EAAsBD,EAA6B,OAEnDrd,EAAiBF,EAAwB,OAK7CI,EAAE,CAAEG,OAAQ,QAAS/V,OAAO,EAAMgW,QAASgd,IAAwBtd,GAAkB,CACnFgC,IAAK,SAAa/B,GAChB,OAAOq/C,EAAK34D,KAAMsZ,EAAYxH,UAAUvO,OAAS,EAAIuO,UAAU,QAAK9E,O,kCCXxE,IAAI+pD,EAA6B,EAAQ,QAAmB3tD,MAAM2tD,2BAElE,SAASlmD,EAAK+E,GACZ,IAAIoc,GAAS,EACb,OAAO,WACL,IAAIA,EAAJ,CACAA,GAAS,EAET,IAAK,IAAIW,EAAO7gB,UAAUvO,OAAQ0jB,EAAO,IAAIld,MAAM4oB,GAAOC,EAAO,EAAGA,EAAOD,EAAMC,IAC/E3L,EAAK2L,GAAQ9gB,UAAU8gB,GAGzBhd,EAAS/D,MAAM7R,KAAMinB,KAIzB,SAASiL,KAET,SAASC,EAAUhoB,GACjB,OAAOA,EAAOioB,WAAqC,oBAAjBjoB,EAAOkoB,MAG3C,SAASN,EAAI5nB,EAAQ3K,EAAMoW,GACzB,GAAoB,oBAATpW,EAAqB,OAAOuyB,EAAI5nB,EAAQ,KAAM3K,GACpDA,IAAMA,EAAO,IAClBoW,EAAW/E,EAAK+E,GAAYsc,GAC5B,IAAIpmB,EAAWtM,EAAKsM,WAA8B,IAAlBtM,EAAKsM,UAAsB3B,EAAO2B,SAC9DkJ,EAAWxV,EAAKwV,WAA8B,IAAlBxV,EAAKwV,UAAsB7K,EAAO6K,SAE9Dw0C,EAAiB,WACdr/C,EAAO6K,UAAU9D,KAGpB8lD,EAAgB7sD,EAAOuF,gBAAkBvF,EAAOuF,eAAerR,SAE/D6S,EAAW,WACb8D,GAAW,EACXgiD,GAAgB,EACXlrD,GAAU8J,EAASzW,KAAKgL,IAG3B8sD,EAAgB9sD,EAAO0B,gBAAkB1B,EAAO0B,eAAehB,WAE/D0F,EAAQ,WACVzE,GAAW,EACXmrD,GAAgB,EACXjiD,GAAUY,EAASzW,KAAKgL,IAG3BgH,EAAU,SAAiB7D,GAC7BsI,EAASzW,KAAKgL,EAAQmD,IAGpB2D,EAAU,WACZ,IAAI3D,EAEJ,OAAIxB,IAAamrD,GACV9sD,EAAO0B,gBAAmB1B,EAAO0B,eAAejB,QAAO0C,EAAM,IAAIypD,GAC/DnhD,EAASzW,KAAKgL,EAAQmD,IAG3B0H,IAAagiD,GACV7sD,EAAOuF,gBAAmBvF,EAAOuF,eAAe9E,QAAO0C,EAAM,IAAIypD,GAC/DnhD,EAASzW,KAAKgL,EAAQmD,SAF/B,GAMEs8C,EAAY,WACdz/C,EAAO0/C,IAAI5/C,GAAG,SAAUiH,IAiB1B,OAdIihB,EAAUhoB,IACZA,EAAOF,GAAG,WAAYiH,GACtB/G,EAAOF,GAAG,QAASgH,GACf9G,EAAO0/C,IAAKD,IAAiBz/C,EAAOF,GAAG,UAAW2/C,IAC7C50C,IAAa7K,EAAOuF,iBAE7BvF,EAAOF,GAAG,MAAOu/C,GACjBr/C,EAAOF,GAAG,QAASu/C,IAGrBr/C,EAAOF,GAAG,MAAOsG,GACjBpG,EAAOF,GAAG,SAAUiH,IACD,IAAf1R,EAAKP,OAAiBkL,EAAOF,GAAG,QAASkH,GAC7ChH,EAAOF,GAAG,QAASgH,GACZ,WACL9G,EAAO6G,eAAe,WAAYE,GAClC/G,EAAO6G,eAAe,QAASC,GAC/B9G,EAAO6G,eAAe,UAAW44C,GAC7Bz/C,EAAO0/C,KAAK1/C,EAAO0/C,IAAI74C,eAAe,SAAUE,GACpD/G,EAAO6G,eAAe,MAAOw4C,GAC7Br/C,EAAO6G,eAAe,QAASw4C,GAC/Br/C,EAAO6G,eAAe,SAAUE,GAChC/G,EAAO6G,eAAe,MAAOT,GAC7BpG,EAAO6G,eAAe,QAASG,GAC/BhH,EAAO6G,eAAe,QAASC,IAInCnT,EAAOD,QAAUk0B,G,qBCjGjB,SAAS6mC,EAAMxjC,GAsCd,SAASyjC,EAAYvoC,GACpB,IAAIlwB,EAAO,EAEX,IAAK,IAAI6D,EAAI,EAAGA,EAAIqsB,EAAU/sB,OAAQU,IACrC7D,GAASA,GAAQ,GAAKA,EAAQkwB,EAAUzrB,WAAWZ,GACnD7D,GAAQ,EAGT,OAAO04D,EAAYtnC,OAAOzZ,KAAKC,IAAI5X,GAAQ04D,EAAYtnC,OAAOjuB,QAW/D,SAASu1D,EAAYxoC,GACpB,IAAIyoC,EAEJ,SAAS15D,KAAS4nB,GAEjB,IAAK5nB,EAAMsuC,QACV,OAGD,MAAM7+B,EAAOzP,EAGP25D,EAAO5uC,OAAO,IAAIuK,MAClB9c,EAAKmhD,GAAQD,GAAYC,GAC/BlqD,EAAK0hB,KAAO3Y,EACZ/I,EAAKmqD,KAAOF,EACZjqD,EAAKkqD,KAAOA,EACZD,EAAWC,EAEX/xC,EAAK,GAAK6xC,EAAYI,OAAOjyC,EAAK,IAEX,kBAAZA,EAAK,IAEfA,EAAK/hB,QAAQ,MAId,IAAIsM,EAAQ,EACZyV,EAAK,GAAKA,EAAK,GAAG9jB,QAAQ,gBAAiB,CAACW,EAAO9C,KAElD,GAAc,OAAV8C,EACH,OAAOA,EAER0N,IACA,MAAM2nD,EAAYL,EAAYrnC,WAAWzwB,GACzC,GAAyB,oBAAdm4D,EAA0B,CACpC,MAAM7gD,EAAM2O,EAAKzV,GACjB1N,EAAQq1D,EAAUh6D,KAAK2P,EAAMwJ,GAG7B2O,EAAK1f,OAAOiK,EAAO,GACnBA,IAED,OAAO1N,IAIRg1D,EAAYzoC,WAAWlxB,KAAK2P,EAAMmY,GAElC,MAAMmyC,EAAQtqD,EAAK8hB,KAAOkoC,EAAYloC,IACtCwoC,EAAMvnD,MAAM/C,EAAMmY,GAmBnB,OAhBA5nB,EAAMixB,UAAYA,EAClBjxB,EAAMsuC,QAAUmrB,EAAYnrB,QAAQrd,GACpCjxB,EAAMowB,UAAYqpC,EAAYrpC,YAC9BpwB,EAAMqxB,MAAQmoC,EAAYvoC,GAC1BjxB,EAAM4M,QAAUA,EAChB5M,EAAMy4B,OAASA,EAKiB,oBAArBghC,EAAYrwB,MACtBqwB,EAAYrwB,KAAKppC,GAGlBy5D,EAAYO,UAAUp0D,KAAK5F,GAEpBA,EAGR,SAAS4M,IACR,MAAMuF,EAAQsnD,EAAYO,UAAUv2D,QAAQ9C,MAC5C,OAAe,IAAXwR,IACHsnD,EAAYO,UAAU9xD,OAAOiK,EAAO,IAC7B,GAKT,SAASsmB,EAAOxH,EAAW1V,GAC1B,MAAM0+C,EAAWR,EAAY94D,KAAKswB,WAAkC,qBAAd1V,EAA4B,IAAMA,GAAa0V,GAErG,OADAgpC,EAAS1oC,IAAM5wB,KAAK4wB,IACb0oC,EAUR,SAASC,EAAOzoC,GAMf,IAAI7sB,EALJ60D,EAAYjoC,KAAKC,GAEjBgoC,EAAY3Q,MAAQ,GACpB2Q,EAAYU,MAAQ,GAGpB,MAAMv2D,GAA+B,kBAAf6tB,EAA0BA,EAAa,IAAI7tB,MAAM,UACjEyL,EAAMzL,EAAMM,OAElB,IAAKU,EAAI,EAAGA,EAAIyK,EAAKzK,IACfhB,EAAMgB,KAKX6sB,EAAa7tB,EAAMgB,GAAGd,QAAQ,MAAO,OAEf,MAAlB2tB,EAAW,GACdgoC,EAAYU,MAAMv0D,KAAK,IAAIuhB,OAAO,IAAMsK,EAAWptB,OAAO,GAAK,MAE/Do1D,EAAY3Q,MAAMljD,KAAK,IAAIuhB,OAAO,IAAMsK,EAAa,OAIvD,IAAK7sB,EAAI,EAAGA,EAAI60D,EAAYO,UAAU91D,OAAQU,IAAK,CAClD,MAAMw1D,EAAWX,EAAYO,UAAUp1D,GACvCw1D,EAAS9rB,QAAUmrB,EAAYnrB,QAAQ8rB,EAASnpC,YAUlD,SAASopC,IACR,MAAM5oC,EAAa,IACfgoC,EAAY3Q,MAAM9sC,IAAIs+C,MACtBb,EAAYU,MAAMn+C,IAAIs+C,GAAat+C,IAAIiV,GAAa,IAAMA,IAC5DltB,KAAK,KAEP,OADA01D,EAAYS,OAAO,IACZzoC,EAUR,SAAS6c,EAAQv1B,GAChB,GAA8B,MAA1BA,EAAKA,EAAK7U,OAAS,GACtB,OAAO,EAGR,IAAIU,EACAyK,EAEJ,IAAKzK,EAAI,EAAGyK,EAAMoqD,EAAYU,MAAMj2D,OAAQU,EAAIyK,EAAKzK,IACpD,GAAI60D,EAAYU,MAAMv1D,GAAGyZ,KAAKtF,GAC7B,OAAO,EAIT,IAAKnU,EAAI,EAAGyK,EAAMoqD,EAAY3Q,MAAM5kD,OAAQU,EAAIyK,EAAKzK,IACpD,GAAI60D,EAAY3Q,MAAMlkD,GAAGyZ,KAAKtF,GAC7B,OAAO,EAIT,OAAO,EAUR,SAASuhD,EAAYxX,GACpB,OAAOA,EAAOzjD,WACZ0lD,UAAU,EAAGjC,EAAOzjD,WAAW6E,OAAS,GACxCJ,QAAQ,UAAW,KAUtB,SAAS+1D,EAAO5gD,GACf,OAAIA,aAAeG,MACXH,EAAIshD,OAASthD,EAAIoZ,QAElBpZ,EAKR,OA/PAwgD,EAAYz5D,MAAQy5D,EACpBA,EAAYe,QAAUf,EACtBA,EAAYI,OAASA,EACrBJ,EAAYY,QAAUA,EACtBZ,EAAYS,OAASA,EACrBT,EAAYnrB,QAAUA,EACtBmrB,EAAYvoC,SAAW,EAAQ,QAE/B1xB,OAAO+G,KAAKwvB,GAAKxc,QAAQmV,IACxB+qC,EAAY/qC,GAAOqH,EAAIrH,KAMxB+qC,EAAYO,UAAY,GAMxBP,EAAY3Q,MAAQ,GACpB2Q,EAAYU,MAAQ,GAOpBV,EAAYrnC,WAAa,GAkBzBqnC,EAAYD,YAAcA,EA8M1BC,EAAYS,OAAOT,EAAY5nC,QAExB4nC,EAGRh7D,EAAOD,QAAU+6D,G,qBCzQjB,IAAIr/C,EAAI,EAAQ,QACZugD,EAAW,EAAQ,QACnBj8C,EAAQ,EAAQ,QAChBxb,EAAW,EAAQ,QACnB03D,EAAW,EAAQ,QAAkCA,SAErDC,EAAen7D,OAAOqoC,OACtB+yB,EAAsBp8C,GAAM,WAAcm8C,EAAa,MAI3DzgD,EAAE,CAAEG,OAAQ,SAAU+kC,MAAM,EAAM9kC,OAAQsgD,EAAqB3R,MAAOwR,GAAY,CAChF5yB,OAAQ,SAAgBloC,GACtB,OAAOg7D,GAAgB33D,EAASrD,GAAMg7D,EAAaD,EAAS/6D,IAAOA,M,qBCbvE,IAAIoJ,EAAS,EAAQ,QACjBuQ,EAAe,EAAQ,QACvBuhD,EAAuB,EAAQ,QAC/BrhD,EAA8B,EAAQ,QACtCiF,EAAkB,EAAQ,QAE1Bq8C,EAAWr8C,EAAgB,YAC3Bs8C,EAAgBt8C,EAAgB,eAChCu8C,EAAcH,EAAqBtb,OAEvC,IAAK,IAAI9lC,KAAmBH,EAAc,CACxC,IAAII,EAAa3Q,EAAO0Q,GACpBE,EAAsBD,GAAcA,EAAWtW,UACnD,GAAIuW,EAAqB,CAEvB,GAAIA,EAAoBmhD,KAAcE,EAAa,IACjDxhD,EAA4BG,EAAqBmhD,EAAUE,GAC3D,MAAOp7D,GACP+Z,EAAoBmhD,GAAYE,EAKlC,GAHKrhD,EAAoBohD,IACvBvhD,EAA4BG,EAAqBohD,EAAethD,GAE9DH,EAAaG,GAAkB,IAAK,IAAImF,KAAei8C,EAEzD,GAAIlhD,EAAoBiF,KAAiBi8C,EAAqBj8C,GAAc,IAC1EpF,EAA4BG,EAAqBiF,EAAai8C,EAAqBj8C,IACnF,MAAOhf,GACP+Z,EAAoBiF,GAAei8C,EAAqBj8C,O,sBC5BhE,YA4BA,SAASq8C,EAAe7+C,EAAO8+C,GAG7B,IADA,IAAIjzD,EAAK,EACArD,EAAIwX,EAAMlY,OAAS,EAAGU,GAAK,EAAGA,IAAK,CAC1C,IAAImD,EAAOqU,EAAMxX,GACJ,MAATmD,EACFqU,EAAMlU,OAAOtD,EAAG,GACE,OAATmD,GACTqU,EAAMlU,OAAOtD,EAAG,GAChBqD,KACSA,IACTmU,EAAMlU,OAAOtD,EAAG,GAChBqD,KAKJ,GAAIizD,EACF,KAAOjzD,IAAMA,EACXmU,EAAMvW,QAAQ,MAIlB,OAAOuW,EAmJT,SAAS++C,EAASh6D,GACI,kBAATA,IAAmBA,GAAc,IAE5C,IAGIyD,EAHAsgB,EAAQ,EACRnW,GAAO,EACPqsD,GAAe,EAGnB,IAAKx2D,EAAIzD,EAAK+C,OAAS,EAAGU,GAAK,IAAKA,EAClC,GAA2B,KAAvBzD,EAAKqE,WAAWZ,IAGhB,IAAKw2D,EAAc,CACjBl2C,EAAQtgB,EAAI,EACZ,YAEgB,IAATmK,IAGXqsD,GAAe,EACfrsD,EAAMnK,EAAI,GAId,OAAa,IAATmK,EAAmB,GAChB5N,EAAKtB,MAAMqlB,EAAOnW,GA8D3B,SAASqoB,EAAQ9mB,EAAIlR,GACjB,GAAIkR,EAAG8mB,OAAQ,OAAO9mB,EAAG8mB,OAAOh4B,GAEhC,IADA,IAAIiT,EAAM,GACDzN,EAAI,EAAGA,EAAI0L,EAAGpM,OAAQU,IACvBxF,EAAEkR,EAAG1L,GAAIA,EAAG0L,IAAK+B,EAAIzM,KAAK0K,EAAG1L,IAErC,OAAOyN,EA3OX7T,EAAQ+C,QAAU,WAIhB,IAHA,IAAI85D,EAAe,GACfC,GAAmB,EAEd12D,EAAI6N,UAAUvO,OAAS,EAAGU,IAAM,IAAM02D,EAAkB12D,IAAK,CACpE,IAAIzD,EAAQyD,GAAK,EAAK6N,UAAU7N,GAAKqK,EAAQinB,MAG7C,GAAoB,kBAAT/0B,EACT,MAAM,IAAIoC,UAAU,6CACVpC,IAIZk6D,EAAel6D,EAAO,IAAMk6D,EAC5BC,EAAsC,MAAnBn6D,EAAKsF,OAAO,IAWjC,OAJA40D,EAAeJ,EAAe7jC,EAAOikC,EAAaz3D,MAAM,MAAM,SAASmC,GACrE,QAASA,MACNu1D,GAAkBv3D,KAAK,MAEnBu3D,EAAmB,IAAM,IAAMD,GAAiB,KAK3D78D,EAAQ+8D,UAAY,SAASp6D,GAC3B,IAAIgH,EAAa3J,EAAQ2J,WAAWhH,GAChCq6D,EAAqC,MAArBn3D,EAAOlD,GAAO,GAclC,OAXAA,EAAO85D,EAAe7jC,EAAOj2B,EAAKyC,MAAM,MAAM,SAASmC,GACrD,QAASA,MACNoC,GAAYpE,KAAK,KAEjB5C,GAASgH,IACZhH,EAAO,KAELA,GAAQq6D,IACVr6D,GAAQ,MAGFgH,EAAa,IAAM,IAAMhH,GAInC3C,EAAQ2J,WAAa,SAAShH,GAC5B,MAA0B,MAAnBA,EAAKsF,OAAO,IAIrBjI,EAAQuF,KAAO,WACb,IAAIw3B,EAAQ7wB,MAAMtH,UAAUvD,MAAMC,KAAK2S,UAAW,GAClD,OAAOjU,EAAQ+8D,UAAUnkC,EAAOmE,GAAO,SAASx1B,EAAGoM,GACjD,GAAiB,kBAANpM,EACT,MAAM,IAAIxC,UAAU,0CAEtB,OAAOwC,KACNhC,KAAK,OAMVvF,EAAQ8E,SAAW,SAAS6F,EAAMgqB,GAIhC,SAASlvB,EAAKqiB,GAEZ,IADA,IAAIpB,EAAQ,EACLA,EAAQoB,EAAIpiB,OAAQghB,IACzB,GAAmB,KAAfoB,EAAIpB,GAAe,MAIzB,IADA,IAAInW,EAAMuX,EAAIpiB,OAAS,EAChB6K,GAAO,EAAGA,IACf,GAAiB,KAAbuX,EAAIvX,GAAa,MAGvB,OAAImW,EAAQnW,EAAY,GACjBuX,EAAIzmB,MAAMqlB,EAAOnW,EAAMmW,EAAQ,GAfxC/b,EAAO3K,EAAQ+C,QAAQ4H,GAAM9E,OAAO,GACpC8uB,EAAK30B,EAAQ+C,QAAQ4xB,GAAI9uB,OAAO,GAsBhC,IALA,IAAIo3D,EAAYx3D,EAAKkF,EAAKvF,MAAM,MAC5B83D,EAAUz3D,EAAKkvB,EAAGvvB,MAAM,MAExBM,EAASwU,KAAKiQ,IAAI8yC,EAAUv3D,OAAQw3D,EAAQx3D,QAC5Cy3D,EAAkBz3D,EACbU,EAAI,EAAGA,EAAIV,EAAQU,IAC1B,GAAI62D,EAAU72D,KAAO82D,EAAQ92D,GAAI,CAC/B+2D,EAAkB/2D,EAClB,MAIJ,IAAIg3D,EAAc,GAClB,IAASh3D,EAAI+2D,EAAiB/2D,EAAI62D,EAAUv3D,OAAQU,IAClDg3D,EAAYh2D,KAAK,MAKnB,OAFAg2D,EAAcA,EAAY15D,OAAOw5D,EAAQ77D,MAAM87D,IAExCC,EAAY73D,KAAK,MAG1BvF,EAAQokD,IAAM,IACdpkD,EAAQ+c,UAAY,IAEpB/c,EAAQq9D,QAAU,SAAU16D,GAE1B,GADoB,kBAATA,IAAmBA,GAAc,IACxB,IAAhBA,EAAK+C,OAAc,MAAO,IAK9B,IAJA,IAAI4hB,EAAO3kB,EAAKqE,WAAW,GACvBs2D,EAAmB,KAATh2C,EACV/W,GAAO,EACPqsD,GAAe,EACVx2D,EAAIzD,EAAK+C,OAAS,EAAGU,GAAK,IAAKA,EAEtC,GADAkhB,EAAO3kB,EAAKqE,WAAWZ,GACV,KAATkhB,GACA,IAAKs1C,EAAc,CACjBrsD,EAAMnK,EACN,YAIJw2D,GAAe,EAInB,OAAa,IAATrsD,EAAmB+sD,EAAU,IAAM,IACnCA,GAAmB,IAAR/sD,EAGN,IAEF5N,EAAKtB,MAAM,EAAGkP,IAiCvBvQ,EAAQ28D,SAAW,SAAUh6D,EAAM+yD,GACjC,IAAI90D,EAAI+7D,EAASh6D,GAIjB,OAHI+yD,GAAO90D,EAAEiF,QAAQ,EAAI6vD,EAAIhwD,UAAYgwD,IACvC90D,EAAIA,EAAEiF,OAAO,EAAGjF,EAAE8E,OAASgwD,EAAIhwD,SAE1B9E,GAGTZ,EAAQu9D,QAAU,SAAU56D,GACN,kBAATA,IAAmBA,GAAc,IAQ5C,IAPA,IAAI66D,GAAY,EACZC,EAAY,EACZltD,GAAO,EACPqsD,GAAe,EAGfc,EAAc,EACTt3D,EAAIzD,EAAK+C,OAAS,EAAGU,GAAK,IAAKA,EAAG,CACzC,IAAIkhB,EAAO3kB,EAAKqE,WAAWZ,GAC3B,GAAa,KAATkhB,GASS,IAAT/W,IAGFqsD,GAAe,EACfrsD,EAAMnK,EAAI,GAEC,KAATkhB,GAEkB,IAAdk2C,EACFA,EAAWp3D,EACY,IAAhBs3D,IACPA,EAAc,IACK,IAAdF,IAGTE,GAAe,QArBb,IAAKd,EAAc,CACjBa,EAAYr3D,EAAI,EAChB,OAuBR,OAAkB,IAAdo3D,IAA4B,IAATjtD,GAEH,IAAhBmtD,GAEgB,IAAhBA,GAAqBF,IAAajtD,EAAM,GAAKitD,IAAaC,EAAY,EACjE,GAEF96D,EAAKtB,MAAMm8D,EAAUjtD,IAa9B,IAAI1K,EAA6B,MAApB,KAAKA,QAAQ,GACpB,SAAUiP,EAAK4R,EAAO7V,GAAO,OAAOiE,EAAIjP,OAAO6gB,EAAO7V,IACtD,SAAUiE,EAAK4R,EAAO7V,GAEpB,OADI6V,EAAQ,IAAGA,EAAQ5R,EAAIpP,OAASghB,GAC7B5R,EAAIjP,OAAO6gB,EAAO7V,M,yDC3SjC,cAKA,IAAI7G,EAAe,EAAQ,QAAUA,aACjC2zD,EAAQ,EAAQ,QAChBC,EAAa,EAAQ,QACrBx9D,EAAW,EAAQ,QAAmBA,SACtCy5B,EAAW,EAAQ,QACnBlQ,EAAa,EAAQ,QACrBk0C,EAAc,EAAQ,QACtBC,EAAQ,EAAQ,QAChBt8D,EAAQ,EAAQ,OAAR,CAAiB,iBACzBkP,EAAWD,EAAUA,EAAQC,SAAW,SAAUqH,GAAYif,WAAWjf,EAAU,IACnFgmD,EAAexzD,EAAOwzD,cAAgB,SAAUhmD,GAElDrH,EAASqH,IAEPimD,EAAwB,CAC1B75C,UAAW,GACX85C,iBAAiB,EACjB36C,WAAY,OACZE,gBAAiB,EACjB06C,gBAAiB,IACjBC,eAAgB,IAChBl6C,OAAO,EACPm6C,aAAa,GAGXC,EAAe,CACjB,eACA,aACA,aACA,aAKElhD,EAAS,CACX0wC,EAAG,GACHC,EAAG,gCACHC,EAAG,sBACHC,EAAG,qBACHC,EAAG,2BACHC,EAAG,iBACHoQ,GAAI,0BACJC,GAAI,0BACJC,IAAK,oBACLC,IAAK,mBACLC,IAAK,iBACLC,IAAK,gCACLC,IAAK,+BACLC,IAAK,8BACLC,IAAK,4BACLC,IAAK,iBACLC,IAAK,qBACLC,IAAK,cACLC,IAAK,SACLC,IAAK,uBACLC,IAAK,4BACLC,IAAK,qBACLC,IAAK,qBACLC,IAAK,uBACLC,IAAK,qBACLC,IAAK,2BACLC,IAAK,8BACLC,IAAK,2BACLC,IAAK,sBACLC,IAAK,mBACLC,IAAK,wBACLC,IAAK,iBACLC,IAAK,wBACLC,IAAK,yBACLC,IAAK,uBACLC,IAAK,oBACLC,IAAK,qBACLC,IAAK,eACLC,IAAK,qCACLC,IAAK,2BACLC,IAAK,uBACLC,IAAK,yCACLC,IAAK,wCAGP,SAASC,IACP,MAAO,UAAYzmD,KAAK2sC,SAAShmD,SAAS,IAAIgF,OAAO,EAAG,GAG1D,SAAS+6D,EAAYl/D,EAAQwf,EAAQxR,GACnClO,EAAM,2BAA4B0f,GAClC1f,EAAM,uCACNE,EAAOuN,KAAK,aAAciS,GAE1B1f,EAAM,mCACN,IAAI2G,EAASy1D,EAAW7tC,cAAc7O,EAAQxf,EAAO4K,OAAQ5K,EAAO2K,SACpE7K,EAAM,wCAAyC2G,IAC1CA,GAAUuH,GACblO,EAAM,iEACNE,EAAO4K,OAAO0G,KAAK,QAAStD,IACnBA,IACTlO,EAAM,6BACNkO,KAIJ,SAASomB,EAAO+qC,GACVA,IACFr/D,EAAM,4BAA6B,GACnCR,OAAO+G,KAAK84D,GAAO9lD,SAAQ,SAAU+K,GACA,oBAAxB+6C,EAAM/6C,GAAWpW,KAC1BmxD,EAAM/6C,GAAWpW,GAAG,IAAIkL,MAAM,6BACvBimD,EAAM/6C,QAMrB,SAASg7C,EAAeD,GAClBA,IACFr/D,EAAM,4GACNR,OAAO+G,KAAK84D,GAAO9lD,SAAQ,SAAU+K,GAC/B+6C,EAAM/6C,GAAWi7C,UAA2C,oBAAxBF,EAAM/6C,GAAWpW,KACvDmxD,EAAM/6C,GAAWpW,GAAG,IAAIkL,MAAM,6BACvBimD,EAAM/6C,QAMrB,SAASk7C,EAAct/D,EAAQwf,EAAQxR,EAAIuxD,GACzCz/D,EAAM,4DAA6D0f,EAAOO,KAC1E/f,EAAOw/D,cAAcC,IAAIjgD,GAAQ,SAAuBzR,GACtD,GAAIA,EACF,OAAOC,GAAMA,EAAGD,GAElBwxD,IACAL,EAAWl/D,EAAQwf,EAAQxR,MAI/B,SAASsG,EAAK5U,GACZI,EAAM,SAAUJ,GAUlB,SAASggE,EAAY3/D,EAAe4K,GAClC,IAAItF,EACAyjB,EAAOroB,KAEX,KAAMA,gBAAgBi/D,GACpB,OAAO,IAAIA,EAAW3/D,EAAe4K,GAMvC,IAAKtF,KAHL5E,KAAKkK,QAAUA,GAAW,GAGhB2xD,EACuB,qBAApB77D,KAAKkK,QAAQtF,GACtB5E,KAAKkK,QAAQtF,GAAKi3D,EAAsBj3D,GAExC5E,KAAKkK,QAAQtF,GAAKsF,EAAQtF,GAI9BvF,EAAM,iCAAkC6K,EAAQjK,UAChDZ,EAAM,wCAAyC6K,EAAQmX,iBACvDhiB,EAAM,iCAAkC6K,EAAQ+W,UAChD5hB,EAAM,kCAAmC6K,EAAQ8X,WACjD3iB,EAAM,wCAAyC6K,EAAQ6xD,iBACvD18D,EAAM,2CAA4C6K,EAAQg1D,oBAE1Dl/D,KAAKkK,QAAQkY,SAAwC,kBAArBlY,EAAQkY,SAAyBlY,EAAQkY,SAAWo8C,IAEpFn/D,EAAM,yBAA0BW,KAAKkK,QAAQkY,UAE7CpiB,KAAKkK,QAAQi1D,iBAAgD,IAA5Bj1D,EAAQmX,iBAAyBnX,EAAQi1D,iBAAoBj1D,EAAQi1D,iBAAmB,WAAcrtD,UAAU,GAAG,IAEpJ9R,KAAKV,cAAgBA,EAGrBU,KAAK++D,cAAgB70D,EAAQ60D,eAAiB,IAAIvD,EAClDx7D,KAAKo/D,cAAgBl1D,EAAQk1D,eAAiB,IAAI5D,EAGlDx7D,KAAKq/D,kBAAwCryD,IAAzB9C,EAAQm1D,cAAoCn1D,EAAQm1D,aAGxEr/D,KAAKs/D,mBAAqB,GAG1Bt/D,KAAKu/D,iBAAmB,GAGxBv/D,KAAKw/D,UAAY,KAEjBx/D,KAAKy/D,WAAY,EAEjBz/D,KAAK0/D,eAAgB,EAErB1/D,KAAK0+D,MAAQ,GAEb1+D,KAAK2/D,aAAe,KAEpB3/D,KAAK4/D,eAAiB,KAEtB5/D,KAAK6/D,kBAAmB,EAExB7/D,KAAK8/D,gCAAkC,GAKvC9/D,KAAK+/D,OAAShoD,KAAK66C,IAAI,EAAG76C,KAAKmD,MAAsB,MAAhBnD,KAAK2sC,WAG1C1kD,KAAKggE,SAAW,GAGhBhgE,KAAKigE,kBAAmB,EAGxBjgE,KAAKiK,GAAG,WAAW,WACjB,IAAIy0D,EAAQ1+D,KAAK0+D,MAEjB,SAASwB,IACP,IAAIltD,EAAQ0rD,EAAMj4D,QAClBpH,EAAM,sBAAuB2T,GAC7B,IAAI+L,EAAS,KAER/L,IAIL+L,EAAS/L,EAAM+L,OACf1f,EAAM,qCAAsC0f,GAC5CsJ,EAAK83C,YACHphD,GACA,SAAUzR,GACJ0F,EAAMzF,IACRyF,EAAMzF,GAAGD,GAEX4yD,QAKN7gE,EAAM,qCACN6gE,OAGFlgE,KAAKiK,GAAG,SAAS,WACf5K,EAAM,qCACNW,KAAKy/D,WAAY,EAEjBpgE,EAAM,kCACN+gE,aAAapgE,KAAK2/D,cAElBtgE,EAAM,gCACiB,OAAnBgpB,EAAKm3C,YACPn3C,EAAKm3C,UAAUzxD,QACfsa,EAAKm3C,UAAY,MAGnBngE,EAAM,oCACNW,KAAKqgE,qBAEPx4D,EAAa1I,KAAKa,MAElBX,EAAM,mCACNW,KAAKsgE,eAEP5oC,EAASunC,EAAYp3D,GAOrBo3D,EAAWx8D,UAAU69D,aAAe,WAClC,IAAIC,EACAl4C,EAAOroB,KACPgV,EAAW,IAAI/W,EACfygB,EAAS+8C,EAAW/8C,OAAO1e,KAAKkK,SAChCs2D,EAAgB,KAChBC,EAAU,GAad,SAASC,IACP,GAAID,EAAQl9D,OACVgL,EAASoyD,OACJ,CACL,IAAIlyC,EAAO+xC,EACXA,EAAgB,KAChB/xC,KAIJ,SAASkyC,IACPthE,EAAM,wCACN,IAAI0f,EAAS0hD,EAAQh6D,QAErB,GAAIsY,EACF1f,EAAM,oCACNgpB,EAAKu4C,cAAc7hD,EAAQ2hD,OACtB,CACLrhE,EAAM,+BACN,IAAIovB,EAAO+xC,EACXA,EAAgB,KAChBnhE,EAAM,4BAA6B,GAC/BovB,GAAMA,KAWd,SAASoyC,EAAoB5hE,GAC3BI,EAAM,8BAA+BJ,EAAMyyB,SACvCwqC,EAAa7X,SAASplD,EAAMkmB,OAE9B9lB,EAAM,wCACNgpB,EAAKvb,KAAK,QAAS7N,IAEnB4U,EAAI5U,GA6BR,GAhFAI,EAAM,qDACNW,KAAK8gE,kBAELzhE,EAAM,2EACNW,KAAKmK,OAASnK,KAAKV,cAAcU,MAEjC0e,EAAOzU,GAAG,UAAU,SAAU8U,GAC5B1f,EAAM,8CACNohE,EAAQx7D,KAAK8Z,MA6Bf/J,EAASC,OAAS,SAAUiK,EAAKxR,EAAK+gB,GACpC+xC,EAAgB/xC,EAChBpvB,EAAM,qCACNqf,EAAOhe,MAAMwe,GACbyhD,KAcFthE,EAAM,kDACNW,KAAKmK,OAAO6F,KAAKgF,GAGjBhV,KAAKmK,OAAOF,GAAG,QAAS42D,GAGxB7gE,KAAKmK,OAAOF,GAAG,SAAS,WACtB5K,EAAM,yBAA0BgpB,EAAKne,QAAQkY,UAC7Cu8C,EAAct2C,EAAK23C,UACnB3gE,EAAM,oCACNgpB,EAAKvb,KAAK,YAIZzN,EAAM,0CACNkhE,EAAgB1hE,OAAO8lB,OAAO3kB,KAAKkK,SACnCq2D,EAAcjhD,IAAM,UAEpBm/C,EAAWz+D,KAAMugE,GAGjB7hD,EAAOzU,GAAG,QAASjK,KAAK8M,KAAKoF,KAAKlS,KAAM,UAGpCA,KAAKkK,QAAQgY,WAAY,CAC3B,IAAKliB,KAAKkK,QAAQgY,WAAWgrC,sBAAwBltD,KAAKkK,QAAQgY,WAAWirC,mBAI3E,OAHA9kC,EAAKja,IAAI,IACPpO,KAAK8M,KAAK,QAAS,IAAI2L,MAAM,yCAExBzY,KAET,GAAIA,KAAKkK,QAAQgY,WAAWgrC,sBAAwBltD,KAAKkK,QAAQ62D,YAAiD,kBAA5B/gE,KAAKkK,QAAQ62D,WAAyB,CAC1H,IAAIA,EAAapF,EAAM,CAACr8C,IAAK,OAAQmD,WAAY,GAAIziB,KAAKkK,QAAQ62D,YAClEtC,EAAWz+D,KAAM+gE,IAKrB/gE,KAAKmK,OAAO62D,gBAAgB,KAE5BZ,aAAapgE,KAAK2/D,cAClB3/D,KAAK2/D,aAAe9qC,YAAW,WAC7Bx1B,EAAM,6DACNgpB,EAAK44C,UAAS,KACbjhE,KAAKkK,QAAQ8xD,iBAGlBiD,EAAWx8D,UAAUm+D,cAAgB,SAAU7hD,EAAQ0P,GACrD,IAAIvkB,EAAUlK,KAAKkK,QAEnB,GAAgC,IAA5BA,EAAQmX,iBAAyBnX,EAAQgY,YAAchY,EAAQgY,WAAW8e,mBAAqB92B,EAAQgY,WAAW8e,kBAAoBjiB,EAAOxb,OAG/I,OAFAvD,KAAK8M,KAAK,QAAS,IAAI2L,MAAM,0BAA4BsG,EAAOO,MAChEtf,KAAKoO,IAAI,CAACqU,WAAY,IAAKP,WAAY,CAAE0rC,aAAc,sCAChD5tD,KAKT,OAHAX,EAAM,2CACNW,KAAK8M,KAAK,gBAAiBiS,GAEnBA,EAAOO,KACb,IAAK,UACHtf,KAAKkhE,eAAeniD,EAAQ0P,GAC5B,MACF,IAAK,SACL,IAAK,SACL,IAAK,UACL,IAAK,SACL,IAAK,WACHzuB,KAAKmhE,WAAWpiD,GAChB0P,IACA,MACF,IAAK,SACHzuB,KAAKohE,cAAcriD,EAAQ0P,GAC3B,MACF,IAAK,UACHzuB,KAAKqhE,eAAetiD,GACpB0P,IACA,MACF,IAAK,WACHzuB,KAAKshE,gBAAgBviD,GACrB0P,IACA,MACF,IAAK,aACHzuB,KAAKuhE,kBAAkBxiD,GACvB0P,IACA,MACF,QAIE,QAINwwC,EAAWx8D,UAAU++D,oBAAsB,SAAU5rD,GAQnD,OAPI5V,KAAK0/D,gBACH9pD,EACFA,EAAS,IAAI6C,MAAM,yBAEnBzY,KAAK8M,KAAK,QAAS,IAAI2L,MAAM,0BAG1BzY,KAAK0/D,eAuBdT,EAAWx8D,UAAUm6B,QAAU,SAAU9b,EAAO4Q,EAASlyB,EAAMoW,GAE7D,IAAImJ,EADJ1f,EAAM,wCAAyCqyB,EAAS5Q,GAExD,IAAI5W,EAAUlK,KAAKkK,QAGC,oBAAT1K,IACToW,EAAWpW,EACXA,EAAO,MAIT,IAAIiiE,EAAc,CAAC9hD,IAAK,EAAGF,QAAQ,EAAOK,KAAK,GAG/C,GAFAtgB,EAAOm8D,EAAM8F,EAAajiE,GAEtBQ,KAAKwhE,oBAAoB5rD,GAC3B,OAAO5V,KA6BT,OA1BA+e,EAAS,CACPO,IAAK,UACLwB,MAAOA,EACPC,QAAS2Q,EACT/R,IAAKngB,EAAKmgB,IACVF,OAAQjgB,EAAKigB,OACbkE,UAAW3jB,KAAK0hE,UAChB5hD,IAAKtgB,EAAKsgB,KAGoB,IAA5B5V,EAAQmX,kBACVtC,EAAOmD,WAAa1iB,EAAK0iB,aACnBhY,EAAQgY,YAAcnD,EAAOmD,YAAcnD,EAAOmD,WAAWisC,YAAiB3uD,EAAK0iB,YAAchY,EAAQgY,aAC3G1iB,EAAK0iB,WAAWisC,YAAcjkD,EAAQgY,WAAW4qC,mBAAqBttD,EAAK0iB,WAAWisC,WAAajkD,EAAQgY,WAAW4qC,oBACpH5iD,EAAQgY,WAAW4qC,mBAAqBttD,EAAK0iB,WAAWisC,qBAOrDpvC,EAAOmD,WAAWisC,YAI7B9uD,EAAM,iBAAkBG,EAAKmgB,KACrBngB,EAAKmgB,KACX,KAAK,EACL,KAAK,EAEH3f,KAAKggE,SAASjhD,EAAO4E,WAAa,CAChCi7C,UAAU,EACVrxD,GAAIqI,GAAY/B,GAEd7T,KAAK6/D,kBACPxgE,EAAM,4BACNW,KAAK8/D,gCAAgC/gD,EAAO4E,YAAa,EACzD3jB,KAAK2hE,aAAa5iD,OAAQ/R,EAAWxN,EAAKs/D,cAE1Cz/D,EAAM,qCAAsC0f,EAAOO,KACnDtf,KAAKmgE,YAAYphD,OAAQ/R,EAAWxN,EAAKs/D,aAE3C,MACF,QACM9+D,KAAK6/D,kBACPxgE,EAAM,4BACNW,KAAK2hE,aAAa5iD,EAAQnJ,EAAUpW,EAAKs/D,cAEzCz/D,EAAM,qCAAsC0f,EAAOO,KACnDtf,KAAKmgE,YAAYphD,EAAQnJ,EAAUpW,EAAKs/D,aAE1C,MAGJ,OAAO9+D,MAmBTi/D,EAAWx8D,UAAUq6B,UAAY,WAG/B,IAFA,IAAI/d,EACAkI,EAAO,IAAIld,MAAM+H,UAAUvO,QACtBU,EAAI,EAAGA,EAAI6N,UAAUvO,OAAQU,IACpCgjB,EAAKhjB,GAAK6N,UAAU7N,GAEtB,IAKI29D,EALApjC,EAAO,GACPj8B,EAAM0kB,EAAKxgB,QACXw1D,EAAc15D,EAAI05D,YAClBrmD,EAAWqR,EAAKjgB,OAAS6M,EACzBrU,EAAOynB,EAAKjgB,MAEZqhB,EAAOroB,KACPi+B,EAAUj+B,KAAKkK,QAAQmX,gBAc3B,UAZO9e,EAAI05D,YAEQ,kBAAR15D,IACTA,EAAM,CAACA,IAGe,oBAAbqT,IACTpW,EAAOoW,EACPA,EAAW/B,GAGb+tD,EAAelG,EAAYrQ,eAAe9oD,GACrB,OAAjBq/D,EAEF,OADAhG,EAAahmD,EAAU,IAAI6C,MAAM,iBAAmBmpD,IAC7C5hE,KAGT,GAAIA,KAAKwhE,oBAAoB5rD,GAE3B,OADAvW,EAAM,iCACCW,KAGT,IAAIyhE,EAAc,CAChB9hD,IAAK,GAkEP,GAhEgB,IAAZse,IACFwjC,EAAY3+C,IAAK,EACjB2+C,EAAY5+C,KAAM,EAClB4+C,EAAY7+C,GAAK,GAEnBpjB,EAAOm8D,EAAM8F,EAAajiE,GAEtBuK,MAAMC,QAAQzH,GAChBA,EAAIqW,SAAQ,SAAUkI,GAEpB,GADAzhB,EAAM,4BAA6ByhB,IAC9BuH,EAAKi3C,mBAAmBvnC,eAAejX,IAC1CuH,EAAKi3C,mBAAmBx+C,GAAOnB,IAAMngB,EAAKmgB,KACxCs8C,EAAa,CACf,IAAI4F,EAAc,CAChB/gD,MAAOA,EACPnB,IAAKngB,EAAKmgB,KAEI,IAAZse,IACF4jC,EAAY/+C,GAAKtjB,EAAKsjB,GACtB++C,EAAYh/C,IAAMrjB,EAAKqjB,IACvBg/C,EAAYj/C,GAAKpjB,EAAKojB,GACtBi/C,EAAY3/C,WAAa1iB,EAAK0iB,YAEhC7iB,EAAM,0DAA2DwiE,EAAY/gD,MAAO+gD,EAAYliD,KAChG6e,EAAKv5B,KAAK48D,OAIdhjE,OACG+G,KAAKrD,GACLqW,SAAQ,SAAUhU,GAEjB,GADAvF,EAAM,6BAA8BuF,IAC/ByjB,EAAKi3C,mBAAmBvnC,eAAenzB,IAC1CyjB,EAAKi3C,mBAAmB16D,GAAG+a,IAAMpd,EAAIqC,GAAG+a,KACtCs8C,EAAa,CACf,IAAI4F,EAAc,CAChB/gD,MAAOlc,EACP+a,IAAKpd,EAAIqC,GAAG+a,KAEE,IAAZse,IACF4jC,EAAY/+C,GAAKvgB,EAAIqC,GAAGke,GACxB++C,EAAYh/C,IAAMtgB,EAAIqC,GAAGie,IACzBg/C,EAAYj/C,GAAKrgB,EAAIqC,GAAGge,GACxBi/C,EAAY3/C,WAAa1iB,EAAK0iB,YAEhC7iB,EAAM,uCAAwCwiE,GAC9CrjC,EAAKv5B,KAAK48D,OAKlB9iD,EAAS,CACPO,IAAK,YACL0D,cAAewb,EACf7e,IAAK,EACLF,QAAQ,EACRK,KAAK,EACL6D,UAAW3jB,KAAK0hE,WAGdliE,EAAK0iB,aACPnD,EAAOmD,WAAa1iB,EAAK0iB,YAGtBsc,EAAKj7B,OAAV,CAMA,GAAIvD,KAAKkK,QAAQ+xD,YAAa,CAC5B58D,EAAM,iCACN,IAAIisD,EAAS,GACb9sB,EAAK5lB,SAAQ,SAAUgmB,GACrB,GAAIvW,EAAKne,QAAQ6xD,gBAAkB,EAAG,CACpC,IAAIj7C,EAAQ,CAAEnB,IAAKif,EAAIjf,KACP,IAAZse,IACFnd,EAAMgC,GAAK8b,EAAI9b,KAAM,EACrBhC,EAAM+B,IAAM+b,EAAI/b,MAAO,EACvB/B,EAAM8B,GAAKgc,EAAIhc,IAAM,EACrB9B,EAAMoB,WAAa0c,EAAI1c,YAEzBmG,EAAKi3C,mBAAmB1gC,EAAI9d,OAASA,EACrCwqC,EAAOrmD,KAAK25B,EAAI9d,WAGpBuH,EAAKk3C,iBAAiBxgD,EAAO4E,WAAa2nC,EAmB5C,OAhBAtrD,KAAKggE,SAASjhD,EAAO4E,WAAa,CAChCi7C,UAAU,EACVrxD,GAAI,SAAUD,EAAKyR,GACjB,IAAKzR,EAEH,IADA,IAAImW,EAAU1E,EAAO0E,QACZxf,EAAI,EAAGA,EAAIwf,EAAQlgB,OAAQU,GAAK,EACvCu6B,EAAKv6B,GAAG0b,IAAM8D,EAAQxf,GAI1B2R,EAAStI,EAAKkxB,KAGlBn/B,EAAM,iCACNW,KAAKmgE,YAAYphD,GAEV/e,KAxCL4V,EAAS,KAAM,KAuDnBqpD,EAAWx8D,UAAUu6B,YAAc,WAQjC,IAPA,IAAIje,EAAS,CACXO,IAAK,cACLK,IAAK,EACLgE,UAAW3jB,KAAK0hE,WAEdr5C,EAAOroB,KACPinB,EAAO,IAAIld,MAAM+H,UAAUvO,QACtBU,EAAI,EAAGA,EAAI6N,UAAUvO,OAAQU,IACpCgjB,EAAKhjB,GAAK6N,UAAU7N,GAEtB,IAAI6c,EAAQmG,EAAKxgB,QACbmP,EAAWqR,EAAKjgB,OAAS6M,EACzBrU,EAAOynB,EAAKjgB,MAWhB,MATqB,kBAAV8Z,IACTA,EAAQ,CAACA,IAGa,oBAAblL,IACTpW,EAAOoW,EACPA,EAAW/B,GAGT7T,KAAKwhE,oBAAoB5rD,KAIR,kBAAVkL,EACT/B,EAAO2E,gBAAkB,CAAC5C,GACjB/W,MAAMC,QAAQ8W,KACvB/B,EAAO2E,gBAAkB5C,GAGvB9gB,KAAKkK,QAAQ+xD,aACfl9C,EAAO2E,gBAAgB9K,SAAQ,SAAUkI,UAChCuH,EAAKi3C,mBAAmBx+C,MAIf,kBAATthB,GAAqBA,EAAK0iB,aACnCnD,EAAOmD,WAAa1iB,EAAK0iB,YAG3BliB,KAAKggE,SAASjhD,EAAO4E,WAAa,CAChCi7C,UAAU,EACVrxD,GAAIqI,GAGNvW,EAAM,iCACNW,KAAKmgE,YAAYphD,IAzBR/e,MAwCXi/D,EAAWx8D,UAAU2L,IAAM,SAAU0zD,EAAOtiE,EAAM+N,GAChD,IAAI8a,EAAOroB,KAyBX,SAAS+hE,IACP1iE,EAAM,4DACNgpB,EAAK25C,cAAe,EACpB35C,EAAK+2C,cAAcr5B,OAAM,SAAUk8B,GACjC55C,EAAK02C,cAAch5B,OAAM,SAAUm8B,GAGjC,GAFA7iE,EAAM,oCACNgpB,EAAKvb,KAAK,OACNS,EAAI,CACN,IAAID,EAAM20D,GAAMC,EAChB7iE,EAAM,mDACNkO,EAAGD,UAIL+a,EAAK85C,oBACP95C,EAAK85C,qBAIT,SAASlvD,IAIP5T,EAAM,0DAA2DgpB,EAAKne,QAAQkY,SAAU0/C,GACxFz5C,EAAK44C,SAASa,EAAO,KACnBziE,EAAM,4DAENkP,EAASwzD,EAAY7vD,KAAKmW,KACzB7oB,GAGL,OAtDAH,EAAM,cAAeW,KAAKkK,QAAQkY,UAErB,MAAT0/C,GAAkC,mBAAVA,IAC1Bv0D,EAAK/N,GAAQqU,EACbrU,EAAOsiE,EACPA,GAAQ,EACY,kBAATtiE,IACT+N,EAAK/N,EACLA,EAAO,KACW,oBAAP+N,IACTA,EAAKsG,KAKS,kBAATrU,IACT+N,EAAK/N,EACLA,EAAO,MAGTH,EAAM,kBAAmBkO,GACzBA,EAAKA,GAAMsG,EAiCP7T,KAAK0/D,eACPnyD,IACOvN,OAGTA,KAAK8gE,kBAEL9gE,KAAK0/D,eAAgB,GAEhBoC,GAASjjE,OAAO+G,KAAK5F,KAAKggE,UAAUz8D,OAAS,GAEhDlE,EAAM,+DAAgEgpB,EAAKne,QAAQkY,UACnFpiB,KAAK6Q,KAAK,gBAAiBgkB,WAAW3iB,KAAK,KAAMe,EAAQ,OAEzD5T,EAAM,4CAA6CgpB,EAAKne,QAAQkY,UAChEnP,KAGKjT,OAaTi/D,EAAWx8D,UAAU2/D,sBAAwB,SAAUz+C,GACrD,IAAIpW,EAAKvN,KAAKggE,SAASr8C,GAAa3jB,KAAKggE,SAASr8C,GAAWpW,GAAK,KAKlE,cAJOvN,KAAKggE,SAASr8C,GACrB3jB,KAAK++D,cAAcsD,IAAI,CAAC1+C,UAAWA,IAAY,WAC7CpW,EAAG,IAAIkL,MAAM,uBAERzY,MAcTi/D,EAAWx8D,UAAU6/D,UAAY,SAAU9iE,GACzCH,EAAM,oBACN,IAAIgpB,EAAOroB,KACPvB,EAAI,WACFe,GACF6oB,EAAKne,QAAQk1D,cAAgB5/D,EAAK4/D,cAClC/2C,EAAKne,QAAQ60D,cAAgBv/D,EAAKu/D,gBAElC12C,EAAKne,QAAQk1D,cAAgB,KAC7B/2C,EAAKne,QAAQ60D,cAAgB,MAE/B12C,EAAK+2C,cAAgB/2C,EAAKne,QAAQk1D,eAAiB,IAAI5D,EACvDnzC,EAAK02C,cAAgB12C,EAAKne,QAAQ60D,eAAiB,IAAIvD,EACvDnzC,EAAKq3C,eAAgB,EACrBr3C,EAAK25C,cAAe,EACpB35C,EAAK85C,mBAAqB,KAC1B95C,EAAKk6C,cAQP,OALIviE,KAAK0/D,gBAAkB1/D,KAAKgiE,aAC9BhiE,KAAKmiE,mBAAqB1jE,EAE1BA,IAEKuB,MAOTi/D,EAAWx8D,UAAU8/D,WAAa,WAChCljE,EAAM,4CACNW,KAAK8M,KAAK,aACN9M,KAAKy/D,WACPz/D,KAAKoO,IAAI,KAAQpO,KAAKsgE,iBACtBjhE,EAAM,oDAENA,EAAM,oCACNW,KAAKsgE,iBAOTrB,EAAWx8D,UAAU49D,gBAAkB,WACrC,IAAIh4C,EAAOroB,MAENqoB,EAAKq3C,gBAAkBr3C,EAAKu3C,gBAAmBv3C,EAAKne,QAAQ6xD,gBAAkB,GAC5E/7D,KAAKwiE,eACRnjE,EAAM,2CACNW,KAAK8M,KAAK,WACVzN,EAAM,mDACNW,KAAKwiE,cAAe,GAEtBnjE,EAAM,sDAAuDgpB,EAAKne,QAAQ6xD,iBAC1E1zC,EAAKu3C,eAAiBv4C,aAAY,WAChChoB,EAAM,0CACNgpB,EAAKk6C,eACJl6C,EAAKne,QAAQ6xD,kBAEhB18D,EAAM,wCAOV4/D,EAAWx8D,UAAUq+D,gBAAkB,WACrCzhE,EAAM,8CACFW,KAAK4/D,iBACPr4C,cAAcvnB,KAAK4/D,gBACnB5/D,KAAK4/D,eAAiB,OAQ1BX,EAAWx8D,UAAUw+D,SAAW,SAAUtnD,EAAQ8U,GAChD,IAAIjvB,EAAOsS,UAAU,GAOrB,GANI2c,IACFpvB,EAAM,0DACNW,KAAKmK,OAAOF,GAAG,QAASwkB,IAG1BpvB,EAAM,yBAA0Bsa,GAC5BA,EACoC,IAAjC3Z,KAAKkK,QAAQ6xD,iBAA0B/7D,KAAKkK,QAAQ4X,OACvD6R,EAAM3zB,KAAKggE,UAEb3gE,EAAM,wCAAyCW,KAAKkK,QAAQkY,UAC5DpiB,KAAKmK,OAAO8B,cACP,CACL,IAAI8S,EAAS48C,EAAM,CAAEr8C,IAAK,cAAgB9f,GAC1CH,EAAM,8DAA+DW,KAAKkK,QAAQkY,UAClFpiB,KAAKmgE,YACHphD,EACA68C,EAAa1pD,KACX,KACAlS,KAAKmK,OAAOiE,IAAI8D,KAAKlS,KAAKmK,UAK3BnK,KAAK0/D,gBACRrgE,EAAM,2EACNW,KAAK8gE,kBACL9gE,KAAKqgE,mBAGgB,OAAnBrgE,KAAKw/D,YACPngE,EAAM,kCACNW,KAAKw/D,UAAUzxD,QACf/N,KAAKw/D,UAAY,MAGf/wC,IAASzuB,KAAKy/D,YAChBpgE,EAAM,uEAAwEW,KAAKkK,QAAQkY,UAC3FpiB,KAAKmK,OAAO6G,eAAe,QAASyd,GACpCA,MAWJwwC,EAAWx8D,UAAU09D,YAAc,SAAUphD,EAAQxR,EAAIuxD,GAIvD,GAHAz/D,EAAM,gCAAiCW,KAAKkK,QAAQkY,UACpD08C,EAAaA,GAAcjrD,GAEtB7T,KAAKy/D,UAGR,OAFApgE,EAAM,qEACNW,KAAK2hE,aAAa5iD,EAAQxR,EAAIuxD,GAOhC,OAFA9+D,KAAKyiE,qBAEG1jD,EAAOO,KACb,IAAK,UACH,MACF,IAAK,SAEH,YADAu/C,EAAa7+D,KAAM+e,EAAQxR,EAAIuxD,GAEjC,QAEE,YADAL,EAAWz+D,KAAM+e,EAAQxR,GAI7B,OAAQwR,EAAOY,KACb,KAAK,EACL,KAAK,EACHk/C,EAAa7+D,KAAM+e,EAAQxR,EAAIuxD,GAC/B,MAMF,KAAK,EAEL,QACEL,EAAWz+D,KAAM+e,EAAQxR,GACzB,MAEJlO,EAAM,8BAA+BW,KAAKkK,QAAQkY,WAUpD68C,EAAWx8D,UAAUk/D,aAAe,SAAU5iD,EAAQxR,EAAIuxD,GACxDz/D,EAAM,6BAA8B0f,GACpC1f,EAAM,2BAA4BkO,GAClCuxD,EAAaA,GAAcjrD,EAGA,KAArBkL,EAAOY,KAAO,IAAY3f,KAAKq/D,cAAgC,YAAftgD,EAAOO,IAC3Dtf,KAAK0+D,MAAMz5D,KAAK,CAAE8Z,OAAQA,EAAQxR,GAAIA,IAC7BwR,EAAOY,IAAM,GACtBpS,EAAKvN,KAAKggE,SAASjhD,EAAO4E,WAAa3jB,KAAKggE,SAASjhD,EAAO4E,WAAWpW,GAAK,KAC5EvN,KAAK++D,cAAcC,IAAIjgD,GAAQ,SAAUzR,GACvC,GAAIA,EACF,OAAOC,GAAMA,EAAGD,GAElBwxD,QAEOvxD,GACTA,EAAG,IAAIkL,MAAM,6BASjBwmD,EAAWx8D,UAAUigE,gBAAkB,WACrCrjE,EAAM,4CAA6CW,KAAKkK,QAAQ8X,WAChE,IAAIqG,EAAOroB,MAENA,KAAKw/D,WAAax/D,KAAKkK,QAAQ8X,YAClChiB,KAAK2iE,UAAW,EAChB3iE,KAAKw/D,UAAYh4C,GAAW,WAC1Ba,EAAKu6C,eACqB,IAAzB5iE,KAAKkK,QAAQ8X,aASpBi9C,EAAWx8D,UAAUggE,mBAAqB,WACpCziE,KAAKw/D,WAAax/D,KAAKkK,QAAQ8X,WAAahiB,KAAKkK,QAAQ4xD,iBAC3D97D,KAAKw/D,UAAUl4C,WAAoC,IAAzBtnB,KAAKkK,QAAQ8X,YAQ3Ci9C,EAAWx8D,UAAUmgE,WAAa,WAChCvjE,EAAM,kCACFW,KAAK2iE,UACPtjE,EAAM,6EACNW,KAAK2iE,UAAW,EAChB3iE,KAAKmgE,YAAY,CAAE7gD,IAAK,cAGxBjgB,EAAM,kDACNW,KAAKihE,UAAS,KASlBhC,EAAWx8D,UAAU6+D,gBAAkB,WACrCthE,KAAK2iE,UAAW,GASlB1D,EAAWx8D,UAAU4+D,eAAiB,SAAUtiD,GAC9C1f,EAAM,kBACN,IAAI6K,EAAUlK,KAAKkK,QACf+zB,EAAU/zB,EAAQmX,gBAClB6c,EAAiB,IAAZD,EAAgBlf,EAAO0D,WAAa1D,EAAO2D,WAmBpD,GAjBA09C,aAAapgE,KAAK2/D,cAEd5gD,EAAOmD,aACLnD,EAAOmD,WAAW4qC,oBACf5iD,EAAQgY,aAAchY,EAAQgY,WAAa,IAChDhY,EAAQgY,WAAW4qC,kBAAoB/tC,EAAOmD,WAAW4qC,mBAEvD/tC,EAAOmD,WAAW8rC,iBAAmB9jD,EAAQ8X,YAC/C9X,EAAQ8X,UAAYjD,EAAOmD,WAAW8rC,gBACtChuD,KAAKyiE,sBAEH1jD,EAAOmD,WAAW8e,oBACf92B,EAAQgY,aAAchY,EAAQgY,WAAa,IAChDhY,EAAQgY,WAAW8e,kBAAoBjiB,EAAOmD,WAAW8e,oBAIlD,IAAP9C,EACFl+B,KAAKwiE,cAAe,EACpBxiE,KAAK6iE,WAAW9jD,QACX,GAAImf,EAAK,EAAG,CACjB,IAAI5wB,EAAM,IAAImL,MAAM,uBAAyBuC,EAAOkjB,IACpD5wB,EAAI6X,KAAO+Y,EACXl+B,KAAK8M,KAAK,QAASQ,KAkCvB2xD,EAAWx8D,UAAUy+D,eAAiB,SAAUniD,EAAQ0P,GACtDpvB,EAAM,4BAA6B0f,GACnC0P,EAAuB,qBAATA,EAAuBA,EAAO5a,EAC5C,IAAIiN,EAAQ/B,EAAO+B,MAAMpiB,WACrBgzB,EAAU3S,EAAOgC,QACjBpB,EAAMZ,EAAOY,IACbgE,EAAY5E,EAAO4E,UACnB0E,EAAOroB,KACPkK,EAAUlK,KAAKkK,QACf44D,EAAmB,CAAC,EAAG,GAAI,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,KAE7D,OADAzjE,EAAM,yBAA0BsgB,GACxBA,GACN,KAAK,EACHzV,EAAQi1D,iBAAiBr+C,EAAO4Q,EAAS3S,GAAQ,SAAU9f,EAAOkmB,GAKhE,OAJMlmB,aAAiBwZ,QACrB0M,EAAOlmB,EACPA,EAAQ,MAENA,EAAgBopB,EAAKvb,KAAK,QAAS7N,IACC,IAApC6jE,EAAiBhgE,QAAQqiB,GAAuBkD,EAAKvb,KAAK,QAAS,IAAI2L,MAAM,sCAC7E0M,EACFkD,EAAK83C,YAAY,CAAC7gD,IAAK,SAAUqE,UAAWA,EAAWlB,WAAY0C,GAAOsJ,GAE1EpG,EAAK+2C,cAAcJ,IAAIjgD,GAAQ,WAC7BsJ,EAAK83C,YAAY,CAAC7gD,IAAK,SAAUqE,UAAWA,GAAY8K,UAI9D,MAEF,KAAK,EAEHvkB,EAAQi1D,iBAAiBr+C,EAAO4Q,EAAS3S,GAAQ,SAAU9f,EAAOkmB,GAKhE,OAJMlmB,aAAiBwZ,QACrB0M,EAAOlmB,EACPA,EAAQ,MAENA,EAAgBopB,EAAKvb,KAAK,QAAS7N,IACC,IAApC6jE,EAAiBhgE,QAAQqiB,GAAuBkD,EAAKvb,KAAK,QAAS,IAAI2L,MAAM,kCAC5E0M,GAAQkD,EAAKvb,KAAK,UAAWgU,EAAO4Q,EAAS3S,QAClDsJ,EAAK06C,cAAchkD,GAAQ,SAAUzR,GACnC,GAAIA,EACF,OAAOmhB,GAAQA,EAAKnhB,GAEtB+a,EAAK83C,YAAY,CAAC7gD,IAAK,SAAUqE,UAAWA,EAAWlB,WAAY0C,GAAOsJ,UAG9E,MAEF,KAAK,EAEHzuB,KAAK8M,KAAK,UAAWgU,EAAO4Q,EAAS3S,GACrC/e,KAAK+iE,cAAchkD,EAAQ0P,GAC3B,MACF,QAEEpvB,EAAM,+CAEN,QAYN4/D,EAAWx8D,UAAUsgE,cAAgB,SAAUhkD,EAAQnJ,GACrDA,KAUFqpD,EAAWx8D,UAAU0+D,WAAa,SAAUpiD,GAE1C,IAKIzR,EALAqW,EAAY5E,EAAO4E,UACnB3b,EAAO+W,EAAOO,IACd0jD,EAAW,KACXz1D,EAAKvN,KAAKggE,SAASr8C,GAAa3jB,KAAKggE,SAASr8C,GAAWpW,GAAK,KAC9D8a,EAAOroB,KAGX,GAAKuN,EAAL,CAQA,OADAlO,EAAM,4BAA6B2I,GAC3BA,GACN,IAAK,UAEL,IAAK,SACH,IAAIi7D,EAAWlkD,EAAO0D,WAElBwgD,GAAYA,EAAW,GAAkB,KAAbA,IAC9B31D,EAAM,IAAImL,MAAM,kBAAoBuC,EAAOioD,IAC3C31D,EAAI6X,KAAO89C,EACX11D,EAAGD,EAAKyR,WAEH/e,KAAKggE,SAASr8C,GACrB3jB,KAAK++D,cAAcsD,IAAItjD,EAAQxR,GAC/B,MACF,IAAK,SACHy1D,EAAW,CACT1jD,IAAK,SACLK,IAAK,EACLgE,UAAWA,GAEb,IAAIu/C,EAAWnkD,EAAO0D,WAElBygD,GAAYA,EAAW,GAAkB,KAAbA,GAC9B51D,EAAM,IAAImL,MAAM,kBAAoBuC,EAAOkoD,IAC3C51D,EAAI6X,KAAO+9C,EACX31D,EAAGD,EAAKyR,IAER/e,KAAKmgE,YAAY6C,GAEnB,MACF,IAAK,gBACIhjE,KAAKggE,SAASr8C,GACrB,IAAK,IAAIw/C,EAAW,EAAGA,EAAWpkD,EAAO0E,QAAQlgB,OAAQ4/D,IACvD,GAA0C,KAAV,IAA3BpkD,EAAO0E,QAAQ0/C,IAAyB,CAE3C,IAAI7X,EAAStrD,KAAKu/D,iBAAiB57C,GAC/B2nC,GACFA,EAAO1yC,SAAQ,SAAUkI,UAChBuH,EAAKi3C,mBAAmBx+C,MAKvCvT,EAAG,KAAMwR,GACT,MACF,IAAK,kBACI/e,KAAKggE,SAASr8C,GACrBpW,EAAG,MACH,MACF,QACE8a,EAAKvb,KAAK,QAAS,IAAI2L,MAAM,6BAG7BzY,KAAK0/D,eACiC,IAAtC7gE,OAAO+G,KAAK5F,KAAKggE,UAAUz8D,QAC7BvD,KAAK8M,KAAK,sBA9DVzN,EAAM,yDAwEV4/D,EAAWx8D,UAAU2+D,cAAgB,SAAUriD,EAAQnJ,GACrDvW,EAAM,0BACNuW,EAA+B,qBAAbA,EAA2BA,EAAW/B,EACxD,IAAI8P,EAAY5E,EAAO4E,UACnB0E,EAAOroB,KAEPojE,EAAO,CAAC9jD,IAAK,UAAWqE,UAAWA,GAEvC0E,EAAK+2C,cAAclyD,IAAI6R,GAAQ,SAAUzR,EAAK+1D,GACvC/1D,EAUH+a,EAAK83C,YAAYiD,EAAMxtD,IATvByS,EAAKvb,KAAK,UAAWu2D,EAAIviD,MAAOuiD,EAAItiD,QAASsiD,GAC7Ch7C,EAAK06C,cAAcM,GAAK,SAAU/1D,GAChC,GAAIA,EACF,OAAOsI,EAAStI,GAElB+a,EAAK+2C,cAAciD,IAAIgB,EAAKxvD,GAC5BwU,EAAK83C,YAAYiD,EAAMxtD,WAc/BqpD,EAAWx8D,UAAU8+D,kBAAoB,SAAUxiD,GACjD/e,KAAK8M,KAAK,aAAciS,IAO1BkgD,EAAWx8D,UAAUi/D,QAAU,WAE7B,IAAIhmC,EAAK17B,KAAK+/D,SAKd,OAHoB,QAAhB//D,KAAK+/D,SACP//D,KAAK+/D,OAAS,GAETrkC,GAOTujC,EAAWx8D,UAAU6gE,iBAAmB,WACtC,OAAwB,IAAhBtjE,KAAK+/D,OAAgB,MAAS//D,KAAK+/D,OAAS,GAOtDd,EAAWx8D,UAAU8gE,aAAe,SAAU5mC,GAC5Ct9B,EAAM,gBACN,IAAImkE,EAAyB3kE,OAAO+G,KAAK5F,KAAKs/D,oBAC9C,IAAKt/D,KAAKigE,mBACLjgE,KAAKkK,QAAQ4X,OAA2C,IAAjC9hB,KAAKkK,QAAQmX,kBAA0Bsb,EAAQpa,iBACvEihD,EAAuBjgE,OAAS,EAClC,GAAIvD,KAAKkK,QAAQ+xD,YACf,GAAqC,IAAjCj8D,KAAKkK,QAAQmX,gBAAuB,CACtChiB,EAAM,mCACN,IAAK,IAAIokE,EAAS,EAAGA,EAASD,EAAuBjgE,OAAQkgE,IAAU,CACrE,IAAIC,EAAmB,GACvBA,EAAiBF,EAAuBC,IAAWzjE,KAAKs/D,mBAAmBkE,EAAuBC,IAClGC,EAAiBzH,aAAc,EAC/Bj8D,KAAK88B,UAAU4mC,EAAkB,CAACxhD,WAAYwhD,EAAiBF,EAAuBC,IAASvhD,mBAGjGliB,KAAKs/D,mBAAmBrD,aAAc,EACtCj8D,KAAK88B,UAAU98B,KAAKs/D,yBAGtBt/D,KAAKs/D,mBAAqB,GAI9Bt/D,KAAKigE,kBAAmB,GAQ1BhB,EAAWx8D,UAAUogE,WAAa,SAAU9jD,GAC1C,GAAI/e,KAAKgiE,aACPhiE,KAAK8M,KAAK,UAAWiS,OADvB,CAKA,IAAIsJ,EAAOroB,KAEXA,KAAK0iE,kBACL1iE,KAAKujE,aAAaxkD,GAElB/e,KAAKy/D,WAAY,EAsFjBkE,IApFA,SAASA,IACP,IAAIC,EAAWv7C,EAAK02C,cAAc8E,eAElC,SAASC,IACPz7C,EAAKw3C,kBAAmB,EACxBx3C,EAAKy3C,gCAAkC,GAUzC,SAASiE,IACPH,EAAS33D,UACT23D,EAAW,KACXE,IAGF,SAASE,IAEP,GAAKJ,EAAL,CAGAv7C,EAAKw3C,kBAAmB,EAExB,IAEItyD,EAFAwR,EAAS6kD,EAAS73D,KAAK,GAItBgT,EAODsJ,EAAKy3C,gCAAgC/gD,EAAO4E,WAC9CqgD,IAKG37C,EAAKq3C,eAAkBr3C,EAAKu3C,eAetBgE,EAAS33D,SAClB23D,EAAS33D,WAfTsB,EAAK8a,EAAK23C,SAASjhD,EAAO4E,WAAa0E,EAAK23C,SAASjhD,EAAO4E,WAAWpW,GAAK,KAC5E8a,EAAK23C,SAASjhD,EAAO4E,WAAa,CAChCi7C,UAAU,EACVrxD,GAAI,SAAUD,EAAK88B,GAEb78B,GACFA,EAAGD,EAAK88B,GAGV45B,MAGJ37C,EAAKy3C,gCAAgC/gD,EAAO4E,YAAa,EACzD0E,EAAK83C,YAAYphD,IAzBjB6kD,EAAS/yD,KAAK,WAAYmzD,IA1B9B37C,EAAKxX,KAAK,QAASkzD,GACnBH,EAAS35D,GAAG,SAAS,SAAUqD,GAC7Bw2D,IACAz7C,EAAKrX,eAAe,QAAS+yD,GAC7B17C,EAAKvb,KAAK,QAASQ,MAqDrBs2D,EAAS35D,GAAG,OAAO,WACjB,IAAIg6D,GAAe,EACnB,IAAK,IAAIvoC,KAAMrT,EAAKy3C,gCAClB,IAAKz3C,EAAKy3C,gCAAgCpkC,GAAK,CAC7CuoC,GAAe,EACf,MAGAA,GACFH,IACAz7C,EAAKrX,eAAe,QAAS+yD,GAC7B17C,EAAKvb,KAAK,UAAWiS,IAErB4kD,OAGJK,MAMJlmE,EAAOD,QAAUohE,I,kECziDjB,IAAI1lD,EAAI,EAAQ,QACZ4rC,EAAc,EAAQ,QACtB/8C,EAAS,EAAQ,QACjBi5B,EAAM,EAAQ,QACdh/B,EAAW,EAAQ,QACnBoF,EAAiB,EAAQ,QAAuChJ,EAChEylE,EAA4B,EAAQ,QAEpCC,EAAe/7D,EAAO+J,OAE1B,GAAIgzC,GAAsC,mBAAhBgf,MAAiC,gBAAiBA,EAAa1hE,iBAExDuK,IAA/Bm3D,IAAetwB,aACd,CACD,IAAIuwB,EAA8B,GAE9BC,EAAgB,WAClB,IAAIxwB,EAAc/hC,UAAUvO,OAAS,QAAsByJ,IAAjB8E,UAAU,QAAmB9E,EAAY4F,OAAOd,UAAU,IAChG9L,EAAShG,gBAAgBqkE,EACzB,IAAIF,EAAatwB,QAED7mC,IAAhB6mC,EAA4BswB,IAAiBA,EAAatwB,GAE9D,MADoB,KAAhBA,IAAoBuwB,EAA4Bp+D,IAAU,GACvDA,GAETk+D,EAA0BG,EAAeF,GACzC,IAAIG,EAAkBD,EAAc5hE,UAAY0hE,EAAa1hE,UAC7D6hE,EAAgBpmD,YAAcmmD,EAE9B,IAAIE,EAAiBD,EAAgB5lE,SACjC8lE,EAAyC,gBAAhC5xD,OAAOuxD,EAAa,SAC7BhiB,EAAS,wBACb16C,EAAe68D,EAAiB,cAAe,CAC7Ct2C,cAAc,EACd9gB,IAAK,WACH,IAAIwb,EAASrmB,EAASrC,MAAQA,KAAKipD,UAAYjpD,KAC3Cwb,EAAS+oD,EAAeplE,KAAKupB,GACjC,GAAI2Y,EAAI+iC,EAA6B17C,GAAS,MAAO,GACrD,IAAI+7C,EAAOD,EAAShpD,EAAOtc,MAAM,GAAI,GAAKsc,EAAOrY,QAAQg/C,EAAQ,MACjE,MAAgB,KAATsiB,OAAcz3D,EAAYy3D,KAIrClrD,EAAE,CAAEnR,QAAQ,EAAMuR,QAAQ,GAAQ,CAChCxH,OAAQkyD,M,kCCxBZ,IAAIK,EAAqB,SAASn+D,GAChC,cAAeA,GACb,IAAK,SACH,OAAOA,EAET,IAAK,UACH,OAAOA,EAAI,OAAS,QAEtB,IAAK,SACH,OAAOgS,SAAShS,GAAKA,EAAI,GAE3B,QACE,MAAO,KAIbzI,EAAOD,QAAU,SAAS0E,EAAK0/C,EAAKC,EAAI9pC,GAOtC,OANA6pC,EAAMA,GAAO,IACbC,EAAKA,GAAM,IACC,OAAR3/C,IACFA,OAAMyK,GAGW,kBAARzK,EACF8Y,EAAI0pC,EAAWxiD,IAAM,SAASqC,GACnC,IAAI+/D,EAAKn/D,mBAAmBk/D,EAAmB9/D,IAAMs9C,EACrD,OAAIl4C,EAAQzH,EAAIqC,IACPyW,EAAI9Y,EAAIqC,IAAI,SAAS2B,GAC1B,OAAOo+D,EAAKn/D,mBAAmBk/D,EAAmBn+D,OACjDnD,KAAK6+C,GAED0iB,EAAKn/D,mBAAmBk/D,EAAmBniE,EAAIqC,QAEvDxB,KAAK6+C,GAIL7pC,EACE5S,mBAAmBk/D,EAAmBtsD,IAAS8pC,EAC/C18C,mBAAmBk/D,EAAmBniE,IAF3B,IAKpB,IAAIyH,EAAUD,MAAMC,SAAW,SAAU2F,GACvC,MAA8C,mBAAvC9Q,OAAO4D,UAAU/D,SAASS,KAAKwQ,IAGxC,SAAS0L,EAAK1L,EAAIlR,GAChB,GAAIkR,EAAG0L,IAAK,OAAO1L,EAAG0L,IAAI5c,GAE1B,IADA,IAAIiT,EAAM,GACDzN,EAAI,EAAGA,EAAI0L,EAAGpM,OAAQU,IAC7ByN,EAAIzM,KAAKxG,EAAEkR,EAAG1L,GAAIA,IAEpB,OAAOyN,EAGT,IAAIqzC,EAAalmD,OAAO+G,MAAQ,SAAUrD,GACxC,IAAImP,EAAM,GACV,IAAK,IAAIqc,KAAOxrB,EACV1D,OAAO4D,UAAUs1B,eAAe54B,KAAKoD,EAAKwrB,IAAMrc,EAAIzM,KAAK8oB,GAE/D,OAAOrc,I,mBCnFT,IAAIhT,EAAW,GAAGA,SAElBZ,EAAOD,QAAUkM,MAAMC,SAAW,SAAU2b,GAC1C,MAA6B,kBAAtBjnB,EAASS,KAAKwmB,K,qBCHvB,IAAI7H,EAAkB,EAAQ,QAE9BjgB,EAAQY,EAAIqf,G,kCCDZ,IAAIi6C,EAAmB/3D,MAAQA,KAAK+3D,kBAAqBl5D,OAAO8lB,OAAS,SAAU2V,EAAG/iB,EAAG3S,EAAGozD,QAC7EhrD,IAAPgrD,IAAkBA,EAAKpzD,GAC3B/F,OAAO4I,eAAe6yB,EAAG09B,EAAI,CAAE/qD,YAAY,EAAMC,IAAK,WAAa,OAAOqK,EAAE3S,OAC3E,SAAU01B,EAAG/iB,EAAG3S,EAAGozD,QACThrD,IAAPgrD,IAAkBA,EAAKpzD,GAC3B01B,EAAE09B,GAAMzgD,EAAE3S,KAEVqzD,EAAgBj4D,MAAQA,KAAKi4D,cAAiB,SAAS1gD,EAAG1Z,GAC1D,IAAK,IAAIuH,KAAKmS,EAAa,YAANnS,GAAoBvH,EAAQk6B,eAAe3yB,IAAI2yD,EAAgBl6D,EAAS0Z,EAAGnS,IAEpGvG,OAAO4I,eAAe5J,EAAS,aAAc,CAAE6J,OAAO,IACtDuwD,EAAa,EAAQ,QAAap6D,GAClCo6D,EAAa,EAAQ,QAAcp6D,GACnCo6D,EAAa,EAAQ,QAAiBp6D,GACtCo6D,EAAa,EAAQ,QAAWp6D,GAChCo6D,EAAa,EAAQ,QAAgCp6D,I,0DChBrD,YAEA,IAAIohE,EAAa,EAAQ,QACrBzD,EAAQ,EAAQ,QAChBt5D,EAAM,EAAQ,QACdy5D,EAAQ,EAAQ,QAChBt8D,EAAQ,EAAQ,OAAR,CAAiB,UAEzBghD,EAAY,GAyBhB,SAASukB,EAAkBplE,GACzB,IAAIi2C,EACAj2C,EAAKW,OACPs1C,EAAUj2C,EAAKW,KAAK2D,MAAM,eACtB2xC,GACFj2C,EAAKyhB,SAAWw0B,EAAQ,GACxBj2C,EAAKwhB,SAAWy0B,EAAQ,IAExBj2C,EAAKyhB,SAAWzhB,EAAKW,MAW3B,SAASu8B,EAASmoC,EAAWrlE,GAS3B,GARAH,EAAM,mCACoB,kBAAdwlE,GAA4BrlE,IACtCA,EAAOqlE,EACPA,EAAY,MAGdrlE,EAAOA,GAAQ,GAEXqlE,EAAW,CACb,IAAI5T,EAAS/uD,EAAIxB,MAAMmkE,GAAW,GAOlC,GANmB,MAAf5T,EAAOxxD,OACTwxD,EAAOxxD,KAAO2qB,OAAO6mC,EAAOxxD,OAG9BD,EAAOm8D,EAAM1K,EAAQzxD,GAEC,OAAlBA,EAAKS,SACP,MAAM,IAAIwY,MAAM,oBAGlBjZ,EAAKS,SAAWT,EAAKS,SAASkD,QAAQ,KAAM,IAW9C,GAPAyhE,EAAiBplE,GAGbA,EAAKc,OAAwC,kBAAxBd,EAAKc,MAAM8hB,WAClC5iB,EAAK4iB,SAAW5iB,EAAKc,MAAM8hB,UAGzB5iB,EAAKslE,MAAQtlE,EAAKuuB,IAAK,CACzB,IAAIvuB,EAAKS,SAqBP,MAAM,IAAIwY,MAAM,+BApBhB,IAAgE,IAA5D,CAAC,QAAS,MAAO,MAAO,QAAQ3V,QAAQtD,EAAKS,UAC/C,OAAQT,EAAKS,UACX,IAAK,OACHT,EAAKS,SAAW,QAChB,MACF,IAAK,KACHT,EAAKS,SAAW,MAChB,MACF,IAAK,KACHT,EAAKS,SAAW,MAChB,MACF,IAAK,MACHT,EAAKS,SAAW,OAChB,MACF,QACE,MAAM,IAAIwY,MAAM,4CAA8CjZ,EAAKS,SAAW,OASxF,IAAKogD,EAAU7gD,EAAKS,UAAW,CAC7B,IAAI8kE,GAAwD,IAA7C,CAAC,QAAS,OAAOjiE,QAAQtD,EAAKS,UAC7CT,EAAKS,SAAW,CACd,OACA,QACA,KACA,MACA,KACA,MACA,MACA,QACAw2B,QAAO,SAAU1I,EAAKvc,GACtB,QAAIuzD,GAAYvzD,EAAQ,IAAM,IAII,oBAAnB6uC,EAAUtyB,MACxB,GAGL,IAAmB,IAAfvuB,EAAKsiB,QAAoBtiB,EAAK4iB,SAChC,MAAM,IAAI3J,MAAM,wCAOlB,SAASigD,EAASn5D,GAehB,OAdIC,EAAKwlE,UACFzlE,EAAO0lE,iBAAmB1lE,EAAO0lE,kBAAoBzlE,EAAKwlE,QAAQzhE,SACrEhE,EAAO0lE,gBAAkB,GAG3BzlE,EAAKE,KAAOF,EAAKwlE,QAAQzlE,EAAO0lE,iBAAiBvlE,KACjDF,EAAKC,KAAOD,EAAKwlE,QAAQzlE,EAAO0lE,iBAAiBxlE,KACjDD,EAAKS,SAAaT,EAAKwlE,QAAQzlE,EAAO0lE,iBAAiBhlE,SAAkCT,EAAKwlE,QAAQzlE,EAAO0lE,iBAAiBhlE,SAA5DT,EAAK0lE,gBACvE1lE,EAAKG,SAAWH,EAAKE,KAErBH,EAAO0lE,mBAGT5lE,EAAM,4BAA6BG,EAAKS,UACjCogD,EAAU7gD,EAAKS,UAAUV,EAAQC,GAnBtCA,EAAKS,WACPT,EAAK0lE,gBAAkB1lE,EAAKS,UAoB9B,IAAIV,EAAS,IAAI0/D,EAAWvG,EAASl5D,GAErC,OADAD,EAAO0K,GAAG,SAAS,eACZ1K,EAlJe,qBAAZ+O,GAA6C,YAAlBA,EAAQ2mB,OAAuD,oBAAxBkwC,GAC5E9kB,EAAUhzB,KAAO,EAAQ,QACzBgzB,EAAU+kB,IAAM,EAAQ,QACxB/kB,EAAUglB,IAAM,EAAQ,QACxBhlB,EAAUilB,IAAM,EAAQ,QACxBjlB,EAAUklB,MAAQ,EAAQ,UAE1BllB,EAAUF,GAAK,EAAQ,QACvBE,EAAUmlB,IAAM,EAAQ,QAExBnlB,EAAUolB,IAAM,EAAQ,QACxBplB,EAAUqlB,KAAO,EAAQ,SAG3BrlB,EAAU5nB,GAAK,EAAQ,QACvB4nB,EAAUslB,IAAM,EAAQ,QAsIxB7nE,EAAOD,QAAU6+B,EACjB5+B,EAAOD,QAAQ6+B,QAAUA,EACzB5+B,EAAOD,QAAQohE,WAAaA,EAC5BnhE,EAAOD,QAAQ29D,MAAQA,I,2CCnKvB,IAAItlC,EAAU,EAAQ,QAItBp4B,EAAOD,QAAUkM,MAAMC,SAAW,SAAiB8nB,GACjD,MAAuB,SAAhBoE,EAAQpE,K,kCCHjB,SAAS8zC,EAAQzuD,EAAQ0uD,GAAkB,IAAIjgE,EAAO/G,OAAO+G,KAAKuR,GAAS,GAAItY,OAAO+pD,sBAAuB,CAAE,IAAIkd,EAAUjnE,OAAO+pD,sBAAsBzxC,GAAa0uD,IAAgBC,EAAUA,EAAQrvC,QAAO,SAAU+xB,GAAO,OAAO3pD,OAAO4oB,yBAAyBtQ,EAAQqxC,GAAKv7C,eAAgBrH,EAAKX,KAAK4M,MAAMjM,EAAMkgE,GAAY,OAAOlgE,EAE9U,SAASmgE,EAAcrsD,GAAU,IAAK,IAAIzV,EAAI,EAAGA,EAAI6N,UAAUvO,OAAQU,IAAK,CAAE,IAAIvB,EAAyB,MAAhBoP,UAAU7N,GAAa6N,UAAU7N,GAAK,GAAQA,EAAI,EAAK2hE,EAAQ/mE,OAAO6D,IAAS,GAAMkW,SAAQ,SAAUmV,GAAOD,EAAgBpU,EAAQqU,EAAKrrB,EAAOqrB,OAAsBlvB,OAAOmnE,0BAA6BnnE,OAAO8pD,iBAAiBjvC,EAAQ7a,OAAOmnE,0BAA0BtjE,IAAmBkjE,EAAQ/mE,OAAO6D,IAASkW,SAAQ,SAAUmV,GAAOlvB,OAAO4I,eAAeiS,EAAQqU,EAAKlvB,OAAO4oB,yBAAyB/kB,EAAQqrB,OAAe,OAAOrU,EAE7gB,SAASoU,EAAgBvrB,EAAKwrB,EAAKrmB,GAAiK,OAApJqmB,KAAOxrB,EAAO1D,OAAO4I,eAAelF,EAAKwrB,EAAK,CAAErmB,MAAOA,EAAOuF,YAAY,EAAM+gB,cAAc,EAAMhZ,UAAU,IAAkBzS,EAAIwrB,GAAOrmB,EAAgBnF,EAE3M,SAAS0jE,EAAgBxM,EAAUyM,GAAe,KAAMzM,aAAoByM,GAAgB,MAAM,IAAItjE,UAAU,qCAEhH,SAASujE,EAAkBzsD,EAAQukC,GAAS,IAAK,IAAIh6C,EAAI,EAAGA,EAAIg6C,EAAM16C,OAAQU,IAAK,CAAE,IAAIkkB,EAAa81B,EAAMh6C,GAAIkkB,EAAWlb,WAAakb,EAAWlb,aAAc,EAAOkb,EAAW6F,cAAe,EAAU,UAAW7F,IAAYA,EAAWnT,UAAW,GAAMnW,OAAO4I,eAAeiS,EAAQyO,EAAW4F,IAAK5F,IAE7S,SAASi+C,EAAaF,EAAaG,EAAYC,GAAmJ,OAAhID,GAAYF,EAAkBD,EAAYzjE,UAAW4jE,GAAiBC,GAAaH,EAAkBD,EAAaI,GAAqBJ,EAEzM,IAAIj9D,EAAW,EAAQ,QACnBf,EAASe,EAASf,OAElBq+D,EAAY,EAAQ,GACpB5T,EAAU4T,EAAU5T,QAEpB6T,EAAS7T,GAAWA,EAAQ6T,QAAU,UAE1C,SAASC,EAAW73D,EAAK8K,EAAQsP,GAC/B9gB,EAAOzF,UAAU6mB,KAAKnqB,KAAKyP,EAAK8K,EAAQsP,GAG1ClrB,EAAOD,QAEP,WACE,SAASkL,IACPk9D,EAAgBjmE,KAAM+I,GAEtB/I,KAAK2N,KAAO,KACZ3N,KAAK0mE,KAAO,KACZ1mE,KAAKuD,OAAS,EA8KhB,OA3KA6iE,EAAar9D,EAAY,CAAC,CACxBglB,IAAK,OACLrmB,MAAO,SAAcnB,GACnB,IAAIyM,EAAQ,CACVnF,KAAMtH,EACNuH,KAAM,MAEJ9N,KAAKuD,OAAS,EAAGvD,KAAK0mE,KAAK54D,KAAOkF,EAAWhT,KAAK2N,KAAOqF,EAC7DhT,KAAK0mE,KAAO1zD,IACVhT,KAAKuD,SAER,CACDwqB,IAAK,UACLrmB,MAAO,SAAiBnB,GACtB,IAAIyM,EAAQ,CACVnF,KAAMtH,EACNuH,KAAM9N,KAAK2N,MAEO,IAAhB3N,KAAKuD,SAAcvD,KAAK0mE,KAAO1zD,GACnChT,KAAK2N,KAAOqF,IACVhT,KAAKuD,SAER,CACDwqB,IAAK,QACLrmB,MAAO,WACL,GAAoB,IAAhB1H,KAAKuD,OAAT,CACA,IAAI6L,EAAMpP,KAAK2N,KAAKE,KAGpB,OAFoB,IAAhB7N,KAAKuD,OAAcvD,KAAK2N,KAAO3N,KAAK0mE,KAAO,KAAU1mE,KAAK2N,KAAO3N,KAAK2N,KAAKG,OAC7E9N,KAAKuD,OACA6L,KAER,CACD2e,IAAK,QACLrmB,MAAO,WACL1H,KAAK2N,KAAO3N,KAAK0mE,KAAO,KACxB1mE,KAAKuD,OAAS,IAEf,CACDwqB,IAAK,OACLrmB,MAAO,SAAc/B,GACnB,GAAoB,IAAhB3F,KAAKuD,OAAc,MAAO,GAC9B,IAAI6B,EAAIpF,KAAK2N,KACTyB,EAAM,GAAKhK,EAAEyI,KAEjB,MAAOzI,EAAIA,EAAE0I,KACXsB,GAAOzJ,EAAIP,EAAEyI,KAGf,OAAOuB,IAER,CACD2e,IAAK,SACLrmB,MAAO,SAAgBwG,GACrB,GAAoB,IAAhBlO,KAAKuD,OAAc,OAAO2E,EAAOyhB,MAAM,GAC3C,IAAIva,EAAMlH,EAAO4hB,YAAY5b,IAAM,GAC/B9I,EAAIpF,KAAK2N,KACT1J,EAAI,EAER,MAAOmB,EACLqhE,EAAWrhE,EAAEyI,KAAMuB,EAAKnL,GACxBA,GAAKmB,EAAEyI,KAAKtK,OACZ6B,EAAIA,EAAE0I,KAGR,OAAOsB,IAGR,CACD2e,IAAK,UACLrmB,MAAO,SAAiBwG,EAAGy4D,GACzB,IAAIv3D,EAcJ,OAZIlB,EAAIlO,KAAK2N,KAAKE,KAAKtK,QAErB6L,EAAMpP,KAAK2N,KAAKE,KAAK3O,MAAM,EAAGgP,GAC9BlO,KAAK2N,KAAKE,KAAO7N,KAAK2N,KAAKE,KAAK3O,MAAMgP,IAGtCkB,EAFSlB,IAAMlO,KAAK2N,KAAKE,KAAKtK,OAExBvD,KAAKyG,QAGLkgE,EAAa3mE,KAAK4mE,WAAW14D,GAAKlO,KAAK6mE,WAAW34D,GAGnDkB,IAER,CACD2e,IAAK,QACLrmB,MAAO,WACL,OAAO1H,KAAK2N,KAAKE,OAGlB,CACDkgB,IAAK,aACLrmB,MAAO,SAAoBwG,GACzB,IAAI9I,EAAIpF,KAAK2N,KACT8iB,EAAI,EACJrhB,EAAMhK,EAAEyI,KACZK,GAAKkB,EAAI7L,OAET,MAAO6B,EAAIA,EAAE0I,KAAM,CACjB,IAAI6E,EAAMvN,EAAEyI,KACRg0B,EAAK3zB,EAAIyE,EAAIpP,OAASoP,EAAIpP,OAAS2K,EAIvC,GAHI2zB,IAAOlvB,EAAIpP,OAAQ6L,GAAOuD,EAASvD,GAAOuD,EAAIzT,MAAM,EAAGgP,GAC3DA,GAAK2zB,EAEK,IAAN3zB,EAAS,CACP2zB,IAAOlvB,EAAIpP,UACXktB,EACErrB,EAAE0I,KAAM9N,KAAK2N,KAAOvI,EAAE0I,KAAU9N,KAAK2N,KAAO3N,KAAK0mE,KAAO,OAE5D1mE,KAAK2N,KAAOvI,EACZA,EAAEyI,KAAO8E,EAAIzT,MAAM2iC,IAGrB,QAGApR,EAIJ,OADAzwB,KAAKuD,QAAUktB,EACRrhB,IAGR,CACD2e,IAAK,aACLrmB,MAAO,SAAoBwG,GACzB,IAAIkB,EAAMlH,EAAO4hB,YAAY5b,GACzB9I,EAAIpF,KAAK2N,KACT8iB,EAAI,EACRrrB,EAAEyI,KAAKyb,KAAKla,GACZlB,GAAK9I,EAAEyI,KAAKtK,OAEZ,MAAO6B,EAAIA,EAAE0I,KAAM,CACjB,IAAIoR,EAAM9Z,EAAEyI,KACRg0B,EAAK3zB,EAAIgR,EAAI3b,OAAS2b,EAAI3b,OAAS2K,EAIvC,GAHAgR,EAAIoK,KAAKla,EAAKA,EAAI7L,OAAS2K,EAAG,EAAG2zB,GACjC3zB,GAAK2zB,EAEK,IAAN3zB,EAAS,CACP2zB,IAAO3iB,EAAI3b,UACXktB,EACErrB,EAAE0I,KAAM9N,KAAK2N,KAAOvI,EAAE0I,KAAU9N,KAAK2N,KAAO3N,KAAK0mE,KAAO,OAE5D1mE,KAAK2N,KAAOvI,EACZA,EAAEyI,KAAOqR,EAAIhgB,MAAM2iC,IAGrB,QAGApR,EAIJ,OADAzwB,KAAKuD,QAAUktB,EACRrhB,IAGR,CACD2e,IAAKy4C,EACL9+D,MAAO,SAAesP,EAAG9M,GACvB,OAAOyoD,EAAQ3yD,KAAM+lE,EAAc,GAAI77D,EAAS,CAE9CkqC,MAAO,EAEP0yB,eAAe,SAKd/9D,EApLT,I,kCCvBA,IAAI4yD,EAAQ,EAAQ,QAEhB39D,EAAW,EAAQ,QAAmBA,SACtC+oE,EAAc,CAAE18D,YAAY,GAC5B28D,EAAsB,CACxBllD,OAAO,GAST,SAAS05C,EAAOtxD,GACd,KAAMlK,gBAAgBw7D,GACpB,OAAO,IAAIA,EAAMtxD,GAGnBlK,KAAKkK,QAAUA,GAAW,GAG1BlK,KAAKkK,QAAUyxD,EAAMqL,EAAqB98D,GAE1ClK,KAAKinE,WAAa,IAAIC,IAQxB1L,EAAM/4D,UAAUu8D,IAAM,SAAUjgD,EAAQxR,GAOtC,OANAvN,KAAKinE,WAAW95D,IAAI4R,EAAO4E,UAAW5E,GAElCxR,GACFA,IAGKvN,MAOTw7D,EAAM/4D,UAAUohE,aAAe,WAC7B,IAAI15D,EAAS,IAAInM,EAAS+oE,GACtBx7D,GAAY,EACZqzC,EAAS,GACT36C,EAAI,EA4BR,OA1BAjE,KAAKinE,WAAWruD,SAAQ,SAAUlR,EAAOqmB,GACvC6wB,EAAO35C,KAAKyC,MAGdyC,EAAO6B,MAAQ,YACRT,GAAatH,EAAI26C,EAAOr7C,OAC3BvD,KAAKiF,KAAK25C,EAAO36C,MAEjBjE,KAAKiF,KAAK,OAIdkF,EAAO8B,QAAU,WACf,IAAIV,EAAJ,CAIA,IAAIuD,EAAO9O,KAEXuL,GAAY,EAEZspB,YAAW,WACT/lB,EAAKhC,KAAK,WACT,KAGE3C,GAMTqxD,EAAM/4D,UAAU4/D,IAAM,SAAUtjD,EAAQxR,GAStC,OARAwR,EAAS/e,KAAKinE,WAAW/5D,IAAI6R,EAAO4E,WAChC5E,GACF/e,KAAKinE,WAAWE,OAAOpoD,EAAO4E,WAC9BpW,EAAG,KAAMwR,IACAxR,GACTA,EAAG,IAAIkL,MAAM,mBAGRzY,MAMTw7D,EAAM/4D,UAAUyK,IAAM,SAAU6R,EAAQxR,GAQtC,OAPAwR,EAAS/e,KAAKinE,WAAW/5D,IAAI6R,EAAO4E,WAChC5E,EACFxR,EAAG,KAAMwR,GACAxR,GACTA,EAAG,IAAIkL,MAAM,mBAGRzY,MAMTw7D,EAAM/4D,UAAUsjC,MAAQ,SAAUx4B,GAC5BvN,KAAKkK,QAAQ4X,QACf9hB,KAAKinE,WAAa,MAEhB15D,GACFA,KAIJzP,EAAOD,QAAU29D,G,mCC/HjB,YAEA,SAASvvD,EAAQqB,EAAKC,GACpB,IAAIyE,EAAQhS,KAERonE,EAAoBpnE,KAAK6L,gBAAkB7L,KAAK6L,eAAeN,UAC/D87D,EAAoBrnE,KAAK0P,gBAAkB1P,KAAK0P,eAAenE,UAEnE,OAAI67D,GAAqBC,GACnB95D,EACFA,EAAGD,GACMA,IACJtN,KAAK0P,eAEE1P,KAAK0P,eAAemF,eAC9B7U,KAAK0P,eAAemF,cAAe,EACnCvG,EAAQC,SAAS+4D,EAAatnE,KAAMsN,IAHpCgB,EAAQC,SAAS+4D,EAAatnE,KAAMsN,IAOjCtN,OAKLA,KAAK6L,iBACP7L,KAAK6L,eAAeN,WAAY,GAI9BvL,KAAK0P,iBACP1P,KAAK0P,eAAenE,WAAY,GAGlCvL,KAAKkM,SAASoB,GAAO,MAAM,SAAUA,IAC9BC,GAAMD,EACJ0E,EAAMtC,eAECsC,EAAMtC,eAAemF,aAI/BvG,EAAQC,SAASg5D,EAAav1D,IAH9BA,EAAMtC,eAAemF,cAAe,EACpCvG,EAAQC,SAASi5D,EAAqBx1D,EAAO1E,IAH7CgB,EAAQC,SAASi5D,EAAqBx1D,EAAO1E,GAOtCC,GACTe,EAAQC,SAASg5D,EAAav1D,GAC9BzE,EAAGD,IAEHgB,EAAQC,SAASg5D,EAAav1D,MAI3BhS,MAGT,SAASwnE,EAAoB14D,EAAMxB,GACjCg6D,EAAYx4D,EAAMxB,GAClBi6D,EAAYz4D,GAGd,SAASy4D,EAAYz4D,GACfA,EAAKY,iBAAmBZ,EAAKY,eAAerE,WAC5CyD,EAAKjD,iBAAmBiD,EAAKjD,eAAeR,WAChDyD,EAAKhC,KAAK,SAGZ,SAASO,IACHrN,KAAK6L,iBACP7L,KAAK6L,eAAeN,WAAY,EAChCvL,KAAK6L,eAAef,SAAU,EAC9B9K,KAAK6L,eAAejB,OAAQ,EAC5B5K,KAAK6L,eAAehB,YAAa,GAG/B7K,KAAK0P,iBACP1P,KAAK0P,eAAenE,WAAY,EAChCvL,KAAK0P,eAAe9E,OAAQ,EAC5B5K,KAAK0P,eAAesE,QAAS,EAC7BhU,KAAK0P,eAAeqE,aAAc,EAClC/T,KAAK0P,eAAekF,aAAc,EAClC5U,KAAK0P,eAAerR,UAAW,EAC/B2B,KAAK0P,eAAemF,cAAe,GAIvC,SAASyyD,EAAYx4D,EAAMxB,GACzBwB,EAAKhC,KAAK,QAASQ,GAGrB,SAAS7D,EAAeU,EAAQmD,GAM9B,IAAIoJ,EAASvM,EAAO0B,eAChB4D,EAAStF,EAAOuF,eAChBgH,GAAUA,EAAOpL,aAAemE,GAAUA,EAAOnE,YAAanB,EAAO8B,QAAQqB,GAAUnD,EAAO2C,KAAK,QAASQ,GAGlHxP,EAAOD,QAAU,CACfoO,QAASA,EACToB,UAAWA,EACX5D,eAAgBA,K,4CCvGlB,0BACMyyB,EAAQ,GAORurC,EAAQv/D,EAAOQ,SAASR,EAAOM,KAAK,CAAC,EAAG,IAAIymD,SAAS,EAAG,IAE9D,SAASyY,EAAgBzjE,GACvB,MAAMuG,EAAStC,EAAO4hB,YAAY,GAIlC,OAHAtf,EAAO8jD,WAAWrqD,GAAK,EAAG,GAC1BuG,EAAO8jD,WAAe,IAAJrqD,EAAY,GAEvBuG,EAGT,SAAS4xB,IACP,IAAK,IAAIn4B,EAAI,EAAGA,EAAI2uD,EAAK3uD,IACvBi4B,EAAMj4B,GAAKyjE,EAAezjE,GAI9B,SAASo4B,EAAuBvW,GAC9B,MAAM6hD,EAAY,EAClB,IAAIvrD,EAAQ,EACR2e,EAAM,EACV,MAAMvwB,EAAStC,EAAO4hB,YAAY69C,GAElC,GACEvrD,EAAQ0J,EAAM,IAAM,EACpBA,EAAMA,EAAM,IAAM,EACdA,EAAM,IAAG1J,GAAgB,KAE7B5R,EAAO8jD,WAAWlyC,EAAO2e,WAClBjV,EAAM,GAAKiV,EAAM4sC,GAM1B,OAJI7hD,EAAM,IACRiV,EAAM,GAGD0sC,EAAQj9D,EAAOykD,SAAS,EAAGl0B,GAAOvwB,EAAOtL,MAAM,EAAG67B,GAG3D,SAASuB,EAAqBxW,GAC5B,MAAMtb,EAAStC,EAAO4hB,YAAY,GAElC,OADAtf,EAAO+pD,cAAczuC,EAAK,GACnBtb,EAGT1M,EAAOD,QAAU,CACfq+B,QACAE,gBACAD,eAAgBurC,EAChBrrC,wBACAC,yB,kDCxDF,IAAIwpB,EAAa,EAAQ,QACrBzjD,EAAW,EAAQ,QACnBg/B,EAAM,EAAQ,QACd55B,EAAiB,EAAQ,QAAuChJ,EAChEsnD,EAAM,EAAQ,QACd+T,EAAW,EAAQ,QAEnB8N,EAAW7hB,EAAI,QACfrqB,EAAK,EAELm7B,EAAeh4D,OAAOg4D,cAAgB,WACxC,OAAO,GAGLgR,EAAc,SAAU7oE,GAC1ByI,EAAezI,EAAI4oE,EAAU,CAAElgE,MAAO,CACpCogE,SAAU,OAAQpsC,EAClBqsC,SAAU,OAIVC,EAAU,SAAUhpE,EAAI2lB,GAE1B,IAAKtiB,EAASrD,GAAK,MAAoB,iBAANA,EAAiBA,GAAmB,iBAANA,EAAiB,IAAM,KAAOA,EAC7F,IAAKqiC,EAAIriC,EAAI4oE,GAAW,CAEtB,IAAK/Q,EAAa73D,GAAK,MAAO,IAE9B,IAAK2lB,EAAQ,MAAO,IAEpBkjD,EAAY7oE,GAEZ,OAAOA,EAAG4oE,GAAUE,UAGpBG,EAAc,SAAUjpE,EAAI2lB,GAC9B,IAAK0c,EAAIriC,EAAI4oE,GAAW,CAEtB,IAAK/Q,EAAa73D,GAAK,OAAO,EAE9B,IAAK2lB,EAAQ,OAAO,EAEpBkjD,EAAY7oE,GAEZ,OAAOA,EAAG4oE,GAAUG,UAIpBhO,EAAW,SAAU/6D,GAEvB,OADI86D,GAAYoO,EAAKC,UAAYtR,EAAa73D,KAAQqiC,EAAIriC,EAAI4oE,IAAWC,EAAY7oE,GAC9EA,GAGLkpE,EAAOpqE,EAAOD,QAAU,CAC1BsqE,UAAU,EACVH,QAASA,EACTC,YAAaA,EACblO,SAAUA,GAGZjU,EAAW8hB,IAAY,G,qBC5DvB/pE,EAAUC,EAAOD,QAAU,EAAQ,QACnCA,EAAQE,OAASF,EACjBA,EAAQG,SAAWH,EACnBA,EAAQI,SAAW,EAAQ,QAC3BJ,EAAQK,OAAS,EAAQ,QACzBL,EAAQM,UAAY,EAAQ,QAC5BN,EAAQO,YAAc,EAAQ,QAC9BP,EAAQQ,SAAW,EAAQ,QAC3BR,EAAQS,SAAW,EAAQ,S,mCCR3B,YAEA,SAAS2N,EAAQqB,EAAKC,GACpB,IAAIyE,EAAQhS,KAERonE,EAAoBpnE,KAAK6L,gBAAkB7L,KAAK6L,eAAeN,UAC/D87D,EAAoBrnE,KAAK0P,gBAAkB1P,KAAK0P,eAAenE,UAEnE,OAAI67D,GAAqBC,GACnB95D,EACFA,EAAGD,GACMA,IACJtN,KAAK0P,eAEE1P,KAAK0P,eAAemF,eAC9B7U,KAAK0P,eAAemF,cAAe,EACnCvG,EAAQC,SAAS+4D,EAAatnE,KAAMsN,IAHpCgB,EAAQC,SAAS+4D,EAAatnE,KAAMsN,IAOjCtN,OAKLA,KAAK6L,iBACP7L,KAAK6L,eAAeN,WAAY,GAI9BvL,KAAK0P,iBACP1P,KAAK0P,eAAenE,WAAY,GAGlCvL,KAAKkM,SAASoB,GAAO,MAAM,SAAUA,IAC9BC,GAAMD,EACJ0E,EAAMtC,eAECsC,EAAMtC,eAAemF,aAI/BvG,EAAQC,SAASg5D,EAAav1D,IAH9BA,EAAMtC,eAAemF,cAAe,EACpCvG,EAAQC,SAASi5D,EAAqBx1D,EAAO1E,IAH7CgB,EAAQC,SAASi5D,EAAqBx1D,EAAO1E,GAOtCC,GACTe,EAAQC,SAASg5D,EAAav1D,GAC9BzE,EAAGD,IAEHgB,EAAQC,SAASg5D,EAAav1D,MAI3BhS,MAGT,SAASwnE,EAAoB14D,EAAMxB,GACjCg6D,EAAYx4D,EAAMxB,GAClBi6D,EAAYz4D,GAGd,SAASy4D,EAAYz4D,GACfA,EAAKY,iBAAmBZ,EAAKY,eAAerE,WAC5CyD,EAAKjD,iBAAmBiD,EAAKjD,eAAeR,WAChDyD,EAAKhC,KAAK,SAGZ,SAASO,IACHrN,KAAK6L,iBACP7L,KAAK6L,eAAeN,WAAY,EAChCvL,KAAK6L,eAAef,SAAU,EAC9B9K,KAAK6L,eAAejB,OAAQ,EAC5B5K,KAAK6L,eAAehB,YAAa,GAG/B7K,KAAK0P,iBACP1P,KAAK0P,eAAenE,WAAY,EAChCvL,KAAK0P,eAAe9E,OAAQ,EAC5B5K,KAAK0P,eAAesE,QAAS,EAC7BhU,KAAK0P,eAAeqE,aAAc,EAClC/T,KAAK0P,eAAekF,aAAc,EAClC5U,KAAK0P,eAAerR,UAAW,EAC/B2B,KAAK0P,eAAemF,cAAe,GAIvC,SAASyyD,EAAYx4D,EAAMxB,GACzBwB,EAAKhC,KAAK,QAASQ,GAGrB,SAAS7D,EAAeU,EAAQmD,GAM9B,IAAIoJ,EAASvM,EAAO0B,eAChB4D,EAAStF,EAAOuF,eAChBgH,GAAUA,EAAOpL,aAAemE,GAAUA,EAAOnE,YAAanB,EAAO8B,QAAQqB,GAAUnD,EAAO2C,KAAK,QAASQ,GAGlHxP,EAAOD,QAAU,CACfoO,QAASA,EACToB,UAAWA,EACX5D,eAAgBA,K,wDCrGlB,SAASm8D,EAAQzuD,EAAQ0uD,GAAkB,IAAIjgE,EAAO/G,OAAO+G,KAAKuR,GAAS,GAAItY,OAAO+pD,sBAAuB,CAAE,IAAIkd,EAAUjnE,OAAO+pD,sBAAsBzxC,GAAa0uD,IAAgBC,EAAUA,EAAQrvC,QAAO,SAAU+xB,GAAO,OAAO3pD,OAAO4oB,yBAAyBtQ,EAAQqxC,GAAKv7C,eAAgBrH,EAAKX,KAAK4M,MAAMjM,EAAMkgE,GAAY,OAAOlgE,EAE9U,SAASmgE,EAAcrsD,GAAU,IAAK,IAAIzV,EAAI,EAAGA,EAAI6N,UAAUvO,OAAQU,IAAK,CAAE,IAAIvB,EAAyB,MAAhBoP,UAAU7N,GAAa6N,UAAU7N,GAAK,GAAQA,EAAI,EAAK2hE,EAAQ/mE,OAAO6D,IAAS,GAAMkW,SAAQ,SAAUmV,GAAOD,EAAgBpU,EAAQqU,EAAKrrB,EAAOqrB,OAAsBlvB,OAAOmnE,0BAA6BnnE,OAAO8pD,iBAAiBjvC,EAAQ7a,OAAOmnE,0BAA0BtjE,IAAmBkjE,EAAQ/mE,OAAO6D,IAASkW,SAAQ,SAAUmV,GAAOlvB,OAAO4I,eAAeiS,EAAQqU,EAAKlvB,OAAO4oB,yBAAyB/kB,EAAQqrB,OAAe,OAAOrU,EAE7gB,SAASoU,EAAgBvrB,EAAKwrB,EAAKrmB,GAAiK,OAApJqmB,KAAOxrB,EAAO1D,OAAO4I,eAAelF,EAAKwrB,EAAK,CAAErmB,MAAOA,EAAOuF,YAAY,EAAM+gB,cAAc,EAAMhZ,UAAU,IAAkBzS,EAAIwrB,GAAOrmB,EAAgBnF,EAE3M,SAAS0jE,EAAgBxM,EAAUyM,GAAe,KAAMzM,aAAoByM,GAAgB,MAAM,IAAItjE,UAAU,qCAEhH,SAASujE,EAAkBzsD,EAAQukC,GAAS,IAAK,IAAIh6C,EAAI,EAAGA,EAAIg6C,EAAM16C,OAAQU,IAAK,CAAE,IAAIkkB,EAAa81B,EAAMh6C,GAAIkkB,EAAWlb,WAAakb,EAAWlb,aAAc,EAAOkb,EAAW6F,cAAe,EAAU,UAAW7F,IAAYA,EAAWnT,UAAW,GAAMnW,OAAO4I,eAAeiS,EAAQyO,EAAW4F,IAAK5F,IAE7S,SAASi+C,EAAaF,EAAaG,EAAYC,GAAmJ,OAAhID,GAAYF,EAAkBD,EAAYzjE,UAAW4jE,GAAiBC,GAAaH,EAAkBD,EAAaI,GAAqBJ,EAEzM,IAAIj9D,EAAW,EAAQ,QACnBf,EAASe,EAASf,OAElBq+D,EAAY,EAAQ,GACpB5T,EAAU4T,EAAU5T,QAEpB6T,EAAS7T,GAAWA,EAAQ6T,QAAU,UAE1C,SAASC,EAAW73D,EAAK8K,EAAQsP,GAC/B9gB,EAAOzF,UAAU6mB,KAAKnqB,KAAKyP,EAAK8K,EAAQsP,GAG1ClrB,EAAOD,QAEP,WACE,SAASkL,IACPk9D,EAAgBjmE,KAAM+I,GAEtB/I,KAAK2N,KAAO,KACZ3N,KAAK0mE,KAAO,KACZ1mE,KAAKuD,OAAS,EA8KhB,OA3KA6iE,EAAar9D,EAAY,CAAC,CACxBglB,IAAK,OACLrmB,MAAO,SAAcnB,GACnB,IAAIyM,EAAQ,CACVnF,KAAMtH,EACNuH,KAAM,MAEJ9N,KAAKuD,OAAS,EAAGvD,KAAK0mE,KAAK54D,KAAOkF,EAAWhT,KAAK2N,KAAOqF,EAC7DhT,KAAK0mE,KAAO1zD,IACVhT,KAAKuD,SAER,CACDwqB,IAAK,UACLrmB,MAAO,SAAiBnB,GACtB,IAAIyM,EAAQ,CACVnF,KAAMtH,EACNuH,KAAM9N,KAAK2N,MAEO,IAAhB3N,KAAKuD,SAAcvD,KAAK0mE,KAAO1zD,GACnChT,KAAK2N,KAAOqF,IACVhT,KAAKuD,SAER,CACDwqB,IAAK,QACLrmB,MAAO,WACL,GAAoB,IAAhB1H,KAAKuD,OAAT,CACA,IAAI6L,EAAMpP,KAAK2N,KAAKE,KAGpB,OAFoB,IAAhB7N,KAAKuD,OAAcvD,KAAK2N,KAAO3N,KAAK0mE,KAAO,KAAU1mE,KAAK2N,KAAO3N,KAAK2N,KAAKG,OAC7E9N,KAAKuD,OACA6L,KAER,CACD2e,IAAK,QACLrmB,MAAO,WACL1H,KAAK2N,KAAO3N,KAAK0mE,KAAO,KACxB1mE,KAAKuD,OAAS,IAEf,CACDwqB,IAAK,OACLrmB,MAAO,SAAc/B,GACnB,GAAoB,IAAhB3F,KAAKuD,OAAc,MAAO,GAC9B,IAAI6B,EAAIpF,KAAK2N,KACTyB,EAAM,GAAKhK,EAAEyI,KAEjB,MAAOzI,EAAIA,EAAE0I,KACXsB,GAAOzJ,EAAIP,EAAEyI,KAGf,OAAOuB,IAER,CACD2e,IAAK,SACLrmB,MAAO,SAAgBwG,GACrB,GAAoB,IAAhBlO,KAAKuD,OAAc,OAAO2E,EAAOyhB,MAAM,GAC3C,IAAIva,EAAMlH,EAAO4hB,YAAY5b,IAAM,GAC/B9I,EAAIpF,KAAK2N,KACT1J,EAAI,EAER,MAAOmB,EACLqhE,EAAWrhE,EAAEyI,KAAMuB,EAAKnL,GACxBA,GAAKmB,EAAEyI,KAAKtK,OACZ6B,EAAIA,EAAE0I,KAGR,OAAOsB,IAGR,CACD2e,IAAK,UACLrmB,MAAO,SAAiBwG,EAAGy4D,GACzB,IAAIv3D,EAcJ,OAZIlB,EAAIlO,KAAK2N,KAAKE,KAAKtK,QAErB6L,EAAMpP,KAAK2N,KAAKE,KAAK3O,MAAM,EAAGgP,GAC9BlO,KAAK2N,KAAKE,KAAO7N,KAAK2N,KAAKE,KAAK3O,MAAMgP,IAGtCkB,EAFSlB,IAAMlO,KAAK2N,KAAKE,KAAKtK,OAExBvD,KAAKyG,QAGLkgE,EAAa3mE,KAAK4mE,WAAW14D,GAAKlO,KAAK6mE,WAAW34D,GAGnDkB,IAER,CACD2e,IAAK,QACLrmB,MAAO,WACL,OAAO1H,KAAK2N,KAAKE,OAGlB,CACDkgB,IAAK,aACLrmB,MAAO,SAAoBwG,GACzB,IAAI9I,EAAIpF,KAAK2N,KACT8iB,EAAI,EACJrhB,EAAMhK,EAAEyI,KACZK,GAAKkB,EAAI7L,OAET,MAAO6B,EAAIA,EAAE0I,KAAM,CACjB,IAAI6E,EAAMvN,EAAEyI,KACRg0B,EAAK3zB,EAAIyE,EAAIpP,OAASoP,EAAIpP,OAAS2K,EAIvC,GAHI2zB,IAAOlvB,EAAIpP,OAAQ6L,GAAOuD,EAASvD,GAAOuD,EAAIzT,MAAM,EAAGgP,GAC3DA,GAAK2zB,EAEK,IAAN3zB,EAAS,CACP2zB,IAAOlvB,EAAIpP,UACXktB,EACErrB,EAAE0I,KAAM9N,KAAK2N,KAAOvI,EAAE0I,KAAU9N,KAAK2N,KAAO3N,KAAK0mE,KAAO,OAE5D1mE,KAAK2N,KAAOvI,EACZA,EAAEyI,KAAO8E,EAAIzT,MAAM2iC,IAGrB,QAGApR,EAIJ,OADAzwB,KAAKuD,QAAUktB,EACRrhB,IAGR,CACD2e,IAAK,aACLrmB,MAAO,SAAoBwG,GACzB,IAAIkB,EAAMlH,EAAO4hB,YAAY5b,GACzB9I,EAAIpF,KAAK2N,KACT8iB,EAAI,EACRrrB,EAAEyI,KAAKyb,KAAKla,GACZlB,GAAK9I,EAAEyI,KAAKtK,OAEZ,MAAO6B,EAAIA,EAAE0I,KAAM,CACjB,IAAIoR,EAAM9Z,EAAEyI,KACRg0B,EAAK3zB,EAAIgR,EAAI3b,OAAS2b,EAAI3b,OAAS2K,EAIvC,GAHAgR,EAAIoK,KAAKla,EAAKA,EAAI7L,OAAS2K,EAAG,EAAG2zB,GACjC3zB,GAAK2zB,EAEK,IAAN3zB,EAAS,CACP2zB,IAAO3iB,EAAI3b,UACXktB,EACErrB,EAAE0I,KAAM9N,KAAK2N,KAAOvI,EAAE0I,KAAU9N,KAAK2N,KAAO3N,KAAK0mE,KAAO,OAE5D1mE,KAAK2N,KAAOvI,EACZA,EAAEyI,KAAOqR,EAAIhgB,MAAM2iC,IAGrB,QAGApR,EAIJ,OADAzwB,KAAKuD,QAAUktB,EACRrhB,IAGR,CACD2e,IAAKy4C,EACL9+D,MAAO,SAAesP,EAAG9M,GACvB,OAAOyoD,EAAQ3yD,KAAM+lE,EAAc,GAAI77D,EAAS,CAE9CkqC,MAAO,EAEP0yB,eAAe,SAKd/9D,EApLT,I,mCC5BA,cAqCA,SAASgK,EAAcxG,GACrB,IAAIyF,EAAQhS,KAEZA,KAAK8N,KAAO,KACZ9N,KAAKgT,MAAQ,KAEbhT,KAAKiT,OAAS,WACZC,EAAelB,EAAOzF,IAQ1B,IAAIrO,EA3BJJ,EAAOD,QAAUI,EA8BjBA,EAASkV,cAAgBA,EAGzB,IAAIC,EAAe,CACjBC,UAAW,EAAQ,SAMjBtV,EAAS,EAAQ,QAIjBmK,EAAS,EAAQ,QAAUA,OAE3BC,EAAgBC,EAAOC,YAAc,aAEzC,SAASC,EAAoBC,GAC3B,OAAOL,EAAOM,KAAKD,GAGrB,SAASE,EAAclG,GACrB,OAAO2F,EAAOQ,SAASnG,IAAQA,aAAe4F,EAGhD,IAkIImL,EAlIAtK,EAAc,EAAQ,QAEtBC,EAAW,EAAQ,QACnBC,EAAmBD,EAASC,iBAE5BC,EAAiB,EAAQ,QAAaC,MACtCC,EAAuBF,EAAeE,qBACtCE,EAA6BJ,EAAeI,2BAC5CgK,EAAwBpK,EAAeoK,sBACvCC,EAAyBrK,EAAeqK,uBACxCC,EAAuBtK,EAAesK,qBACtCC,EAAyBvK,EAAeuK,uBACxCC,EAA6BxK,EAAewK,2BAC5CC,EAAuBzK,EAAeyK,qBAEtCnK,EAAiBT,EAAYS,eAIjC,SAASoK,KAET,SAASV,EAAcjJ,EAASC,EAAQC,GACtClM,EAASA,GAAU,EAAQ,QAC3BgM,EAAUA,GAAW,GAMG,mBAAbE,IAAwBA,EAAWD,aAAkBjM,GAGhE8B,KAAKqK,aAAeH,EAAQG,WACxBD,IAAUpK,KAAKqK,WAAarK,KAAKqK,cAAgBH,EAAQ4J,oBAI7D9T,KAAKuK,cAAgBrB,EAAiBlJ,KAAMkK,EAAS,wBAAyBE,GAE9EpK,KAAK+T,aAAc,EAEnB/T,KAAKqR,WAAY,EAEjBrR,KAAKgU,QAAS,EAEdhU,KAAK4K,OAAQ,EAEb5K,KAAK3B,UAAW,EAEhB2B,KAAKuL,WAAY,EAIjB,IAAI0I,GAAqC,IAA1B/J,EAAQgK,cACvBlU,KAAKkU,eAAiBD,EAItBjU,KAAKwL,gBAAkBtB,EAAQsB,iBAAmB,OAIlDxL,KAAKuD,OAAS,EAEdvD,KAAKmU,SAAU,EAEfnU,KAAKoU,OAAS,EAKdpU,KAAK+K,MAAO,EAIZ/K,KAAKqU,kBAAmB,EAExBrU,KAAKsU,QAAU,SAAUhI,GACvBgI,EAAQnK,EAAQmC,IAIlBtM,KAAKuU,QAAU,KAEfvU,KAAKwU,SAAW,EAChBxU,KAAKyU,gBAAkB,KACvBzU,KAAK0U,oBAAsB,KAG3B1U,KAAK2U,UAAY,EAGjB3U,KAAK4U,aAAc,EAEnB5U,KAAK6U,cAAe,EAEpB7U,KAAKqL,WAAkC,IAAtBnB,EAAQmB,UAEzBrL,KAAKsL,cAAgBpB,EAAQoB,YAE7BtL,KAAK8U,qBAAuB,EAG5B9U,KAAK+U,mBAAqB,IAAIhC,EAAc/S,MA4C9C,SAAS/B,EAASiM,GAChBhM,EAASA,GAAU,EAAQ,QAS3B,IAAIkM,EAAWpK,gBAAgB9B,EAC/B,IAAKkM,IAAakJ,EAAgBnU,KAAKlB,EAAU+B,MAAO,OAAO,IAAI/B,EAASiM,GAC5ElK,KAAK0P,eAAiB,IAAIyD,EAAcjJ,EAASlK,KAAMoK,GAEvDpK,KAAKgV,UAAW,EAEZ9K,IAC2B,oBAAlBA,EAAQ0C,QAAsB5M,KAAKiV,OAAS/K,EAAQ0C,OACjC,oBAAnB1C,EAAQgL,SAAuBlV,KAAKmV,QAAUjL,EAAQgL,QAClC,oBAApBhL,EAAQ+B,UAAwBjM,KAAKkM,SAAWhC,EAAQ+B,SACtC,oBAAlB/B,EAAQkL,QAAsBpV,KAAKqV,OAASnL,EAAQkL,QAGjErX,EAAOoB,KAAKa,MAQd,SAASsV,EAAcnL,EAAQoD,GAC7B,IAAIjB,EAAK,IAAIqH,EAEblK,EAAeU,EAAQmC,GACvBgC,EAAQC,SAAShB,EAAIjB,GAMvB,SAASiJ,EAAWpL,EAAQoC,EAAOhE,EAAOgF,GACxC,IAAIjB,EAQJ,OANc,OAAV/D,EACF+D,EAAK,IAAIoH,EACiB,kBAAVnL,GAAuBgE,EAAMlC,aAC7CiC,EAAK,IAAIjD,EAAqB,QAAS,CAAC,SAAU,UAAWd,KAG3D+D,IACF7C,EAAeU,EAAQmC,GACvBgC,EAAQC,SAAShB,EAAIjB,IACd,GA6DX,SAASkJ,EAAYjJ,EAAOhE,EAAOqD,GAKjC,OAJKW,EAAMlC,aAAsC,IAAxBkC,EAAM2H,eAA4C,kBAAV3L,IAC/DA,EAAQL,EAAOM,KAAKD,EAAOqD,IAGtBrD,EAeT,SAASkN,EAActL,EAAQoC,EAAOmJ,EAAOnN,EAAOqD,EAAU2B,GAC5D,IAAKmI,EAAO,CACV,IAAIC,EAAWH,EAAYjJ,EAAOhE,EAAOqD,GAErCrD,IAAUoN,IACZD,GAAQ,EACR9J,EAAW,SACXrD,EAAQoN,GAIZ,IAAIjH,EAAMnC,EAAMlC,WAAa,EAAI9B,EAAMhF,OACvCgJ,EAAMhJ,QAAUmL,EAChB,IAAIU,EAAM7C,EAAMhJ,OAASgJ,EAAMhC,cAI/B,GAFK6E,IAAK7C,EAAM8E,WAAY,GAExB9E,EAAM4H,SAAW5H,EAAM6H,OAAQ,CACjC,IAAIhN,EAAOmF,EAAMmI,oBACjBnI,EAAMmI,oBAAsB,CAC1BnM,MAAOA,EACPqD,SAAUA,EACV8J,MAAOA,EACPE,SAAUrI,EACVO,KAAM,MAGJ1G,EACFA,EAAK0G,KAAOvB,EAAMmI,oBAElBnI,EAAMkI,gBAAkBlI,EAAMmI,oBAGhCnI,EAAMuI,sBAAwB,OAE9Be,EAAQ1L,EAAQoC,GAAO,EAAOmC,EAAKnG,EAAOqD,EAAU2B,GAGtD,OAAO6B,EAGT,SAASyG,EAAQ1L,EAAQoC,EAAO2I,EAAQxG,EAAKnG,EAAOqD,EAAU2B,GAC5DhB,EAAMiI,SAAW9F,EACjBnC,EAAMgI,QAAUhH,EAChBhB,EAAM4H,SAAU,EAChB5H,EAAMxB,MAAO,EACTwB,EAAMhB,UAAWgB,EAAM+H,QAAQ,IAAIb,EAAqB,UAAmByB,EAAQ/K,EAAOgL,QAAQ5M,EAAOgE,EAAM+H,SAAcnK,EAAO8K,OAAO1M,EAAOqD,EAAUW,EAAM+H,SACtK/H,EAAMxB,MAAO,EAGf,SAAS+K,EAAa3L,EAAQoC,EAAOxB,EAAMuB,EAAIiB,KAC3ChB,EAAMoI,UAEJ5J,GAGFuD,EAAQC,SAAShB,EAAIjB,GAGrBgC,EAAQC,SAASwH,EAAa5L,EAAQoC,GACtCpC,EAAOuF,eAAemF,cAAe,EACrCpL,EAAeU,EAAQmC,KAIvBiB,EAAGjB,GACHnC,EAAOuF,eAAemF,cAAe,EACrCpL,EAAeU,EAAQmC,GAGvByJ,EAAY5L,EAAQoC,IAIxB,SAASyJ,EAAmBzJ,GAC1BA,EAAM4H,SAAU,EAChB5H,EAAMgI,QAAU,KAChBhI,EAAMhJ,QAAUgJ,EAAMiI,SACtBjI,EAAMiI,SAAW,EAGnB,SAASF,EAAQnK,EAAQmC,GACvB,IAAIC,EAAQpC,EAAOuF,eACf3E,EAAOwB,EAAMxB,KACbwC,EAAKhB,EAAMgI,QACf,GAAkB,oBAAPhH,EAAmB,MAAM,IAAIgG,EAExC,GADAyC,EAAmBzJ,GACfD,EAAIwJ,EAAa3L,EAAQoC,EAAOxB,EAAMuB,EAAIiB,OAAS,CAErD,IAAIlP,EAAW4X,EAAW1J,IAAUpC,EAAOoB,UAEtClN,GAAakO,EAAM6H,QAAW7H,EAAM8H,mBAAoB9H,EAAMkI,iBACjEyB,EAAY/L,EAAQoC,GAGlBxB,EACFuD,EAAQC,SAAS4H,EAAYhM,EAAQoC,EAAOlO,EAAUkP,GAEtD4I,EAAWhM,EAAQoC,EAAOlO,EAAUkP,IAK1C,SAAS4I,EAAWhM,EAAQoC,EAAOlO,EAAUkP,GACtClP,GAAU+X,EAAajM,EAAQoC,GACpCA,EAAMoI,YACNpH,IACAwI,EAAY5L,EAAQoC,GAMtB,SAAS6J,EAAajM,EAAQoC,GACP,IAAjBA,EAAMhJ,QAAgBgJ,EAAM8E,YAC9B9E,EAAM8E,WAAY,EAClBlH,EAAO2C,KAAK,UAKhB,SAASoJ,EAAY/L,EAAQoC,GAC3BA,EAAM8H,kBAAmB,EACzB,IAAIrB,EAAQzG,EAAMkI,gBAElB,GAAItK,EAAOgL,SAAWnC,GAASA,EAAMlF,KAAM,CAEzC,IAAItJ,EAAI+H,EAAMuI,qBACVtK,EAAS,IAAIT,MAAMvF,GACnB6R,EAAS9J,EAAMwI,mBACnBsB,EAAOrD,MAAQA,EACf,IAAIN,EAAQ,EACR4D,GAAa,EAEjB,MAAOtD,EACLxI,EAAOkI,GAASM,EACXA,EAAM0C,QAAOY,GAAa,GAC/BtD,EAAQA,EAAMlF,KACd4E,GAAS,EAGXlI,EAAO8L,WAAaA,EACpBT,EAAQ1L,EAAQoC,GAAO,EAAMA,EAAMhJ,OAAQiH,EAAQ,GAAI6L,EAAOpD,QAG9D1G,EAAMoI,YACNpI,EAAMmI,oBAAsB,KAExB2B,EAAOvI,MACTvB,EAAMwI,mBAAqBsB,EAAOvI,KAClCuI,EAAOvI,KAAO,MAEdvB,EAAMwI,mBAAqB,IAAIhC,EAAcxG,GAG/CA,EAAMuI,qBAAuB,MACxB,CAEL,MAAO9B,EAAO,CACZ,IAAIzK,EAAQyK,EAAMzK,MACdqD,EAAWoH,EAAMpH,SACjB2B,EAAKyF,EAAM4C,SACXlH,EAAMnC,EAAMlC,WAAa,EAAI9B,EAAMhF,OAQvC,GAPAsS,EAAQ1L,EAAQoC,GAAO,EAAOmC,EAAKnG,EAAOqD,EAAU2B,GACpDyF,EAAQA,EAAMlF,KACdvB,EAAMuI,uBAKFvI,EAAM4H,QACR,MAIU,OAAVnB,IAAgBzG,EAAMmI,oBAAsB,MAGlDnI,EAAMkI,gBAAkBzB,EACxBzG,EAAM8H,kBAAmB,EA2C3B,SAAS4B,EAAW1J,GAClB,OAAOA,EAAMyH,QAA2B,IAAjBzH,EAAMhJ,QAA0C,OAA1BgJ,EAAMkI,kBAA6BlI,EAAMlO,WAAakO,EAAM4H,QAG3G,SAASoC,EAAUpM,EAAQoC,GACzBpC,EAAOkL,QAAO,SAAU/H,GACtBf,EAAMoI,YAEFrH,GACF7D,EAAeU,EAAQmD,GAGzBf,EAAMqI,aAAc,EACpBzK,EAAO2C,KAAK,aACZiJ,EAAY5L,EAAQoC,MAIxB,SAASiK,EAAUrM,EAAQoC,GACpBA,EAAMqI,aAAgBrI,EAAMwH,cACF,oBAAlB5J,EAAOkL,QAA0B9I,EAAMhB,WAKhDgB,EAAMqI,aAAc,EACpBzK,EAAO2C,KAAK,eALZP,EAAMoI,YACNpI,EAAMwH,aAAc,EACpBzF,EAAQC,SAASgI,EAAWpM,EAAQoC,KAQ1C,SAASwJ,EAAY5L,EAAQoC,GAC3B,IAAIkK,EAAOR,EAAW1J,GAEtB,GAAIkK,IACFD,EAAUrM,EAAQoC,GAEM,IAApBA,EAAMoI,YACRpI,EAAMlO,UAAW,EACjB8L,EAAO2C,KAAK,UAERP,EAAMjB,cAAa,CAGrB,IAAIoL,EAASvM,EAAO0B,iBAEf6K,GAAUA,EAAOpL,aAAeoL,EAAO7L,aAC1CV,EAAO8B,UAMf,OAAOwK,EAGT,SAASE,EAAYxM,EAAQoC,EAAOgB,GAClChB,EAAMyH,QAAS,EACf+B,EAAY5L,EAAQoC,GAEhBgB,IACEhB,EAAMlO,SAAUiQ,EAAQC,SAAShB,GAASpD,EAAO0G,KAAK,SAAUtD,IAGtEhB,EAAM3B,OAAQ,EACdT,EAAO6K,UAAW,EAGpB,SAAS9B,EAAe0D,EAASrK,EAAOe,GACtC,IAAI0F,EAAQ4D,EAAQ5D,MACpB4D,EAAQ5D,MAAQ,KAEhB,MAAOA,EAAO,CACZ,IAAIzF,EAAKyF,EAAM4C,SACfrJ,EAAMoI,YACNpH,EAAGD,GACH0F,EAAQA,EAAMlF,KAIhBvB,EAAMwI,mBAAmBjH,KAAO8I,EAtjBlC,EAAQ,OAAR,CAAoB3Y,EAAUF,GAyF9BoV,EAAc1Q,UAAUoU,UAAY,WAClC,IAAIC,EAAU9W,KAAKyU,gBACfsC,EAAM,GAEV,MAAOD,EACLC,EAAI9R,KAAK6R,GACTA,EAAUA,EAAQhJ,KAGpB,OAAOiJ,GAGT,WACE,IACElY,OAAO4I,eAAe0L,EAAc1Q,UAAW,SAAU,CACvDyK,IAAKkG,EAAaC,WAAU,WAC1B,OAAOrT,KAAK6W,cACX,6EAAmF,aAExF,MAAOG,KAPX,GAcsB,oBAAX7E,QAAyBA,OAAO8E,aAAiE,oBAA3CC,SAASzU,UAAU0P,OAAO8E,cACzF3D,EAAkB4D,SAASzU,UAAU0P,OAAO8E,aAC5CpY,OAAO4I,eAAexJ,EAAUkU,OAAO8E,YAAa,CAClDvP,MAAO,SAAeyP,GACpB,QAAI7D,EAAgBnU,KAAKa,KAAMmX,IAC3BnX,OAAS/B,IACNkZ,GAAUA,EAAOzH,0BAA0ByD,OAItDG,EAAkB,SAAyB6D,GACzC,OAAOA,aAAkBnX,MA+B7B/B,EAASwE,UAAUuN,KAAO,WACxBvG,EAAezJ,KAAM,IAAIwT,IA+B3BvV,EAASwE,UAAUmK,MAAQ,SAAUrE,EAAOqD,EAAU2B,GACpD,IAAIhB,EAAQvM,KAAK0P,eACbN,GAAM,EAENsG,GAASnJ,EAAMlC,YAAc5B,EAAcF,GAiB/C,OAfImN,IAAUxN,EAAOQ,SAASH,KAC5BA,EAAQD,EAAoBC,IAGN,oBAAbqD,IACT2B,EAAK3B,EACLA,EAAW,MAGT8J,EAAO9J,EAAW,SAAmBA,IAAUA,EAAWW,EAAMf,iBAClD,oBAAP+B,IAAmBA,EAAKsG,GAC/BtH,EAAMyH,OAAQsB,EAActV,KAAMuN,IAAamI,GAASH,EAAWvV,KAAMuM,EAAOhE,EAAOgF,MACzFhB,EAAMoI,YACNvF,EAAMqG,EAAczV,KAAMuM,EAAOmJ,EAAOnN,EAAOqD,EAAU2B,IAEpD6B,GAGTnR,EAASwE,UAAU2U,KAAO,WACxBpX,KAAK0P,eAAe0E,UAGtBnW,EAASwE,UAAU4U,OAAS,WAC1B,IAAI9K,EAAQvM,KAAK0P,eAEbnD,EAAM6H,SACR7H,EAAM6H,SACD7H,EAAM4H,SAAY5H,EAAM6H,QAAW7H,EAAM8H,mBAAoB9H,EAAMkI,iBAAiByB,EAAYlW,KAAMuM,KAI/GtO,EAASwE,UAAU6U,mBAAqB,SAA4B1L,GAGlE,GADwB,kBAAbA,IAAuBA,EAAWA,EAAS/H,iBAChD,CAAC,MAAO,OAAQ,QAAS,QAAS,SAAU,SAAU,OAAQ,QAAS,UAAW,WAAY,OAAOf,SAAS8I,EAAW,IAAI/H,gBAAkB,GAAI,MAAM,IAAI+P,EAAqBhI,GAExL,OADA5L,KAAK0P,eAAelE,gBAAkBI,EAC/B5L,MAGTnB,OAAO4I,eAAexJ,EAASwE,UAAW,iBAAkB,CAI1DwK,YAAY,EACZC,IAAK,WACH,OAAOlN,KAAK0P,gBAAkB1P,KAAK0P,eAAemH,eAYtDhY,OAAO4I,eAAexJ,EAASwE,UAAW,wBAAyB,CAIjEwK,YAAY,EACZC,IAAK,WACH,OAAOlN,KAAK0P,eAAenF,iBA4L/BtM,EAASwE,UAAUwS,OAAS,SAAU1M,EAAOqD,EAAU2B,GACrDA,EAAG,IAAIhE,EAA2B,cAGpCtL,EAASwE,UAAU0S,QAAU,KAE7BlX,EAASwE,UAAU2L,IAAM,SAAU7F,EAAOqD,EAAU2B,GAClD,IAAIhB,EAAQvM,KAAK0P,eAoBjB,MAlBqB,oBAAVnH,GACTgF,EAAKhF,EACLA,EAAQ,KACRqD,EAAW,MACkB,oBAAbA,IAChB2B,EAAK3B,EACLA,EAAW,MAGC,OAAVrD,QAA4ByE,IAAVzE,GAAqBvI,KAAK4M,MAAMrE,EAAOqD,GAEzDW,EAAM6H,SACR7H,EAAM6H,OAAS,EACfpU,KAAKqX,UAIF9K,EAAMyH,QAAQ2C,EAAY3W,KAAMuM,EAAOgB,GACrCvN,MAGTnB,OAAO4I,eAAexJ,EAASwE,UAAW,iBAAkB,CAI1DwK,YAAY,EACZC,IAAK,WACH,OAAOlN,KAAK0P,eAAenM,UAuF/B1E,OAAO4I,eAAexJ,EAASwE,UAAW,YAAa,CAIrDwK,YAAY,EACZC,IAAK,WACH,YAA4BF,IAAxBhN,KAAK0P,gBAIF1P,KAAK0P,eAAenE,WAE7B4B,IAAK,SAAazF,GAGX1H,KAAK0P,iBAMV1P,KAAK0P,eAAenE,UAAY7D,MAGpCzJ,EAASwE,UAAUwJ,QAAUjD,EAAYiD,QACzChO,EAASwE,UAAU2K,WAAapE,EAAYqE,UAE5CpP,EAASwE,UAAUyJ,SAAW,SAAUoB,EAAKC,GAC3CA,EAAGD,M,mDCrrBL,SAAS7G,EAAO0D,GACd,IAAImpB,EAAKnpB,EAAO0B,eAChB,OAAKynB,EACGA,EAAGjpB,YAA6C,kBAAxBF,EAAOi+D,aAA6Bj+D,EAAO4B,OAAS5B,EAAO4B,KAAKs8D,EAAe/0C,IAD/F,KAIlB,SAAS+0C,EAAgB97D,GACvB,OAAIA,EAAM/B,OAAOjH,OAEXgJ,EAAM/B,OAAOmD,KACRpB,EAAM/B,OAAOmD,KAAKE,KAAKtK,OAGzBgJ,EAAM/B,OAAO,GAAGjH,OAGlBgJ,EAAMhJ,OAlBfzF,EAAOD,QAAU4I,G,kCCCjB5H,OAAO4I,eAAe5J,EAAS,aAAc,CAAE6J,OAAO,IACtD7J,EAAQyqE,aAAU,EAClB,IAAIC,EAAS,EAAQ,QACjBh8C,EAAS,EAAQ,QACjBi8C,EAAK,EAAQ,QACbC,EAAW,EAAQ,QACnBC,EAAqB,EAAQ,QAC7BC,EAAc,EAAQ,QACtBC,EAAqB,EAAQ,QAC7BC,EAAS,EAAQ,QACjBC,EAAgB,EAAQ,QACxBR,EAAyB,WACzB,SAASA,EAAQ3rD,GACb,IAAI3K,EAAQhS,KAEZA,KAAKwkC,UAAY,SAAUzW,GAAO,OAAO/b,EAAMykD,OAAO1oC,IAEtD/tB,KAAKukC,UAAY,SAAUxW,EAAKrmB,GAC5BsK,EAAMykD,OAAO1oC,GAAOrmB,GAMxB1H,KAAK+oE,gBAAkB,SAAU7mE,GAC7B,OAAO8P,EAAMotC,KAAK7yB,EAAOy8C,WAAW,CAAC,CAAExuC,KAAM,mBAAoBvT,KAAM,CAAE/kB,IAAKA,QAMlFlC,KAAKipE,eAAiB,SAAUC,GAC5B,OAAOl3D,EAAMotC,KAAK7yB,EAAOy8C,WAAW,CAAC,CAC7BxuC,KAAM,kBACNvT,KAAM,CAAEkiD,QAASD,QAI7BlpE,KAAKopE,eAAiB,SAAUF,GAC5B,OAAOl3D,EAAMotC,KAAK7yB,EAAOy8C,WAAW,CAAC,CAC7BxuC,KAAM,kBACNvT,KAAM,CACFkiD,QAASD,QAQzBlpE,KAAKqpE,0BAA4B,WAC7B,OAAOr3D,EAAMotC,KAAK7yB,EAAOy8C,WAAW,CAAC,CAC7BxuC,KAAM,+BACNvT,KAAM,QAOlBjnB,KAAKspE,SAAW,WACZ,OAAOt3D,EAAMotC,KAAK7yB,EAAOy8C,WAAW,CAAC,CAAExuC,KAAM,YAAavT,KAAM,QAGpEjnB,KAAKupE,OAAS,WACV,OAAOv3D,EAAMotC,KAAK7yB,EAAOy8C,WAAW,CAChC,CAAExuC,KAAM,SAAUvT,KAAM,CAAEkiD,QAAS,mBAI3CnpE,KAAKwpE,eAAiB,WAClB,OAAOx3D,EAAMotC,KAAK7yB,EAAOy8C,WAAW,CAChC,CAAExuC,KAAM,SAAUvT,KAAM,CAAEkiD,QAAS,yBAK3CnpE,KAAKypE,aAAe,WAChB,OAAOz3D,EAAMotC,KAAK7yB,EAAOy8C,WAAW,CAChC,CAAExuC,KAAM,gBAAiBvT,KAAM,CAAEkiD,QAAS,mBAKlDnpE,KAAK0pE,QAAU,WACX,OAAO13D,EAAM4qB,QAAQrQ,EAAOy8C,WAAW,CACnC,CAAExuC,KAAM,gBAAiBvT,KAAM,CAAEkiD,QAAS,mBAIlDnpE,KAAK2pE,SAAW,WACZ,OAAO33D,EAAMotC,KAAK7yB,EAAOy8C,WAAW,CAChC,CAAExuC,KAAM,gBAAiBvT,KAAM,CAAEkiD,QAAS,yBAGlDnpE,KAAK4pE,cAAgB,SAErBC,GACI,OAAO73D,EAAMotC,KAAK7yB,EAAOy8C,WAAW,CAAC,CAC7BxuC,KAAM,iBACNvT,KAAM,CACFkiD,QAASU,QAQzB7pE,KAAK8pE,cAAgB,WACjB,IAAIluC,EAAO,CAAC,CAAEpB,KAAM,iBAAkBvT,KAAM,KACxC8iD,EAAMx9C,EAAOy8C,WAAWptC,EAAMktC,EAAckB,SAASC,SACzD,OAAOj4D,EAAMotC,KAAK2qB,IAGtB/pE,KAAKkqE,gBAAkB,WACnB,IAAItuC,EAAO,CAAC,CAAEpB,KAAM,mBAAoBvT,KAAM,KAC1C8iD,EAAMx9C,EAAOy8C,WAAWptC,EAAMktC,EAAckB,SAASC,SACzD,OAAOj4D,EAAMotC,KAAK2qB,IAGtB/pE,KAAKmqE,aAAe,SAAUC,EAAaxuC,GAEvC,YADa,IAATA,IAAmBA,EAAO,IACvB5pB,EAAMotC,KAAK7yB,EAAOy8C,WAAW,CAChC,CAAExuC,KAAM,UAAWvT,KAAM,CAAEmjD,YAAaA,GAAexuC,KAAMA,OAIrE57B,KAAKqqE,WAAa,SAElB3vC,EAEA4vC,GACI,OAAOt4D,EAAMotC,KAAK7yB,EAAOy8C,WAAW,CAChC,CAAExuC,KAAM,iBAAkBvT,KAAM,CAAEyT,MAAOA,GAASkB,KAAM0uC,OAIhEtqE,KAAKuqE,KAAO,SAAUtjD,GAClB,OAAOjV,EAAMotC,KAAK7yB,EAAOy8C,WAAW,CAAC,CAAExuC,KAAM,OAAQvT,KAAMA,OAK/DjnB,KAAKwqE,SAAW,SAAUvjD,GACtB,OAAOjV,EAAMotC,KAAK7yB,EAAOy8C,WAAW,CAAC,CAAExuC,KAAM,YAAavT,KAAMA,OAGpEjnB,KAAKyqE,aAAe,SAAUxjD,GAC1B,IAAIrX,EAAIqX,EAAKrX,EAAG8H,EAAIuP,EAAKvP,EAAGgtB,EAAIzd,EAAKyd,EACjCjY,EAAQxF,EAAKwF,OAASg8C,EAASn8C,gBAAgBG,MACnD,OAAOza,EAAMotC,KAAK7yB,EAAOy8C,WAAW,CAChC,CACIxuC,KAAM,gBACNvT,KAAM,CACFyjD,SAAUn+C,EAAOo+C,WAAW/6D,EAAG8H,EAAGgtB,GAClC1b,OAAQuD,EAAOo+C,WAAW,EAAG,EAAG,GAChCl+C,MAAOA,QAMvBzsB,KAAKykC,aAAe,SAAUxd,GAC1B,IAAIrX,EAAIqX,EAAKrX,EAAG8H,EAAIuP,EAAKvP,EAAGgtB,EAAIzd,EAAKyd,EACjCjY,EAAQxF,EAAKwF,OAASg8C,EAASn8C,gBAAgBG,MACnD,OAAOza,EAAMotC,KAAK7yB,EAAOy8C,WAAW,CAChC,CAAExuC,KAAM,gBAAiBvT,KAAM,CAAErX,EAAGA,EAAG8H,EAAGA,EAAGgtB,EAAGA,EAAGjY,MAAOA,QAIlEzsB,KAAK4qE,SAAW,SAAU3jD,GACtB,OAAOjV,EAAMotC,KAAK7yB,EAAOy8C,WAAW,CAAC,CAAExuC,KAAM,YAAavT,KAAMA,OAIpEjnB,KAAK6qE,QAAU,SAAU5jD,GACrB,OAAOjV,EAAMotC,KAAK7yB,EAAOy8C,WAAW,CAAC,CAAExuC,KAAM,WAAYvT,KAAMA,OAGnEjnB,KAAK8qE,UAAY,SAAU7jD,GACvB,OAAOjV,EAAMotC,KAAK7yB,EAAOy8C,WAAW,CAAC,CAAExuC,KAAM,aAAcvT,KAAMA,OAKrEjnB,KAAK+qE,WAAa,SAAU9jD,GAExB,YADa,IAATA,IAAmBA,EAAO,IACvBjV,EAAMotC,KAAK7yB,EAAOy8C,WAAW,CAAC,CAAExuC,KAAM,cAAevT,KAAMA,OAGtEjnB,KAAKgrE,UAAY,SAAU/jD,GAEvB,YADa,IAATA,IAAmBA,EAAO,IACvBjV,EAAMotC,KAAK7yB,EAAOy8C,WAAW,CAAC,CAAExuC,KAAM,aAAcvT,KAAMA,OAIrEjnB,KAAK+K,KAAO,SAAUkc,GAElB,YADa,IAATA,IAAmBA,EAAO,IACvBjV,EAAMotC,KAAK7yB,EAAOy8C,WAAW,CAAC,CAAExuC,KAAM,OAAQvT,KAAMA,OAO/DjnB,KAAKirE,QAAU,SAAUC,GACrB,OAAOl5D,EAAMotC,KAAK7yB,EAAOy8C,WAAW,CAAC,CAC7BxuC,KAAM,OACNvT,KAAM,CAAEikD,KAAMA,QAO1BlrE,KAAKmrE,WAAa,SAAUC,GACxB,IAAIxvC,EAAO/8B,OACN+G,KAAKwlE,GACL/vD,KAAI,SAAUqf,GACf,MAAO,CACHF,KAAM,OACNvT,KAAM,CAAEyT,MAAOA,EAAOhzB,MAAQ0jE,EAAQ1wC,IAAUiuC,EAAYh3C,KAAK05C,UAGzE,OAAOr5D,EAAMotC,KAAK7yB,EAAOy8C,WAAW,CAAC,CAAExuC,KAAM,eAAgBvT,KAAM,GAAI2U,KAAMA,OAEjF57B,KAAKsrE,YAAc,SAAUC,EAAc75C,EAAS85C,QAC/B,IAAbA,IAAuBA,EAAW,IACtCx5D,EAAMotC,KAAK7yB,EAAOy8C,WAAW,CAAC,CACtBxuC,KAAM,eACNvT,KAAM,CACFskD,aAAcA,EACd75C,QAASA,GAEbkK,KAAM4vC,EAASnwD,KAAI,SAAUowD,GAAgB,MAAO,CAChDjxC,KAAM,UACNvT,KAAM,CACFwkD,aAAcA,YAMlCzrE,KAAK0rE,cAAgB,SAAUzkD,GAC3B,IAAIjhB,EAASgM,EAAMotC,KAAK7yB,EAAOy8C,WAAW,CAAC,CAAExuC,KAAM,kBAAmBvT,KAAMA,MAI5E,IAAK,CAAC,EAAG,EAAG,EAAG,IAAIo9B,SAASp9B,EAAK0kD,YAC7B,MAAM,IAAIlzD,MAAM,oCAEpB,GAAIwO,EAAK2kD,UAAY,KAAO3kD,EAAK2kD,UAAY,EACzC,MAAM,IAAInzD,MAAM,sCAEpB,OAAOzS,GAMXhG,KAAK6rE,UAAY,SAAU5kD,GACvB,OAAOjV,EAAMotC,KAAK7yB,EAAOy8C,WAAW,CAAC,CAAExuC,KAAM,YAAavT,KAAMA,OAEpEjnB,KAAK8rE,IAAM,SAAUA,GACjB,OAAO95D,EAAMotC,KAAK7yB,EAAOy8C,WAAW,CAChC,CAAExuC,KAAM,MAAOvT,KAAM,CAAE6kD,IAAKA,QAOpC9rE,KAAK4J,MAAQ,SAAUwO,GAEnB,OADApG,EAAMlI,QAAQsO,GAAQpG,EAAMlI,QAAQsO,IAAS,GACtCpG,EAAMlI,QAAQsO,IAEzBpY,KAAKiK,GAAK,SAAUL,EAAOlC,EAAOmJ,QACjB,IAATA,IAAmBA,GAAO,GAC9BmB,EAAMpI,MAAMA,GAAO3E,KAAK,CAAEyC,MAAOA,EAAOmJ,KAAMA,EAAMjH,MAAOA,KAE/D5J,KAAK8M,KAAO,SAAUlD,EAAOiE,GACzB,IAAIk+D,EAAY,GAChB/5D,EAAMpI,MAAMA,GACPrI,OAAOyQ,EAAMpI,MAAM,MACnBgP,SAAQ,SAAUozD,GACnB,IACIA,EAAQtkE,MAAMmG,EAAMjE,GACfoiE,EAAQn7D,MAAQm7D,EAAQpiE,QAAUA,GACnCmiE,EAAU9mE,KAAK+mE,GAGvB,MAAOl/C,GACH,IAAIyW,EAAM,oCAAsC35B,EAAQ,WACxDmjB,QAAQC,KAAKuW,GACbxW,QAAQ0I,IAAI3I,OAGK,IAArBi/C,EAAUxoE,cACHyO,EAAMlI,QAAQF,GAGrBoI,EAAMlI,QAAQF,GAASmiE,GAK/B/rE,KAAK48B,QAAU,SAAU2G,EAAK0oC,GAE1B,QADkB,IAAdA,IAAwBA,GAAY,GACpCj6D,EAAMzS,OACNyS,EAAMlF,KAAK67D,EAAY/2C,cAAcs6C,KAAM3oC,GAE3CvxB,EAAMzS,OAAOq9B,QAAQ5qB,EAAMm6D,QAAQC,SAAU1zD,KAAK7S,UAAU09B,SAG5D,GAAI0oC,EACA,MAAM,IAAIxzD,MAAM,4BAQ5BzY,KAAKo/C,KAAO,SAAUziC,GAClB,OAAO,IAAIyS,SAAQ,SAAUxuB,EAASmuB,GAElC,SAASi9C,EAAQhJ,GACb,OAAQA,EAASxoC,MACb,IAAK,SAAU,OAAO55B,EAAQoiE,GAC9B,IAAK,YACD,IAAIjkB,GAAUikB,EAASpnC,MAAQ,IAC1BvgB,KAAI,SAAUzL,GAAK,OAAOA,EAAEqX,KAAKyK,WACjCtuB,KAAK,MACV,OAAO2rB,EAAO,IAAItW,MAAM,gCAAkCsmC,IAC9D,QAEI,MADAhyB,QAAQ0I,IAAIutC,GACN,IAAIvqD,MAAM,iCAX5BzG,EAAM4qB,QAAQjgB,GAcd3K,EAAM/H,GAAG0S,EAAMsK,KAAKyT,MAAOsxC,GAAS,OAI5ChsE,KAAKqsE,WAAa,SAAUthB,EAAMvgD,GAC9B,IAAI8hE,EAAW9D,EAAGhQ,eAAehuD,GAC7BmxB,EAAWovB,EAAK9nD,MAAM0lE,EAAYh3C,KAAK46C,YACvCz/D,EAAOkF,EAAMlF,KACjB,IACI,IAAIy2B,EAAM7qB,KAAKhY,MAAM4rE,GACrB,GAAI3wC,EAAS,IAAMgtC,EAAY92C,aAAa26C,gBACxC,OAAO1/D,EAAK67D,EAAY92C,aAAa26C,gBAAiBjpC,GAE1D,OAAQ5H,EAAS,IACb,KAAKgtC,EAAY92C,aAAa46C,KAAM,OAAO3/D,EAAK67D,EAAY/2C,cAAc66C,KAAMlpC,GAChF,KAAKolC,EAAY92C,aAAauY,OAAQ,OAAOt9B,EAAK67D,EAAY/2C,cAAcwY,OAAQ7G,GACpF,KAAKolC,EAAY92C,aAAa9mB,KAAM,OAAO+B,EAAK67D,EAAY/2C,cAAc7mB,KAAMw4B,GAChF,KAAKolC,EAAY92C,aAAa66C,KAC1B,OAAO5/D,EAAK6uB,EAAS,GAAI4H,GAC7B,QACI,IAAI9xB,EAAKm3D,EAAmBzuC,SAASoJ,GAAOA,EAAItc,KAAKyT,MAAQiuC,EAAY/2C,cAAc+6C,UACvF,OAAO7/D,EAAK2E,EAAI8xB,IAG5B,MAAOtkC,GACH8tB,QACK0I,IAAI,CAAEqM,KAAM,6CAA8C7iC,MAAOA,IACtE6N,EAAK67D,EAAY/2C,cAAc+6C,UAAWL,KAGlDtsE,KAAK4sE,KAAO,SAAUC,EAAShmC,GAI3B,YAHgB,IAAZgmC,IAAsBA,EAAU,UACxB,IAARhmC,IAAkBA,EAAMgiC,EAAOn0C,aACnC1iB,EAAMuyB,UAAU,gBAAiBsC,GAC1B70B,EAAM86D,OAAOjmC,EAAKgmC,IAK7B7sE,KAAK8sE,OAAS,SAAUC,EAAWF,GAC/B,IAAIG,EAAiB,IAAI59C,SAAQ,SAAUpY,EAAG6kB,GAAO,OAAOhH,YAAW,WAAc,OAAOgH,GAAK,KAAOgxC,MACpGI,EAAc,IAAI79C,SAAQ,SAAU1d,EAAKsF,GACzC,IAAIk2D,EAAK,WACL,IAAIpwD,EAAI+rD,EAAOn0C,YACf1iB,EAAMuyB,UAAU,eAAgBznB,GAChCpL,EAAIoL,EAAIiwD,IAEZ/6D,EAAM/H,GAAG,GAAK8iE,EAAWG,GAAI,GAC7B,IAAIniB,EAAO/4C,EAAMm6D,QAAQS,KAAKG,GAC1B/6D,EAAMzS,QACNyS,EAAMzS,OAAOq9B,QAAQmuB,EAAMryC,KAAK7S,UAAUknE,OAGlD,OAAO39C,QAAQ+9C,KAAK,CAACH,EAAgBC,KAGzCjtE,KAAK08B,QAAU,WACX,IAAI0wC,EAAKp7D,EAAMykD,OAAQlpC,EAAe6/C,EAAG7/C,aAAcL,EAAQkgD,EAAGlgD,MAAOE,EAAaggD,EAAGhgD,WACrF2uC,EAAkB4M,EAAYh3C,KAAK07C,sBACnC9tE,EAASgpE,EAAO7rC,QAAQtP,EAAY,CACpCtL,OAAO,EACPM,SAAU,QAAUkmD,EAAQgF,QAAU,IAAM/gD,EAAOkP,OACnDza,SAAUkM,EACV/L,WAAY,SACZE,gBAAiB,EACjB06C,gBAAiBA,EACjB96C,SAAUsM,IAEdvb,EAAMzS,OAASA,EACfyS,EAAMu7D,UAAY,IAAI7E,EAAmBve,gBAAgBn4C,EAAOA,EAAMykD,OAAOlpC,cAC7EhuB,EAAO0K,GAAG,UAAW+H,EAAMq6D,YAC3B9sE,EAAO0K,GAAG,WAAW,WAAc,OAAO+H,EAAMlF,KAAK67D,EAAY/2C,cAAc47C,QAAS,OACxFjuE,EAAO0K,GAAG,WAAW,WAAc,OAAO+H,EAAMlF,KAAK67D,EAAY/2C,cAAc67C,OAAQ,OACvF,IAAIjC,EAAW,CACXx5D,EAAMm6D,QAAQM,KACdz6D,EAAMm6D,QAAQ/hC,OACdp4B,EAAMm6D,QAAQphE,KACdiH,EAAMm6D,QAAQuB,SACd17D,EAAMm6D,QAAQO,MAGlB,OADAntE,EAAOu9B,UAAU0uC,GACV,IAAIp8C,SAAQ,SAAUxuB,EAAS+sE,GAClC,IAAI37D,EAAMzS,OAIN,MAAM,IAAIkZ,MAAM,yBAHhBzG,EAAMzS,OAAOsR,KAAK,WAAW,WAAc,OAAOjQ,EAAQoR,UAOtEhS,KAAK8J,QAAU,GACf9J,KAAKy2D,OAASgS,EAASr8C,eAAezP,GACtC3c,KAAKutE,UAAY,IAAI7E,EAAmBve,gBAAgBnqD,KAAMA,KAAKy2D,OAAOlpC,cAwB9E,OAtBA1uB,OAAO4I,eAAe6gE,EAAQ7lE,UAAW,UAAW,CAEhDyK,IAAK,WACD,IAAI0gE,EAAa5tE,KAAKy2D,OAAOlpC,aAC7B,MAAO,CAEH6+C,SAAU,OAASwB,EAAa,IAAMjF,EAAY92C,aAAag8C,YAE/DH,SAAU,OAASE,EAAa,IAAMjF,EAAY92C,aAAai8C,WAC/D1jC,OAAQ,OAASwjC,EAAa,IAAMjF,EAAY92C,aAAauY,OAC7DqiC,KAAM,OAASmB,EAAa,IAAMjF,EAAY92C,aAAa46C,KAC3D1hE,KAAM,OAAS6iE,EAAa,IAAMjF,EAAY92C,aAAa9mB,KAAO,KAElE2hE,KAAM,OAASkB,EAAa,UAE5BhB,KAAM,SAAUmB,GAAU,MAAO,OAASH,EAAa,SAAWG,KAG1E9gE,YAAY,EACZ+gB,cAAc,IAElBs6C,EAAQgF,QAAU,SACXhF,EA7biB,GA+b5BzqE,EAAQyqE,QAAUA,G,kCC1clBzpE,OAAO4I,eAAe5J,EAAS,aAAc,CAAE6J,OAAO,IACtD7J,EAAQmrE,WAAanrE,EAAQmsE,cAAW,EACxC,IACIA,EADAgE,EAAS,EAAQ,SAErB,SAAWhE,GACPA,EAASA,EAAS,WAAa,KAAQ,UACvCA,EAASA,EAAS,UAAY,KAAO,SACrCA,EAASA,EAAS,UAAY,KAAO,UAHzC,CAIGA,EAAWnsE,EAAQmsE,WAAansE,EAAQmsE,SAAW,KACtDnsE,EAAQmrE,WAAa,SAAUptC,EAAMqyC,GAEjC,YADiB,IAAbA,IAAuBA,EAAWjE,EAASkE,QACxC,CACH1zC,KAAM,cACNvT,KAAM,CACFyT,MAAOszC,EAAOvyC,OACdwyC,SAAUA,GAEdryC,KAAMA,K,kCCKd,IAOIuyC,EAPAvnD,EAAuB,kBAAZwnD,QAAuBA,QAAU,KAC5CC,EAAeznD,GAAwB,oBAAZA,EAAE/U,MAC7B+U,EAAE/U,MACF,SAAsB6H,EAAQ40D,EAAUrnD,GACxC,OAAO/P,SAASzU,UAAUoP,MAAM1S,KAAKua,EAAQ40D,EAAUrnD,IAiB3D,SAASsnD,EAAmBC,GACtBzhD,SAAWA,QAAQC,MAAMD,QAAQC,KAAKwhD,GAb1CL,EADEvnD,GAA0B,oBAAdA,EAAEg/C,QACCh/C,EAAEg/C,QACV/mE,OAAO+pD,sBACC,SAAwBlvC,GACvC,OAAO7a,OAAOC,oBAAoB4a,GAC/BnY,OAAO1C,OAAO+pD,sBAAsBlvC,KAGxB,SAAwBA,GACvC,OAAO7a,OAAOC,oBAAoB4a,IAQtC,IAAI+0D,EAAcrkD,OAAOC,OAAS,SAAqB3iB,GACrD,OAAOA,IAAUA,GAGnB,SAASG,IACPA,EAAa4gC,KAAKtpC,KAAKa,MAEzBlC,EAAOD,QAAUgK,EACjB/J,EAAOD,QAAQgT,KAAOA,EAGtBhJ,EAAaA,aAAeA,EAE5BA,EAAapF,UAAUqH,aAAUkD,EACjCnF,EAAapF,UAAUisE,aAAe,EACtC7mE,EAAapF,UAAUksE,mBAAgB3hE,EAIvC,IAAI4hE,EAAsB,GAE1B,SAASC,EAAcC,GACrB,GAAwB,oBAAbA,EACT,MAAM,IAAIlsE,UAAU,0EAA4EksE,GAsCpG,SAASC,EAAiB1mD,GACxB,YAA2Brb,IAAvBqb,EAAKsmD,cACA9mE,EAAa+mE,oBACfvmD,EAAKsmD,cAmDd,SAASK,EAAat1D,EAAQ1R,EAAM8mE,EAAUG,GAC5C,IAAI13D,EACA23D,EACAC,EAsBJ,GApBAN,EAAcC,GAEdI,EAASx1D,EAAO5P,aACDkD,IAAXkiE,GACFA,EAASx1D,EAAO5P,QAAUjL,OAAO8lB,OAAO,MACxCjL,EAAOg1D,aAAe,SAIK1hE,IAAvBkiE,EAAOE,cACT11D,EAAO5M,KAAK,cAAe9E,EACf8mE,EAASA,SAAWA,EAASA,SAAWA,GAIpDI,EAASx1D,EAAO5P,SAElBqlE,EAAWD,EAAOlnE,SAGHgF,IAAbmiE,EAEFA,EAAWD,EAAOlnE,GAAQ8mE,IACxBp1D,EAAOg1D,kBAeT,GAbwB,oBAAbS,EAETA,EAAWD,EAAOlnE,GAChBinE,EAAU,CAACH,EAAUK,GAAY,CAACA,EAAUL,GAErCG,EACTE,EAASjqE,QAAQ4pE,GAEjBK,EAASlqE,KAAK6pE,GAIhBv3D,EAAIw3D,EAAiBr1D,GACjBnC,EAAI,GAAK43D,EAAS5rE,OAASgU,IAAM43D,EAASzY,OAAQ,CACpDyY,EAASzY,QAAS,EAGlB,IAAIj/C,EAAI,IAAIgB,MAAM,+CACE02D,EAAS5rE,OAAS,IAAMqP,OAAO5K,GADjC,qEAIlByP,EAAEW,KAAO,8BACTX,EAAE1P,QAAU2R,EACZjC,EAAEzP,KAAOA,EACTyP,EAAE/E,MAAQy8D,EAAS5rE,OACnBgrE,EAAmB92D,GAIvB,OAAOiC,EAcT,SAAS21D,IACP,IAAKrvE,KAAKsvE,MAGR,OAFAtvE,KAAK0Z,OAAO1I,eAAehR,KAAKgI,KAAMhI,KAAKuvE,QAC3CvvE,KAAKsvE,OAAQ,EACY,IAArBx9D,UAAUvO,OACLvD,KAAK8uE,SAAS3vE,KAAKa,KAAK0Z,QAC1B1Z,KAAK8uE,SAASj9D,MAAM7R,KAAK0Z,OAAQ5H,WAI5C,SAAS09D,EAAU91D,EAAQ1R,EAAM8mE,GAC/B,IAAIviE,EAAQ,CAAE+iE,OAAO,EAAOC,YAAQviE,EAAW0M,OAAQA,EAAQ1R,KAAMA,EAAM8mE,SAAUA,GACjFW,EAAUJ,EAAYn9D,KAAK3F,GAG/B,OAFAkjE,EAAQX,SAAWA,EACnBviE,EAAMgjE,OAASE,EACRA,EA0HT,SAASC,EAAWh2D,EAAQ1R,EAAM2nE,GAChC,IAAIT,EAASx1D,EAAO5P,QAEpB,QAAekD,IAAXkiE,EACF,MAAO,GAET,IAAIU,EAAaV,EAAOlnE,GACxB,YAAmBgF,IAAf4iE,EACK,GAEiB,oBAAfA,EACFD,EAAS,CAACC,EAAWd,UAAYc,GAAc,CAACA,GAElDD,EACLE,EAAgBD,GAAcE,EAAWF,EAAYA,EAAWrsE,QAoBpE,SAASwL,EAAc/G,GACrB,IAAIknE,EAASlvE,KAAK8J,QAElB,QAAekD,IAAXkiE,EAAsB,CACxB,IAAIU,EAAaV,EAAOlnE,GAExB,GAA0B,oBAAf4nE,EACT,OAAO,EACF,QAAmB5iE,IAAf4iE,EACT,OAAOA,EAAWrsE,OAItB,OAAO,EAOT,SAASusE,EAAWnqD,EAAKzX,GAEvB,IADA,IAAIob,EAAO,IAAIvf,MAAMmE,GACZjK,EAAI,EAAGA,EAAIiK,IAAKjK,EACvBqlB,EAAKrlB,GAAK0hB,EAAI1hB,GAChB,OAAOqlB,EAGT,SAASymD,EAAU1sC,EAAM7xB,GACvB,KAAOA,EAAQ,EAAI6xB,EAAK9/B,OAAQiO,IAC9B6xB,EAAK7xB,GAAS6xB,EAAK7xB,EAAQ,GAC7B6xB,EAAKr8B,MAGP,SAAS6oE,EAAgBlqD,GAEvB,IADA,IAAIvW,EAAM,IAAIrF,MAAM4b,EAAIpiB,QACfU,EAAI,EAAGA,EAAImL,EAAI7L,SAAUU,EAChCmL,EAAInL,GAAK0hB,EAAI1hB,GAAG6qE,UAAYnpD,EAAI1hB,GAElC,OAAOmL,EAGT,SAASyB,EAAK9I,EAASqQ,GACrB,OAAO,IAAIgX,SAAQ,SAAUxuB,EAASmuB,GACpC,SAASihD,SACehjE,IAAlBijE,GACFloE,EAAQiJ,eAAe,QAASi/D,GAElCrvE,EAAQ,GAAG1B,MAAMC,KAAK2S,YAExB,IAAIm+D,EAQS,UAAT73D,IACF63D,EAAgB,SAAuB3iE,GACrCvF,EAAQiJ,eAAeoH,EAAM43D,GAC7BjhD,EAAOzhB,IAGTvF,EAAQ8I,KAAK,QAASo/D,IAGxBloE,EAAQ8I,KAAKuH,EAAM43D,MA9YvBnxE,OAAO4I,eAAeI,EAAc,sBAAuB,CACzDoF,YAAY,EACZC,IAAK,WACH,OAAO0hE,GAETzhE,IAAK,SAAS2kB,GACZ,GAAmB,kBAARA,GAAoBA,EAAM,GAAK28C,EAAY38C,GACpD,MAAM,IAAIhf,WAAW,kGAAoGgf,EAAM,KAEjI88C,EAAsB98C,KAI1BjqB,EAAa4gC,KAAO,gBAEGz7B,IAAjBhN,KAAK8J,SACL9J,KAAK8J,UAAYjL,OAAO6N,eAAe1M,MAAM8J,UAC/C9J,KAAK8J,QAAUjL,OAAO8lB,OAAO,MAC7B3kB,KAAK0uE,aAAe,GAGtB1uE,KAAK2uE,cAAgB3uE,KAAK2uE,oBAAiB3hE,GAK7CnF,EAAapF,UAAUu+D,gBAAkB,SAAyB9yD,GAChE,GAAiB,kBAANA,GAAkBA,EAAI,GAAKugE,EAAYvgE,GAChD,MAAM,IAAI4E,WAAW,gFAAkF5E,EAAI,KAG7G,OADAlO,KAAK2uE,cAAgBzgE,EACdlO,MAST6H,EAAapF,UAAUytE,gBAAkB,WACvC,OAAOnB,EAAiB/uE,OAG1B6H,EAAapF,UAAUqK,KAAO,SAAc9E,GAE1C,IADA,IAAIif,EAAO,GACFhjB,EAAI,EAAGA,EAAI6N,UAAUvO,OAAQU,IAAKgjB,EAAKhiB,KAAK6M,UAAU7N,IAC/D,IAAIksE,EAAoB,UAATnoE,EAEXknE,EAASlvE,KAAK8J,QAClB,QAAekD,IAAXkiE,EACFiB,EAAWA,QAA4BnjE,IAAjBkiE,EAAOjwE,WAC1B,IAAKkxE,EACR,OAAO,EAGT,GAAIA,EAAS,CACX,IAAI7jE,EAGJ,GAFI2a,EAAK1jB,OAAS,IAChB+I,EAAK2a,EAAK,IACR3a,aAAcmM,MAGhB,MAAMnM,EAGR,IAAIgB,EAAM,IAAImL,MAAM,oBAAsBnM,EAAK,KAAOA,EAAGolB,QAAU,IAAM,KAEzE,MADApkB,EAAI8iE,QAAU9jE,EACRgB,EAGR,IAAI0+D,EAAUkD,EAAOlnE,GAErB,QAAgBgF,IAAZg/D,EACF,OAAO,EAET,GAAuB,oBAAZA,EACTqC,EAAarC,EAAShsE,KAAMinB,OAE5B,KAAIvY,EAAMs9D,EAAQzoE,OACd0E,EAAY6nE,EAAW9D,EAASt9D,GACpC,IAASzK,EAAI,EAAGA,EAAIyK,IAAOzK,EACzBoqE,EAAapmE,EAAUhE,GAAIjE,KAAMinB,GAGrC,OAAO,GAiETpf,EAAapF,UAAUkP,YAAc,SAAqB3J,EAAM8mE,GAC9D,OAAOE,EAAahvE,KAAMgI,EAAM8mE,GAAU,IAG5CjnE,EAAapF,UAAUwH,GAAKpC,EAAapF,UAAUkP,YAEnD9J,EAAapF,UAAUkH,gBACnB,SAAyB3B,EAAM8mE,GAC7B,OAAOE,EAAahvE,KAAMgI,EAAM8mE,GAAU,IAqBhDjnE,EAAapF,UAAUoO,KAAO,SAAc7I,EAAM8mE,GAGhD,OAFAD,EAAcC,GACd9uE,KAAKiK,GAAGjC,EAAMwnE,EAAUxvE,KAAMgI,EAAM8mE,IAC7B9uE,MAGT6H,EAAapF,UAAU4tE,oBACnB,SAA6BroE,EAAM8mE,GAGjC,OAFAD,EAAcC,GACd9uE,KAAK2J,gBAAgB3B,EAAMwnE,EAAUxvE,KAAMgI,EAAM8mE,IAC1C9uE,MAIb6H,EAAapF,UAAUuO,eACnB,SAAwBhJ,EAAM8mE,GAC5B,IAAIzrC,EAAM6rC,EAAQh0C,EAAUj3B,EAAGqsE,EAK/B,GAHAzB,EAAcC,GAEdI,EAASlvE,KAAK8J,aACCkD,IAAXkiE,EACF,OAAOlvE,KAGT,GADAqjC,EAAO6rC,EAAOlnE,QACDgF,IAATq2B,EACF,OAAOrjC,KAET,GAAIqjC,IAASyrC,GAAYzrC,EAAKyrC,WAAaA,EACb,MAAtB9uE,KAAK0uE,aACT1uE,KAAK8J,QAAUjL,OAAO8lB,OAAO,cAEtBuqD,EAAOlnE,GACVknE,EAAOl+D,gBACThR,KAAK8M,KAAK,iBAAkB9E,EAAMq7B,EAAKyrC,UAAYA,SAElD,GAAoB,oBAATzrC,EAAqB,CAGrC,IAFAnI,GAAY,EAEPj3B,EAAIo/B,EAAK9/B,OAAS,EAAGU,GAAK,EAAGA,IAChC,GAAIo/B,EAAKp/B,KAAO6qE,GAAYzrC,EAAKp/B,GAAG6qE,WAAaA,EAAU,CACzDwB,EAAmBjtC,EAAKp/B,GAAG6qE,SAC3B5zC,EAAWj3B,EACX,MAIJ,GAAIi3B,EAAW,EACb,OAAOl7B,KAEQ,IAAbk7B,EACFmI,EAAK58B,QAELspE,EAAU1sC,EAAMnI,GAGE,IAAhBmI,EAAK9/B,SACP2rE,EAAOlnE,GAAQq7B,EAAK,SAEQr2B,IAA1BkiE,EAAOl+D,gBACThR,KAAK8M,KAAK,iBAAkB9E,EAAMsoE,GAAoBxB,GAG1D,OAAO9uE,MAGb6H,EAAapF,UAAUmnB,IAAM/hB,EAAapF,UAAUuO,eAEpDnJ,EAAapF,UAAUmP,mBACnB,SAA4B5J,GAC1B,IAAIC,EAAWinE,EAAQjrE,EAGvB,GADAirE,EAASlvE,KAAK8J,aACCkD,IAAXkiE,EACF,OAAOlvE,KAGT,QAA8BgN,IAA1BkiE,EAAOl+D,eAUT,OATyB,IAArBc,UAAUvO,QACZvD,KAAK8J,QAAUjL,OAAO8lB,OAAO,MAC7B3kB,KAAK0uE,aAAe,QACM1hE,IAAjBkiE,EAAOlnE,KACY,MAAtBhI,KAAK0uE,aACT1uE,KAAK8J,QAAUjL,OAAO8lB,OAAO,aAEtBuqD,EAAOlnE,IAEXhI,KAIT,GAAyB,IAArB8R,UAAUvO,OAAc,CAC1B,IACIwqB,EADAnoB,EAAO/G,OAAO+G,KAAKspE,GAEvB,IAAKjrE,EAAI,EAAGA,EAAI2B,EAAKrC,SAAUU,EAC7B8pB,EAAMnoB,EAAK3B,GACC,mBAAR8pB,GACJ/tB,KAAK4R,mBAAmBmc,GAK1B,OAHA/tB,KAAK4R,mBAAmB,kBACxB5R,KAAK8J,QAAUjL,OAAO8lB,OAAO,MAC7B3kB,KAAK0uE,aAAe,EACb1uE,KAKT,GAFAiI,EAAYinE,EAAOlnE,GAEM,oBAAdC,EACTjI,KAAKgR,eAAehJ,EAAMC,QACrB,QAAkB+E,IAAd/E,EAET,IAAKhE,EAAIgE,EAAU1E,OAAS,EAAGU,GAAK,EAAGA,IACrCjE,KAAKgR,eAAehJ,EAAMC,EAAUhE,IAIxC,OAAOjE,MAoBb6H,EAAapF,UAAUwF,UAAY,SAAmBD,GACpD,OAAO0nE,EAAW1vE,KAAMgI,GAAM,IAGhCH,EAAapF,UAAU8tE,aAAe,SAAsBvoE,GAC1D,OAAO0nE,EAAW1vE,KAAMgI,GAAM,IAGhCH,EAAakH,cAAgB,SAAShH,EAASC,GAC7C,MAAqC,oBAA1BD,EAAQgH,cACVhH,EAAQgH,cAAc/G,GAEtB+G,EAAc5P,KAAK4I,EAASC,IAIvCH,EAAapF,UAAUsM,cAAgBA,EAiBvClH,EAAapF,UAAU+tE,WAAa,WAClC,OAAOxwE,KAAK0uE,aAAe,EAAIP,EAAenuE,KAAK8J,SAAW,K,kCCvahE,IAAIyP,EAAI,EAAQ,QACZlX,EAAW,EAAQ,QACnB2H,EAAU,EAAQ,QAClBm0C,EAAkB,EAAQ,QAC1Bz2B,EAAW,EAAQ,QACnBnpB,EAAkB,EAAQ,QAC1Bw4B,EAAiB,EAAQ,QACzBjZ,EAAkB,EAAQ,QAC1B4Y,EAA+B,EAAQ,QACvCvd,EAA0B,EAAQ,QAElCwd,EAAsBD,EAA6B,SACnDrd,EAAiBF,EAAwB,QAAS,CAAE8xC,WAAW,EAAMS,EAAG,EAAGC,EAAG,IAE9E3tC,EAAUF,EAAgB,WAC1B2yD,EAAc,GAAGvxE,MACjB0zD,EAAM76C,KAAK66C,IAKfr5C,EAAE,CAAEG,OAAQ,QAAS/V,OAAO,EAAMgW,QAASgd,IAAwBtd,GAAkB,CACnFna,MAAO,SAAeqlB,EAAOnW,GAC3B,IAKI83D,EAAalgE,EAAQkI,EALrBipB,EAAI54B,EAAgByB,MACpBuD,EAASmkB,EAASyP,EAAE5zB,QACpBqB,EAAIu5C,EAAgB55B,EAAOhhB,GAC3BmtE,EAAMvyB,OAAwBnxC,IAARoB,EAAoB7K,EAAS6K,EAAK7K,GAG5D,GAAIyG,EAAQmtB,KACV+uC,EAAc/uC,EAAEjZ,YAEU,mBAAfgoD,GAA8BA,IAAgBn8D,QAASC,EAAQk8D,EAAYzjE,WAE3EJ,EAAS6jE,KAClBA,EAAcA,EAAYloD,GACN,OAAhBkoD,IAAsBA,OAAcl5D,IAHxCk5D,OAAcl5D,EAKZk5D,IAAgBn8D,YAAyBiD,IAAhBk5D,GAC3B,OAAOuK,EAAYtxE,KAAKg4B,EAAGvyB,EAAG8rE,GAIlC,IADA1qE,EAAS,SAAqBgH,IAAhBk5D,EAA4Bn8D,MAAQm8D,GAAatT,EAAI8d,EAAM9rE,EAAG,IACvEsJ,EAAI,EAAGtJ,EAAI8rE,EAAK9rE,IAAKsJ,IAAStJ,KAAKuyB,GAAGJ,EAAe/wB,EAAQkI,EAAGipB,EAAEvyB,IAEvE,OADAoB,EAAOzC,OAAS2K,EACTlI,M,kCC5CX,SAASs9C,EAAeC,EAAUC,GAAcD,EAAS9gD,UAAY5D,OAAO8lB,OAAO6+B,EAAW/gD,WAAY8gD,EAAS9gD,UAAUyb,YAAcqlC,EAAUA,EAASE,UAAYD,EAE1K,IAAIp6C,EAAQ,GAEZ,SAASs6C,EAAgBv+B,EAAMuM,EAASiyB,GAKtC,SAASC,EAAWpB,EAAMC,EAAMC,GAC9B,MAAuB,kBAAZhxB,EACFA,EAEAA,EAAQ8wB,EAAMC,EAAMC,GAR1BiB,IACHA,EAAOlrC,OAWT,IAAIorC,EAEJ,SAAUC,GAGR,SAASD,EAAUrB,EAAMC,EAAMC,GAC7B,OAAOoB,EAAM3kD,KAAKa,KAAM4jD,EAAWpB,EAAMC,EAAMC,KAAU1iD,KAG3D,OANAsjD,EAAeO,EAAWC,GAMnBD,EAPT,CAQEF,GAEFE,EAAUphD,UAAU2V,KAAOurC,EAAKvrC,KAChCyrC,EAAUphD,UAAU0iB,KAAOA,EAC3B/b,EAAM+b,GAAQ0+B,EAIhB,SAASE,EAAMC,EAAUC,GACvB,GAAIl6C,MAAMC,QAAQg6C,GAAW,CAC3B,IAAIt1C,EAAMs1C,EAASzgD,OAKnB,OAJAygD,EAAWA,EAAS3oC,KAAI,SAAUpX,GAChC,OAAO2O,OAAO3O,MAGZyK,EAAM,EACD,UAAUnN,OAAO0iD,EAAO,KAAK1iD,OAAOyiD,EAAS9kD,MAAM,EAAGwP,EAAM,GAAGtL,KAAK,MAAO,SAAW4gD,EAASt1C,EAAM,GAC3F,IAARA,EACF,UAAUnN,OAAO0iD,EAAO,KAAK1iD,OAAOyiD,EAAS,GAAI,QAAQziD,OAAOyiD,EAAS,IAEzE,MAAMziD,OAAO0iD,EAAO,KAAK1iD,OAAOyiD,EAAS,IAGlD,MAAO,MAAMziD,OAAO0iD,EAAO,KAAK1iD,OAAOqR,OAAOoxC,IAKlD,SAASj8B,EAAWpV,EAAKtS,EAAQ06B,GAC/B,OAAOpoB,EAAIjP,QAAQq3B,GAAOA,EAAM,EAAI,GAAKA,EAAK16B,EAAOkD,UAAYlD,EAInE,SAAS6jD,EAASvxC,EAAKtS,EAAQ8jD,GAK7B,YAJiBn3C,IAAbm3C,GAA0BA,EAAWxxC,EAAIpP,UAC3C4gD,EAAWxxC,EAAIpP,QAGVoP,EAAIyxC,UAAUD,EAAW9jD,EAAOkD,OAAQ4gD,KAAc9jD,EAI/D,SAASgkD,EAAS1xC,EAAKtS,EAAQkkB,GAK7B,MAJqB,kBAAVA,IACTA,EAAQ,KAGNA,EAAQlkB,EAAOkD,OAASoP,EAAIpP,UAGS,IAAhCoP,EAAI7P,QAAQzC,EAAQkkB,GAI/Bm/B,EAAgB,yBAAyB,SAAUtrC,EAAM1Q,GACvD,MAAO,cAAgBA,EAAQ,4BAA8B0Q,EAAO,MACnExV,WACH8gD,EAAgB,wBAAwB,SAAUtrC,EAAM4rC,EAAUM,GAEhE,IAAIC,EASAhhB,EAEJ,GATwB,kBAAbygB,GAAyBj8B,EAAWi8B,EAAU,SACvDO,EAAa,cACbP,EAAWA,EAAS7gD,QAAQ,QAAS,KAErCohD,EAAa,UAKXL,EAAS9rC,EAAM,aAEjBmrB,EAAM,OAAOhiC,OAAO6W,EAAM,KAAK7W,OAAOgjD,EAAY,KAAKhjD,OAAOwiD,EAAMC,EAAU,aACzE,CACL,IAAIh8C,EAAOq8C,EAASjsC,EAAM,KAAO,WAAa,WAC9CmrB,EAAM,QAAShiC,OAAO6W,EAAM,MAAO7W,OAAOyG,EAAM,KAAKzG,OAAOgjD,EAAY,KAAKhjD,OAAOwiD,EAAMC,EAAU,SAItG,OADAzgB,GAAO,mBAAmBhiC,cAAc+iD,GACjC/gB,IACN3gC,WACH8gD,EAAgB,4BAA6B,2BAC7CA,EAAgB,8BAA8B,SAAUtrC,GACtD,MAAO,OAASA,EAAO,gCAEzBsrC,EAAgB,6BAA8B,mBAC9CA,EAAgB,wBAAwB,SAAUtrC,GAChD,MAAO,eAAiBA,EAAO,mCAEjCsrC,EAAgB,wBAAyB,kCACzCA,EAAgB,yBAA0B,6BAC1CA,EAAgB,6BAA8B,mBAC9CA,EAAgB,yBAA0B,sCAAuC9gD,WACjF8gD,EAAgB,wBAAwB,SAAU5xB,GAChD,MAAO,qBAAuBA,IAC7BlvB,WACH8gD,EAAgB,qCAAsC,oCACtD5lD,EAAOD,QAAQuL,MAAQA,G,mCC9HvB,cAEA,MAAMunE,EAAK,EAAQ,QACbtxE,EAAQ,EAAQ,OAAR,CAAiB,aACzB6/C,EAAY,EAAQ,QACpB/gD,EAAY,EAAQ,QAAmBA,UAE7C,IAAIyyE,EAAc,CAChB,qBACA,KACA,OACA,MACA,MACA,cAGF,MAAMC,EAAiC,qBAAZviE,GAA6C,YAAlBA,EAAQ2mB,OAAuD,oBAAxBkwC,EAC7F,SAASzlB,EAAUlgD,EAAMD,GACvB,IAAI2C,EAAM1C,EAAKS,SAAW,MAAQT,EAAKG,SAAW,IAAMH,EAAKC,KAAOD,EAAKgB,KAIzE,MAHqC,oBAAzBhB,EAAmB,iBAC7B0C,EAAM1C,EAAKmgD,eAAez9C,EAAK1C,EAAMD,IAEhC2C,EAGT,SAASs9C,EAAgBhgD,GACvB,IAAI0K,EAAU1K,EA2Bd,OA1BKA,EAAKG,WACRuK,EAAQvK,SAAW,aAEhBH,EAAKC,OACc,QAAlBD,EAAKS,SACPiK,EAAQzK,KAAO,IAEfyK,EAAQzK,KAAO,IAGdD,EAAKgB,OACR0J,EAAQ1J,KAAO,KAGZhB,EAAKigD,YACRv1C,EAAQu1C,UAAY,IAEjBoxB,GAAgC,QAAlBrxE,EAAKS,UAEtB2wE,EAAYh4D,SAAQ,SAAUmpC,GACxBviD,EAAKu4B,eAAegqB,KAAUviD,EAAKigD,UAAU1nB,eAAegqB,KAC9D73C,EAAQu1C,UAAUsC,GAAQviD,EAAKuiD,OAK9B73C,EAGT,SAAS4mE,EAAuBtxE,GAC9B,IAAI0K,EAAUs1C,EAAehgD,GAM7B,GAJK0K,EAAQvK,WACXuK,EAAQvK,SAAWuK,EAAQxK,OAGxBwK,EAAQvK,SAAU,CAIrB,GAA0B,qBAAf,SACT,MAAM,IAAI8Y,MAAM,oDAElB,MAAMw4C,EAAS,IAAI8f,IAAIlhD,SAASkhD,KAChC7mE,EAAQvK,SAAWsxD,EAAOtxD,SAErBuK,EAAQzK,OACXyK,EAAQzK,KAAOwxD,EAAOxxD,MAS1B,YAJ2BuN,IAAvB9C,EAAQG,aACVH,EAAQG,cAAkC,IAAnBH,EAAQ8mE,aAAsChkE,IAAnB9C,EAAQ8mE,SAGrD9mE,EAGT,SAAS+mE,EAAiB1xE,EAAQ2C,EAAK1C,GACrCH,EAAM,mBACNA,EAAM,aAAeG,EAAK2hB,WAAa,IAAM3hB,EAAK6hB,iBAClD,MAAM6+B,EACiB,WAApB1gD,EAAK2hB,YAAsD,IAAzB3hB,EAAK6hB,gBACpC,WACA,OAENhiB,EAAM,mCAAqC6C,EAAM,kBAAoBg+C,GACrE,IAAIgxB,EAAS,IAAIP,EAAGzuE,EAAK,CAACg+C,GAAuB1gD,EAAKigD,WACtD,OAAOyxB,EAGT,SAASC,EAAwB5xE,EAAQC,GACvC,MAAM0gD,EACe,WAApB1gD,EAAK2hB,YAAsD,IAAzB3hB,EAAK6hB,gBACpC,WACA,OAEJ,IAAInf,EAAMw9C,EAASlgD,EAAMD,GAErB2xE,EAAS,IAAIE,UAAUlvE,EAAK,CAACg+C,IAEjC,OADAgxB,EAAOG,WAAa,cACbH,EAGT,SAAS5xE,EAAeC,EAAQC,GAC9BH,EAAM,iBACN,IAAI6K,EAAUs1C,EAAehgD,GAC7B,MAAM0C,EAAMw9C,EAASx1C,EAAS3K,GAC9B,IAAI2xE,EAASD,EAAgB1xE,EAAQ2C,EAAKgI,GACtConE,EAAkBX,EAAGY,sBAAsBL,EAAQhnE,EAAQu1C,WAG/D,OAFA6xB,EAAgBpvE,IAAMA,EACtBgvE,EAAOjnE,GAAG,QAAS,KAAQqnE,EAAgBrlE,YACpCqlE,EAGT,SAASE,EAAsBjyE,EAAQC,GAErC,IAAI2K,EADJ9K,EAAM,wBAEN,IAAI6K,EAAU4mE,EAAsBtxE,GAEpC,MAAMiyE,EAAavnE,EAAQwnE,mBAAqB,OAE1CC,EAAgBnyE,EAAKoyE,sBAAwB,IAE7CC,GAAkBryE,EAAK6K,WAE7B,IAAI6mE,EAASC,EAAuB5xE,EAAQC,GAExCy/C,EAAQE,EAAW3/C,EAAMsyE,EAAoBC,GAE5CvyE,EAAK6K,aACR40C,EAAM9pC,QAAUD,GAElB+pC,EAAMh1C,GAAG,QAAS,KAAQinE,EAAOnrC,UAEjC,MAAMisC,EAA2D,qBAA5Bd,EAAOpjC,iBAgC5C,SAASqR,EAAYj1C,EAAS+nE,EAAaC,GACzC,IAAIjzB,EAAQ,IAAI9gD,EAAU,CACxBg0E,eAAgBjoE,EAAQG,aAM1B,OAHA40C,EAAMhqC,OAASg9D,EACfhzB,EAAMrrB,OAASs+C,EAERjzB,EAGT,SAASmzB,IACPjoE,EAAOovB,YAAY0lB,GACnB90C,EAAOmvB,YAAY2lB,GACnB90C,EAAO2C,KAAK,WAGd,SAASmE,IACP9G,EAAOiE,MACPjE,EAAO8B,UAGT,SAASkF,EAAS7D,GAChBnD,EAAO8B,QAAQqB,GAGjB,SAAS+kE,EAAWzoE,GAClB,IAAIiE,EAAOjE,EAAMiE,KACgBA,EAA7BA,aAAgBkyC,YAAoB73C,EAAOM,KAAKqF,GACxC3F,EAAOM,KAAKqF,EAAM,QAC9BoxC,EAAMh6C,KAAK4I,GAIb,SAASqH,EAAQo9D,EAAQ/kE,GACvB,MAAM2c,EAAU,IAAIngB,MAAMuoE,EAAO/uE,QACjC,IAAK,IAAIU,EAAI,EAAGA,EAAIquE,EAAO/uE,OAAQU,IACF,kBAApBquE,EAAOruE,GAAGsE,MACnB2hB,EAAQjmB,GAAKiE,EAAOM,KAAK8pE,EAAOruE,GAAI,QAEpCimB,EAAQjmB,GAAKquE,EAAOruE,GAAGsE,MAI3BvI,KAAKiV,OAAO/M,EAAO3G,OAAO2oB,GAAU,SAAU3c,GAGhD,SAASukE,EAAoBvpE,EAAOmF,EAAKI,GACnCojE,EAAOqB,eAAiBd,GAE1B58C,WAAWi9C,EAAoBH,EAAeppE,EAAOmF,EAAKI,GAGxD+jE,GAAmC,kBAAVtpE,IAC3BA,EAAQL,EAAOM,KAAKD,EAAO,SAG7B,IACE2oE,EAAO9xB,KAAK72C,GACZ,MAAO+E,GACP,OAAOQ,EAAKR,GAGdQ,IAGF,SAASikE,EAAkBtjD,GACzByiD,EAAOnrC,QACPtX,IAKF,OAtGIyiD,EAAOsB,aAAetB,EAAOuB,KAC/BtoE,EAAS80C,GAET90C,EAASA,EAAS+0C,OAAUlyC,OAAWA,EAAWxN,GAC7CA,EAAK6K,aACRF,EAAOgL,QAAUD,GAGf88D,EACFd,EAAOpjC,iBAAiB,OAAQskC,GAEhClB,EAAOkB,OAASA,GAIpBjoE,EAAO+mE,OAASA,EAEZc,GACFd,EAAOpjC,iBAAiB,QAAS78B,GACjCigE,EAAOpjC,iBAAiB,QAAS38B,GACjC+/D,EAAOpjC,iBAAiB,UAAWukC,KAEnCnB,EAAOjgE,QAAUA,EACjBigE,EAAO//D,QAAUA,EACjB+/D,EAAOmB,UAAYA,GA8EdloE,EAIPrM,EAAOD,QADLgzE,EACeW,EAEAlyE,I,0DC5PnBxB,EAAOD,QAAU,CACf60E,YAAa,EACbC,oBAAqB,EACrBC,aAAc,EACdC,eAAgB,EAChBC,YAAa,EACbC,cAAe,EACfC,aAAc,EACdC,qBAAsB,EACtBC,SAAU,EACVC,kBAAmB,EACnBC,eAAgB,EAChBC,gBAAiB,EACjBC,kBAAmB,EACnBC,UAAW,EACXC,cAAe,EACfC,aAAc,EACdC,SAAU,EACVC,iBAAkB,EAClBC,OAAQ,EACRC,YAAa,EACbC,cAAe,EACfC,cAAe,EACfC,eAAgB,EAChBC,aAAc,EACdC,cAAe,EACfC,iBAAkB,EAClBC,iBAAkB,EAClBC,eAAgB,EAChBC,iBAAkB,EAClBC,cAAe,EACfC,UAAW,I,kCC9Bb,SAAS7J,EAAW/6D,EAAG8H,EAAGgtB,GACtB,MAAO,CAAElK,KAAM,aAAcvT,KAAM,CAAErX,EAAGA,EAAG8H,EAAGA,EAAGgtB,EAAGA,IAHxD7lC,OAAO4I,eAAe5J,EAAS,aAAc,CAAE6J,OAAO,IACtD7J,EAAQ8sE,gBAAa,EAIrB9sE,EAAQ8sE,WAAaA,G,kCCyDrB7sE,EAAOD,QAAUM,EAEjB,IAAIgL,EAAiB,EAAQ,QAAaC,MACtCG,EAA6BJ,EAAeI,2BAC5CgK,EAAwBpK,EAAeoK,sBACvCwf,EAAqC5pB,EAAe4pB,mCACpDC,EAA8B7pB,EAAe6pB,4BAE7C90B,EAAS,EAAQ,QAIrB,SAAS+0B,EAAe3mB,EAAIuB,GAC1B,IAAIqlB,EAAKlzB,KAAKmzB,gBACdD,EAAGE,cAAe,EAClB,IAAI7lB,EAAK2lB,EAAG3e,QAEZ,GAAW,OAAPhH,EACF,OAAOvN,KAAK8M,KAAK,QAAS,IAAIyG,GAGhC2f,EAAGG,WAAa,KAChBH,EAAG3e,QAAU,KACD,MAAR1G,GACF7N,KAAKiF,KAAK4I,GACZN,EAAGjB,GACH,IAAIgnB,EAAKtzB,KAAK6L,eACdynB,EAAGxoB,SAAU,GAETwoB,EAAGtoB,cAAgBsoB,EAAG/vB,OAAS+vB,EAAG/oB,gBACpCvK,KAAKgM,MAAMsnB,EAAG/oB,eAIlB,SAASpM,EAAU+L,GACjB,KAAMlK,gBAAgB7B,GAAY,OAAO,IAAIA,EAAU+L,GACvDhM,EAAOiB,KAAKa,KAAMkK,GAClBlK,KAAKmzB,gBAAkB,CACrBF,eAAgBA,EAAe/gB,KAAKlS,MACpCuzB,eAAe,EACfH,cAAc,EACd7e,QAAS,KACT8e,WAAY,KACZG,cAAe,MAGjBxzB,KAAK6L,eAAeb,cAAe,EAInChL,KAAK6L,eAAed,MAAO,EAEvBb,IAC+B,oBAAtBA,EAAQupB,YAA0BzzB,KAAK0zB,WAAaxpB,EAAQupB,WAC1C,oBAAlBvpB,EAAQypB,QAAsB3zB,KAAK4zB,OAAS1pB,EAAQypB,QAIjE3zB,KAAKiK,GAAG,YAAauM,GAGvB,SAASA,IACP,IAAIxE,EAAQhS,KAEe,oBAAhBA,KAAK4zB,QAA0B5zB,KAAK6L,eAAeN,UAK5DkjB,EAAKzuB,KAAM,KAAM,MAJjBA,KAAK4zB,QAAO,SAAUtnB,EAAIuB,GACxB4gB,EAAKzc,EAAO1F,EAAIuB,MA6DtB,SAAS4gB,EAAKtkB,EAAQmC,EAAIuB,GACxB,GAAIvB,EAAI,OAAOnC,EAAO2C,KAAK,QAASR,GAMpC,GALY,MAARuB,GACF1D,EAAOlF,KAAK4I,GAIV1D,EAAOuF,eAAenM,OAAQ,MAAM,IAAIyvB,EAC5C,GAAI7oB,EAAOgpB,gBAAgBC,aAAc,MAAM,IAAIL,EACnD,OAAO5oB,EAAOlF,KAAK,MA9HrB,EAAQ,OAAR,CAAoB9G,EAAWD,GA+D/BC,EAAUsE,UAAUwC,KAAO,SAAUsD,EAAOqD,GAE1C,OADA5L,KAAKmzB,gBAAgBI,eAAgB,EAC9Br1B,EAAOuE,UAAUwC,KAAK9F,KAAKa,KAAMuI,EAAOqD,IAajDzN,EAAUsE,UAAUixB,WAAa,SAAUnrB,EAAOqD,EAAU2B,GAC1DA,EAAG,IAAIhE,EAA2B,kBAGpCpL,EAAUsE,UAAUwS,OAAS,SAAU1M,EAAOqD,EAAU2B,GACtD,IAAI2lB,EAAKlzB,KAAKmzB,gBAKd,GAJAD,EAAG3e,QAAUhH,EACb2lB,EAAGG,WAAa9qB,EAChB2qB,EAAGM,cAAgB5nB,GAEdsnB,EAAGE,aAAc,CACpB,IAAIE,EAAKtzB,KAAK6L,gBACVqnB,EAAGK,eAAiBD,EAAGtoB,cAAgBsoB,EAAG/vB,OAAS+vB,EAAG/oB,gBAAevK,KAAKgM,MAAMsnB,EAAG/oB,iBAO3FpM,EAAUsE,UAAUuJ,MAAQ,SAAUkC,GACpC,IAAIglB,EAAKlzB,KAAKmzB,gBAEQ,OAAlBD,EAAGG,YAAwBH,EAAGE,aAOhCF,EAAGK,eAAgB,GANnBL,EAAGE,cAAe,EAElBpzB,KAAK0zB,WAAWR,EAAGG,WAAYH,EAAGM,cAAeN,EAAGD,kBAQxD90B,EAAUsE,UAAUyJ,SAAW,SAAUoB,EAAKC,GAC5CrP,EAAOuE,UAAUyJ,SAAS/M,KAAKa,KAAMsN,GAAK,SAAUumB,GAClDtmB,EAAGsmB,Q,kCCzLP,IAAIyxC,EAAM,EAAQ,GACdjmE,EAAQ,EAAQ,OAAR,CAAiB,cAE7B,SAASo1E,EAAcC,EAAYl1E,GACjC,IAAIm1E,EAqBJ,SAASC,EAAiBtnE,GAEpB9N,EAAK0/D,oBACPwV,EAAW5nE,KAAK,QAASQ,GAQ3BqnE,EAAWvmE,MAIb,OAnCA5O,EAAKC,KAAOD,EAAKC,MAAQ,KACzBD,EAAKE,KAAOF,EAAKG,UAAYH,EAAKE,MAAQ,YAC1CF,EAAKq1E,WAAar1E,EAAKE,KAEvBF,EAAK0/D,oBAAiD,IAA5B1/D,EAAK0/D,0BAExB1/D,EAAKgB,KAEZnB,EAAM,wCAAyCG,EAAKC,KAAMD,EAAKE,KAAMF,EAAK0/D,oBAE1EyV,EAAarP,EAAI5oC,QAAQl9B,GAEzBm1E,EAAW1qE,GAAG,iBAAiB,WACzBzK,EAAK0/D,qBAAuByV,EAAWG,WACzCH,EAAW7nE,KAAK,QAAS,IAAI2L,MAAM,uBAEnCk8D,EAAW3jE,eAAe,QAAS4jE,MAkBvCD,EAAW1qE,GAAG,QAAS2qE,GAChBD,EAGT72E,EAAOD,QAAU42E","file":"js/chunk-95a8d4ee.js","sourcesContent":["exports = module.exports = require('./lib/_stream_readable.js');\nexports.Stream = exports;\nexports.Readable = exports;\nexports.Writable = require('./lib/_stream_writable.js');\nexports.Duplex = require('./lib/_stream_duplex.js');\nexports.Transform = require('./lib/_stream_transform.js');\nexports.PassThrough = require('./lib/_stream_passthrough.js');\nexports.finished = require('./lib/internal/streams/end-of-stream.js');\nexports.pipeline = require('./lib/internal/streams/pipeline.js');\n","var toIndexedObject = require('../internals/to-indexed-object');\nvar nativeGetOwnPropertyNames = require('../internals/object-get-own-property-names').f;\n\nvar toString = {}.toString;\n\nvar windowNames = typeof window == 'object' && window && Object.getOwnPropertyNames\n  ? Object.getOwnPropertyNames(window) : [];\n\nvar getWindowNames = function (it) {\n  try {\n    return nativeGetOwnPropertyNames(it);\n  } catch (error) {\n    return windowNames.slice();\n  }\n};\n\n// fallback for IE11 buggy Object.getOwnPropertyNames with iframe and window\nmodule.exports.f = function getOwnPropertyNames(it) {\n  return windowNames && toString.call(it) == '[object Window]'\n    ? getWindowNames(it)\n    : nativeGetOwnPropertyNames(toIndexedObject(it));\n};\n","'use strict'\r\nvar net = require('net')\r\nvar debug = require('debug')('mqttjs:tcp')\r\n\r\n/*\r\n  variables port and host can be removed since\r\n  you have all required information in opts object\r\n*/\r\nfunction streamBuilder (client, opts) {\r\n  var port, host\r\n  opts.port = opts.port || 1883\r\n  opts.hostname = opts.hostname || opts.host || 'localhost'\r\n\r\n  port = opts.port\r\n  host = opts.hostname\r\n\r\n  debug('port %d and host %s', port, host)\r\n  return net.createConnection(port, host)\r\n}\r\n\r\nmodule.exports = streamBuilder\r\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./ThreeDGarden.vue?vue&type=style&index=0&id=4aafcbd8&scoped=true&lang=css\"","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\nvar punycode = require('punycode');\nvar util = require('./util');\n\nexports.parse = urlParse;\nexports.resolve = urlResolve;\nexports.resolveObject = urlResolveObject;\nexports.format = urlFormat;\n\nexports.Url = Url;\n\nfunction Url() {\n  this.protocol = null;\n  this.slashes = null;\n  this.auth = null;\n  this.host = null;\n  this.port = null;\n  this.hostname = null;\n  this.hash = null;\n  this.search = null;\n  this.query = null;\n  this.pathname = null;\n  this.path = null;\n  this.href = null;\n}\n\n// Reference: RFC 3986, RFC 1808, RFC 2396\n\n// define these here so at least they only have to be\n// compiled once on the first module load.\nvar protocolPattern = /^([a-z0-9.+-]+:)/i,\n    portPattern = /:[0-9]*$/,\n\n    // Special case for a simple path URL\n    simplePathPattern = /^(\\/\\/?(?!\\/)[^\\?\\s]*)(\\?[^\\s]*)?$/,\n\n    // RFC 2396: characters reserved for delimiting URLs.\n    // We actually just auto-escape these.\n    delims = ['<', '>', '\"', '`', ' ', '\\r', '\\n', '\\t'],\n\n    // RFC 2396: characters not allowed for various reasons.\n    unwise = ['{', '}', '|', '\\\\', '^', '`'].concat(delims),\n\n    // Allowed by RFCs, but cause of XSS attacks.  Always escape these.\n    autoEscape = ['\\''].concat(unwise),\n    // Characters that are never ever allowed in a hostname.\n    // Note that any invalid chars are also handled, but these\n    // are the ones that are *expected* to be seen, so we fast-path\n    // them.\n    nonHostChars = ['%', '/', '?', ';', '#'].concat(autoEscape),\n    hostEndingChars = ['/', '?', '#'],\n    hostnameMaxLen = 255,\n    hostnamePartPattern = /^[+a-z0-9A-Z_-]{0,63}$/,\n    hostnamePartStart = /^([+a-z0-9A-Z_-]{0,63})(.*)$/,\n    // protocols that can allow \"unsafe\" and \"unwise\" chars.\n    unsafeProtocol = {\n      'javascript': true,\n      'javascript:': true\n    },\n    // protocols that never have a hostname.\n    hostlessProtocol = {\n      'javascript': true,\n      'javascript:': true\n    },\n    // protocols that always contain a // bit.\n    slashedProtocol = {\n      'http': true,\n      'https': true,\n      'ftp': true,\n      'gopher': true,\n      'file': true,\n      'http:': true,\n      'https:': true,\n      'ftp:': true,\n      'gopher:': true,\n      'file:': true\n    },\n    querystring = require('querystring');\n\nfunction urlParse(url, parseQueryString, slashesDenoteHost) {\n  if (url && util.isObject(url) && url instanceof Url) return url;\n\n  var u = new Url;\n  u.parse(url, parseQueryString, slashesDenoteHost);\n  return u;\n}\n\nUrl.prototype.parse = function(url, parseQueryString, slashesDenoteHost) {\n  if (!util.isString(url)) {\n    throw new TypeError(\"Parameter 'url' must be a string, not \" + typeof url);\n  }\n\n  // Copy chrome, IE, opera backslash-handling behavior.\n  // Back slashes before the query string get converted to forward slashes\n  // See: https://code.google.com/p/chromium/issues/detail?id=25916\n  var queryIndex = url.indexOf('?'),\n      splitter =\n          (queryIndex !== -1 && queryIndex < url.indexOf('#')) ? '?' : '#',\n      uSplit = url.split(splitter),\n      slashRegex = /\\\\/g;\n  uSplit[0] = uSplit[0].replace(slashRegex, '/');\n  url = uSplit.join(splitter);\n\n  var rest = url;\n\n  // trim before proceeding.\n  // This is to support parse stuff like \"  http://foo.com  \\n\"\n  rest = rest.trim();\n\n  if (!slashesDenoteHost && url.split('#').length === 1) {\n    // Try fast path regexp\n    var simplePath = simplePathPattern.exec(rest);\n    if (simplePath) {\n      this.path = rest;\n      this.href = rest;\n      this.pathname = simplePath[1];\n      if (simplePath[2]) {\n        this.search = simplePath[2];\n        if (parseQueryString) {\n          this.query = querystring.parse(this.search.substr(1));\n        } else {\n          this.query = this.search.substr(1);\n        }\n      } else if (parseQueryString) {\n        this.search = '';\n        this.query = {};\n      }\n      return this;\n    }\n  }\n\n  var proto = protocolPattern.exec(rest);\n  if (proto) {\n    proto = proto[0];\n    var lowerProto = proto.toLowerCase();\n    this.protocol = lowerProto;\n    rest = rest.substr(proto.length);\n  }\n\n  // figure out if it's got a host\n  // user@server is *always* interpreted as a hostname, and url\n  // resolution will treat //foo/bar as host=foo,path=bar because that's\n  // how the browser resolves relative URLs.\n  if (slashesDenoteHost || proto || rest.match(/^\\/\\/[^@\\/]+@[^@\\/]+/)) {\n    var slashes = rest.substr(0, 2) === '//';\n    if (slashes && !(proto && hostlessProtocol[proto])) {\n      rest = rest.substr(2);\n      this.slashes = true;\n    }\n  }\n\n  if (!hostlessProtocol[proto] &&\n      (slashes || (proto && !slashedProtocol[proto]))) {\n\n    // there's a hostname.\n    // the first instance of /, ?, ;, or # ends the host.\n    //\n    // If there is an @ in the hostname, then non-host chars *are* allowed\n    // to the left of the last @ sign, unless some host-ending character\n    // comes *before* the @-sign.\n    // URLs are obnoxious.\n    //\n    // ex:\n    // http://a@b@c/ => user:a@b host:c\n    // http://a@b?@c => user:a host:c path:/?@c\n\n    // v0.12 TODO(isaacs): This is not quite how Chrome does things.\n    // Review our test case against browsers more comprehensively.\n\n    // find the first instance of any hostEndingChars\n    var hostEnd = -1;\n    for (var i = 0; i < hostEndingChars.length; i++) {\n      var hec = rest.indexOf(hostEndingChars[i]);\n      if (hec !== -1 && (hostEnd === -1 || hec < hostEnd))\n        hostEnd = hec;\n    }\n\n    // at this point, either we have an explicit point where the\n    // auth portion cannot go past, or the last @ char is the decider.\n    var auth, atSign;\n    if (hostEnd === -1) {\n      // atSign can be anywhere.\n      atSign = rest.lastIndexOf('@');\n    } else {\n      // atSign must be in auth portion.\n      // http://a@b/c@d => host:b auth:a path:/c@d\n      atSign = rest.lastIndexOf('@', hostEnd);\n    }\n\n    // Now we have a portion which is definitely the auth.\n    // Pull that off.\n    if (atSign !== -1) {\n      auth = rest.slice(0, atSign);\n      rest = rest.slice(atSign + 1);\n      this.auth = decodeURIComponent(auth);\n    }\n\n    // the host is the remaining to the left of the first non-host char\n    hostEnd = -1;\n    for (var i = 0; i < nonHostChars.length; i++) {\n      var hec = rest.indexOf(nonHostChars[i]);\n      if (hec !== -1 && (hostEnd === -1 || hec < hostEnd))\n        hostEnd = hec;\n    }\n    // if we still have not hit it, then the entire thing is a host.\n    if (hostEnd === -1)\n      hostEnd = rest.length;\n\n    this.host = rest.slice(0, hostEnd);\n    rest = rest.slice(hostEnd);\n\n    // pull out port.\n    this.parseHost();\n\n    // we've indicated that there is a hostname,\n    // so even if it's empty, it has to be present.\n    this.hostname = this.hostname || '';\n\n    // if hostname begins with [ and ends with ]\n    // assume that it's an IPv6 address.\n    var ipv6Hostname = this.hostname[0] === '[' &&\n        this.hostname[this.hostname.length - 1] === ']';\n\n    // validate a little.\n    if (!ipv6Hostname) {\n      var hostparts = this.hostname.split(/\\./);\n      for (var i = 0, l = hostparts.length; i < l; i++) {\n        var part = hostparts[i];\n        if (!part) continue;\n        if (!part.match(hostnamePartPattern)) {\n          var newpart = '';\n          for (var j = 0, k = part.length; j < k; j++) {\n            if (part.charCodeAt(j) > 127) {\n              // we replace non-ASCII char with a temporary placeholder\n              // we need this to make sure size of hostname is not\n              // broken by replacing non-ASCII by nothing\n              newpart += 'x';\n            } else {\n              newpart += part[j];\n            }\n          }\n          // we test again with ASCII char only\n          if (!newpart.match(hostnamePartPattern)) {\n            var validParts = hostparts.slice(0, i);\n            var notHost = hostparts.slice(i + 1);\n            var bit = part.match(hostnamePartStart);\n            if (bit) {\n              validParts.push(bit[1]);\n              notHost.unshift(bit[2]);\n            }\n            if (notHost.length) {\n              rest = '/' + notHost.join('.') + rest;\n            }\n            this.hostname = validParts.join('.');\n            break;\n          }\n        }\n      }\n    }\n\n    if (this.hostname.length > hostnameMaxLen) {\n      this.hostname = '';\n    } else {\n      // hostnames are always lower case.\n      this.hostname = this.hostname.toLowerCase();\n    }\n\n    if (!ipv6Hostname) {\n      // IDNA Support: Returns a punycoded representation of \"domain\".\n      // It only converts parts of the domain name that\n      // have non-ASCII characters, i.e. it doesn't matter if\n      // you call it with a domain that already is ASCII-only.\n      this.hostname = punycode.toASCII(this.hostname);\n    }\n\n    var p = this.port ? ':' + this.port : '';\n    var h = this.hostname || '';\n    this.host = h + p;\n    this.href += this.host;\n\n    // strip [ and ] from the hostname\n    // the host field still retains them, though\n    if (ipv6Hostname) {\n      this.hostname = this.hostname.substr(1, this.hostname.length - 2);\n      if (rest[0] !== '/') {\n        rest = '/' + rest;\n      }\n    }\n  }\n\n  // now rest is set to the post-host stuff.\n  // chop off any delim chars.\n  if (!unsafeProtocol[lowerProto]) {\n\n    // First, make 100% sure that any \"autoEscape\" chars get\n    // escaped, even if encodeURIComponent doesn't think they\n    // need to be.\n    for (var i = 0, l = autoEscape.length; i < l; i++) {\n      var ae = autoEscape[i];\n      if (rest.indexOf(ae) === -1)\n        continue;\n      var esc = encodeURIComponent(ae);\n      if (esc === ae) {\n        esc = escape(ae);\n      }\n      rest = rest.split(ae).join(esc);\n    }\n  }\n\n\n  // chop off from the tail first.\n  var hash = rest.indexOf('#');\n  if (hash !== -1) {\n    // got a fragment string.\n    this.hash = rest.substr(hash);\n    rest = rest.slice(0, hash);\n  }\n  var qm = rest.indexOf('?');\n  if (qm !== -1) {\n    this.search = rest.substr(qm);\n    this.query = rest.substr(qm + 1);\n    if (parseQueryString) {\n      this.query = querystring.parse(this.query);\n    }\n    rest = rest.slice(0, qm);\n  } else if (parseQueryString) {\n    // no query string, but parseQueryString still requested\n    this.search = '';\n    this.query = {};\n  }\n  if (rest) this.pathname = rest;\n  if (slashedProtocol[lowerProto] &&\n      this.hostname && !this.pathname) {\n    this.pathname = '/';\n  }\n\n  //to support http.request\n  if (this.pathname || this.search) {\n    var p = this.pathname || '';\n    var s = this.search || '';\n    this.path = p + s;\n  }\n\n  // finally, reconstruct the href based on what has been validated.\n  this.href = this.format();\n  return this;\n};\n\n// format a parsed object into a url string\nfunction urlFormat(obj) {\n  // ensure it's an object, and not a string url.\n  // If it's an obj, this is a no-op.\n  // this way, you can call url_format() on strings\n  // to clean up potentially wonky urls.\n  if (util.isString(obj)) obj = urlParse(obj);\n  if (!(obj instanceof Url)) return Url.prototype.format.call(obj);\n  return obj.format();\n}\n\nUrl.prototype.format = function() {\n  var auth = this.auth || '';\n  if (auth) {\n    auth = encodeURIComponent(auth);\n    auth = auth.replace(/%3A/i, ':');\n    auth += '@';\n  }\n\n  var protocol = this.protocol || '',\n      pathname = this.pathname || '',\n      hash = this.hash || '',\n      host = false,\n      query = '';\n\n  if (this.host) {\n    host = auth + this.host;\n  } else if (this.hostname) {\n    host = auth + (this.hostname.indexOf(':') === -1 ?\n        this.hostname :\n        '[' + this.hostname + ']');\n    if (this.port) {\n      host += ':' + this.port;\n    }\n  }\n\n  if (this.query &&\n      util.isObject(this.query) &&\n      Object.keys(this.query).length) {\n    query = querystring.stringify(this.query);\n  }\n\n  var search = this.search || (query && ('?' + query)) || '';\n\n  if (protocol && protocol.substr(-1) !== ':') protocol += ':';\n\n  // only the slashedProtocols get the //.  Not mailto:, xmpp:, etc.\n  // unless they had them to begin with.\n  if (this.slashes ||\n      (!protocol || slashedProtocol[protocol]) && host !== false) {\n    host = '//' + (host || '');\n    if (pathname && pathname.charAt(0) !== '/') pathname = '/' + pathname;\n  } else if (!host) {\n    host = '';\n  }\n\n  if (hash && hash.charAt(0) !== '#') hash = '#' + hash;\n  if (search && search.charAt(0) !== '?') search = '?' + search;\n\n  pathname = pathname.replace(/[?#]/g, function(match) {\n    return encodeURIComponent(match);\n  });\n  search = search.replace('#', '%23');\n\n  return protocol + host + pathname + search + hash;\n};\n\nfunction urlResolve(source, relative) {\n  return urlParse(source, false, true).resolve(relative);\n}\n\nUrl.prototype.resolve = function(relative) {\n  return this.resolveObject(urlParse(relative, false, true)).format();\n};\n\nfunction urlResolveObject(source, relative) {\n  if (!source) return relative;\n  return urlParse(source, false, true).resolveObject(relative);\n}\n\nUrl.prototype.resolveObject = function(relative) {\n  if (util.isString(relative)) {\n    var rel = new Url();\n    rel.parse(relative, false, true);\n    relative = rel;\n  }\n\n  var result = new Url();\n  var tkeys = Object.keys(this);\n  for (var tk = 0; tk < tkeys.length; tk++) {\n    var tkey = tkeys[tk];\n    result[tkey] = this[tkey];\n  }\n\n  // hash is always overridden, no matter what.\n  // even href=\"\" will remove it.\n  result.hash = relative.hash;\n\n  // if the relative url is empty, then there's nothing left to do here.\n  if (relative.href === '') {\n    result.href = result.format();\n    return result;\n  }\n\n  // hrefs like //foo/bar always cut to the protocol.\n  if (relative.slashes && !relative.protocol) {\n    // take everything except the protocol from relative\n    var rkeys = Object.keys(relative);\n    for (var rk = 0; rk < rkeys.length; rk++) {\n      var rkey = rkeys[rk];\n      if (rkey !== 'protocol')\n        result[rkey] = relative[rkey];\n    }\n\n    //urlParse appends trailing / to urls like http://www.example.com\n    if (slashedProtocol[result.protocol] &&\n        result.hostname && !result.pathname) {\n      result.path = result.pathname = '/';\n    }\n\n    result.href = result.format();\n    return result;\n  }\n\n  if (relative.protocol && relative.protocol !== result.protocol) {\n    // if it's a known url protocol, then changing\n    // the protocol does weird things\n    // first, if it's not file:, then we MUST have a host,\n    // and if there was a path\n    // to begin with, then we MUST have a path.\n    // if it is file:, then the host is dropped,\n    // because that's known to be hostless.\n    // anything else is assumed to be absolute.\n    if (!slashedProtocol[relative.protocol]) {\n      var keys = Object.keys(relative);\n      for (var v = 0; v < keys.length; v++) {\n        var k = keys[v];\n        result[k] = relative[k];\n      }\n      result.href = result.format();\n      return result;\n    }\n\n    result.protocol = relative.protocol;\n    if (!relative.host && !hostlessProtocol[relative.protocol]) {\n      var relPath = (relative.pathname || '').split('/');\n      while (relPath.length && !(relative.host = relPath.shift()));\n      if (!relative.host) relative.host = '';\n      if (!relative.hostname) relative.hostname = '';\n      if (relPath[0] !== '') relPath.unshift('');\n      if (relPath.length < 2) relPath.unshift('');\n      result.pathname = relPath.join('/');\n    } else {\n      result.pathname = relative.pathname;\n    }\n    result.search = relative.search;\n    result.query = relative.query;\n    result.host = relative.host || '';\n    result.auth = relative.auth;\n    result.hostname = relative.hostname || relative.host;\n    result.port = relative.port;\n    // to support http.request\n    if (result.pathname || result.search) {\n      var p = result.pathname || '';\n      var s = result.search || '';\n      result.path = p + s;\n    }\n    result.slashes = result.slashes || relative.slashes;\n    result.href = result.format();\n    return result;\n  }\n\n  var isSourceAbs = (result.pathname && result.pathname.charAt(0) === '/'),\n      isRelAbs = (\n          relative.host ||\n          relative.pathname && relative.pathname.charAt(0) === '/'\n      ),\n      mustEndAbs = (isRelAbs || isSourceAbs ||\n                    (result.host && relative.pathname)),\n      removeAllDots = mustEndAbs,\n      srcPath = result.pathname && result.pathname.split('/') || [],\n      relPath = relative.pathname && relative.pathname.split('/') || [],\n      psychotic = result.protocol && !slashedProtocol[result.protocol];\n\n  // if the url is a non-slashed url, then relative\n  // links like ../.. should be able\n  // to crawl up to the hostname, as well.  This is strange.\n  // result.protocol has already been set by now.\n  // Later on, put the first path part into the host field.\n  if (psychotic) {\n    result.hostname = '';\n    result.port = null;\n    if (result.host) {\n      if (srcPath[0] === '') srcPath[0] = result.host;\n      else srcPath.unshift(result.host);\n    }\n    result.host = '';\n    if (relative.protocol) {\n      relative.hostname = null;\n      relative.port = null;\n      if (relative.host) {\n        if (relPath[0] === '') relPath[0] = relative.host;\n        else relPath.unshift(relative.host);\n      }\n      relative.host = null;\n    }\n    mustEndAbs = mustEndAbs && (relPath[0] === '' || srcPath[0] === '');\n  }\n\n  if (isRelAbs) {\n    // it's absolute.\n    result.host = (relative.host || relative.host === '') ?\n                  relative.host : result.host;\n    result.hostname = (relative.hostname || relative.hostname === '') ?\n                      relative.hostname : result.hostname;\n    result.search = relative.search;\n    result.query = relative.query;\n    srcPath = relPath;\n    // fall through to the dot-handling below.\n  } else if (relPath.length) {\n    // it's relative\n    // throw away the existing file, and take the new path instead.\n    if (!srcPath) srcPath = [];\n    srcPath.pop();\n    srcPath = srcPath.concat(relPath);\n    result.search = relative.search;\n    result.query = relative.query;\n  } else if (!util.isNullOrUndefined(relative.search)) {\n    // just pull out the search.\n    // like href='?foo'.\n    // Put this after the other two cases because it simplifies the booleans\n    if (psychotic) {\n      result.hostname = result.host = srcPath.shift();\n      //occationaly the auth can get stuck only in host\n      //this especially happens in cases like\n      //url.resolveObject('mailto:local1@domain1', 'local2@domain2')\n      var authInHost = result.host && result.host.indexOf('@') > 0 ?\n                       result.host.split('@') : false;\n      if (authInHost) {\n        result.auth = authInHost.shift();\n        result.host = result.hostname = authInHost.shift();\n      }\n    }\n    result.search = relative.search;\n    result.query = relative.query;\n    //to support http.request\n    if (!util.isNull(result.pathname) || !util.isNull(result.search)) {\n      result.path = (result.pathname ? result.pathname : '') +\n                    (result.search ? result.search : '');\n    }\n    result.href = result.format();\n    return result;\n  }\n\n  if (!srcPath.length) {\n    // no path at all.  easy.\n    // we've already handled the other stuff above.\n    result.pathname = null;\n    //to support http.request\n    if (result.search) {\n      result.path = '/' + result.search;\n    } else {\n      result.path = null;\n    }\n    result.href = result.format();\n    return result;\n  }\n\n  // if a url ENDs in . or .., then it must get a trailing slash.\n  // however, if it ends in anything else non-slashy,\n  // then it must NOT get a trailing slash.\n  var last = srcPath.slice(-1)[0];\n  var hasTrailingSlash = (\n      (result.host || relative.host || srcPath.length > 1) &&\n      (last === '.' || last === '..') || last === '');\n\n  // strip single dots, resolve double dots to parent dir\n  // if the path tries to go above the root, `up` ends up > 0\n  var up = 0;\n  for (var i = srcPath.length; i >= 0; i--) {\n    last = srcPath[i];\n    if (last === '.') {\n      srcPath.splice(i, 1);\n    } else if (last === '..') {\n      srcPath.splice(i, 1);\n      up++;\n    } else if (up) {\n      srcPath.splice(i, 1);\n      up--;\n    }\n  }\n\n  // if the path is allowed to go above the root, restore leading ..s\n  if (!mustEndAbs && !removeAllDots) {\n    for (; up--; up) {\n      srcPath.unshift('..');\n    }\n  }\n\n  if (mustEndAbs && srcPath[0] !== '' &&\n      (!srcPath[0] || srcPath[0].charAt(0) !== '/')) {\n    srcPath.unshift('');\n  }\n\n  if (hasTrailingSlash && (srcPath.join('/').substr(-1) !== '/')) {\n    srcPath.push('');\n  }\n\n  var isAbsolute = srcPath[0] === '' ||\n      (srcPath[0] && srcPath[0].charAt(0) === '/');\n\n  // put the host back\n  if (psychotic) {\n    result.hostname = result.host = isAbsolute ? '' :\n                                    srcPath.length ? srcPath.shift() : '';\n    //occationaly the auth can get stuck only in host\n    //this especially happens in cases like\n    //url.resolveObject('mailto:local1@domain1', 'local2@domain2')\n    var authInHost = result.host && result.host.indexOf('@') > 0 ?\n                     result.host.split('@') : false;\n    if (authInHost) {\n      result.auth = authInHost.shift();\n      result.host = result.hostname = authInHost.shift();\n    }\n  }\n\n  mustEndAbs = mustEndAbs || (result.host && srcPath.length);\n\n  if (mustEndAbs && !isAbsolute) {\n    srcPath.unshift('');\n  }\n\n  if (!srcPath.length) {\n    result.pathname = null;\n    result.path = null;\n  } else {\n    result.pathname = srcPath.join('/');\n  }\n\n  //to support request.http\n  if (!util.isNull(result.pathname) || !util.isNull(result.search)) {\n    result.path = (result.pathname ? result.pathname : '') +\n                  (result.search ? result.search : '');\n  }\n  result.auth = relative.auth || result.auth;\n  result.slashes = result.slashes || relative.slashes;\n  result.href = result.format();\n  return result;\n};\n\nUrl.prototype.parseHost = function() {\n  var host = this.host;\n  var port = portPattern.exec(host);\n  if (port) {\n    port = port[0];\n    if (port !== ':') {\n      this.port = port.substr(1);\n    }\n    host = host.substr(0, host.length - port.length);\n  }\n  if (host) this.hostname = host;\n};\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SpecialStatus = void 0;\n/** Denotes special status of resource */\nvar SpecialStatus;\n(function (SpecialStatus) {\n    /** The local copy is different than the one on the remote end. */\n    SpecialStatus[\"DIRTY\"] = \"DIRTY\";\n    /** The local copy is being saved on the remote end right now? */\n    SpecialStatus[\"SAVING\"] = \"SAVING\";\n    /** API and FE are in sync. Using \"\" for now because its falsey like old\n     * `undefined` value */\n    SpecialStatus[\"SAVED\"] = \"\";\n})(SpecialStatus = exports.SpecialStatus || (exports.SpecialStatus = {}));\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n'use strict';\n\nmodule.exports = Readable;\n/*<replacement>*/\n\nvar Duplex;\n/*</replacement>*/\n\nReadable.ReadableState = ReadableState;\n/*<replacement>*/\n\nvar EE = require('events').EventEmitter;\n\nvar EElistenerCount = function EElistenerCount(emitter, type) {\n  return emitter.listeners(type).length;\n};\n/*</replacement>*/\n\n/*<replacement>*/\n\n\nvar Stream = require('./internal/streams/stream');\n/*</replacement>*/\n\n\nvar Buffer = require('buffer').Buffer;\n\nvar OurUint8Array = global.Uint8Array || function () {};\n\nfunction _uint8ArrayToBuffer(chunk) {\n  return Buffer.from(chunk);\n}\n\nfunction _isUint8Array(obj) {\n  return Buffer.isBuffer(obj) || obj instanceof OurUint8Array;\n}\n/*<replacement>*/\n\n\nvar debugUtil = require('util');\n\nvar debug;\n\nif (debugUtil && debugUtil.debuglog) {\n  debug = debugUtil.debuglog('stream');\n} else {\n  debug = function debug() {};\n}\n/*</replacement>*/\n\n\nvar BufferList = require('./internal/streams/buffer_list');\n\nvar destroyImpl = require('./internal/streams/destroy');\n\nvar _require = require('./internal/streams/state'),\n    getHighWaterMark = _require.getHighWaterMark;\n\nvar _require$codes = require('../errors').codes,\n    ERR_INVALID_ARG_TYPE = _require$codes.ERR_INVALID_ARG_TYPE,\n    ERR_STREAM_PUSH_AFTER_EOF = _require$codes.ERR_STREAM_PUSH_AFTER_EOF,\n    ERR_METHOD_NOT_IMPLEMENTED = _require$codes.ERR_METHOD_NOT_IMPLEMENTED,\n    ERR_STREAM_UNSHIFT_AFTER_END_EVENT = _require$codes.ERR_STREAM_UNSHIFT_AFTER_END_EVENT; // Lazy loaded to improve the startup performance.\n\n\nvar StringDecoder;\nvar createReadableStreamAsyncIterator;\nvar from;\n\nrequire('inherits')(Readable, Stream);\n\nvar errorOrDestroy = destroyImpl.errorOrDestroy;\nvar kProxyEvents = ['error', 'close', 'destroy', 'pause', 'resume'];\n\nfunction prependListener(emitter, event, fn) {\n  // Sadly this is not cacheable as some libraries bundle their own\n  // event emitter implementation with them.\n  if (typeof emitter.prependListener === 'function') return emitter.prependListener(event, fn); // This is a hack to make sure that our error handler is attached before any\n  // userland ones.  NEVER DO THIS. This is here only because this code needs\n  // to continue to work with older versions of Node.js that do not include\n  // the prependListener() method. The goal is to eventually remove this hack.\n\n  if (!emitter._events || !emitter._events[event]) emitter.on(event, fn);else if (Array.isArray(emitter._events[event])) emitter._events[event].unshift(fn);else emitter._events[event] = [fn, emitter._events[event]];\n}\n\nfunction ReadableState(options, stream, isDuplex) {\n  Duplex = Duplex || require('./_stream_duplex');\n  options = options || {}; // Duplex streams are both readable and writable, but share\n  // the same options object.\n  // However, some cases require setting options to different\n  // values for the readable and the writable sides of the duplex stream.\n  // These options can be provided separately as readableXXX and writableXXX.\n\n  if (typeof isDuplex !== 'boolean') isDuplex = stream instanceof Duplex; // object stream flag. Used to make read(n) ignore n and to\n  // make all the buffer merging and length checks go away\n\n  this.objectMode = !!options.objectMode;\n  if (isDuplex) this.objectMode = this.objectMode || !!options.readableObjectMode; // the point at which it stops calling _read() to fill the buffer\n  // Note: 0 is a valid value, means \"don't call _read preemptively ever\"\n\n  this.highWaterMark = getHighWaterMark(this, options, 'readableHighWaterMark', isDuplex); // A linked list is used to store data chunks instead of an array because the\n  // linked list can remove elements from the beginning faster than\n  // array.shift()\n\n  this.buffer = new BufferList();\n  this.length = 0;\n  this.pipes = null;\n  this.pipesCount = 0;\n  this.flowing = null;\n  this.ended = false;\n  this.endEmitted = false;\n  this.reading = false; // a flag to be able to tell if the event 'readable'/'data' is emitted\n  // immediately, or on a later tick.  We set this to true at first, because\n  // any actions that shouldn't happen until \"later\" should generally also\n  // not happen before the first read call.\n\n  this.sync = true; // whenever we return null, then we set a flag to say\n  // that we're awaiting a 'readable' event emission.\n\n  this.needReadable = false;\n  this.emittedReadable = false;\n  this.readableListening = false;\n  this.resumeScheduled = false;\n  this.paused = true; // Should close be emitted on destroy. Defaults to true.\n\n  this.emitClose = options.emitClose !== false; // Should .destroy() be called after 'end' (and potentially 'finish')\n\n  this.autoDestroy = !!options.autoDestroy; // has it been destroyed\n\n  this.destroyed = false; // Crypto is kind of old and crusty.  Historically, its default string\n  // encoding is 'binary' so we have to make this configurable.\n  // Everything else in the universe uses 'utf8', though.\n\n  this.defaultEncoding = options.defaultEncoding || 'utf8'; // the number of writers that are awaiting a drain event in .pipe()s\n\n  this.awaitDrain = 0; // if true, a maybeReadMore has been scheduled\n\n  this.readingMore = false;\n  this.decoder = null;\n  this.encoding = null;\n\n  if (options.encoding) {\n    if (!StringDecoder) StringDecoder = require('string_decoder/').StringDecoder;\n    this.decoder = new StringDecoder(options.encoding);\n    this.encoding = options.encoding;\n  }\n}\n\nfunction Readable(options) {\n  Duplex = Duplex || require('./_stream_duplex');\n  if (!(this instanceof Readable)) return new Readable(options); // Checking for a Stream.Duplex instance is faster here instead of inside\n  // the ReadableState constructor, at least with V8 6.5\n\n  var isDuplex = this instanceof Duplex;\n  this._readableState = new ReadableState(options, this, isDuplex); // legacy\n\n  this.readable = true;\n\n  if (options) {\n    if (typeof options.read === 'function') this._read = options.read;\n    if (typeof options.destroy === 'function') this._destroy = options.destroy;\n  }\n\n  Stream.call(this);\n}\n\nObject.defineProperty(Readable.prototype, 'destroyed', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function get() {\n    if (this._readableState === undefined) {\n      return false;\n    }\n\n    return this._readableState.destroyed;\n  },\n  set: function set(value) {\n    // we ignore the value if the stream\n    // has not been initialized yet\n    if (!this._readableState) {\n      return;\n    } // backward compatibility, the user is explicitly\n    // managing destroyed\n\n\n    this._readableState.destroyed = value;\n  }\n});\nReadable.prototype.destroy = destroyImpl.destroy;\nReadable.prototype._undestroy = destroyImpl.undestroy;\n\nReadable.prototype._destroy = function (err, cb) {\n  cb(err);\n}; // Manually shove something into the read() buffer.\n// This returns true if the highWaterMark has not been hit yet,\n// similar to how Writable.write() returns true if you should\n// write() some more.\n\n\nReadable.prototype.push = function (chunk, encoding) {\n  var state = this._readableState;\n  var skipChunkCheck;\n\n  if (!state.objectMode) {\n    if (typeof chunk === 'string') {\n      encoding = encoding || state.defaultEncoding;\n\n      if (encoding !== state.encoding) {\n        chunk = Buffer.from(chunk, encoding);\n        encoding = '';\n      }\n\n      skipChunkCheck = true;\n    }\n  } else {\n    skipChunkCheck = true;\n  }\n\n  return readableAddChunk(this, chunk, encoding, false, skipChunkCheck);\n}; // Unshift should *always* be something directly out of read()\n\n\nReadable.prototype.unshift = function (chunk) {\n  return readableAddChunk(this, chunk, null, true, false);\n};\n\nfunction readableAddChunk(stream, chunk, encoding, addToFront, skipChunkCheck) {\n  debug('readableAddChunk', chunk);\n  var state = stream._readableState;\n\n  if (chunk === null) {\n    state.reading = false;\n    onEofChunk(stream, state);\n  } else {\n    var er;\n    if (!skipChunkCheck) er = chunkInvalid(state, chunk);\n\n    if (er) {\n      errorOrDestroy(stream, er);\n    } else if (state.objectMode || chunk && chunk.length > 0) {\n      if (typeof chunk !== 'string' && !state.objectMode && Object.getPrototypeOf(chunk) !== Buffer.prototype) {\n        chunk = _uint8ArrayToBuffer(chunk);\n      }\n\n      if (addToFront) {\n        if (state.endEmitted) errorOrDestroy(stream, new ERR_STREAM_UNSHIFT_AFTER_END_EVENT());else addChunk(stream, state, chunk, true);\n      } else if (state.ended) {\n        errorOrDestroy(stream, new ERR_STREAM_PUSH_AFTER_EOF());\n      } else if (state.destroyed) {\n        return false;\n      } else {\n        state.reading = false;\n\n        if (state.decoder && !encoding) {\n          chunk = state.decoder.write(chunk);\n          if (state.objectMode || chunk.length !== 0) addChunk(stream, state, chunk, false);else maybeReadMore(stream, state);\n        } else {\n          addChunk(stream, state, chunk, false);\n        }\n      }\n    } else if (!addToFront) {\n      state.reading = false;\n      maybeReadMore(stream, state);\n    }\n  } // We can push more data if we are below the highWaterMark.\n  // Also, if we have no data yet, we can stand some more bytes.\n  // This is to work around cases where hwm=0, such as the repl.\n\n\n  return !state.ended && (state.length < state.highWaterMark || state.length === 0);\n}\n\nfunction addChunk(stream, state, chunk, addToFront) {\n  if (state.flowing && state.length === 0 && !state.sync) {\n    state.awaitDrain = 0;\n    stream.emit('data', chunk);\n  } else {\n    // update the buffer info.\n    state.length += state.objectMode ? 1 : chunk.length;\n    if (addToFront) state.buffer.unshift(chunk);else state.buffer.push(chunk);\n    if (state.needReadable) emitReadable(stream);\n  }\n\n  maybeReadMore(stream, state);\n}\n\nfunction chunkInvalid(state, chunk) {\n  var er;\n\n  if (!_isUint8Array(chunk) && typeof chunk !== 'string' && chunk !== undefined && !state.objectMode) {\n    er = new ERR_INVALID_ARG_TYPE('chunk', ['string', 'Buffer', 'Uint8Array'], chunk);\n  }\n\n  return er;\n}\n\nReadable.prototype.isPaused = function () {\n  return this._readableState.flowing === false;\n}; // backwards compatibility.\n\n\nReadable.prototype.setEncoding = function (enc) {\n  if (!StringDecoder) StringDecoder = require('string_decoder/').StringDecoder;\n  var decoder = new StringDecoder(enc);\n  this._readableState.decoder = decoder; // If setEncoding(null), decoder.encoding equals utf8\n\n  this._readableState.encoding = this._readableState.decoder.encoding; // Iterate over current buffer to convert already stored Buffers:\n\n  var p = this._readableState.buffer.head;\n  var content = '';\n\n  while (p !== null) {\n    content += decoder.write(p.data);\n    p = p.next;\n  }\n\n  this._readableState.buffer.clear();\n\n  if (content !== '') this._readableState.buffer.push(content);\n  this._readableState.length = content.length;\n  return this;\n}; // Don't raise the hwm > 1GB\n\n\nvar MAX_HWM = 0x40000000;\n\nfunction computeNewHighWaterMark(n) {\n  if (n >= MAX_HWM) {\n    // TODO(ronag): Throw ERR_VALUE_OUT_OF_RANGE.\n    n = MAX_HWM;\n  } else {\n    // Get the next highest power of 2 to prevent increasing hwm excessively in\n    // tiny amounts\n    n--;\n    n |= n >>> 1;\n    n |= n >>> 2;\n    n |= n >>> 4;\n    n |= n >>> 8;\n    n |= n >>> 16;\n    n++;\n  }\n\n  return n;\n} // This function is designed to be inlinable, so please take care when making\n// changes to the function body.\n\n\nfunction howMuchToRead(n, state) {\n  if (n <= 0 || state.length === 0 && state.ended) return 0;\n  if (state.objectMode) return 1;\n\n  if (n !== n) {\n    // Only flow one buffer at a time\n    if (state.flowing && state.length) return state.buffer.head.data.length;else return state.length;\n  } // If we're asking for more than the current hwm, then raise the hwm.\n\n\n  if (n > state.highWaterMark) state.highWaterMark = computeNewHighWaterMark(n);\n  if (n <= state.length) return n; // Don't have enough\n\n  if (!state.ended) {\n    state.needReadable = true;\n    return 0;\n  }\n\n  return state.length;\n} // you can override either this method, or the async _read(n) below.\n\n\nReadable.prototype.read = function (n) {\n  debug('read', n);\n  n = parseInt(n, 10);\n  var state = this._readableState;\n  var nOrig = n;\n  if (n !== 0) state.emittedReadable = false; // if we're doing read(0) to trigger a readable event, but we\n  // already have a bunch of data in the buffer, then just trigger\n  // the 'readable' event and move on.\n\n  if (n === 0 && state.needReadable && ((state.highWaterMark !== 0 ? state.length >= state.highWaterMark : state.length > 0) || state.ended)) {\n    debug('read: emitReadable', state.length, state.ended);\n    if (state.length === 0 && state.ended) endReadable(this);else emitReadable(this);\n    return null;\n  }\n\n  n = howMuchToRead(n, state); // if we've ended, and we're now clear, then finish it up.\n\n  if (n === 0 && state.ended) {\n    if (state.length === 0) endReadable(this);\n    return null;\n  } // All the actual chunk generation logic needs to be\n  // *below* the call to _read.  The reason is that in certain\n  // synthetic stream cases, such as passthrough streams, _read\n  // may be a completely synchronous operation which may change\n  // the state of the read buffer, providing enough data when\n  // before there was *not* enough.\n  //\n  // So, the steps are:\n  // 1. Figure out what the state of things will be after we do\n  // a read from the buffer.\n  //\n  // 2. If that resulting state will trigger a _read, then call _read.\n  // Note that this may be asynchronous, or synchronous.  Yes, it is\n  // deeply ugly to write APIs this way, but that still doesn't mean\n  // that the Readable class should behave improperly, as streams are\n  // designed to be sync/async agnostic.\n  // Take note if the _read call is sync or async (ie, if the read call\n  // has returned yet), so that we know whether or not it's safe to emit\n  // 'readable' etc.\n  //\n  // 3. Actually pull the requested chunks out of the buffer and return.\n  // if we need a readable event, then we need to do some reading.\n\n\n  var doRead = state.needReadable;\n  debug('need readable', doRead); // if we currently have less than the highWaterMark, then also read some\n\n  if (state.length === 0 || state.length - n < state.highWaterMark) {\n    doRead = true;\n    debug('length less than watermark', doRead);\n  } // however, if we've ended, then there's no point, and if we're already\n  // reading, then it's unnecessary.\n\n\n  if (state.ended || state.reading) {\n    doRead = false;\n    debug('reading or ended', doRead);\n  } else if (doRead) {\n    debug('do read');\n    state.reading = true;\n    state.sync = true; // if the length is currently zero, then we *need* a readable event.\n\n    if (state.length === 0) state.needReadable = true; // call internal read method\n\n    this._read(state.highWaterMark);\n\n    state.sync = false; // If _read pushed data synchronously, then `reading` will be false,\n    // and we need to re-evaluate how much data we can return to the user.\n\n    if (!state.reading) n = howMuchToRead(nOrig, state);\n  }\n\n  var ret;\n  if (n > 0) ret = fromList(n, state);else ret = null;\n\n  if (ret === null) {\n    state.needReadable = state.length <= state.highWaterMark;\n    n = 0;\n  } else {\n    state.length -= n;\n    state.awaitDrain = 0;\n  }\n\n  if (state.length === 0) {\n    // If we have nothing in the buffer, then we want to know\n    // as soon as we *do* get something into the buffer.\n    if (!state.ended) state.needReadable = true; // If we tried to read() past the EOF, then emit end on the next tick.\n\n    if (nOrig !== n && state.ended) endReadable(this);\n  }\n\n  if (ret !== null) this.emit('data', ret);\n  return ret;\n};\n\nfunction onEofChunk(stream, state) {\n  debug('onEofChunk');\n  if (state.ended) return;\n\n  if (state.decoder) {\n    var chunk = state.decoder.end();\n\n    if (chunk && chunk.length) {\n      state.buffer.push(chunk);\n      state.length += state.objectMode ? 1 : chunk.length;\n    }\n  }\n\n  state.ended = true;\n\n  if (state.sync) {\n    // if we are sync, wait until next tick to emit the data.\n    // Otherwise we risk emitting data in the flow()\n    // the readable code triggers during a read() call\n    emitReadable(stream);\n  } else {\n    // emit 'readable' now to make sure it gets picked up.\n    state.needReadable = false;\n\n    if (!state.emittedReadable) {\n      state.emittedReadable = true;\n      emitReadable_(stream);\n    }\n  }\n} // Don't emit readable right away in sync mode, because this can trigger\n// another read() call => stack overflow.  This way, it might trigger\n// a nextTick recursion warning, but that's not so bad.\n\n\nfunction emitReadable(stream) {\n  var state = stream._readableState;\n  debug('emitReadable', state.needReadable, state.emittedReadable);\n  state.needReadable = false;\n\n  if (!state.emittedReadable) {\n    debug('emitReadable', state.flowing);\n    state.emittedReadable = true;\n    process.nextTick(emitReadable_, stream);\n  }\n}\n\nfunction emitReadable_(stream) {\n  var state = stream._readableState;\n  debug('emitReadable_', state.destroyed, state.length, state.ended);\n\n  if (!state.destroyed && (state.length || state.ended)) {\n    stream.emit('readable');\n    state.emittedReadable = false;\n  } // The stream needs another readable event if\n  // 1. It is not flowing, as the flow mechanism will take\n  //    care of it.\n  // 2. It is not ended.\n  // 3. It is below the highWaterMark, so we can schedule\n  //    another readable later.\n\n\n  state.needReadable = !state.flowing && !state.ended && state.length <= state.highWaterMark;\n  flow(stream);\n} // at this point, the user has presumably seen the 'readable' event,\n// and called read() to consume some data.  that may have triggered\n// in turn another _read(n) call, in which case reading = true if\n// it's in progress.\n// However, if we're not ended, or reading, and the length < hwm,\n// then go ahead and try to read some more preemptively.\n\n\nfunction maybeReadMore(stream, state) {\n  if (!state.readingMore) {\n    state.readingMore = true;\n    process.nextTick(maybeReadMore_, stream, state);\n  }\n}\n\nfunction maybeReadMore_(stream, state) {\n  // Attempt to read more data if we should.\n  //\n  // The conditions for reading more data are (one of):\n  // - Not enough data buffered (state.length < state.highWaterMark). The loop\n  //   is responsible for filling the buffer with enough data if such data\n  //   is available. If highWaterMark is 0 and we are not in the flowing mode\n  //   we should _not_ attempt to buffer any extra data. We'll get more data\n  //   when the stream consumer calls read() instead.\n  // - No data in the buffer, and the stream is in flowing mode. In this mode\n  //   the loop below is responsible for ensuring read() is called. Failing to\n  //   call read here would abort the flow and there's no other mechanism for\n  //   continuing the flow if the stream consumer has just subscribed to the\n  //   'data' event.\n  //\n  // In addition to the above conditions to keep reading data, the following\n  // conditions prevent the data from being read:\n  // - The stream has ended (state.ended).\n  // - There is already a pending 'read' operation (state.reading). This is a\n  //   case where the the stream has called the implementation defined _read()\n  //   method, but they are processing the call asynchronously and have _not_\n  //   called push() with new data. In this case we skip performing more\n  //   read()s. The execution ends in this method again after the _read() ends\n  //   up calling push() with more data.\n  while (!state.reading && !state.ended && (state.length < state.highWaterMark || state.flowing && state.length === 0)) {\n    var len = state.length;\n    debug('maybeReadMore read 0');\n    stream.read(0);\n    if (len === state.length) // didn't get any data, stop spinning.\n      break;\n  }\n\n  state.readingMore = false;\n} // abstract method.  to be overridden in specific implementation classes.\n// call cb(er, data) where data is <= n in length.\n// for virtual (non-string, non-buffer) streams, \"length\" is somewhat\n// arbitrary, and perhaps not very meaningful.\n\n\nReadable.prototype._read = function (n) {\n  errorOrDestroy(this, new ERR_METHOD_NOT_IMPLEMENTED('_read()'));\n};\n\nReadable.prototype.pipe = function (dest, pipeOpts) {\n  var src = this;\n  var state = this._readableState;\n\n  switch (state.pipesCount) {\n    case 0:\n      state.pipes = dest;\n      break;\n\n    case 1:\n      state.pipes = [state.pipes, dest];\n      break;\n\n    default:\n      state.pipes.push(dest);\n      break;\n  }\n\n  state.pipesCount += 1;\n  debug('pipe count=%d opts=%j', state.pipesCount, pipeOpts);\n  var doEnd = (!pipeOpts || pipeOpts.end !== false) && dest !== process.stdout && dest !== process.stderr;\n  var endFn = doEnd ? onend : unpipe;\n  if (state.endEmitted) process.nextTick(endFn);else src.once('end', endFn);\n  dest.on('unpipe', onunpipe);\n\n  function onunpipe(readable, unpipeInfo) {\n    debug('onunpipe');\n\n    if (readable === src) {\n      if (unpipeInfo && unpipeInfo.hasUnpiped === false) {\n        unpipeInfo.hasUnpiped = true;\n        cleanup();\n      }\n    }\n  }\n\n  function onend() {\n    debug('onend');\n    dest.end();\n  } // when the dest drains, it reduces the awaitDrain counter\n  // on the source.  This would be more elegant with a .once()\n  // handler in flow(), but adding and removing repeatedly is\n  // too slow.\n\n\n  var ondrain = pipeOnDrain(src);\n  dest.on('drain', ondrain);\n  var cleanedUp = false;\n\n  function cleanup() {\n    debug('cleanup'); // cleanup event handlers once the pipe is broken\n\n    dest.removeListener('close', onclose);\n    dest.removeListener('finish', onfinish);\n    dest.removeListener('drain', ondrain);\n    dest.removeListener('error', onerror);\n    dest.removeListener('unpipe', onunpipe);\n    src.removeListener('end', onend);\n    src.removeListener('end', unpipe);\n    src.removeListener('data', ondata);\n    cleanedUp = true; // if the reader is waiting for a drain event from this\n    // specific writer, then it would cause it to never start\n    // flowing again.\n    // So, if this is awaiting a drain, then we just call it now.\n    // If we don't know, then assume that we are waiting for one.\n\n    if (state.awaitDrain && (!dest._writableState || dest._writableState.needDrain)) ondrain();\n  }\n\n  src.on('data', ondata);\n\n  function ondata(chunk) {\n    debug('ondata');\n    var ret = dest.write(chunk);\n    debug('dest.write', ret);\n\n    if (ret === false) {\n      // If the user unpiped during `dest.write()`, it is possible\n      // to get stuck in a permanently paused state if that write\n      // also returned false.\n      // => Check whether `dest` is still a piping destination.\n      if ((state.pipesCount === 1 && state.pipes === dest || state.pipesCount > 1 && indexOf(state.pipes, dest) !== -1) && !cleanedUp) {\n        debug('false write response, pause', state.awaitDrain);\n        state.awaitDrain++;\n      }\n\n      src.pause();\n    }\n  } // if the dest has an error, then stop piping into it.\n  // however, don't suppress the throwing behavior for this.\n\n\n  function onerror(er) {\n    debug('onerror', er);\n    unpipe();\n    dest.removeListener('error', onerror);\n    if (EElistenerCount(dest, 'error') === 0) errorOrDestroy(dest, er);\n  } // Make sure our error handler is attached before userland ones.\n\n\n  prependListener(dest, 'error', onerror); // Both close and finish should trigger unpipe, but only once.\n\n  function onclose() {\n    dest.removeListener('finish', onfinish);\n    unpipe();\n  }\n\n  dest.once('close', onclose);\n\n  function onfinish() {\n    debug('onfinish');\n    dest.removeListener('close', onclose);\n    unpipe();\n  }\n\n  dest.once('finish', onfinish);\n\n  function unpipe() {\n    debug('unpipe');\n    src.unpipe(dest);\n  } // tell the dest that it's being piped to\n\n\n  dest.emit('pipe', src); // start the flow if it hasn't been started already.\n\n  if (!state.flowing) {\n    debug('pipe resume');\n    src.resume();\n  }\n\n  return dest;\n};\n\nfunction pipeOnDrain(src) {\n  return function pipeOnDrainFunctionResult() {\n    var state = src._readableState;\n    debug('pipeOnDrain', state.awaitDrain);\n    if (state.awaitDrain) state.awaitDrain--;\n\n    if (state.awaitDrain === 0 && EElistenerCount(src, 'data')) {\n      state.flowing = true;\n      flow(src);\n    }\n  };\n}\n\nReadable.prototype.unpipe = function (dest) {\n  var state = this._readableState;\n  var unpipeInfo = {\n    hasUnpiped: false\n  }; // if we're not piping anywhere, then do nothing.\n\n  if (state.pipesCount === 0) return this; // just one destination.  most common case.\n\n  if (state.pipesCount === 1) {\n    // passed in one, but it's not the right one.\n    if (dest && dest !== state.pipes) return this;\n    if (!dest) dest = state.pipes; // got a match.\n\n    state.pipes = null;\n    state.pipesCount = 0;\n    state.flowing = false;\n    if (dest) dest.emit('unpipe', this, unpipeInfo);\n    return this;\n  } // slow case. multiple pipe destinations.\n\n\n  if (!dest) {\n    // remove all.\n    var dests = state.pipes;\n    var len = state.pipesCount;\n    state.pipes = null;\n    state.pipesCount = 0;\n    state.flowing = false;\n\n    for (var i = 0; i < len; i++) {\n      dests[i].emit('unpipe', this, {\n        hasUnpiped: false\n      });\n    }\n\n    return this;\n  } // try to find the right one.\n\n\n  var index = indexOf(state.pipes, dest);\n  if (index === -1) return this;\n  state.pipes.splice(index, 1);\n  state.pipesCount -= 1;\n  if (state.pipesCount === 1) state.pipes = state.pipes[0];\n  dest.emit('unpipe', this, unpipeInfo);\n  return this;\n}; // set up data events if they are asked for\n// Ensure readable listeners eventually get something\n\n\nReadable.prototype.on = function (ev, fn) {\n  var res = Stream.prototype.on.call(this, ev, fn);\n  var state = this._readableState;\n\n  if (ev === 'data') {\n    // update readableListening so that resume() may be a no-op\n    // a few lines down. This is needed to support once('readable').\n    state.readableListening = this.listenerCount('readable') > 0; // Try start flowing on next tick if stream isn't explicitly paused\n\n    if (state.flowing !== false) this.resume();\n  } else if (ev === 'readable') {\n    if (!state.endEmitted && !state.readableListening) {\n      state.readableListening = state.needReadable = true;\n      state.flowing = false;\n      state.emittedReadable = false;\n      debug('on readable', state.length, state.reading);\n\n      if (state.length) {\n        emitReadable(this);\n      } else if (!state.reading) {\n        process.nextTick(nReadingNextTick, this);\n      }\n    }\n  }\n\n  return res;\n};\n\nReadable.prototype.addListener = Readable.prototype.on;\n\nReadable.prototype.removeListener = function (ev, fn) {\n  var res = Stream.prototype.removeListener.call(this, ev, fn);\n\n  if (ev === 'readable') {\n    // We need to check if there is someone still listening to\n    // readable and reset the state. However this needs to happen\n    // after readable has been emitted but before I/O (nextTick) to\n    // support once('readable', fn) cycles. This means that calling\n    // resume within the same tick will have no\n    // effect.\n    process.nextTick(updateReadableListening, this);\n  }\n\n  return res;\n};\n\nReadable.prototype.removeAllListeners = function (ev) {\n  var res = Stream.prototype.removeAllListeners.apply(this, arguments);\n\n  if (ev === 'readable' || ev === undefined) {\n    // We need to check if there is someone still listening to\n    // readable and reset the state. However this needs to happen\n    // after readable has been emitted but before I/O (nextTick) to\n    // support once('readable', fn) cycles. This means that calling\n    // resume within the same tick will have no\n    // effect.\n    process.nextTick(updateReadableListening, this);\n  }\n\n  return res;\n};\n\nfunction updateReadableListening(self) {\n  var state = self._readableState;\n  state.readableListening = self.listenerCount('readable') > 0;\n\n  if (state.resumeScheduled && !state.paused) {\n    // flowing needs to be set to true now, otherwise\n    // the upcoming resume will not flow.\n    state.flowing = true; // crude way to check if we should resume\n  } else if (self.listenerCount('data') > 0) {\n    self.resume();\n  }\n}\n\nfunction nReadingNextTick(self) {\n  debug('readable nexttick read 0');\n  self.read(0);\n} // pause() and resume() are remnants of the legacy readable stream API\n// If the user uses them, then switch into old mode.\n\n\nReadable.prototype.resume = function () {\n  var state = this._readableState;\n\n  if (!state.flowing) {\n    debug('resume'); // we flow only if there is no one listening\n    // for readable, but we still have to call\n    // resume()\n\n    state.flowing = !state.readableListening;\n    resume(this, state);\n  }\n\n  state.paused = false;\n  return this;\n};\n\nfunction resume(stream, state) {\n  if (!state.resumeScheduled) {\n    state.resumeScheduled = true;\n    process.nextTick(resume_, stream, state);\n  }\n}\n\nfunction resume_(stream, state) {\n  debug('resume', state.reading);\n\n  if (!state.reading) {\n    stream.read(0);\n  }\n\n  state.resumeScheduled = false;\n  stream.emit('resume');\n  flow(stream);\n  if (state.flowing && !state.reading) stream.read(0);\n}\n\nReadable.prototype.pause = function () {\n  debug('call pause flowing=%j', this._readableState.flowing);\n\n  if (this._readableState.flowing !== false) {\n    debug('pause');\n    this._readableState.flowing = false;\n    this.emit('pause');\n  }\n\n  this._readableState.paused = true;\n  return this;\n};\n\nfunction flow(stream) {\n  var state = stream._readableState;\n  debug('flow', state.flowing);\n\n  while (state.flowing && stream.read() !== null) {\n    ;\n  }\n} // wrap an old-style stream as the async data source.\n// This is *not* part of the readable stream interface.\n// It is an ugly unfortunate mess of history.\n\n\nReadable.prototype.wrap = function (stream) {\n  var _this = this;\n\n  var state = this._readableState;\n  var paused = false;\n  stream.on('end', function () {\n    debug('wrapped end');\n\n    if (state.decoder && !state.ended) {\n      var chunk = state.decoder.end();\n      if (chunk && chunk.length) _this.push(chunk);\n    }\n\n    _this.push(null);\n  });\n  stream.on('data', function (chunk) {\n    debug('wrapped data');\n    if (state.decoder) chunk = state.decoder.write(chunk); // don't skip over falsy values in objectMode\n\n    if (state.objectMode && (chunk === null || chunk === undefined)) return;else if (!state.objectMode && (!chunk || !chunk.length)) return;\n\n    var ret = _this.push(chunk);\n\n    if (!ret) {\n      paused = true;\n      stream.pause();\n    }\n  }); // proxy all the other methods.\n  // important when wrapping filters and duplexes.\n\n  for (var i in stream) {\n    if (this[i] === undefined && typeof stream[i] === 'function') {\n      this[i] = function methodWrap(method) {\n        return function methodWrapReturnFunction() {\n          return stream[method].apply(stream, arguments);\n        };\n      }(i);\n    }\n  } // proxy certain important events.\n\n\n  for (var n = 0; n < kProxyEvents.length; n++) {\n    stream.on(kProxyEvents[n], this.emit.bind(this, kProxyEvents[n]));\n  } // when we try to consume some more bytes, simply unpause the\n  // underlying stream.\n\n\n  this._read = function (n) {\n    debug('wrapped _read', n);\n\n    if (paused) {\n      paused = false;\n      stream.resume();\n    }\n  };\n\n  return this;\n};\n\nif (typeof Symbol === 'function') {\n  Readable.prototype[Symbol.asyncIterator] = function () {\n    if (createReadableStreamAsyncIterator === undefined) {\n      createReadableStreamAsyncIterator = require('./internal/streams/async_iterator');\n    }\n\n    return createReadableStreamAsyncIterator(this);\n  };\n}\n\nObject.defineProperty(Readable.prototype, 'readableHighWaterMark', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function get() {\n    return this._readableState.highWaterMark;\n  }\n});\nObject.defineProperty(Readable.prototype, 'readableBuffer', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function get() {\n    return this._readableState && this._readableState.buffer;\n  }\n});\nObject.defineProperty(Readable.prototype, 'readableFlowing', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function get() {\n    return this._readableState.flowing;\n  },\n  set: function set(state) {\n    if (this._readableState) {\n      this._readableState.flowing = state;\n    }\n  }\n}); // exposed for testing purposes only.\n\nReadable._fromList = fromList;\nObject.defineProperty(Readable.prototype, 'readableLength', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function get() {\n    return this._readableState.length;\n  }\n}); // Pluck off n bytes from an array of buffers.\n// Length is the combined lengths of all the buffers in the list.\n// This function is designed to be inlinable, so please take care when making\n// changes to the function body.\n\nfunction fromList(n, state) {\n  // nothing buffered\n  if (state.length === 0) return null;\n  var ret;\n  if (state.objectMode) ret = state.buffer.shift();else if (!n || n >= state.length) {\n    // read it all, truncate the list\n    if (state.decoder) ret = state.buffer.join('');else if (state.buffer.length === 1) ret = state.buffer.first();else ret = state.buffer.concat(state.length);\n    state.buffer.clear();\n  } else {\n    // read part of list\n    ret = state.buffer.consume(n, state.decoder);\n  }\n  return ret;\n}\n\nfunction endReadable(stream) {\n  var state = stream._readableState;\n  debug('endReadable', state.endEmitted);\n\n  if (!state.endEmitted) {\n    state.ended = true;\n    process.nextTick(endReadableNT, state, stream);\n  }\n}\n\nfunction endReadableNT(state, stream) {\n  debug('endReadableNT', state.endEmitted, state.length); // Check that we didn't get one last unshift.\n\n  if (!state.endEmitted && state.length === 0) {\n    state.endEmitted = true;\n    stream.readable = false;\n    stream.emit('end');\n\n    if (state.autoDestroy) {\n      // In case of duplex streams we need a way to detect\n      // if the writable side is ready for autoDestroy as well\n      var wState = stream._writableState;\n\n      if (!wState || wState.autoDestroy && wState.finished) {\n        stream.destroy();\n      }\n    }\n  }\n}\n\nif (typeof Symbol === 'function') {\n  Readable.from = function (iterable, opts) {\n    if (from === undefined) {\n      from = require('./internal/streams/from');\n    }\n\n    return from(Readable, iterable, opts);\n  };\n}\n\nfunction indexOf(xs, x) {\n  for (var i = 0, l = xs.length; i < l; i++) {\n    if (xs[i] === x) return i;\n  }\n\n  return -1;\n}","'use strict';\nvar toInteger = require('../internals/to-integer');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\n\n// `String.prototype.repeat` method implementation\n// https://tc39.github.io/ecma262/#sec-string.prototype.repeat\nmodule.exports = ''.repeat || function repeat(count) {\n  var str = String(requireObjectCoercible(this));\n  var result = '';\n  var n = toInteger(count);\n  if (n < 0 || n == Infinity) throw RangeError('Wrong number of repetitions');\n  for (;n > 0; (n >>>= 1) && (str += str)) if (n & 1) result += str;\n  return result;\n};\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n// A bit simpler than readable streams.\n// Implement an async ._write(chunk, encoding, cb), and it'll handle all\n// the drain event emission and buffering.\n'use strict';\n\nmodule.exports = Writable;\n/* <replacement> */\n\nfunction WriteReq(chunk, encoding, cb) {\n  this.chunk = chunk;\n  this.encoding = encoding;\n  this.callback = cb;\n  this.next = null;\n} // It seems a linked list but it is not\n// there will be only 2 of these for each stream\n\n\nfunction CorkedRequest(state) {\n  var _this = this;\n\n  this.next = null;\n  this.entry = null;\n\n  this.finish = function () {\n    onCorkedFinish(_this, state);\n  };\n}\n/* </replacement> */\n\n/*<replacement>*/\n\n\nvar Duplex;\n/*</replacement>*/\n\nWritable.WritableState = WritableState;\n/*<replacement>*/\n\nvar internalUtil = {\n  deprecate: require('util-deprecate')\n};\n/*</replacement>*/\n\n/*<replacement>*/\n\nvar Stream = require('./internal/streams/stream');\n/*</replacement>*/\n\n\nvar Buffer = require('buffer').Buffer;\n\nvar OurUint8Array = global.Uint8Array || function () {};\n\nfunction _uint8ArrayToBuffer(chunk) {\n  return Buffer.from(chunk);\n}\n\nfunction _isUint8Array(obj) {\n  return Buffer.isBuffer(obj) || obj instanceof OurUint8Array;\n}\n\nvar destroyImpl = require('./internal/streams/destroy');\n\nvar _require = require('./internal/streams/state'),\n    getHighWaterMark = _require.getHighWaterMark;\n\nvar _require$codes = require('../errors').codes,\n    ERR_INVALID_ARG_TYPE = _require$codes.ERR_INVALID_ARG_TYPE,\n    ERR_METHOD_NOT_IMPLEMENTED = _require$codes.ERR_METHOD_NOT_IMPLEMENTED,\n    ERR_MULTIPLE_CALLBACK = _require$codes.ERR_MULTIPLE_CALLBACK,\n    ERR_STREAM_CANNOT_PIPE = _require$codes.ERR_STREAM_CANNOT_PIPE,\n    ERR_STREAM_DESTROYED = _require$codes.ERR_STREAM_DESTROYED,\n    ERR_STREAM_NULL_VALUES = _require$codes.ERR_STREAM_NULL_VALUES,\n    ERR_STREAM_WRITE_AFTER_END = _require$codes.ERR_STREAM_WRITE_AFTER_END,\n    ERR_UNKNOWN_ENCODING = _require$codes.ERR_UNKNOWN_ENCODING;\n\nvar errorOrDestroy = destroyImpl.errorOrDestroy;\n\nrequire('inherits')(Writable, Stream);\n\nfunction nop() {}\n\nfunction WritableState(options, stream, isDuplex) {\n  Duplex = Duplex || require('./_stream_duplex');\n  options = options || {}; // Duplex streams are both readable and writable, but share\n  // the same options object.\n  // However, some cases require setting options to different\n  // values for the readable and the writable sides of the duplex stream,\n  // e.g. options.readableObjectMode vs. options.writableObjectMode, etc.\n\n  if (typeof isDuplex !== 'boolean') isDuplex = stream instanceof Duplex; // object stream flag to indicate whether or not this stream\n  // contains buffers or objects.\n\n  this.objectMode = !!options.objectMode;\n  if (isDuplex) this.objectMode = this.objectMode || !!options.writableObjectMode; // the point at which write() starts returning false\n  // Note: 0 is a valid value, means that we always return false if\n  // the entire buffer is not flushed immediately on write()\n\n  this.highWaterMark = getHighWaterMark(this, options, 'writableHighWaterMark', isDuplex); // if _final has been called\n\n  this.finalCalled = false; // drain event flag.\n\n  this.needDrain = false; // at the start of calling end()\n\n  this.ending = false; // when end() has been called, and returned\n\n  this.ended = false; // when 'finish' is emitted\n\n  this.finished = false; // has it been destroyed\n\n  this.destroyed = false; // should we decode strings into buffers before passing to _write?\n  // this is here so that some node-core streams can optimize string\n  // handling at a lower level.\n\n  var noDecode = options.decodeStrings === false;\n  this.decodeStrings = !noDecode; // Crypto is kind of old and crusty.  Historically, its default string\n  // encoding is 'binary' so we have to make this configurable.\n  // Everything else in the universe uses 'utf8', though.\n\n  this.defaultEncoding = options.defaultEncoding || 'utf8'; // not an actual buffer we keep track of, but a measurement\n  // of how much we're waiting to get pushed to some underlying\n  // socket or file.\n\n  this.length = 0; // a flag to see when we're in the middle of a write.\n\n  this.writing = false; // when true all writes will be buffered until .uncork() call\n\n  this.corked = 0; // a flag to be able to tell if the onwrite cb is called immediately,\n  // or on a later tick.  We set this to true at first, because any\n  // actions that shouldn't happen until \"later\" should generally also\n  // not happen before the first write call.\n\n  this.sync = true; // a flag to know if we're processing previously buffered items, which\n  // may call the _write() callback in the same tick, so that we don't\n  // end up in an overlapped onwrite situation.\n\n  this.bufferProcessing = false; // the callback that's passed to _write(chunk,cb)\n\n  this.onwrite = function (er) {\n    onwrite(stream, er);\n  }; // the callback that the user supplies to write(chunk,encoding,cb)\n\n\n  this.writecb = null; // the amount that is being written when _write is called.\n\n  this.writelen = 0;\n  this.bufferedRequest = null;\n  this.lastBufferedRequest = null; // number of pending user-supplied write callbacks\n  // this must be 0 before 'finish' can be emitted\n\n  this.pendingcb = 0; // emit prefinish if the only thing we're waiting for is _write cbs\n  // This is relevant for synchronous Transform streams\n\n  this.prefinished = false; // True if the error was already emitted and should not be thrown again\n\n  this.errorEmitted = false; // Should close be emitted on destroy. Defaults to true.\n\n  this.emitClose = options.emitClose !== false; // Should .destroy() be called after 'finish' (and potentially 'end')\n\n  this.autoDestroy = !!options.autoDestroy; // count buffered requests\n\n  this.bufferedRequestCount = 0; // allocate the first CorkedRequest, there is always\n  // one allocated and free to use, and we maintain at most two\n\n  this.corkedRequestsFree = new CorkedRequest(this);\n}\n\nWritableState.prototype.getBuffer = function getBuffer() {\n  var current = this.bufferedRequest;\n  var out = [];\n\n  while (current) {\n    out.push(current);\n    current = current.next;\n  }\n\n  return out;\n};\n\n(function () {\n  try {\n    Object.defineProperty(WritableState.prototype, 'buffer', {\n      get: internalUtil.deprecate(function writableStateBufferGetter() {\n        return this.getBuffer();\n      }, '_writableState.buffer is deprecated. Use _writableState.getBuffer ' + 'instead.', 'DEP0003')\n    });\n  } catch (_) {}\n})(); // Test _writableState for inheritance to account for Duplex streams,\n// whose prototype chain only points to Readable.\n\n\nvar realHasInstance;\n\nif (typeof Symbol === 'function' && Symbol.hasInstance && typeof Function.prototype[Symbol.hasInstance] === 'function') {\n  realHasInstance = Function.prototype[Symbol.hasInstance];\n  Object.defineProperty(Writable, Symbol.hasInstance, {\n    value: function value(object) {\n      if (realHasInstance.call(this, object)) return true;\n      if (this !== Writable) return false;\n      return object && object._writableState instanceof WritableState;\n    }\n  });\n} else {\n  realHasInstance = function realHasInstance(object) {\n    return object instanceof this;\n  };\n}\n\nfunction Writable(options) {\n  Duplex = Duplex || require('./_stream_duplex'); // Writable ctor is applied to Duplexes, too.\n  // `realHasInstance` is necessary because using plain `instanceof`\n  // would return false, as no `_writableState` property is attached.\n  // Trying to use the custom `instanceof` for Writable here will also break the\n  // Node.js LazyTransform implementation, which has a non-trivial getter for\n  // `_writableState` that would lead to infinite recursion.\n  // Checking for a Stream.Duplex instance is faster here instead of inside\n  // the WritableState constructor, at least with V8 6.5\n\n  var isDuplex = this instanceof Duplex;\n  if (!isDuplex && !realHasInstance.call(Writable, this)) return new Writable(options);\n  this._writableState = new WritableState(options, this, isDuplex); // legacy.\n\n  this.writable = true;\n\n  if (options) {\n    if (typeof options.write === 'function') this._write = options.write;\n    if (typeof options.writev === 'function') this._writev = options.writev;\n    if (typeof options.destroy === 'function') this._destroy = options.destroy;\n    if (typeof options.final === 'function') this._final = options.final;\n  }\n\n  Stream.call(this);\n} // Otherwise people can pipe Writable streams, which is just wrong.\n\n\nWritable.prototype.pipe = function () {\n  errorOrDestroy(this, new ERR_STREAM_CANNOT_PIPE());\n};\n\nfunction writeAfterEnd(stream, cb) {\n  var er = new ERR_STREAM_WRITE_AFTER_END(); // TODO: defer error events consistently everywhere, not just the cb\n\n  errorOrDestroy(stream, er);\n  process.nextTick(cb, er);\n} // Checks that a user-supplied chunk is valid, especially for the particular\n// mode the stream is in. Currently this means that `null` is never accepted\n// and undefined/non-string values are only allowed in object mode.\n\n\nfunction validChunk(stream, state, chunk, cb) {\n  var er;\n\n  if (chunk === null) {\n    er = new ERR_STREAM_NULL_VALUES();\n  } else if (typeof chunk !== 'string' && !state.objectMode) {\n    er = new ERR_INVALID_ARG_TYPE('chunk', ['string', 'Buffer'], chunk);\n  }\n\n  if (er) {\n    errorOrDestroy(stream, er);\n    process.nextTick(cb, er);\n    return false;\n  }\n\n  return true;\n}\n\nWritable.prototype.write = function (chunk, encoding, cb) {\n  var state = this._writableState;\n  var ret = false;\n\n  var isBuf = !state.objectMode && _isUint8Array(chunk);\n\n  if (isBuf && !Buffer.isBuffer(chunk)) {\n    chunk = _uint8ArrayToBuffer(chunk);\n  }\n\n  if (typeof encoding === 'function') {\n    cb = encoding;\n    encoding = null;\n  }\n\n  if (isBuf) encoding = 'buffer';else if (!encoding) encoding = state.defaultEncoding;\n  if (typeof cb !== 'function') cb = nop;\n  if (state.ending) writeAfterEnd(this, cb);else if (isBuf || validChunk(this, state, chunk, cb)) {\n    state.pendingcb++;\n    ret = writeOrBuffer(this, state, isBuf, chunk, encoding, cb);\n  }\n  return ret;\n};\n\nWritable.prototype.cork = function () {\n  this._writableState.corked++;\n};\n\nWritable.prototype.uncork = function () {\n  var state = this._writableState;\n\n  if (state.corked) {\n    state.corked--;\n    if (!state.writing && !state.corked && !state.bufferProcessing && state.bufferedRequest) clearBuffer(this, state);\n  }\n};\n\nWritable.prototype.setDefaultEncoding = function setDefaultEncoding(encoding) {\n  // node::ParseEncoding() requires lower case.\n  if (typeof encoding === 'string') encoding = encoding.toLowerCase();\n  if (!(['hex', 'utf8', 'utf-8', 'ascii', 'binary', 'base64', 'ucs2', 'ucs-2', 'utf16le', 'utf-16le', 'raw'].indexOf((encoding + '').toLowerCase()) > -1)) throw new ERR_UNKNOWN_ENCODING(encoding);\n  this._writableState.defaultEncoding = encoding;\n  return this;\n};\n\nObject.defineProperty(Writable.prototype, 'writableBuffer', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function get() {\n    return this._writableState && this._writableState.getBuffer();\n  }\n});\n\nfunction decodeChunk(state, chunk, encoding) {\n  if (!state.objectMode && state.decodeStrings !== false && typeof chunk === 'string') {\n    chunk = Buffer.from(chunk, encoding);\n  }\n\n  return chunk;\n}\n\nObject.defineProperty(Writable.prototype, 'writableHighWaterMark', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function get() {\n    return this._writableState.highWaterMark;\n  }\n}); // if we're already writing something, then just put this\n// in the queue, and wait our turn.  Otherwise, call _write\n// If we return false, then we need a drain event, so set that flag.\n\nfunction writeOrBuffer(stream, state, isBuf, chunk, encoding, cb) {\n  if (!isBuf) {\n    var newChunk = decodeChunk(state, chunk, encoding);\n\n    if (chunk !== newChunk) {\n      isBuf = true;\n      encoding = 'buffer';\n      chunk = newChunk;\n    }\n  }\n\n  var len = state.objectMode ? 1 : chunk.length;\n  state.length += len;\n  var ret = state.length < state.highWaterMark; // we must ensure that previous needDrain will not be reset to false.\n\n  if (!ret) state.needDrain = true;\n\n  if (state.writing || state.corked) {\n    var last = state.lastBufferedRequest;\n    state.lastBufferedRequest = {\n      chunk: chunk,\n      encoding: encoding,\n      isBuf: isBuf,\n      callback: cb,\n      next: null\n    };\n\n    if (last) {\n      last.next = state.lastBufferedRequest;\n    } else {\n      state.bufferedRequest = state.lastBufferedRequest;\n    }\n\n    state.bufferedRequestCount += 1;\n  } else {\n    doWrite(stream, state, false, len, chunk, encoding, cb);\n  }\n\n  return ret;\n}\n\nfunction doWrite(stream, state, writev, len, chunk, encoding, cb) {\n  state.writelen = len;\n  state.writecb = cb;\n  state.writing = true;\n  state.sync = true;\n  if (state.destroyed) state.onwrite(new ERR_STREAM_DESTROYED('write'));else if (writev) stream._writev(chunk, state.onwrite);else stream._write(chunk, encoding, state.onwrite);\n  state.sync = false;\n}\n\nfunction onwriteError(stream, state, sync, er, cb) {\n  --state.pendingcb;\n\n  if (sync) {\n    // defer the callback if we are being called synchronously\n    // to avoid piling up things on the stack\n    process.nextTick(cb, er); // this can emit finish, and it will always happen\n    // after error\n\n    process.nextTick(finishMaybe, stream, state);\n    stream._writableState.errorEmitted = true;\n    errorOrDestroy(stream, er);\n  } else {\n    // the caller expect this to happen before if\n    // it is async\n    cb(er);\n    stream._writableState.errorEmitted = true;\n    errorOrDestroy(stream, er); // this can emit finish, but finish must\n    // always follow error\n\n    finishMaybe(stream, state);\n  }\n}\n\nfunction onwriteStateUpdate(state) {\n  state.writing = false;\n  state.writecb = null;\n  state.length -= state.writelen;\n  state.writelen = 0;\n}\n\nfunction onwrite(stream, er) {\n  var state = stream._writableState;\n  var sync = state.sync;\n  var cb = state.writecb;\n  if (typeof cb !== 'function') throw new ERR_MULTIPLE_CALLBACK();\n  onwriteStateUpdate(state);\n  if (er) onwriteError(stream, state, sync, er, cb);else {\n    // Check if we're actually ready to finish, but don't emit yet\n    var finished = needFinish(state) || stream.destroyed;\n\n    if (!finished && !state.corked && !state.bufferProcessing && state.bufferedRequest) {\n      clearBuffer(stream, state);\n    }\n\n    if (sync) {\n      process.nextTick(afterWrite, stream, state, finished, cb);\n    } else {\n      afterWrite(stream, state, finished, cb);\n    }\n  }\n}\n\nfunction afterWrite(stream, state, finished, cb) {\n  if (!finished) onwriteDrain(stream, state);\n  state.pendingcb--;\n  cb();\n  finishMaybe(stream, state);\n} // Must force callback to be called on nextTick, so that we don't\n// emit 'drain' before the write() consumer gets the 'false' return\n// value, and has a chance to attach a 'drain' listener.\n\n\nfunction onwriteDrain(stream, state) {\n  if (state.length === 0 && state.needDrain) {\n    state.needDrain = false;\n    stream.emit('drain');\n  }\n} // if there's something in the buffer waiting, then process it\n\n\nfunction clearBuffer(stream, state) {\n  state.bufferProcessing = true;\n  var entry = state.bufferedRequest;\n\n  if (stream._writev && entry && entry.next) {\n    // Fast case, write everything using _writev()\n    var l = state.bufferedRequestCount;\n    var buffer = new Array(l);\n    var holder = state.corkedRequestsFree;\n    holder.entry = entry;\n    var count = 0;\n    var allBuffers = true;\n\n    while (entry) {\n      buffer[count] = entry;\n      if (!entry.isBuf) allBuffers = false;\n      entry = entry.next;\n      count += 1;\n    }\n\n    buffer.allBuffers = allBuffers;\n    doWrite(stream, state, true, state.length, buffer, '', holder.finish); // doWrite is almost always async, defer these to save a bit of time\n    // as the hot path ends with doWrite\n\n    state.pendingcb++;\n    state.lastBufferedRequest = null;\n\n    if (holder.next) {\n      state.corkedRequestsFree = holder.next;\n      holder.next = null;\n    } else {\n      state.corkedRequestsFree = new CorkedRequest(state);\n    }\n\n    state.bufferedRequestCount = 0;\n  } else {\n    // Slow case, write chunks one-by-one\n    while (entry) {\n      var chunk = entry.chunk;\n      var encoding = entry.encoding;\n      var cb = entry.callback;\n      var len = state.objectMode ? 1 : chunk.length;\n      doWrite(stream, state, false, len, chunk, encoding, cb);\n      entry = entry.next;\n      state.bufferedRequestCount--; // if we didn't call the onwrite immediately, then\n      // it means that we need to wait until it does.\n      // also, that means that the chunk and cb are currently\n      // being processed, so move the buffer counter past them.\n\n      if (state.writing) {\n        break;\n      }\n    }\n\n    if (entry === null) state.lastBufferedRequest = null;\n  }\n\n  state.bufferedRequest = entry;\n  state.bufferProcessing = false;\n}\n\nWritable.prototype._write = function (chunk, encoding, cb) {\n  cb(new ERR_METHOD_NOT_IMPLEMENTED('_write()'));\n};\n\nWritable.prototype._writev = null;\n\nWritable.prototype.end = function (chunk, encoding, cb) {\n  var state = this._writableState;\n\n  if (typeof chunk === 'function') {\n    cb = chunk;\n    chunk = null;\n    encoding = null;\n  } else if (typeof encoding === 'function') {\n    cb = encoding;\n    encoding = null;\n  }\n\n  if (chunk !== null && chunk !== undefined) this.write(chunk, encoding); // .end() fully uncorks\n\n  if (state.corked) {\n    state.corked = 1;\n    this.uncork();\n  } // ignore unnecessary end() calls.\n\n\n  if (!state.ending) endWritable(this, state, cb);\n  return this;\n};\n\nObject.defineProperty(Writable.prototype, 'writableLength', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function get() {\n    return this._writableState.length;\n  }\n});\n\nfunction needFinish(state) {\n  return state.ending && state.length === 0 && state.bufferedRequest === null && !state.finished && !state.writing;\n}\n\nfunction callFinal(stream, state) {\n  stream._final(function (err) {\n    state.pendingcb--;\n\n    if (err) {\n      errorOrDestroy(stream, err);\n    }\n\n    state.prefinished = true;\n    stream.emit('prefinish');\n    finishMaybe(stream, state);\n  });\n}\n\nfunction prefinish(stream, state) {\n  if (!state.prefinished && !state.finalCalled) {\n    if (typeof stream._final === 'function' && !state.destroyed) {\n      state.pendingcb++;\n      state.finalCalled = true;\n      process.nextTick(callFinal, stream, state);\n    } else {\n      state.prefinished = true;\n      stream.emit('prefinish');\n    }\n  }\n}\n\nfunction finishMaybe(stream, state) {\n  var need = needFinish(state);\n\n  if (need) {\n    prefinish(stream, state);\n\n    if (state.pendingcb === 0) {\n      state.finished = true;\n      stream.emit('finish');\n\n      if (state.autoDestroy) {\n        // In case of duplex streams we need a way to detect\n        // if the readable side is ready for autoDestroy as well\n        var rState = stream._readableState;\n\n        if (!rState || rState.autoDestroy && rState.endEmitted) {\n          stream.destroy();\n        }\n      }\n    }\n  }\n\n  return need;\n}\n\nfunction endWritable(stream, state, cb) {\n  state.ending = true;\n  finishMaybe(stream, state);\n\n  if (cb) {\n    if (state.finished) process.nextTick(cb);else stream.once('finish', cb);\n  }\n\n  state.ended = true;\n  stream.writable = false;\n}\n\nfunction onCorkedFinish(corkReq, state, err) {\n  var entry = corkReq.entry;\n  corkReq.entry = null;\n\n  while (entry) {\n    var cb = entry.callback;\n    state.pendingcb--;\n    cb(err);\n    entry = entry.next;\n  } // reuse the free corkReq.\n\n\n  state.corkedRequestsFree.next = corkReq;\n}\n\nObject.defineProperty(Writable.prototype, 'destroyed', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function get() {\n    if (this._writableState === undefined) {\n      return false;\n    }\n\n    return this._writableState.destroyed;\n  },\n  set: function set(value) {\n    // we ignore the value if the stream\n    // has not been initialized yet\n    if (!this._writableState) {\n      return;\n    } // backward compatibility, the user is explicitly\n    // managing destroyed\n\n\n    this._writableState.destroyed = value;\n  }\n});\nWritable.prototype.destroy = destroyImpl.destroy;\nWritable.prototype._undestroy = destroyImpl.undestroy;\n\nWritable.prototype._destroy = function (err, cb) {\n  cb(err);\n};","/**\n * Helpers.\n */\n\nvar s = 1000;\nvar m = s * 60;\nvar h = m * 60;\nvar d = h * 24;\nvar w = d * 7;\nvar y = d * 365.25;\n\n/**\n * Parse or format the given `val`.\n *\n * Options:\n *\n *  - `long` verbose formatting [false]\n *\n * @param {String|Number} val\n * @param {Object} [options]\n * @throws {Error} throw an error if val is not a non-empty string or a number\n * @return {String|Number}\n * @api public\n */\n\nmodule.exports = function(val, options) {\n  options = options || {};\n  var type = typeof val;\n  if (type === 'string' && val.length > 0) {\n    return parse(val);\n  } else if (type === 'number' && isFinite(val)) {\n    return options.long ? fmtLong(val) : fmtShort(val);\n  }\n  throw new Error(\n    'val is not a non-empty string or a valid number. val=' +\n      JSON.stringify(val)\n  );\n};\n\n/**\n * Parse the given `str` and return milliseconds.\n *\n * @param {String} str\n * @return {Number}\n * @api private\n */\n\nfunction parse(str) {\n  str = String(str);\n  if (str.length > 100) {\n    return;\n  }\n  var match = /^(-?(?:\\d+)?\\.?\\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(\n    str\n  );\n  if (!match) {\n    return;\n  }\n  var n = parseFloat(match[1]);\n  var type = (match[2] || 'ms').toLowerCase();\n  switch (type) {\n    case 'years':\n    case 'year':\n    case 'yrs':\n    case 'yr':\n    case 'y':\n      return n * y;\n    case 'weeks':\n    case 'week':\n    case 'w':\n      return n * w;\n    case 'days':\n    case 'day':\n    case 'd':\n      return n * d;\n    case 'hours':\n    case 'hour':\n    case 'hrs':\n    case 'hr':\n    case 'h':\n      return n * h;\n    case 'minutes':\n    case 'minute':\n    case 'mins':\n    case 'min':\n    case 'm':\n      return n * m;\n    case 'seconds':\n    case 'second':\n    case 'secs':\n    case 'sec':\n    case 's':\n      return n * s;\n    case 'milliseconds':\n    case 'millisecond':\n    case 'msecs':\n    case 'msec':\n    case 'ms':\n      return n;\n    default:\n      return undefined;\n  }\n}\n\n/**\n * Short format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtShort(ms) {\n  var msAbs = Math.abs(ms);\n  if (msAbs >= d) {\n    return Math.round(ms / d) + 'd';\n  }\n  if (msAbs >= h) {\n    return Math.round(ms / h) + 'h';\n  }\n  if (msAbs >= m) {\n    return Math.round(ms / m) + 'm';\n  }\n  if (msAbs >= s) {\n    return Math.round(ms / s) + 's';\n  }\n  return ms + 'ms';\n}\n\n/**\n * Long format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtLong(ms) {\n  var msAbs = Math.abs(ms);\n  if (msAbs >= d) {\n    return plural(ms, msAbs, d, 'day');\n  }\n  if (msAbs >= h) {\n    return plural(ms, msAbs, h, 'hour');\n  }\n  if (msAbs >= m) {\n    return plural(ms, msAbs, m, 'minute');\n  }\n  if (msAbs >= s) {\n    return plural(ms, msAbs, s, 'second');\n  }\n  return ms + ' ms';\n}\n\n/**\n * Pluralization helper.\n */\n\nfunction plural(ms, msAbs, n, name) {\n  var isPlural = msAbs >= n * 1.5;\n  return Math.round(ms / n) + ' ' + name + (isPlural ? 's' : '');\n}\n","var global = require('../internals/global');\nvar DOMIterables = require('../internals/dom-iterables');\nvar forEach = require('../internals/array-for-each');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\n\nfor (var COLLECTION_NAME in DOMIterables) {\n  var Collection = global[COLLECTION_NAME];\n  var CollectionPrototype = Collection && Collection.prototype;\n  // some Chrome versions have non-configurable methods on DOMTokenList\n  if (CollectionPrototype && CollectionPrototype.forEach !== forEach) try {\n    createNonEnumerableProperty(CollectionPrototype, 'forEach', forEach);\n  } catch (error) {\n    CollectionPrototype.forEach = forEach;\n  }\n}\n","'use strict';\nvar $forEach = require('../internals/array-iteration').forEach;\nvar arrayMethodIsStrict = require('../internals/array-method-is-strict');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar STRICT_METHOD = arrayMethodIsStrict('forEach');\nvar USES_TO_LENGTH = arrayMethodUsesToLength('forEach');\n\n// `Array.prototype.forEach` method implementation\n// https://tc39.github.io/ecma262/#sec-array.prototype.foreach\nmodule.exports = (!STRICT_METHOD || !USES_TO_LENGTH) ? function forEach(callbackfn /* , thisArg */) {\n  return $forEach(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n} : [].forEach;\n","'use strict';\nvar $ = require('../internals/export');\nvar createHTML = require('../internals/create-html');\nvar forcedStringHTMLMethod = require('../internals/string-html-forced');\n\n// `String.prototype.fontsize` method\n// https://tc39.github.io/ecma262/#sec-string.prototype.fontsize\n$({ target: 'String', proto: true, forced: forcedStringHTMLMethod('fontsize') }, {\n  fontsize: function fontsize(size) {\n    return createHTML(this, 'font', 'size', size);\n  }\n});\n","\"use strict\";\n// THIS INTERFACE WAS AUTO GENERATED ON 2021-01-07\n// DO NOT EDIT THIS FILE.\n// IT WILL BE OVERWRITTEN ON EVERY CELERYSCRIPT UPGRADE.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ANALOG = exports.DIGITAL = exports.LATEST_VERSION = void 0;\nexports.LATEST_VERSION = 20180209;\nexports.DIGITAL = 0;\nexports.ANALOG = 1;\n","/*! https://mths.be/punycode v1.4.1 by @mathias */\n;(function(root) {\n\n\t/** Detect free variables */\n\tvar freeExports = typeof exports == 'object' && exports &&\n\t\t!exports.nodeType && exports;\n\tvar freeModule = typeof module == 'object' && module &&\n\t\t!module.nodeType && module;\n\tvar freeGlobal = typeof global == 'object' && global;\n\tif (\n\t\tfreeGlobal.global === freeGlobal ||\n\t\tfreeGlobal.window === freeGlobal ||\n\t\tfreeGlobal.self === freeGlobal\n\t) {\n\t\troot = freeGlobal;\n\t}\n\n\t/**\n\t * The `punycode` object.\n\t * @name punycode\n\t * @type Object\n\t */\n\tvar punycode,\n\n\t/** Highest positive signed 32-bit float value */\n\tmaxInt = 2147483647, // aka. 0x7FFFFFFF or 2^31-1\n\n\t/** Bootstring parameters */\n\tbase = 36,\n\ttMin = 1,\n\ttMax = 26,\n\tskew = 38,\n\tdamp = 700,\n\tinitialBias = 72,\n\tinitialN = 128, // 0x80\n\tdelimiter = '-', // '\\x2D'\n\n\t/** Regular expressions */\n\tregexPunycode = /^xn--/,\n\tregexNonASCII = /[^\\x20-\\x7E]/, // unprintable ASCII chars + non-ASCII chars\n\tregexSeparators = /[\\x2E\\u3002\\uFF0E\\uFF61]/g, // RFC 3490 separators\n\n\t/** Error messages */\n\terrors = {\n\t\t'overflow': 'Overflow: input needs wider integers to process',\n\t\t'not-basic': 'Illegal input >= 0x80 (not a basic code point)',\n\t\t'invalid-input': 'Invalid input'\n\t},\n\n\t/** Convenience shortcuts */\n\tbaseMinusTMin = base - tMin,\n\tfloor = Math.floor,\n\tstringFromCharCode = String.fromCharCode,\n\n\t/** Temporary variable */\n\tkey;\n\n\t/*--------------------------------------------------------------------------*/\n\n\t/**\n\t * A generic error utility function.\n\t * @private\n\t * @param {String} type The error type.\n\t * @returns {Error} Throws a `RangeError` with the applicable error message.\n\t */\n\tfunction error(type) {\n\t\tthrow new RangeError(errors[type]);\n\t}\n\n\t/**\n\t * A generic `Array#map` utility function.\n\t * @private\n\t * @param {Array} array The array to iterate over.\n\t * @param {Function} callback The function that gets called for every array\n\t * item.\n\t * @returns {Array} A new array of values returned by the callback function.\n\t */\n\tfunction map(array, fn) {\n\t\tvar length = array.length;\n\t\tvar result = [];\n\t\twhile (length--) {\n\t\t\tresult[length] = fn(array[length]);\n\t\t}\n\t\treturn result;\n\t}\n\n\t/**\n\t * A simple `Array#map`-like wrapper to work with domain name strings or email\n\t * addresses.\n\t * @private\n\t * @param {String} domain The domain name or email address.\n\t * @param {Function} callback The function that gets called for every\n\t * character.\n\t * @returns {Array} A new string of characters returned by the callback\n\t * function.\n\t */\n\tfunction mapDomain(string, fn) {\n\t\tvar parts = string.split('@');\n\t\tvar result = '';\n\t\tif (parts.length > 1) {\n\t\t\t// In email addresses, only the domain name should be punycoded. Leave\n\t\t\t// the local part (i.e. everything up to `@`) intact.\n\t\t\tresult = parts[0] + '@';\n\t\t\tstring = parts[1];\n\t\t}\n\t\t// Avoid `split(regex)` for IE8 compatibility. See #17.\n\t\tstring = string.replace(regexSeparators, '\\x2E');\n\t\tvar labels = string.split('.');\n\t\tvar encoded = map(labels, fn).join('.');\n\t\treturn result + encoded;\n\t}\n\n\t/**\n\t * Creates an array containing the numeric code points of each Unicode\n\t * character in the string. While JavaScript uses UCS-2 internally,\n\t * this function will convert a pair of surrogate halves (each of which\n\t * UCS-2 exposes as separate characters) into a single code point,\n\t * matching UTF-16.\n\t * @see `punycode.ucs2.encode`\n\t * @see <https://mathiasbynens.be/notes/javascript-encoding>\n\t * @memberOf punycode.ucs2\n\t * @name decode\n\t * @param {String} string The Unicode input string (UCS-2).\n\t * @returns {Array} The new array of code points.\n\t */\n\tfunction ucs2decode(string) {\n\t\tvar output = [],\n\t\t    counter = 0,\n\t\t    length = string.length,\n\t\t    value,\n\t\t    extra;\n\t\twhile (counter < length) {\n\t\t\tvalue = string.charCodeAt(counter++);\n\t\t\tif (value >= 0xD800 && value <= 0xDBFF && counter < length) {\n\t\t\t\t// high surrogate, and there is a next character\n\t\t\t\textra = string.charCodeAt(counter++);\n\t\t\t\tif ((extra & 0xFC00) == 0xDC00) { // low surrogate\n\t\t\t\t\toutput.push(((value & 0x3FF) << 10) + (extra & 0x3FF) + 0x10000);\n\t\t\t\t} else {\n\t\t\t\t\t// unmatched surrogate; only append this code unit, in case the next\n\t\t\t\t\t// code unit is the high surrogate of a surrogate pair\n\t\t\t\t\toutput.push(value);\n\t\t\t\t\tcounter--;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\toutput.push(value);\n\t\t\t}\n\t\t}\n\t\treturn output;\n\t}\n\n\t/**\n\t * Creates a string based on an array of numeric code points.\n\t * @see `punycode.ucs2.decode`\n\t * @memberOf punycode.ucs2\n\t * @name encode\n\t * @param {Array} codePoints The array of numeric code points.\n\t * @returns {String} The new Unicode string (UCS-2).\n\t */\n\tfunction ucs2encode(array) {\n\t\treturn map(array, function(value) {\n\t\t\tvar output = '';\n\t\t\tif (value > 0xFFFF) {\n\t\t\t\tvalue -= 0x10000;\n\t\t\t\toutput += stringFromCharCode(value >>> 10 & 0x3FF | 0xD800);\n\t\t\t\tvalue = 0xDC00 | value & 0x3FF;\n\t\t\t}\n\t\t\toutput += stringFromCharCode(value);\n\t\t\treturn output;\n\t\t}).join('');\n\t}\n\n\t/**\n\t * Converts a basic code point into a digit/integer.\n\t * @see `digitToBasic()`\n\t * @private\n\t * @param {Number} codePoint The basic numeric code point value.\n\t * @returns {Number} The numeric value of a basic code point (for use in\n\t * representing integers) in the range `0` to `base - 1`, or `base` if\n\t * the code point does not represent a value.\n\t */\n\tfunction basicToDigit(codePoint) {\n\t\tif (codePoint - 48 < 10) {\n\t\t\treturn codePoint - 22;\n\t\t}\n\t\tif (codePoint - 65 < 26) {\n\t\t\treturn codePoint - 65;\n\t\t}\n\t\tif (codePoint - 97 < 26) {\n\t\t\treturn codePoint - 97;\n\t\t}\n\t\treturn base;\n\t}\n\n\t/**\n\t * Converts a digit/integer into a basic code point.\n\t * @see `basicToDigit()`\n\t * @private\n\t * @param {Number} digit The numeric value of a basic code point.\n\t * @returns {Number} The basic code point whose value (when used for\n\t * representing integers) is `digit`, which needs to be in the range\n\t * `0` to `base - 1`. If `flag` is non-zero, the uppercase form is\n\t * used; else, the lowercase form is used. The behavior is undefined\n\t * if `flag` is non-zero and `digit` has no uppercase form.\n\t */\n\tfunction digitToBasic(digit, flag) {\n\t\t//  0..25 map to ASCII a..z or A..Z\n\t\t// 26..35 map to ASCII 0..9\n\t\treturn digit + 22 + 75 * (digit < 26) - ((flag != 0) << 5);\n\t}\n\n\t/**\n\t * Bias adaptation function as per section 3.4 of RFC 3492.\n\t * https://tools.ietf.org/html/rfc3492#section-3.4\n\t * @private\n\t */\n\tfunction adapt(delta, numPoints, firstTime) {\n\t\tvar k = 0;\n\t\tdelta = firstTime ? floor(delta / damp) : delta >> 1;\n\t\tdelta += floor(delta / numPoints);\n\t\tfor (/* no initialization */; delta > baseMinusTMin * tMax >> 1; k += base) {\n\t\t\tdelta = floor(delta / baseMinusTMin);\n\t\t}\n\t\treturn floor(k + (baseMinusTMin + 1) * delta / (delta + skew));\n\t}\n\n\t/**\n\t * Converts a Punycode string of ASCII-only symbols to a string of Unicode\n\t * symbols.\n\t * @memberOf punycode\n\t * @param {String} input The Punycode string of ASCII-only symbols.\n\t * @returns {String} The resulting string of Unicode symbols.\n\t */\n\tfunction decode(input) {\n\t\t// Don't use UCS-2\n\t\tvar output = [],\n\t\t    inputLength = input.length,\n\t\t    out,\n\t\t    i = 0,\n\t\t    n = initialN,\n\t\t    bias = initialBias,\n\t\t    basic,\n\t\t    j,\n\t\t    index,\n\t\t    oldi,\n\t\t    w,\n\t\t    k,\n\t\t    digit,\n\t\t    t,\n\t\t    /** Cached calculation results */\n\t\t    baseMinusT;\n\n\t\t// Handle the basic code points: let `basic` be the number of input code\n\t\t// points before the last delimiter, or `0` if there is none, then copy\n\t\t// the first basic code points to the output.\n\n\t\tbasic = input.lastIndexOf(delimiter);\n\t\tif (basic < 0) {\n\t\t\tbasic = 0;\n\t\t}\n\n\t\tfor (j = 0; j < basic; ++j) {\n\t\t\t// if it's not a basic code point\n\t\t\tif (input.charCodeAt(j) >= 0x80) {\n\t\t\t\terror('not-basic');\n\t\t\t}\n\t\t\toutput.push(input.charCodeAt(j));\n\t\t}\n\n\t\t// Main decoding loop: start just after the last delimiter if any basic code\n\t\t// points were copied; start at the beginning otherwise.\n\n\t\tfor (index = basic > 0 ? basic + 1 : 0; index < inputLength; /* no final expression */) {\n\n\t\t\t// `index` is the index of the next character to be consumed.\n\t\t\t// Decode a generalized variable-length integer into `delta`,\n\t\t\t// which gets added to `i`. The overflow checking is easier\n\t\t\t// if we increase `i` as we go, then subtract off its starting\n\t\t\t// value at the end to obtain `delta`.\n\t\t\tfor (oldi = i, w = 1, k = base; /* no condition */; k += base) {\n\n\t\t\t\tif (index >= inputLength) {\n\t\t\t\t\terror('invalid-input');\n\t\t\t\t}\n\n\t\t\t\tdigit = basicToDigit(input.charCodeAt(index++));\n\n\t\t\t\tif (digit >= base || digit > floor((maxInt - i) / w)) {\n\t\t\t\t\terror('overflow');\n\t\t\t\t}\n\n\t\t\t\ti += digit * w;\n\t\t\t\tt = k <= bias ? tMin : (k >= bias + tMax ? tMax : k - bias);\n\n\t\t\t\tif (digit < t) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t\tbaseMinusT = base - t;\n\t\t\t\tif (w > floor(maxInt / baseMinusT)) {\n\t\t\t\t\terror('overflow');\n\t\t\t\t}\n\n\t\t\t\tw *= baseMinusT;\n\n\t\t\t}\n\n\t\t\tout = output.length + 1;\n\t\t\tbias = adapt(i - oldi, out, oldi == 0);\n\n\t\t\t// `i` was supposed to wrap around from `out` to `0`,\n\t\t\t// incrementing `n` each time, so we'll fix that now:\n\t\t\tif (floor(i / out) > maxInt - n) {\n\t\t\t\terror('overflow');\n\t\t\t}\n\n\t\t\tn += floor(i / out);\n\t\t\ti %= out;\n\n\t\t\t// Insert `n` at position `i` of the output\n\t\t\toutput.splice(i++, 0, n);\n\n\t\t}\n\n\t\treturn ucs2encode(output);\n\t}\n\n\t/**\n\t * Converts a string of Unicode symbols (e.g. a domain name label) to a\n\t * Punycode string of ASCII-only symbols.\n\t * @memberOf punycode\n\t * @param {String} input The string of Unicode symbols.\n\t * @returns {String} The resulting Punycode string of ASCII-only symbols.\n\t */\n\tfunction encode(input) {\n\t\tvar n,\n\t\t    delta,\n\t\t    handledCPCount,\n\t\t    basicLength,\n\t\t    bias,\n\t\t    j,\n\t\t    m,\n\t\t    q,\n\t\t    k,\n\t\t    t,\n\t\t    currentValue,\n\t\t    output = [],\n\t\t    /** `inputLength` will hold the number of code points in `input`. */\n\t\t    inputLength,\n\t\t    /** Cached calculation results */\n\t\t    handledCPCountPlusOne,\n\t\t    baseMinusT,\n\t\t    qMinusT;\n\n\t\t// Convert the input in UCS-2 to Unicode\n\t\tinput = ucs2decode(input);\n\n\t\t// Cache the length\n\t\tinputLength = input.length;\n\n\t\t// Initialize the state\n\t\tn = initialN;\n\t\tdelta = 0;\n\t\tbias = initialBias;\n\n\t\t// Handle the basic code points\n\t\tfor (j = 0; j < inputLength; ++j) {\n\t\t\tcurrentValue = input[j];\n\t\t\tif (currentValue < 0x80) {\n\t\t\t\toutput.push(stringFromCharCode(currentValue));\n\t\t\t}\n\t\t}\n\n\t\thandledCPCount = basicLength = output.length;\n\n\t\t// `handledCPCount` is the number of code points that have been handled;\n\t\t// `basicLength` is the number of basic code points.\n\n\t\t// Finish the basic string - if it is not empty - with a delimiter\n\t\tif (basicLength) {\n\t\t\toutput.push(delimiter);\n\t\t}\n\n\t\t// Main encoding loop:\n\t\twhile (handledCPCount < inputLength) {\n\n\t\t\t// All non-basic code points < n have been handled already. Find the next\n\t\t\t// larger one:\n\t\t\tfor (m = maxInt, j = 0; j < inputLength; ++j) {\n\t\t\t\tcurrentValue = input[j];\n\t\t\t\tif (currentValue >= n && currentValue < m) {\n\t\t\t\t\tm = currentValue;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Increase `delta` enough to advance the decoder's <n,i> state to <m,0>,\n\t\t\t// but guard against overflow\n\t\t\thandledCPCountPlusOne = handledCPCount + 1;\n\t\t\tif (m - n > floor((maxInt - delta) / handledCPCountPlusOne)) {\n\t\t\t\terror('overflow');\n\t\t\t}\n\n\t\t\tdelta += (m - n) * handledCPCountPlusOne;\n\t\t\tn = m;\n\n\t\t\tfor (j = 0; j < inputLength; ++j) {\n\t\t\t\tcurrentValue = input[j];\n\n\t\t\t\tif (currentValue < n && ++delta > maxInt) {\n\t\t\t\t\terror('overflow');\n\t\t\t\t}\n\n\t\t\t\tif (currentValue == n) {\n\t\t\t\t\t// Represent delta as a generalized variable-length integer\n\t\t\t\t\tfor (q = delta, k = base; /* no condition */; k += base) {\n\t\t\t\t\t\tt = k <= bias ? tMin : (k >= bias + tMax ? tMax : k - bias);\n\t\t\t\t\t\tif (q < t) {\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tqMinusT = q - t;\n\t\t\t\t\t\tbaseMinusT = base - t;\n\t\t\t\t\t\toutput.push(\n\t\t\t\t\t\t\tstringFromCharCode(digitToBasic(t + qMinusT % baseMinusT, 0))\n\t\t\t\t\t\t);\n\t\t\t\t\t\tq = floor(qMinusT / baseMinusT);\n\t\t\t\t\t}\n\n\t\t\t\t\toutput.push(stringFromCharCode(digitToBasic(q, 0)));\n\t\t\t\t\tbias = adapt(delta, handledCPCountPlusOne, handledCPCount == basicLength);\n\t\t\t\t\tdelta = 0;\n\t\t\t\t\t++handledCPCount;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t++delta;\n\t\t\t++n;\n\n\t\t}\n\t\treturn output.join('');\n\t}\n\n\t/**\n\t * Converts a Punycode string representing a domain name or an email address\n\t * to Unicode. Only the Punycoded parts of the input will be converted, i.e.\n\t * it doesn't matter if you call it on a string that has already been\n\t * converted to Unicode.\n\t * @memberOf punycode\n\t * @param {String} input The Punycoded domain name or email address to\n\t * convert to Unicode.\n\t * @returns {String} The Unicode representation of the given Punycode\n\t * string.\n\t */\n\tfunction toUnicode(input) {\n\t\treturn mapDomain(input, function(string) {\n\t\t\treturn regexPunycode.test(string)\n\t\t\t\t? decode(string.slice(4).toLowerCase())\n\t\t\t\t: string;\n\t\t});\n\t}\n\n\t/**\n\t * Converts a Unicode string representing a domain name or an email address to\n\t * Punycode. Only the non-ASCII parts of the domain name will be converted,\n\t * i.e. it doesn't matter if you call it with a domain that's already in\n\t * ASCII.\n\t * @memberOf punycode\n\t * @param {String} input The domain name or email address to convert, as a\n\t * Unicode string.\n\t * @returns {String} The Punycode representation of the given domain name or\n\t * email address.\n\t */\n\tfunction toASCII(input) {\n\t\treturn mapDomain(input, function(string) {\n\t\t\treturn regexNonASCII.test(string)\n\t\t\t\t? 'xn--' + encode(string)\n\t\t\t\t: string;\n\t\t});\n\t}\n\n\t/*--------------------------------------------------------------------------*/\n\n\t/** Define the public API */\n\tpunycode = {\n\t\t/**\n\t\t * A string representing the current Punycode.js version number.\n\t\t * @memberOf punycode\n\t\t * @type String\n\t\t */\n\t\t'version': '1.4.1',\n\t\t/**\n\t\t * An object of methods to convert from JavaScript's internal character\n\t\t * representation (UCS-2) to Unicode code points, and back.\n\t\t * @see <https://mathiasbynens.be/notes/javascript-encoding>\n\t\t * @memberOf punycode\n\t\t * @type Object\n\t\t */\n\t\t'ucs2': {\n\t\t\t'decode': ucs2decode,\n\t\t\t'encode': ucs2encode\n\t\t},\n\t\t'decode': decode,\n\t\t'encode': encode,\n\t\t'toASCII': toASCII,\n\t\t'toUnicode': toUnicode\n\t};\n\n\t/** Expose `punycode` */\n\t// Some AMD build optimizers, like r.js, check for specific condition patterns\n\t// like the following:\n\tif (\n\t\ttypeof define == 'function' &&\n\t\ttypeof define.amd == 'object' &&\n\t\tdefine.amd\n\t) {\n\t\tdefine('punycode', function() {\n\t\t\treturn punycode;\n\t\t});\n\t} else if (freeExports && freeModule) {\n\t\tif (module.exports == freeExports) {\n\t\t\t// in Node.js, io.js, or RingoJS v0.8.0+\n\t\t\tfreeModule.exports = punycode;\n\t\t} else {\n\t\t\t// in Narwhal or RingoJS v0.7.0-\n\t\t\tfor (key in punycode) {\n\t\t\t\tpunycode.hasOwnProperty(key) && (freeExports[key] = punycode[key]);\n\t\t\t}\n\t\t}\n\t} else {\n\t\t// in Rhino or a web browser\n\t\troot.punycode = punycode;\n\t}\n\n}(this));\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.pick = void 0;\nfunction pick(target, value, fallback) {\n    var result = target[value];\n    return (typeof result === undefined) ? fallback : result;\n}\nexports.pick = pick;\n","var fails = require('../internals/fails');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar V8_VERSION = require('../internals/engine-v8-version');\n\nvar SPECIES = wellKnownSymbol('species');\n\nmodule.exports = function (METHOD_NAME) {\n  // We can't use this feature detection in V8 since it causes\n  // deoptimization and serious performance degradation\n  // https://github.com/zloirock/core-js/issues/677\n  return V8_VERSION >= 51 || !fails(function () {\n    var array = [];\n    var constructor = array.constructor = {};\n    constructor[SPECIES] = function () {\n      return { foo: 1 };\n    };\n    return array[METHOD_NAME](Boolean).foo !== 1;\n  });\n};\n","const bl = require('bl')\nconst EventEmitter = require('events')\nconst Packet = require('./packet')\nconst constants = require('./constants')\nconst debug = require('debug')('mqtt-packet:parser')\n\nclass Parser extends EventEmitter {\n  constructor () {\n    super()\n    this.parser = this.constructor.parser\n  }\n\n  static parser (opt) {\n    if (!(this instanceof Parser)) return (new Parser()).parser(opt)\n\n    this.settings = opt || {}\n\n    this._states = [\n      '_parseHeader',\n      '_parseLength',\n      '_parsePayload',\n      '_newPacket'\n    ]\n\n    this._resetState()\n    return this\n  }\n\n  _resetState () {\n    debug('_resetState: resetting packet, error, _list, and _stateCounter')\n    this.packet = new Packet()\n    this.error = null\n    this._list = bl()\n    this._stateCounter = 0\n  }\n\n  parse (buf) {\n    if (this.error) this._resetState()\n\n    this._list.append(buf)\n    debug('parse: current state: %s', this._states[this._stateCounter])\n    while ((this.packet.length !== -1 || this._list.length > 0) &&\n      this[this._states[this._stateCounter]]() &&\n      !this.error) {\n      this._stateCounter++\n      debug('parse: state complete. _stateCounter is now: %d', this._stateCounter)\n      debug('parse: packet.length: %d, buffer list length: %d', this.packet.length, this._list.length)\n      if (this._stateCounter >= this._states.length) this._stateCounter = 0\n    }\n    debug('parse: exited while loop. packet: %d, buffer list length: %d', this.packet.length, this._list.length)\n    return this._list.length\n  }\n\n  _parseHeader () {\n    // There is at least one byte in the buffer\n    const zero = this._list.readUInt8(0)\n    this.packet.cmd = constants.types[zero >> constants.CMD_SHIFT]\n    this.packet.retain = (zero & constants.RETAIN_MASK) !== 0\n    this.packet.qos = (zero >> constants.QOS_SHIFT) & constants.QOS_MASK\n    this.packet.dup = (zero & constants.DUP_MASK) !== 0\n    debug('_parseHeader: packet: %o', this.packet)\n\n    this._list.consume(1)\n\n    return true\n  }\n\n  _parseLength () {\n    // There is at least one byte in the list\n    const result = this._parseVarByteNum(true)\n\n    if (result) {\n      this.packet.length = result.value\n      this._list.consume(result.bytes)\n    }\n    debug('_parseLength %d', result.value)\n    return !!result\n  }\n\n  _parsePayload () {\n    debug('_parsePayload: payload %O', this._list)\n    let result = false\n\n    // Do we have a payload? Do we have enough data to complete the payload?\n    // PINGs have no payload\n    if (this.packet.length === 0 || this._list.length >= this.packet.length) {\n      this._pos = 0\n\n      switch (this.packet.cmd) {\n        case 'connect':\n          this._parseConnect()\n          break\n        case 'connack':\n          this._parseConnack()\n          break\n        case 'publish':\n          this._parsePublish()\n          break\n        case 'puback':\n        case 'pubrec':\n        case 'pubrel':\n        case 'pubcomp':\n          this._parseConfirmation()\n          break\n        case 'subscribe':\n          this._parseSubscribe()\n          break\n        case 'suback':\n          this._parseSuback()\n          break\n        case 'unsubscribe':\n          this._parseUnsubscribe()\n          break\n        case 'unsuback':\n          this._parseUnsuback()\n          break\n        case 'pingreq':\n        case 'pingresp':\n          // These are empty, nothing to do\n          break\n        case 'disconnect':\n          this._parseDisconnect()\n          break\n        case 'auth':\n          this._parseAuth()\n          break\n        default:\n          this._emitError(new Error('Not supported'))\n      }\n\n      result = true\n    }\n    debug('_parsePayload complete result: %s', result)\n    return result\n  }\n\n  _parseConnect () {\n    debug('_parseConnect')\n    let topic // Will topic\n    let payload // Will payload\n    let password // Password\n    let username // Username\n    const flags = {}\n    const packet = this.packet\n\n    // Parse protocolId\n    const protocolId = this._parseString()\n\n    if (protocolId === null) return this._emitError(new Error('Cannot parse protocolId'))\n    if (protocolId !== 'MQTT' && protocolId !== 'MQIsdp') {\n      return this._emitError(new Error('Invalid protocolId'))\n    }\n\n    packet.protocolId = protocolId\n\n    // Parse constants version number\n    if (this._pos >= this._list.length) return this._emitError(new Error('Packet too short'))\n\n    packet.protocolVersion = this._list.readUInt8(this._pos)\n\n    if (packet.protocolVersion >= 128) {\n      packet.bridgeMode = true\n      packet.protocolVersion = packet.protocolVersion - 128\n    }\n\n    if (packet.protocolVersion !== 3 && packet.protocolVersion !== 4 && packet.protocolVersion !== 5) {\n      return this._emitError(new Error('Invalid protocol version'))\n    }\n\n    this._pos++\n\n    if (this._pos >= this._list.length) {\n      return this._emitError(new Error('Packet too short'))\n    }\n\n    // Parse connect flags\n    flags.username = (this._list.readUInt8(this._pos) & constants.USERNAME_MASK)\n    flags.password = (this._list.readUInt8(this._pos) & constants.PASSWORD_MASK)\n    flags.will = (this._list.readUInt8(this._pos) & constants.WILL_FLAG_MASK)\n\n    if (flags.will) {\n      packet.will = {}\n      packet.will.retain = (this._list.readUInt8(this._pos) & constants.WILL_RETAIN_MASK) !== 0\n      packet.will.qos = (this._list.readUInt8(this._pos) &\n        constants.WILL_QOS_MASK) >> constants.WILL_QOS_SHIFT\n    }\n\n    packet.clean = (this._list.readUInt8(this._pos) & constants.CLEAN_SESSION_MASK) !== 0\n    this._pos++\n\n    // Parse keepalive\n    packet.keepalive = this._parseNum()\n    if (packet.keepalive === -1) return this._emitError(new Error('Packet too short'))\n\n    // parse properties\n    if (packet.protocolVersion === 5) {\n      const properties = this._parseProperties()\n      if (Object.getOwnPropertyNames(properties).length) {\n        packet.properties = properties\n      }\n    }\n    // Parse clientId\n    const clientId = this._parseString()\n    if (clientId === null) return this._emitError(new Error('Packet too short'))\n    packet.clientId = clientId\n    debug('_parseConnect: packet.clientId: %s', packet.clientId)\n\n    if (flags.will) {\n      if (packet.protocolVersion === 5) {\n        const willProperties = this._parseProperties()\n        if (Object.getOwnPropertyNames(willProperties).length) {\n          packet.will.properties = willProperties\n        }\n      }\n      // Parse will topic\n      topic = this._parseString()\n      if (topic === null) return this._emitError(new Error('Cannot parse will topic'))\n      packet.will.topic = topic\n      debug('_parseConnect: packet.will.topic: %s', packet.will.topic)\n\n      // Parse will payload\n      payload = this._parseBuffer()\n      if (payload === null) return this._emitError(new Error('Cannot parse will payload'))\n      packet.will.payload = payload\n      debug('_parseConnect: packet.will.paylaod: %s', packet.will.payload)\n    }\n\n    // Parse username\n    if (flags.username) {\n      username = this._parseString()\n      if (username === null) return this._emitError(new Error('Cannot parse username'))\n      packet.username = username\n      debug('_parseConnect: packet.username: %s', packet.username)\n    }\n\n    // Parse password\n    if (flags.password) {\n      password = this._parseBuffer()\n      if (password === null) return this._emitError(new Error('Cannot parse password'))\n      packet.password = password\n    }\n    // need for right parse auth packet and self set up\n    this.settings = packet\n    debug('_parseConnect: complete')\n    return packet\n  }\n\n  _parseConnack () {\n    debug('_parseConnack')\n    const packet = this.packet\n\n    if (this._list.length < 1) return null\n    packet.sessionPresent = !!(this._list.readUInt8(this._pos++) & constants.SESSIONPRESENT_MASK)\n\n    if (this.settings.protocolVersion === 5) {\n      if (this._list.length >= 2) {\n        packet.reasonCode = this._list.readUInt8(this._pos++)\n      } else {\n        packet.reasonCode = 0\n      }\n    } else {\n      if (this._list.length < 2) return null\n      packet.returnCode = this._list.readUInt8(this._pos++)\n    }\n\n    if (packet.returnCode === -1 || packet.reasonCode === -1) return this._emitError(new Error('Cannot parse return code'))\n    // mqtt 5 properties\n    if (this.settings.protocolVersion === 5) {\n      const properties = this._parseProperties()\n      if (Object.getOwnPropertyNames(properties).length) {\n        packet.properties = properties\n      }\n    }\n    debug('_parseConnack: complete')\n  }\n\n  _parsePublish () {\n    debug('_parsePublish')\n    const packet = this.packet\n    packet.topic = this._parseString()\n\n    if (packet.topic === null) return this._emitError(new Error('Cannot parse topic'))\n\n    // Parse messageId\n    if (packet.qos > 0) if (!this._parseMessageId()) { return }\n\n    // Properties mqtt 5\n    if (this.settings.protocolVersion === 5) {\n      const properties = this._parseProperties()\n      if (Object.getOwnPropertyNames(properties).length) {\n        packet.properties = properties\n      }\n    }\n\n    packet.payload = this._list.slice(this._pos, packet.length)\n    debug('_parsePublish: payload from buffer list: %o', packet.payload)\n  }\n\n  _parseSubscribe () {\n    debug('_parseSubscribe')\n    const packet = this.packet\n    let topic\n    let options\n    let qos\n    let rh\n    let rap\n    let nl\n    let subscription\n\n    if (packet.qos !== 1) {\n      return this._emitError(new Error('Wrong subscribe header'))\n    }\n\n    packet.subscriptions = []\n\n    if (!this._parseMessageId()) { return }\n\n    // Properties mqtt 5\n    if (this.settings.protocolVersion === 5) {\n      const properties = this._parseProperties()\n      if (Object.getOwnPropertyNames(properties).length) {\n        packet.properties = properties\n      }\n    }\n\n    while (this._pos < packet.length) {\n      // Parse topic\n      topic = this._parseString()\n      if (topic === null) return this._emitError(new Error('Cannot parse topic'))\n      if (this._pos >= packet.length) return this._emitError(new Error('Malformed Subscribe Payload'))\n\n      options = this._parseByte()\n      qos = options & constants.SUBSCRIBE_OPTIONS_QOS_MASK\n      nl = ((options >> constants.SUBSCRIBE_OPTIONS_NL_SHIFT) & constants.SUBSCRIBE_OPTIONS_NL_MASK) !== 0\n      rap = ((options >> constants.SUBSCRIBE_OPTIONS_RAP_SHIFT) & constants.SUBSCRIBE_OPTIONS_RAP_MASK) !== 0\n      rh = (options >> constants.SUBSCRIBE_OPTIONS_RH_SHIFT) & constants.SUBSCRIBE_OPTIONS_RH_MASK\n\n      subscription = { topic, qos }\n\n      // mqtt 5 options\n      if (this.settings.protocolVersion === 5) {\n        subscription.nl = nl\n        subscription.rap = rap\n        subscription.rh = rh\n      } else if (this.settings.bridgeMode) {\n        subscription.rh = 0\n        subscription.rap = true\n        subscription.nl = true\n      }\n\n      // Push pair to subscriptions\n      debug('_parseSubscribe: push subscription `%s` to subscription', subscription)\n      packet.subscriptions.push(subscription)\n    }\n  }\n\n  _parseSuback () {\n    debug('_parseSuback')\n    const packet = this.packet\n    this.packet.granted = []\n\n    if (!this._parseMessageId()) { return }\n\n    // Properties mqtt 5\n    if (this.settings.protocolVersion === 5) {\n      const properties = this._parseProperties()\n      if (Object.getOwnPropertyNames(properties).length) {\n        packet.properties = properties\n      }\n    }\n\n    // Parse granted QoSes\n    while (this._pos < this.packet.length) {\n      this.packet.granted.push(this._list.readUInt8(this._pos++))\n    }\n  }\n\n  _parseUnsubscribe () {\n    debug('_parseUnsubscribe')\n    const packet = this.packet\n\n    packet.unsubscriptions = []\n\n    // Parse messageId\n    if (!this._parseMessageId()) { return }\n\n    // Properties mqtt 5\n    if (this.settings.protocolVersion === 5) {\n      const properties = this._parseProperties()\n      if (Object.getOwnPropertyNames(properties).length) {\n        packet.properties = properties\n      }\n    }\n\n    while (this._pos < packet.length) {\n      // Parse topic\n      const topic = this._parseString()\n      if (topic === null) return this._emitError(new Error('Cannot parse topic'))\n\n      // Push topic to unsubscriptions\n      debug('_parseUnsubscribe: push topic `%s` to unsubscriptions', topic)\n      packet.unsubscriptions.push(topic)\n    }\n  }\n\n  _parseUnsuback () {\n    debug('_parseUnsuback')\n    const packet = this.packet\n    if (!this._parseMessageId()) return this._emitError(new Error('Cannot parse messageId'))\n    // Properties mqtt 5\n    if (this.settings.protocolVersion === 5) {\n      const properties = this._parseProperties()\n      if (Object.getOwnPropertyNames(properties).length) {\n        packet.properties = properties\n      }\n      // Parse granted QoSes\n      packet.granted = []\n      while (this._pos < this.packet.length) {\n        this.packet.granted.push(this._list.readUInt8(this._pos++))\n      }\n    }\n  }\n\n  // parse packets like puback, pubrec, pubrel, pubcomp\n  _parseConfirmation () {\n    debug('_parseConfirmation: packet.cmd: `%s`', this.packet.cmd)\n    const packet = this.packet\n\n    this._parseMessageId()\n\n    if (this.settings.protocolVersion === 5) {\n      if (packet.length > 2) {\n        // response code\n        packet.reasonCode = this._parseByte()\n        debug('_parseConfirmation: packet.reasonCode `%d`', packet.reasonCode)\n      } else {\n        packet.reasonCode = 0\n      }\n\n      if (packet.length > 3) {\n        // properies mqtt 5\n        const properties = this._parseProperties()\n        if (Object.getOwnPropertyNames(properties).length) {\n          packet.properties = properties\n        }\n      }\n    }\n\n    return true\n  }\n\n  // parse disconnect packet\n  _parseDisconnect () {\n    const packet = this.packet\n    debug('_parseDisconnect')\n\n    if (this.settings.protocolVersion === 5) {\n      // response code\n      if (this._list.length > 0) {\n        packet.reasonCode = this._parseByte()\n      } else {\n        packet.reasonCode = 0\n      }\n      // properies mqtt 5\n      const properties = this._parseProperties()\n      if (Object.getOwnPropertyNames(properties).length) {\n        packet.properties = properties\n      }\n    }\n\n    debug('_parseDisconnect result: true')\n    return true\n  }\n\n  // parse auth packet\n  _parseAuth () {\n    debug('_parseAuth')\n    const packet = this.packet\n\n    if (this.settings.protocolVersion !== 5) {\n      return this._emitError(new Error('Not supported auth packet for this version MQTT'))\n    }\n\n    // response code\n    packet.reasonCode = this._parseByte()\n    // properies mqtt 5\n    const properties = this._parseProperties()\n    if (Object.getOwnPropertyNames(properties).length) {\n      packet.properties = properties\n    }\n\n    debug('_parseAuth: result: true')\n    return true\n  }\n\n  _parseMessageId () {\n    const packet = this.packet\n\n    packet.messageId = this._parseNum()\n\n    if (packet.messageId === null) {\n      this._emitError(new Error('Cannot parse messageId'))\n      return false\n    }\n\n    debug('_parseMessageId: packet.messageId %d', packet.messageId)\n    return true\n  }\n\n  _parseString (maybeBuffer) {\n    const length = this._parseNum()\n    const end = length + this._pos\n\n    if (length === -1 || end > this._list.length || end > this.packet.length) return null\n\n    const result = this._list.toString('utf8', this._pos, end)\n    this._pos += length\n    debug('_parseString: result: %s', result)\n    return result\n  }\n\n  _parseStringPair () {\n    debug('_parseStringPair')\n    return {\n      name: this._parseString(),\n      value: this._parseString()\n    }\n  }\n\n  _parseBuffer () {\n    const length = this._parseNum()\n    const end = length + this._pos\n\n    if (length === -1 || end > this._list.length || end > this.packet.length) return null\n\n    const result = this._list.slice(this._pos, end)\n\n    this._pos += length\n    debug('_parseBuffer: result: %o', result)\n    return result\n  }\n\n  _parseNum () {\n    if (this._list.length - this._pos < 2) return -1\n\n    const result = this._list.readUInt16BE(this._pos)\n    this._pos += 2\n    debug('_parseNum: result: %s', result)\n    return result\n  }\n\n  _parse4ByteNum () {\n    if (this._list.length - this._pos < 4) return -1\n\n    const result = this._list.readUInt32BE(this._pos)\n    this._pos += 4\n    debug('_parse4ByteNum: result: %s', result)\n    return result\n  }\n\n  _parseVarByteNum (fullInfoFlag) {\n    debug('_parseVarByteNum')\n    const maxBytes = 4\n    let bytes = 0\n    let mul = 1\n    let value = 0\n    let result = false\n    let current\n    const padding = this._pos ? this._pos : 0\n\n    while (bytes < maxBytes && (padding + bytes) < this._list.length) {\n      current = this._list.readUInt8(padding + bytes++)\n      value += mul * (current & constants.VARBYTEINT_MASK)\n      mul *= 0x80\n\n      if ((current & constants.VARBYTEINT_FIN_MASK) === 0) {\n        result = true\n        break\n      }\n      if (this._list.length <= bytes) {\n        break\n      }\n    }\n\n    if (!result && bytes === maxBytes && this._list.length >= bytes) {\n      this._emitError(new Error('Invalid variable byte integer'))\n    }\n\n    if (padding) {\n      this._pos += bytes\n    }\n\n    result = result\n      ? fullInfoFlag ? {\n        bytes,\n        value\n      } : value\n      : false\n\n    debug('_parseVarByteNum: result: %o', result)\n    return result\n  }\n\n  _parseByte () {\n    let result\n    if (this._pos < this._list.length) {\n      result = this._list.readUInt8(this._pos)\n      this._pos++\n    }\n    debug('_parseByte: result: %o', result)\n    return result\n  }\n\n  _parseByType (type) {\n    debug('_parseByType: type: %s', type)\n    switch (type) {\n      case 'byte': {\n        return this._parseByte() !== 0\n      }\n      case 'int8': {\n        return this._parseByte()\n      }\n      case 'int16': {\n        return this._parseNum()\n      }\n      case 'int32': {\n        return this._parse4ByteNum()\n      }\n      case 'var': {\n        return this._parseVarByteNum()\n      }\n      case 'string': {\n        return this._parseString()\n      }\n      case 'pair': {\n        return this._parseStringPair()\n      }\n      case 'binary': {\n        return this._parseBuffer()\n      }\n    }\n  }\n\n  _parseProperties () {\n    debug('_parseProperties')\n    const length = this._parseVarByteNum()\n    const start = this._pos\n    const end = start + length\n    const result = {}\n    while (this._pos < end) {\n      const type = this._parseByte()\n      if (!type) {\n        this._emitError(new Error('Cannot parse property code type'))\n        return false\n      }\n      const name = constants.propertiesCodes[type]\n      if (!name) {\n        this._emitError(new Error('Unknown property'))\n        return false\n      }\n      // user properties process\n      if (name === 'userProperties') {\n        if (!result[name]) {\n          result[name] = Object.create(null)\n        }\n        const currentUserProperty = this._parseByType(constants.propertiesTypes[name])\n        if (result[name][currentUserProperty.name]) {\n          if (Array.isArray(result[name][currentUserProperty.name])) {\n            result[name][currentUserProperty.name].push(currentUserProperty.value)\n          } else {\n            const currentValue = result[name][currentUserProperty.name]\n            result[name][currentUserProperty.name] = [currentValue]\n            result[name][currentUserProperty.name].push(currentUserProperty.value)\n          }\n        } else {\n          result[name][currentUserProperty.name] = currentUserProperty.value\n        }\n        continue\n      }\n      if (result[name]) {\n        if (Array.isArray(result[name])) {\n          result[name].push(this._parseByType(constants.propertiesTypes[name]))\n        } else {\n          result[name] = [result[name]]\n          result[name].push(this._parseByType(constants.propertiesTypes[name]))\n        }\n      } else {\n        result[name] = this._parseByType(constants.propertiesTypes[name])\n      }\n    }\n    return result\n  }\n\n  _newPacket () {\n    debug('_newPacket')\n    if (this.packet) {\n      this._list.consume(this.packet.length)\n      debug('_newPacket: parser emit packet: packet.cmd: %s, packet.payload: %s, packet.length: %d', this.packet.cmd, this.packet.payload, this.packet.length)\n      this.emit('packet', this.packet)\n    }\n    debug('_newPacket: new packet')\n    this.packet = new Packet()\n\n    this._pos = 0\n\n    return true\n  }\n\n  _emitError (err) {\n    debug('_emitError')\n    this.error = err\n    this.emit('error', err)\n  }\n}\n\nmodule.exports = Parser\n","'use strict'\n\nexports.byteLength = byteLength\nexports.toByteArray = toByteArray\nexports.fromByteArray = fromByteArray\n\nvar lookup = []\nvar revLookup = []\nvar Arr = typeof Uint8Array !== 'undefined' ? Uint8Array : Array\n\nvar code = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'\nfor (var i = 0, len = code.length; i < len; ++i) {\n  lookup[i] = code[i]\n  revLookup[code.charCodeAt(i)] = i\n}\n\n// Support decoding URL-safe base64 strings, as Node.js does.\n// See: https://en.wikipedia.org/wiki/Base64#URL_applications\nrevLookup['-'.charCodeAt(0)] = 62\nrevLookup['_'.charCodeAt(0)] = 63\n\nfunction getLens (b64) {\n  var len = b64.length\n\n  if (len % 4 > 0) {\n    throw new Error('Invalid string. Length must be a multiple of 4')\n  }\n\n  // Trim off extra bytes after placeholder bytes are found\n  // See: https://github.com/beatgammit/base64-js/issues/42\n  var validLen = b64.indexOf('=')\n  if (validLen === -1) validLen = len\n\n  var placeHoldersLen = validLen === len\n    ? 0\n    : 4 - (validLen % 4)\n\n  return [validLen, placeHoldersLen]\n}\n\n// base64 is 4/3 + up to two characters of the original data\nfunction byteLength (b64) {\n  var lens = getLens(b64)\n  var validLen = lens[0]\n  var placeHoldersLen = lens[1]\n  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen\n}\n\nfunction _byteLength (b64, validLen, placeHoldersLen) {\n  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen\n}\n\nfunction toByteArray (b64) {\n  var tmp\n  var lens = getLens(b64)\n  var validLen = lens[0]\n  var placeHoldersLen = lens[1]\n\n  var arr = new Arr(_byteLength(b64, validLen, placeHoldersLen))\n\n  var curByte = 0\n\n  // if there are placeholders, only get up to the last complete 4 chars\n  var len = placeHoldersLen > 0\n    ? validLen - 4\n    : validLen\n\n  var i\n  for (i = 0; i < len; i += 4) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 18) |\n      (revLookup[b64.charCodeAt(i + 1)] << 12) |\n      (revLookup[b64.charCodeAt(i + 2)] << 6) |\n      revLookup[b64.charCodeAt(i + 3)]\n    arr[curByte++] = (tmp >> 16) & 0xFF\n    arr[curByte++] = (tmp >> 8) & 0xFF\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  if (placeHoldersLen === 2) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 2) |\n      (revLookup[b64.charCodeAt(i + 1)] >> 4)\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  if (placeHoldersLen === 1) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 10) |\n      (revLookup[b64.charCodeAt(i + 1)] << 4) |\n      (revLookup[b64.charCodeAt(i + 2)] >> 2)\n    arr[curByte++] = (tmp >> 8) & 0xFF\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  return arr\n}\n\nfunction tripletToBase64 (num) {\n  return lookup[num >> 18 & 0x3F] +\n    lookup[num >> 12 & 0x3F] +\n    lookup[num >> 6 & 0x3F] +\n    lookup[num & 0x3F]\n}\n\nfunction encodeChunk (uint8, start, end) {\n  var tmp\n  var output = []\n  for (var i = start; i < end; i += 3) {\n    tmp =\n      ((uint8[i] << 16) & 0xFF0000) +\n      ((uint8[i + 1] << 8) & 0xFF00) +\n      (uint8[i + 2] & 0xFF)\n    output.push(tripletToBase64(tmp))\n  }\n  return output.join('')\n}\n\nfunction fromByteArray (uint8) {\n  var tmp\n  var len = uint8.length\n  var extraBytes = len % 3 // if we have 1 byte left, pad 2 bytes\n  var parts = []\n  var maxChunkLength = 16383 // must be multiple of 3\n\n  // go through the array every three bytes, we'll deal with trailing stuff later\n  for (var i = 0, len2 = len - extraBytes; i < len2; i += maxChunkLength) {\n    parts.push(encodeChunk(\n      uint8, i, (i + maxChunkLength) > len2 ? len2 : (i + maxChunkLength)\n    ))\n  }\n\n  // pad the end with zeros, but make sure to not forget the extra bytes\n  if (extraBytes === 1) {\n    tmp = uint8[len - 1]\n    parts.push(\n      lookup[tmp >> 2] +\n      lookup[(tmp << 4) & 0x3F] +\n      '=='\n    )\n  } else if (extraBytes === 2) {\n    tmp = (uint8[len - 2] << 8) + uint8[len - 1]\n    parts.push(\n      lookup[tmp >> 10] +\n      lookup[(tmp >> 4) & 0x3F] +\n      lookup[(tmp << 2) & 0x3F] +\n      '='\n    )\n  }\n\n  return parts.join('')\n}\n","module.exports = function () {\n  throw new Error('Readable.from is not available in the browser')\n};\n","'use strict';\nvar redefine = require('../internals/redefine');\nvar anObject = require('../internals/an-object');\nvar fails = require('../internals/fails');\nvar flags = require('../internals/regexp-flags');\n\nvar TO_STRING = 'toString';\nvar RegExpPrototype = RegExp.prototype;\nvar nativeToString = RegExpPrototype[TO_STRING];\n\nvar NOT_GENERIC = fails(function () { return nativeToString.call({ source: 'a', flags: 'b' }) != '/a/b'; });\n// FF44- RegExp#toString has a wrong name\nvar INCORRECT_NAME = nativeToString.name != TO_STRING;\n\n// `RegExp.prototype.toString` method\n// https://tc39.github.io/ecma262/#sec-regexp.prototype.tostring\nif (NOT_GENERIC || INCORRECT_NAME) {\n  redefine(RegExp.prototype, TO_STRING, function toString() {\n    var R = anObject(this);\n    var p = String(R.source);\n    var rf = R.flags;\n    var f = String(rf === undefined && R instanceof RegExp && !('flags' in RegExpPrototype) ? flags.call(R) : rf);\n    return '/' + p + '/' + f;\n  }, { unsafe: true });\n}\n","'use strict'\n\nfunction ReInterval (callback, interval, args) {\n  var self = this;\n\n  this._callback = callback;\n  this._args = args;\n\n  this._interval = setInterval(callback, interval, this._args);\n\n  this.reschedule = function (interval) {\n    // if no interval entered, use the interval passed in on creation\n    if (!interval)\n      interval = self._interval;\n\n    if (self._interval)\n      clearInterval(self._interval);\n    self._interval = setInterval(self._callback, interval, self._args);\n  };\n\n  this.clear = function () {\n    if (self._interval) {\n      clearInterval(self._interval);\n      self._interval = undefined;\n    }\n  };\n  \n  this.destroy = function () {\n    if (self._interval) {\n      clearInterval(self._interval);\n    }\n    self._callback = undefined;\n    self._interval = undefined;\n    self._args = undefined;\n  };\n}\n\nfunction reInterval () {\n  if (typeof arguments[0] !== 'function')\n    throw new Error('callback needed');\n  if (typeof arguments[1] !== 'number')\n    throw new Error('interval needed');\n\n  var args;\n\n  if (arguments.length > 0) {\n    args = new Array(arguments.length - 2);\n\n    for (var i = 0; i < args.length; i++) {\n      args[i] = arguments[i + 2];\n    }\n  }\n\n  return new ReInterval(arguments[0], arguments[1], args);\n}\n\nmodule.exports = reInterval;\n","'use strict';\nvar $ = require('../internals/export');\nvar getOwnPropertyDescriptor = require('../internals/object-get-own-property-descriptor').f;\nvar toLength = require('../internals/to-length');\nvar notARegExp = require('../internals/not-a-regexp');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\nvar correctIsRegExpLogic = require('../internals/correct-is-regexp-logic');\nvar IS_PURE = require('../internals/is-pure');\n\nvar nativeStartsWith = ''.startsWith;\nvar min = Math.min;\n\nvar CORRECT_IS_REGEXP_LOGIC = correctIsRegExpLogic('startsWith');\n// https://github.com/zloirock/core-js/pull/702\nvar MDN_POLYFILL_BUG = !IS_PURE && !CORRECT_IS_REGEXP_LOGIC && !!function () {\n  var descriptor = getOwnPropertyDescriptor(String.prototype, 'startsWith');\n  return descriptor && !descriptor.writable;\n}();\n\n// `String.prototype.startsWith` method\n// https://tc39.github.io/ecma262/#sec-string.prototype.startswith\n$({ target: 'String', proto: true, forced: !MDN_POLYFILL_BUG && !CORRECT_IS_REGEXP_LOGIC }, {\n  startsWith: function startsWith(searchString /* , position = 0 */) {\n    var that = String(requireObjectCoercible(this));\n    notARegExp(searchString);\n    var index = toLength(min(arguments.length > 1 ? arguments[1] : undefined, that.length));\n    var search = String(searchString);\n    return nativeStartsWith\n      ? nativeStartsWith.call(that, search, index)\n      : that.slice(index, index + search.length) === search;\n  }\n});\n","'use strict';\n\nvar ERR_INVALID_OPT_VALUE = require('../../../errors').codes.ERR_INVALID_OPT_VALUE;\n\nfunction highWaterMarkFrom(options, isDuplex, duplexKey) {\n  return options.highWaterMark != null ? options.highWaterMark : isDuplex ? options[duplexKey] : null;\n}\n\nfunction getHighWaterMark(state, options, duplexKey, isDuplex) {\n  var hwm = highWaterMarkFrom(options, isDuplex, duplexKey);\n\n  if (hwm != null) {\n    if (!(isFinite(hwm) && Math.floor(hwm) === hwm) || hwm < 0) {\n      var name = isDuplex ? duplexKey : 'highWaterMark';\n      throw new ERR_INVALID_OPT_VALUE(name, hwm);\n    }\n\n    return Math.floor(hwm);\n  } // Default value\n\n\n  return state.objectMode ? 16 : 16 * 1024;\n}\n\nmodule.exports = {\n  getHighWaterMark: getHighWaterMark\n};","'use strict'\n\nconst { Buffer } = require('buffer')\nconst symbol = Symbol.for('BufferList')\n\nfunction BufferList (buf) {\n  if (!(this instanceof BufferList)) {\n    return new BufferList(buf)\n  }\n\n  BufferList._init.call(this, buf)\n}\n\nBufferList._init = function _init (buf) {\n  Object.defineProperty(this, symbol, { value: true })\n\n  this._bufs = []\n  this.length = 0\n\n  if (buf) {\n    this.append(buf)\n  }\n}\n\nBufferList.prototype._new = function _new (buf) {\n  return new BufferList(buf)\n}\n\nBufferList.prototype._offset = function _offset (offset) {\n  if (offset === 0) {\n    return [0, 0]\n  }\n\n  let tot = 0\n\n  for (let i = 0; i < this._bufs.length; i++) {\n    const _t = tot + this._bufs[i].length\n    if (offset < _t || i === this._bufs.length - 1) {\n      return [i, offset - tot]\n    }\n    tot = _t\n  }\n}\n\nBufferList.prototype._reverseOffset = function (blOffset) {\n  const bufferId = blOffset[0]\n  let offset = blOffset[1]\n\n  for (let i = 0; i < bufferId; i++) {\n    offset += this._bufs[i].length\n  }\n\n  return offset\n}\n\nBufferList.prototype.get = function get (index) {\n  if (index > this.length || index < 0) {\n    return undefined\n  }\n\n  const offset = this._offset(index)\n\n  return this._bufs[offset[0]][offset[1]]\n}\n\nBufferList.prototype.slice = function slice (start, end) {\n  if (typeof start === 'number' && start < 0) {\n    start += this.length\n  }\n\n  if (typeof end === 'number' && end < 0) {\n    end += this.length\n  }\n\n  return this.copy(null, 0, start, end)\n}\n\nBufferList.prototype.copy = function copy (dst, dstStart, srcStart, srcEnd) {\n  if (typeof srcStart !== 'number' || srcStart < 0) {\n    srcStart = 0\n  }\n\n  if (typeof srcEnd !== 'number' || srcEnd > this.length) {\n    srcEnd = this.length\n  }\n\n  if (srcStart >= this.length) {\n    return dst || Buffer.alloc(0)\n  }\n\n  if (srcEnd <= 0) {\n    return dst || Buffer.alloc(0)\n  }\n\n  const copy = !!dst\n  const off = this._offset(srcStart)\n  const len = srcEnd - srcStart\n  let bytes = len\n  let bufoff = (copy && dstStart) || 0\n  let start = off[1]\n\n  // copy/slice everything\n  if (srcStart === 0 && srcEnd === this.length) {\n    if (!copy) {\n      // slice, but full concat if multiple buffers\n      return this._bufs.length === 1\n        ? this._bufs[0]\n        : Buffer.concat(this._bufs, this.length)\n    }\n\n    // copy, need to copy individual buffers\n    for (let i = 0; i < this._bufs.length; i++) {\n      this._bufs[i].copy(dst, bufoff)\n      bufoff += this._bufs[i].length\n    }\n\n    return dst\n  }\n\n  // easy, cheap case where it's a subset of one of the buffers\n  if (bytes <= this._bufs[off[0]].length - start) {\n    return copy\n      ? this._bufs[off[0]].copy(dst, dstStart, start, start + bytes)\n      : this._bufs[off[0]].slice(start, start + bytes)\n  }\n\n  if (!copy) {\n    // a slice, we need something to copy in to\n    dst = Buffer.allocUnsafe(len)\n  }\n\n  for (let i = off[0]; i < this._bufs.length; i++) {\n    const l = this._bufs[i].length - start\n\n    if (bytes > l) {\n      this._bufs[i].copy(dst, bufoff, start)\n      bufoff += l\n    } else {\n      this._bufs[i].copy(dst, bufoff, start, start + bytes)\n      bufoff += l\n      break\n    }\n\n    bytes -= l\n\n    if (start) {\n      start = 0\n    }\n  }\n\n  // safeguard so that we don't return uninitialized memory\n  if (dst.length > bufoff) return dst.slice(0, bufoff)\n\n  return dst\n}\n\nBufferList.prototype.shallowSlice = function shallowSlice (start, end) {\n  start = start || 0\n  end = typeof end !== 'number' ? this.length : end\n\n  if (start < 0) {\n    start += this.length\n  }\n\n  if (end < 0) {\n    end += this.length\n  }\n\n  if (start === end) {\n    return this._new()\n  }\n\n  const startOffset = this._offset(start)\n  const endOffset = this._offset(end)\n  const buffers = this._bufs.slice(startOffset[0], endOffset[0] + 1)\n\n  if (endOffset[1] === 0) {\n    buffers.pop()\n  } else {\n    buffers[buffers.length - 1] = buffers[buffers.length - 1].slice(0, endOffset[1])\n  }\n\n  if (startOffset[1] !== 0) {\n    buffers[0] = buffers[0].slice(startOffset[1])\n  }\n\n  return this._new(buffers)\n}\n\nBufferList.prototype.toString = function toString (encoding, start, end) {\n  return this.slice(start, end).toString(encoding)\n}\n\nBufferList.prototype.consume = function consume (bytes) {\n  // first, normalize the argument, in accordance with how Buffer does it\n  bytes = Math.trunc(bytes)\n  // do nothing if not a positive number\n  if (Number.isNaN(bytes) || bytes <= 0) return this\n\n  while (this._bufs.length) {\n    if (bytes >= this._bufs[0].length) {\n      bytes -= this._bufs[0].length\n      this.length -= this._bufs[0].length\n      this._bufs.shift()\n    } else {\n      this._bufs[0] = this._bufs[0].slice(bytes)\n      this.length -= bytes\n      break\n    }\n  }\n\n  return this\n}\n\nBufferList.prototype.duplicate = function duplicate () {\n  const copy = this._new()\n\n  for (let i = 0; i < this._bufs.length; i++) {\n    copy.append(this._bufs[i])\n  }\n\n  return copy\n}\n\nBufferList.prototype.append = function append (buf) {\n  if (buf == null) {\n    return this\n  }\n\n  if (buf.buffer) {\n    // append a view of the underlying ArrayBuffer\n    this._appendBuffer(Buffer.from(buf.buffer, buf.byteOffset, buf.byteLength))\n  } else if (Array.isArray(buf)) {\n    for (let i = 0; i < buf.length; i++) {\n      this.append(buf[i])\n    }\n  } else if (this._isBufferList(buf)) {\n    // unwrap argument into individual BufferLists\n    for (let i = 0; i < buf._bufs.length; i++) {\n      this.append(buf._bufs[i])\n    }\n  } else {\n    // coerce number arguments to strings, since Buffer(number) does\n    // uninitialized memory allocation\n    if (typeof buf === 'number') {\n      buf = buf.toString()\n    }\n\n    this._appendBuffer(Buffer.from(buf))\n  }\n\n  return this\n}\n\nBufferList.prototype._appendBuffer = function appendBuffer (buf) {\n  this._bufs.push(buf)\n  this.length += buf.length\n}\n\nBufferList.prototype.indexOf = function (search, offset, encoding) {\n  if (encoding === undefined && typeof offset === 'string') {\n    encoding = offset\n    offset = undefined\n  }\n\n  if (typeof search === 'function' || Array.isArray(search)) {\n    throw new TypeError('The \"value\" argument must be one of type string, Buffer, BufferList, or Uint8Array.')\n  } else if (typeof search === 'number') {\n    search = Buffer.from([search])\n  } else if (typeof search === 'string') {\n    search = Buffer.from(search, encoding)\n  } else if (this._isBufferList(search)) {\n    search = search.slice()\n  } else if (Array.isArray(search.buffer)) {\n    search = Buffer.from(search.buffer, search.byteOffset, search.byteLength)\n  } else if (!Buffer.isBuffer(search)) {\n    search = Buffer.from(search)\n  }\n\n  offset = Number(offset || 0)\n\n  if (isNaN(offset)) {\n    offset = 0\n  }\n\n  if (offset < 0) {\n    offset = this.length + offset\n  }\n\n  if (offset < 0) {\n    offset = 0\n  }\n\n  if (search.length === 0) {\n    return offset > this.length ? this.length : offset\n  }\n\n  const blOffset = this._offset(offset)\n  let blIndex = blOffset[0] // index of which internal buffer we're working on\n  let buffOffset = blOffset[1] // offset of the internal buffer we're working on\n\n  // scan over each buffer\n  for (; blIndex < this._bufs.length; blIndex++) {\n    const buff = this._bufs[blIndex]\n\n    while (buffOffset < buff.length) {\n      const availableWindow = buff.length - buffOffset\n\n      if (availableWindow >= search.length) {\n        const nativeSearchResult = buff.indexOf(search, buffOffset)\n\n        if (nativeSearchResult !== -1) {\n          return this._reverseOffset([blIndex, nativeSearchResult])\n        }\n\n        buffOffset = buff.length - search.length + 1 // end of native search window\n      } else {\n        const revOffset = this._reverseOffset([blIndex, buffOffset])\n\n        if (this._match(revOffset, search)) {\n          return revOffset\n        }\n\n        buffOffset++\n      }\n    }\n\n    buffOffset = 0\n  }\n\n  return -1\n}\n\nBufferList.prototype._match = function (offset, search) {\n  if (this.length - offset < search.length) {\n    return false\n  }\n\n  for (let searchOffset = 0; searchOffset < search.length; searchOffset++) {\n    if (this.get(offset + searchOffset) !== search[searchOffset]) {\n      return false\n    }\n  }\n  return true\n}\n\n;(function () {\n  const methods = {\n    readDoubleBE: 8,\n    readDoubleLE: 8,\n    readFloatBE: 4,\n    readFloatLE: 4,\n    readInt32BE: 4,\n    readInt32LE: 4,\n    readUInt32BE: 4,\n    readUInt32LE: 4,\n    readInt16BE: 2,\n    readInt16LE: 2,\n    readUInt16BE: 2,\n    readUInt16LE: 2,\n    readInt8: 1,\n    readUInt8: 1,\n    readIntBE: null,\n    readIntLE: null,\n    readUIntBE: null,\n    readUIntLE: null\n  }\n\n  for (const m in methods) {\n    (function (m) {\n      if (methods[m] === null) {\n        BufferList.prototype[m] = function (offset, byteLength) {\n          return this.slice(offset, offset + byteLength)[m](0, byteLength)\n        }\n      } else {\n        BufferList.prototype[m] = function (offset = 0) {\n          return this.slice(offset, offset + methods[m])[m](0)\n        }\n      }\n    }(m))\n  }\n}())\n\n// Used internally by the class and also as an indicator of this object being\n// a `BufferList`. It's not possible to use `instanceof BufferList` in a browser\n// environment because there could be multiple different copies of the\n// BufferList class and some `BufferList`s might be `BufferList`s.\nBufferList.prototype._isBufferList = function _isBufferList (b) {\n  return b instanceof BufferList || BufferList.isBufferList(b)\n}\n\nBufferList.isBufferList = function isBufferList (b) {\n  return b != null && b[symbol]\n}\n\nmodule.exports = BufferList\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.generateConfig = exports.FIX_ATOB_FIRST = exports.CONFIG_DEFAULTS = void 0;\nvar util_1 = require(\"./util\");\nvar ERR_TOKEN_PARSE = \"Unable to parse token. Is it properly formatted?\";\nexports.CONFIG_DEFAULTS = {\n    speed: 100,\n    interim_flag_is_legacy_fbos: true\n};\nvar ERR_MISSING_MQTT_USERNAME = \"MISSING_MQTT_USERNAME\";\nexports.FIX_ATOB_FIRST = \"NOTE TO NODEJS USERS:\\n\\nThis library requires an 'atob()' function.\\nPlease fix this first.\\nSOLUTION: https://github.com/FarmBot/farmbot-js/issues/33\";\nvar parseToken = function (input) {\n    try {\n        return JSON.parse(atob(input.split(\".\")[1]));\n    }\n    catch (e) {\n        console.warn(e);\n        throw new Error(ERR_TOKEN_PARSE);\n    }\n};\nexports.generateConfig = function (input) {\n    if (util_1.isNode() && !global.atob) {\n        throw new Error(exports.FIX_ATOB_FIRST);\n    }\n    var t = parseToken(input.token);\n    return {\n        speed: input.speed || exports.CONFIG_DEFAULTS.speed,\n        token: input.token,\n        secure: input.secure === false ? false : true,\n        mqttServer: util_1.isNode() ? \"mqtt://\" + t.mqtt + \":1883\" : t.mqtt_ws,\n        mqttUsername: t.bot || ERR_MISSING_MQTT_USERNAME,\n        LAST_PING_OUT: 0,\n        LAST_PING_IN: 0,\n        interim_flag_is_legacy_fbos: true,\n    };\n};\n","exports.parser = require('./parser').parser\nexports.generate = require('./generate')\nexports.writeToStream = require('./writeToStream')\n","'use strict';\n\nvar _Object$setPrototypeO;\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar finished = require('./end-of-stream');\n\nvar kLastResolve = Symbol('lastResolve');\nvar kLastReject = Symbol('lastReject');\nvar kError = Symbol('error');\nvar kEnded = Symbol('ended');\nvar kLastPromise = Symbol('lastPromise');\nvar kHandlePromise = Symbol('handlePromise');\nvar kStream = Symbol('stream');\n\nfunction createIterResult(value, done) {\n  return {\n    value: value,\n    done: done\n  };\n}\n\nfunction readAndResolve(iter) {\n  var resolve = iter[kLastResolve];\n\n  if (resolve !== null) {\n    var data = iter[kStream].read(); // we defer if data is null\n    // we can be expecting either 'end' or\n    // 'error'\n\n    if (data !== null) {\n      iter[kLastPromise] = null;\n      iter[kLastResolve] = null;\n      iter[kLastReject] = null;\n      resolve(createIterResult(data, false));\n    }\n  }\n}\n\nfunction onReadable(iter) {\n  // we wait for the next tick, because it might\n  // emit an error with process.nextTick\n  process.nextTick(readAndResolve, iter);\n}\n\nfunction wrapForNext(lastPromise, iter) {\n  return function (resolve, reject) {\n    lastPromise.then(function () {\n      if (iter[kEnded]) {\n        resolve(createIterResult(undefined, true));\n        return;\n      }\n\n      iter[kHandlePromise](resolve, reject);\n    }, reject);\n  };\n}\n\nvar AsyncIteratorPrototype = Object.getPrototypeOf(function () {});\nvar ReadableStreamAsyncIteratorPrototype = Object.setPrototypeOf((_Object$setPrototypeO = {\n  get stream() {\n    return this[kStream];\n  },\n\n  next: function next() {\n    var _this = this;\n\n    // if we have detected an error in the meanwhile\n    // reject straight away\n    var error = this[kError];\n\n    if (error !== null) {\n      return Promise.reject(error);\n    }\n\n    if (this[kEnded]) {\n      return Promise.resolve(createIterResult(undefined, true));\n    }\n\n    if (this[kStream].destroyed) {\n      // We need to defer via nextTick because if .destroy(err) is\n      // called, the error will be emitted via nextTick, and\n      // we cannot guarantee that there is no error lingering around\n      // waiting to be emitted.\n      return new Promise(function (resolve, reject) {\n        process.nextTick(function () {\n          if (_this[kError]) {\n            reject(_this[kError]);\n          } else {\n            resolve(createIterResult(undefined, true));\n          }\n        });\n      });\n    } // if we have multiple next() calls\n    // we will wait for the previous Promise to finish\n    // this logic is optimized to support for await loops,\n    // where next() is only called once at a time\n\n\n    var lastPromise = this[kLastPromise];\n    var promise;\n\n    if (lastPromise) {\n      promise = new Promise(wrapForNext(lastPromise, this));\n    } else {\n      // fast path needed to support multiple this.push()\n      // without triggering the next() queue\n      var data = this[kStream].read();\n\n      if (data !== null) {\n        return Promise.resolve(createIterResult(data, false));\n      }\n\n      promise = new Promise(this[kHandlePromise]);\n    }\n\n    this[kLastPromise] = promise;\n    return promise;\n  }\n}, _defineProperty(_Object$setPrototypeO, Symbol.asyncIterator, function () {\n  return this;\n}), _defineProperty(_Object$setPrototypeO, \"return\", function _return() {\n  var _this2 = this;\n\n  // destroy(err, cb) is a private API\n  // we can guarantee we have that here, because we control the\n  // Readable class this is attached to\n  return new Promise(function (resolve, reject) {\n    _this2[kStream].destroy(null, function (err) {\n      if (err) {\n        reject(err);\n        return;\n      }\n\n      resolve(createIterResult(undefined, true));\n    });\n  });\n}), _Object$setPrototypeO), AsyncIteratorPrototype);\n\nvar createReadableStreamAsyncIterator = function createReadableStreamAsyncIterator(stream) {\n  var _Object$create;\n\n  var iterator = Object.create(ReadableStreamAsyncIteratorPrototype, (_Object$create = {}, _defineProperty(_Object$create, kStream, {\n    value: stream,\n    writable: true\n  }), _defineProperty(_Object$create, kLastResolve, {\n    value: null,\n    writable: true\n  }), _defineProperty(_Object$create, kLastReject, {\n    value: null,\n    writable: true\n  }), _defineProperty(_Object$create, kError, {\n    value: null,\n    writable: true\n  }), _defineProperty(_Object$create, kEnded, {\n    value: stream._readableState.endEmitted,\n    writable: true\n  }), _defineProperty(_Object$create, kHandlePromise, {\n    value: function value(resolve, reject) {\n      var data = iterator[kStream].read();\n\n      if (data) {\n        iterator[kLastPromise] = null;\n        iterator[kLastResolve] = null;\n        iterator[kLastReject] = null;\n        resolve(createIterResult(data, false));\n      } else {\n        iterator[kLastResolve] = resolve;\n        iterator[kLastReject] = reject;\n      }\n    },\n    writable: true\n  }), _Object$create));\n  iterator[kLastPromise] = null;\n  finished(stream, function (err) {\n    if (err && err.code !== 'ERR_STREAM_PREMATURE_CLOSE') {\n      var reject = iterator[kLastReject]; // reject if we are waiting for data in the Promise\n      // returned by next() and store the error\n\n      if (reject !== null) {\n        iterator[kLastPromise] = null;\n        iterator[kLastResolve] = null;\n        iterator[kLastReject] = null;\n        reject(err);\n      }\n\n      iterator[kError] = err;\n      return;\n    }\n\n    var resolve = iterator[kLastResolve];\n\n    if (resolve !== null) {\n      iterator[kLastPromise] = null;\n      iterator[kLastResolve] = null;\n      iterator[kLastReject] = null;\n      resolve(createIterResult(undefined, true));\n    }\n\n    iterator[kEnded] = true;\n  });\n  stream.on('readable', onReadable.bind(null, iterator));\n  return iterator;\n};\n\nmodule.exports = createReadableStreamAsyncIterator;","/* eslint-env browser */\n\n/**\n * This is the web browser implementation of `debug()`.\n */\n\nexports.log = log;\nexports.formatArgs = formatArgs;\nexports.save = save;\nexports.load = load;\nexports.useColors = useColors;\nexports.storage = localstorage();\n\n/**\n * Colors.\n */\n\nexports.colors = [\n\t'#0000CC',\n\t'#0000FF',\n\t'#0033CC',\n\t'#0033FF',\n\t'#0066CC',\n\t'#0066FF',\n\t'#0099CC',\n\t'#0099FF',\n\t'#00CC00',\n\t'#00CC33',\n\t'#00CC66',\n\t'#00CC99',\n\t'#00CCCC',\n\t'#00CCFF',\n\t'#3300CC',\n\t'#3300FF',\n\t'#3333CC',\n\t'#3333FF',\n\t'#3366CC',\n\t'#3366FF',\n\t'#3399CC',\n\t'#3399FF',\n\t'#33CC00',\n\t'#33CC33',\n\t'#33CC66',\n\t'#33CC99',\n\t'#33CCCC',\n\t'#33CCFF',\n\t'#6600CC',\n\t'#6600FF',\n\t'#6633CC',\n\t'#6633FF',\n\t'#66CC00',\n\t'#66CC33',\n\t'#9900CC',\n\t'#9900FF',\n\t'#9933CC',\n\t'#9933FF',\n\t'#99CC00',\n\t'#99CC33',\n\t'#CC0000',\n\t'#CC0033',\n\t'#CC0066',\n\t'#CC0099',\n\t'#CC00CC',\n\t'#CC00FF',\n\t'#CC3300',\n\t'#CC3333',\n\t'#CC3366',\n\t'#CC3399',\n\t'#CC33CC',\n\t'#CC33FF',\n\t'#CC6600',\n\t'#CC6633',\n\t'#CC9900',\n\t'#CC9933',\n\t'#CCCC00',\n\t'#CCCC33',\n\t'#FF0000',\n\t'#FF0033',\n\t'#FF0066',\n\t'#FF0099',\n\t'#FF00CC',\n\t'#FF00FF',\n\t'#FF3300',\n\t'#FF3333',\n\t'#FF3366',\n\t'#FF3399',\n\t'#FF33CC',\n\t'#FF33FF',\n\t'#FF6600',\n\t'#FF6633',\n\t'#FF9900',\n\t'#FF9933',\n\t'#FFCC00',\n\t'#FFCC33'\n];\n\n/**\n * Currently only WebKit-based Web Inspectors, Firefox >= v31,\n * and the Firebug extension (any Firefox version) are known\n * to support \"%c\" CSS customizations.\n *\n * TODO: add a `localStorage` variable to explicitly enable/disable colors\n */\n\n// eslint-disable-next-line complexity\nfunction useColors() {\n\t// NB: In an Electron preload script, document will be defined but not fully\n\t// initialized. Since we know we're in Chrome, we'll just detect this case\n\t// explicitly\n\tif (typeof window !== 'undefined' && window.process && (window.process.type === 'renderer' || window.process.__nwjs)) {\n\t\treturn true;\n\t}\n\n\t// Internet Explorer and Edge do not support colors.\n\tif (typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/(edge|trident)\\/(\\d+)/)) {\n\t\treturn false;\n\t}\n\n\t// Is webkit? http://stackoverflow.com/a/16459606/376773\n\t// document is undefined in react-native: https://github.com/facebook/react-native/pull/1632\n\treturn (typeof document !== 'undefined' && document.documentElement && document.documentElement.style && document.documentElement.style.WebkitAppearance) ||\n\t\t// Is firebug? http://stackoverflow.com/a/398120/376773\n\t\t(typeof window !== 'undefined' && window.console && (window.console.firebug || (window.console.exception && window.console.table))) ||\n\t\t// Is firefox >= v31?\n\t\t// https://developer.mozilla.org/en-US/docs/Tools/Web_Console#Styling_messages\n\t\t(typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/firefox\\/(\\d+)/) && parseInt(RegExp.$1, 10) >= 31) ||\n\t\t// Double check webkit in userAgent just in case we are in a worker\n\t\t(typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/applewebkit\\/(\\d+)/));\n}\n\n/**\n * Colorize log arguments if enabled.\n *\n * @api public\n */\n\nfunction formatArgs(args) {\n\targs[0] = (this.useColors ? '%c' : '') +\n\t\tthis.namespace +\n\t\t(this.useColors ? ' %c' : ' ') +\n\t\targs[0] +\n\t\t(this.useColors ? '%c ' : ' ') +\n\t\t'+' + module.exports.humanize(this.diff);\n\n\tif (!this.useColors) {\n\t\treturn;\n\t}\n\n\tconst c = 'color: ' + this.color;\n\targs.splice(1, 0, c, 'color: inherit');\n\n\t// The final \"%c\" is somewhat tricky, because there could be other\n\t// arguments passed either before or after the %c, so we need to\n\t// figure out the correct index to insert the CSS into\n\tlet index = 0;\n\tlet lastC = 0;\n\targs[0].replace(/%[a-zA-Z%]/g, match => {\n\t\tif (match === '%%') {\n\t\t\treturn;\n\t\t}\n\t\tindex++;\n\t\tif (match === '%c') {\n\t\t\t// We only are interested in the *last* %c\n\t\t\t// (the user may have provided their own)\n\t\t\tlastC = index;\n\t\t}\n\t});\n\n\targs.splice(lastC, 0, c);\n}\n\n/**\n * Invokes `console.log()` when available.\n * No-op when `console.log` is not a \"function\".\n *\n * @api public\n */\nfunction log(...args) {\n\t// This hackery is required for IE8/9, where\n\t// the `console.log` function doesn't have 'apply'\n\treturn typeof console === 'object' &&\n\t\tconsole.log &&\n\t\tconsole.log(...args);\n}\n\n/**\n * Save `namespaces`.\n *\n * @param {String} namespaces\n * @api private\n */\nfunction save(namespaces) {\n\ttry {\n\t\tif (namespaces) {\n\t\t\texports.storage.setItem('debug', namespaces);\n\t\t} else {\n\t\t\texports.storage.removeItem('debug');\n\t\t}\n\t} catch (error) {\n\t\t// Swallow\n\t\t// XXX (@Qix-) should we be logging these?\n\t}\n}\n\n/**\n * Load `namespaces`.\n *\n * @return {String} returns the previously persisted debug modes\n * @api private\n */\nfunction load() {\n\tlet r;\n\ttry {\n\t\tr = exports.storage.getItem('debug');\n\t} catch (error) {\n\t\t// Swallow\n\t\t// XXX (@Qix-) should we be logging these?\n\t}\n\n\t// If debug isn't set in LS, and we're in Electron, try to load $DEBUG\n\tif (!r && typeof process !== 'undefined' && 'env' in process) {\n\t\tr = process.env.DEBUG;\n\t}\n\n\treturn r;\n}\n\n/**\n * Localstorage attempts to return the localstorage.\n *\n * This is necessary because safari throws\n * when a user disables cookies/localstorage\n * and you attempt to access it.\n *\n * @return {LocalStorage}\n * @api private\n */\n\nfunction localstorage() {\n\ttry {\n\t\t// TVMLKit (Apple TV JS Runtime) does not have a window object, just localStorage in the global context\n\t\t// The Browser also has localStorage in the global context.\n\t\treturn localStorage;\n\t} catch (error) {\n\t\t// Swallow\n\t\t// XXX (@Qix-) should we be logging these?\n\t}\n}\n\nmodule.exports = require('./common')(exports);\n\nconst {formatters} = module.exports;\n\n/**\n * Map %j to `JSON.stringify()`, since no Web Inspectors do that by default.\n */\n\nformatters.j = function (v) {\n\ttry {\n\t\treturn JSON.stringify(v);\n\t} catch (error) {\n\t\treturn '[UnexpectedJSONParseError]: ' + error.message;\n\t}\n};\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Misc = exports.FbjsEventName = exports.MqttChanName = void 0;\nvar MqttChanName;\n(function (MqttChanName) {\n    MqttChanName[\"fromApi\"] = \"from_api\";\n    MqttChanName[\"fromClients\"] = \"from_clients\";\n    MqttChanName[\"fromDevice\"] = \"from_device\";\n    MqttChanName[\"logs\"] = \"logs\";\n    MqttChanName[\"status\"] = \"status\";\n    MqttChanName[\"sync\"] = \"sync\";\n    /** THIS ONE IS SPECIAL. */\n    MqttChanName[\"publicBroadcast\"] = \"public_broadcast\";\n    MqttChanName[\"pong\"] = \"pong\";\n})(MqttChanName = exports.MqttChanName || (exports.MqttChanName = {}));\n/** Not to be confused with MqttChanNames or\n * MQTT.js event names */\nvar FbjsEventName;\n(function (FbjsEventName) {\n    /** State tree update. */\n    FbjsEventName[\"status\"] = \"status\";\n    /** When a log is received */\n    FbjsEventName[\"logs\"] = \"logs\";\n    /** When an unexpected message is received */\n    FbjsEventName[\"malformed\"] = \"malformed\";\n    /** Unreliable. */\n    FbjsEventName[\"offline\"] = \"offline\";\n    /** Fired on connect. */\n    FbjsEventName[\"online\"] = \"online\";\n    /** Fires when the API sends an MQTT message to users. */\n    FbjsEventName[\"publicBroadcast\"] = \"public_broadcast\";\n    /** Fires after any message is sent from current client. */\n    FbjsEventName[\"sent\"] = \"sent\";\n    /** Used by resource auto-sync. */\n    FbjsEventName[\"sync\"] = \"sync\";\n    /** When a key is removed from the device state tree. */\n    FbjsEventName[\"remove\"] = \"remove\";\n})(FbjsEventName = exports.FbjsEventName || (exports.FbjsEventName = {}));\nvar Misc;\n(function (Misc) {\n    /** Channel delimiter for MQTT channels. */\n    Misc[\"MQTT_DELIM\"] = \"/\";\n    /** Namespace delimiter used by `sync_v7` */\n    Misc[\"PATH_DELIM\"] = \".\";\n    /** A null value when dealing with empty `pair` nodes in CeleryScript. */\n    Misc[\"NULL\"] = \"null\";\n    /** Reconnect internval for MQTT.js */\n    Misc[Misc[\"RECONNECT_THROTTLE_MS\"] = 1000] = \"RECONNECT_THROTTLE_MS\";\n})(Misc = exports.Misc || (exports.Misc = {}));\n","'use strict';\n\nmodule.exports = {\n  isString: function(arg) {\n    return typeof(arg) === 'string';\n  },\n  isObject: function(arg) {\n    return typeof(arg) === 'object' && arg !== null;\n  },\n  isNull: function(arg) {\n    return arg === null;\n  },\n  isNullOrUndefined: function(arg) {\n    return arg == null;\n  }\n};\n","// Ported from https://github.com/mafintosh/pump with\n// permission from the author, Mathias Buus (@mafintosh).\n'use strict';\n\nvar eos;\n\nfunction once(callback) {\n  var called = false;\n  return function () {\n    if (called) return;\n    called = true;\n    callback.apply(void 0, arguments);\n  };\n}\n\nvar _require$codes = require('../../../errors').codes,\n    ERR_MISSING_ARGS = _require$codes.ERR_MISSING_ARGS,\n    ERR_STREAM_DESTROYED = _require$codes.ERR_STREAM_DESTROYED;\n\nfunction noop(err) {\n  // Rethrow the error if it exists to avoid swallowing it\n  if (err) throw err;\n}\n\nfunction isRequest(stream) {\n  return stream.setHeader && typeof stream.abort === 'function';\n}\n\nfunction destroyer(stream, reading, writing, callback) {\n  callback = once(callback);\n  var closed = false;\n  stream.on('close', function () {\n    closed = true;\n  });\n  if (eos === undefined) eos = require('./end-of-stream');\n  eos(stream, {\n    readable: reading,\n    writable: writing\n  }, function (err) {\n    if (err) return callback(err);\n    closed = true;\n    callback();\n  });\n  var destroyed = false;\n  return function (err) {\n    if (closed) return;\n    if (destroyed) return;\n    destroyed = true; // request.destroy just do .end - .abort is what we want\n\n    if (isRequest(stream)) return stream.abort();\n    if (typeof stream.destroy === 'function') return stream.destroy();\n    callback(err || new ERR_STREAM_DESTROYED('pipe'));\n  };\n}\n\nfunction call(fn) {\n  fn();\n}\n\nfunction pipe(from, to) {\n  return from.pipe(to);\n}\n\nfunction popCallback(streams) {\n  if (!streams.length) return noop;\n  if (typeof streams[streams.length - 1] !== 'function') return noop;\n  return streams.pop();\n}\n\nfunction pipeline() {\n  for (var _len = arguments.length, streams = new Array(_len), _key = 0; _key < _len; _key++) {\n    streams[_key] = arguments[_key];\n  }\n\n  var callback = popCallback(streams);\n  if (Array.isArray(streams[0])) streams = streams[0];\n\n  if (streams.length < 2) {\n    throw new ERR_MISSING_ARGS('streams');\n  }\n\n  var error;\n  var destroys = streams.map(function (stream, i) {\n    var reading = i < streams.length - 1;\n    var writing = i > 0;\n    return destroyer(stream, reading, writing, function (err) {\n      if (!error) error = err;\n      if (err) destroys.forEach(call);\n      if (reading) return;\n      destroys.forEach(call);\n      callback(error);\n    });\n  });\n  return streams.reduce(pipe);\n}\n\nmodule.exports = pipeline;","var $ = require('../internals/export');\nvar repeat = require('../internals/string-repeat');\n\n// `String.prototype.repeat` method\n// https://tc39.github.io/ecma262/#sec-string.prototype.repeat\n$({ target: 'String', proto: true }, {\n  repeat: repeat\n});\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n// a transform stream is a readable/writable stream where you do\n// something with the data.  Sometimes it's called a \"filter\",\n// but that's not a great name for it, since that implies a thing where\n// some bits pass through, and others are simply ignored.  (That would\n// be a valid example of a transform, of course.)\n//\n// While the output is causally related to the input, it's not a\n// necessarily symmetric or synchronous transformation.  For example,\n// a zlib stream might take multiple plain-text writes(), and then\n// emit a single compressed chunk some time in the future.\n//\n// Here's how this works:\n//\n// The Transform stream has all the aspects of the readable and writable\n// stream classes.  When you write(chunk), that calls _write(chunk,cb)\n// internally, and returns false if there's a lot of pending writes\n// buffered up.  When you call read(), that calls _read(n) until\n// there's enough pending readable data buffered up.\n//\n// In a transform stream, the written data is placed in a buffer.  When\n// _read(n) is called, it transforms the queued up data, calling the\n// buffered _write cb's as it consumes chunks.  If consuming a single\n// written chunk would result in multiple output chunks, then the first\n// outputted bit calls the readcb, and subsequent chunks just go into\n// the read buffer, and will cause it to emit 'readable' if necessary.\n//\n// This way, back-pressure is actually determined by the reading side,\n// since _read has to be called to start processing a new chunk.  However,\n// a pathological inflate type of transform can cause excessive buffering\n// here.  For example, imagine a stream where every byte of input is\n// interpreted as an integer from 0-255, and then results in that many\n// bytes of output.  Writing the 4 bytes {ff,ff,ff,ff} would result in\n// 1kb of data being output.  In this case, you could write a very small\n// amount of input, and end up with a very large amount of output.  In\n// such a pathological inflating mechanism, there'd be no way to tell\n// the system to stop doing the transform.  A single 4MB write could\n// cause the system to run out of memory.\n//\n// However, even in such a pathological case, only a single written chunk\n// would be consumed, and then the rest would wait (un-transformed) until\n// the results of the previous transformed chunk were consumed.\n'use strict';\n\nmodule.exports = Transform;\n\nvar _require$codes = require('../errors').codes,\n    ERR_METHOD_NOT_IMPLEMENTED = _require$codes.ERR_METHOD_NOT_IMPLEMENTED,\n    ERR_MULTIPLE_CALLBACK = _require$codes.ERR_MULTIPLE_CALLBACK,\n    ERR_TRANSFORM_ALREADY_TRANSFORMING = _require$codes.ERR_TRANSFORM_ALREADY_TRANSFORMING,\n    ERR_TRANSFORM_WITH_LENGTH_0 = _require$codes.ERR_TRANSFORM_WITH_LENGTH_0;\n\nvar Duplex = require('./_stream_duplex');\n\nrequire('inherits')(Transform, Duplex);\n\nfunction afterTransform(er, data) {\n  var ts = this._transformState;\n  ts.transforming = false;\n  var cb = ts.writecb;\n\n  if (cb === null) {\n    return this.emit('error', new ERR_MULTIPLE_CALLBACK());\n  }\n\n  ts.writechunk = null;\n  ts.writecb = null;\n  if (data != null) // single equals check for both `null` and `undefined`\n    this.push(data);\n  cb(er);\n  var rs = this._readableState;\n  rs.reading = false;\n\n  if (rs.needReadable || rs.length < rs.highWaterMark) {\n    this._read(rs.highWaterMark);\n  }\n}\n\nfunction Transform(options) {\n  if (!(this instanceof Transform)) return new Transform(options);\n  Duplex.call(this, options);\n  this._transformState = {\n    afterTransform: afterTransform.bind(this),\n    needTransform: false,\n    transforming: false,\n    writecb: null,\n    writechunk: null,\n    writeencoding: null\n  }; // start out asking for a readable event once data is transformed.\n\n  this._readableState.needReadable = true; // we have implemented the _read method, and done the other things\n  // that Readable wants before the first _read call, so unset the\n  // sync guard flag.\n\n  this._readableState.sync = false;\n\n  if (options) {\n    if (typeof options.transform === 'function') this._transform = options.transform;\n    if (typeof options.flush === 'function') this._flush = options.flush;\n  } // When the writable side finishes, then flush out anything remaining.\n\n\n  this.on('prefinish', prefinish);\n}\n\nfunction prefinish() {\n  var _this = this;\n\n  if (typeof this._flush === 'function' && !this._readableState.destroyed) {\n    this._flush(function (er, data) {\n      done(_this, er, data);\n    });\n  } else {\n    done(this, null, null);\n  }\n}\n\nTransform.prototype.push = function (chunk, encoding) {\n  this._transformState.needTransform = false;\n  return Duplex.prototype.push.call(this, chunk, encoding);\n}; // This is the part where you do stuff!\n// override this function in implementation classes.\n// 'chunk' is an input chunk.\n//\n// Call `push(newChunk)` to pass along transformed output\n// to the readable side.  You may call 'push' zero or more times.\n//\n// Call `cb(err)` when you are done with this chunk.  If you pass\n// an error, then that'll put the hurt on the whole operation.  If you\n// never call cb(), then you'll never get another chunk.\n\n\nTransform.prototype._transform = function (chunk, encoding, cb) {\n  cb(new ERR_METHOD_NOT_IMPLEMENTED('_transform()'));\n};\n\nTransform.prototype._write = function (chunk, encoding, cb) {\n  var ts = this._transformState;\n  ts.writecb = cb;\n  ts.writechunk = chunk;\n  ts.writeencoding = encoding;\n\n  if (!ts.transforming) {\n    var rs = this._readableState;\n    if (ts.needTransform || rs.needReadable || rs.length < rs.highWaterMark) this._read(rs.highWaterMark);\n  }\n}; // Doesn't matter what the args are here.\n// _transform does all the work.\n// That we got here means that the readable side wants more data.\n\n\nTransform.prototype._read = function (n) {\n  var ts = this._transformState;\n\n  if (ts.writechunk !== null && !ts.transforming) {\n    ts.transforming = true;\n\n    this._transform(ts.writechunk, ts.writeencoding, ts.afterTransform);\n  } else {\n    // mark that we need a transform, so that any data that comes in\n    // will get processed, now that we've asked for it.\n    ts.needTransform = true;\n  }\n};\n\nTransform.prototype._destroy = function (err, cb) {\n  Duplex.prototype._destroy.call(this, err, function (err2) {\n    cb(err2);\n  });\n};\n\nfunction done(stream, er, data) {\n  if (er) return stream.emit('error', er);\n  if (data != null) // single equals check for both `null` and `undefined`\n    stream.push(data); // TODO(BridgeAR): Write a test for these two error cases\n  // if there's nothing in the write buffer, then that means\n  // that nothing more will ever be provided\n\n  if (stream._writableState.length) throw new ERR_TRANSFORM_WITH_LENGTH_0();\n  if (stream._transformState.transforming) throw new ERR_TRANSFORM_ALREADY_TRANSFORMING();\n  return stream.push(null);\n}","'use strict';\nvar charAt = require('../internals/string-multibyte').charAt;\nvar InternalStateModule = require('../internals/internal-state');\nvar defineIterator = require('../internals/define-iterator');\n\nvar STRING_ITERATOR = 'String Iterator';\nvar setInternalState = InternalStateModule.set;\nvar getInternalState = InternalStateModule.getterFor(STRING_ITERATOR);\n\n// `String.prototype[@@iterator]` method\n// https://tc39.github.io/ecma262/#sec-string.prototype-@@iterator\ndefineIterator(String, 'String', function (iterated) {\n  setInternalState(this, {\n    type: STRING_ITERATOR,\n    string: String(iterated),\n    index: 0\n  });\n// `%StringIteratorPrototype%.next` method\n// https://tc39.github.io/ecma262/#sec-%stringiteratorprototype%.next\n}, function next() {\n  var state = getInternalState(this);\n  var string = state.string;\n  var index = state.index;\n  var point;\n  if (index >= string.length) return { value: undefined, done: true };\n  point = charAt(string, index);\n  state.index += point.length;\n  return { value: point, done: false };\n});\n","if (typeof Object.create === 'function') {\n  // implementation from standard node.js 'util' module\n  module.exports = function inherits(ctor, superCtor) {\n    if (superCtor) {\n      ctor.super_ = superCtor\n      ctor.prototype = Object.create(superCtor.prototype, {\n        constructor: {\n          value: ctor,\n          enumerable: false,\n          writable: true,\n          configurable: true\n        }\n      })\n    }\n  };\n} else {\n  // old school shim for old browsers\n  module.exports = function inherits(ctor, superCtor) {\n    if (superCtor) {\n      ctor.super_ = superCtor\n      var TempCtor = function () {}\n      TempCtor.prototype = superCtor.prototype\n      ctor.prototype = new TempCtor()\n      ctor.prototype.constructor = ctor\n    }\n  }\n}\n","'use strict';\nvar $ = require('../internals/export');\nvar forEach = require('../internals/array-for-each');\n\n// `Array.prototype.forEach` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.foreach\n$({ target: 'Array', proto: true, forced: [].forEach != forEach }, {\n  forEach: forEach\n});\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.timestamp = void 0;\n/** Returns a timestamp in ms. */\nfunction timestamp() {\n    return Math.round((new Date()).getTime() / 100);\n}\nexports.timestamp = timestamp;\n// type RejectFn = (reason?: any) => void;\n// type ResolveFn<T> = (value?: T | PromiseLike<T>) => void;\n// interface Executor<T> {\n//   (x: (resolve: ResolveFn<T>, reject: RejectFn) => void): Promise<T>;\n// }\n// export function timeoutPromise<T>(time: number, executor: Executor<T>): Promise<T> {\n//   return new Promise(executor);\n// }\n","exports.nextTick = function nextTick(fn) {\n    var args = Array.prototype.slice.call(arguments);\n    args.shift();\n    setTimeout(function () {\n        fn.apply(null, args);\n    }, 0);\n};\n\nexports.platform = exports.arch = \nexports.execPath = exports.title = 'browser';\nexports.pid = 1;\nexports.browser = true;\nexports.env = {};\nexports.argv = [];\n\nexports.binding = function (name) {\n\tthrow new Error('No such module. (Possibly not yet loaded)')\n};\n\n(function () {\n    var cwd = '/';\n    var path;\n    exports.cwd = function () { return cwd };\n    exports.chdir = function (dir) {\n        if (!path) path = require('path');\n        cwd = path.resolve(dir, cwd);\n    };\n})();\n\nexports.exit = exports.kill = \nexports.umask = exports.dlopen = \nexports.uptime = exports.memoryUsage = \nexports.uvCounters = function() {};\nexports.features = {};\n","var isObject = require('../internals/is-object');\nvar classof = require('../internals/classof-raw');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar MATCH = wellKnownSymbol('match');\n\n// `IsRegExp` abstract operation\n// https://tc39.github.io/ecma262/#sec-isregexp\nmodule.exports = function (it) {\n  var isRegExp;\n  return isObject(it) && ((isRegExp = it[MATCH]) !== undefined ? !!isRegExp : classof(it) == 'RegExp');\n};\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Encoder = void 0;\nvar Encoder;\n(function (Encoder) {\n    Encoder[Encoder[\"unknown\"] = -1] = \"unknown\";\n    Encoder[Encoder[\"quadrature\"] = 0] = \"quadrature\";\n    Encoder[Encoder[\"differential\"] = 1] = \"differential\";\n})(Encoder = exports.Encoder || (exports.Encoder = {}));\n","'use strict';\nvar $ = require('../internals/export');\nvar $trim = require('../internals/string-trim').trim;\nvar forcedStringTrimMethod = require('../internals/string-trim-forced');\n\n// `String.prototype.trim` method\n// https://tc39.github.io/ecma262/#sec-string.prototype.trim\n$({ target: 'String', proto: true, forced: forcedStringTrimMethod('trim') }, {\n  trim: function trim() {\n    return $trim(this);\n  }\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar $filter = require('../internals/array-iteration').filter;\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('filter');\n// Edge 14- issue\nvar USES_TO_LENGTH = arrayMethodUsesToLength('filter');\n\n// `Array.prototype.filter` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.filter\n// with adding support of @@species\n$({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT || !USES_TO_LENGTH }, {\n  filter: function filter(callbackfn /* , thisArg */) {\n    return $filter(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n","'use strict';\nvar bind = require('../internals/function-bind-context');\nvar toObject = require('../internals/to-object');\nvar callWithSafeIterationClosing = require('../internals/call-with-safe-iteration-closing');\nvar isArrayIteratorMethod = require('../internals/is-array-iterator-method');\nvar toLength = require('../internals/to-length');\nvar createProperty = require('../internals/create-property');\nvar getIteratorMethod = require('../internals/get-iterator-method');\n\n// `Array.from` method implementation\n// https://tc39.github.io/ecma262/#sec-array.from\nmodule.exports = function from(arrayLike /* , mapfn = undefined, thisArg = undefined */) {\n  var O = toObject(arrayLike);\n  var C = typeof this == 'function' ? this : Array;\n  var argumentsLength = arguments.length;\n  var mapfn = argumentsLength > 1 ? arguments[1] : undefined;\n  var mapping = mapfn !== undefined;\n  var iteratorMethod = getIteratorMethod(O);\n  var index = 0;\n  var length, result, step, iterator, next, value;\n  if (mapping) mapfn = bind(mapfn, argumentsLength > 2 ? arguments[2] : undefined, 2);\n  // if the target is not iterable or it's an array with the default iterator - use a simple case\n  if (iteratorMethod != undefined && !(C == Array && isArrayIteratorMethod(iteratorMethod))) {\n    iterator = iteratorMethod.call(O);\n    next = iterator.next;\n    result = new C();\n    for (;!(step = next.call(iterator)).done; index++) {\n      value = mapping ? callWithSafeIterationClosing(iterator, mapfn, [step.value, index], true) : step.value;\n      createProperty(result, index, value);\n    }\n  } else {\n    length = toLength(O.length);\n    result = new C(length);\n    for (;length > index; index++) {\n      value = mapping ? mapfn(O[index], index) : O[index];\n      createProperty(result, index, value);\n    }\n  }\n  result.length = index;\n  return result;\n};\n","'use strict'\n\nconst DuplexStream = require('readable-stream').Duplex\nconst inherits = require('inherits')\nconst BufferList = require('./BufferList')\n\nfunction BufferListStream (callback) {\n  if (!(this instanceof BufferListStream)) {\n    return new BufferListStream(callback)\n  }\n\n  if (typeof callback === 'function') {\n    this._callback = callback\n\n    const piper = function piper (err) {\n      if (this._callback) {\n        this._callback(err)\n        this._callback = null\n      }\n    }.bind(this)\n\n    this.on('pipe', function onPipe (src) {\n      src.on('error', piper)\n    })\n    this.on('unpipe', function onUnpipe (src) {\n      src.removeListener('error', piper)\n    })\n\n    callback = null\n  }\n\n  BufferList._init.call(this, callback)\n  DuplexStream.call(this)\n}\n\ninherits(BufferListStream, DuplexStream)\nObject.assign(BufferListStream.prototype, BufferList.prototype)\n\nBufferListStream.prototype._new = function _new (callback) {\n  return new BufferListStream(callback)\n}\n\nBufferListStream.prototype._write = function _write (buf, encoding, callback) {\n  this._appendBuffer(buf)\n\n  if (typeof callback === 'function') {\n    callback()\n  }\n}\n\nBufferListStream.prototype._read = function _read (size) {\n  if (!this.length) {\n    return this.push(null)\n  }\n\n  size = Math.min(size, this.length)\n  this.push(this.slice(0, size))\n  this.consume(size)\n}\n\nBufferListStream.prototype.end = function end (chunk) {\n  DuplexStream.prototype.end.call(this, chunk)\n\n  if (this._callback) {\n    this._callback(null, this.slice())\n    this._callback = null\n  }\n}\n\nBufferListStream.prototype._destroy = function _destroy (err, cb) {\n  this._bufs.length = 0\n  this.length = 0\n  cb(err)\n}\n\nBufferListStream.prototype._isBufferList = function _isBufferList (b) {\n  return b instanceof BufferListStream || b instanceof BufferList || BufferListStream.isBufferList(b)\n}\n\nBufferListStream.isBufferList = BufferList.isBufferList\n\nmodule.exports = BufferListStream\nmodule.exports.BufferListStream = BufferListStream\nmodule.exports.BufferList = BufferList\n","module.exports = extend\n\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\n\nfunction extend() {\n    var target = {}\n\n    for (var i = 0; i < arguments.length; i++) {\n        var source = arguments[i]\n\n        for (var key in source) {\n            if (hasOwnProperty.call(source, key)) {\n                target[key] = source[key]\n            }\n        }\n    }\n\n    return target\n}\n","var wrappy = require('wrappy')\nmodule.exports = wrappy(once)\nmodule.exports.strict = wrappy(onceStrict)\n\nonce.proto = once(function () {\n  Object.defineProperty(Function.prototype, 'once', {\n    value: function () {\n      return once(this)\n    },\n    configurable: true\n  })\n\n  Object.defineProperty(Function.prototype, 'onceStrict', {\n    value: function () {\n      return onceStrict(this)\n    },\n    configurable: true\n  })\n})\n\nfunction once (fn) {\n  var f = function () {\n    if (f.called) return f.value\n    f.called = true\n    return f.value = fn.apply(this, arguments)\n  }\n  f.called = false\n  return f\n}\n\nfunction onceStrict (fn) {\n  var f = function () {\n    if (f.called)\n      throw new Error(f.onceError)\n    f.called = true\n    return f.value = fn.apply(this, arguments)\n  }\n  var name = fn.name || 'Function wrapped with `once`'\n  f.onceError = name + \" shouldn't be called more than once\"\n  f.called = false\n  return f\n}\n","var stream = require('readable-stream')\nvar eos = require('end-of-stream')\nvar inherits = require('inherits')\nvar shift = require('stream-shift')\n\nvar SIGNAL_FLUSH = (Buffer.from && Buffer.from !== Uint8Array.from)\n  ? Buffer.from([0])\n  : new Buffer([0])\n\nvar onuncork = function(self, fn) {\n  if (self._corked) self.once('uncork', fn)\n  else fn()\n}\n\nvar autoDestroy = function (self, err) {\n  if (self._autoDestroy) self.destroy(err)\n}\n\nvar destroyer = function(self, end) {\n  return function(err) {\n    if (err) autoDestroy(self, err.message === 'premature close' ? null : err)\n    else if (end && !self._ended) self.end()\n  }\n}\n\nvar end = function(ws, fn) {\n  if (!ws) return fn()\n  if (ws._writableState && ws._writableState.finished) return fn()\n  if (ws._writableState) return ws.end(fn)\n  ws.end()\n  fn()\n}\n\nvar noop = function() {}\n\nvar toStreams2 = function(rs) {\n  return new (stream.Readable)({objectMode:true, highWaterMark:16}).wrap(rs)\n}\n\nvar Duplexify = function(writable, readable, opts) {\n  if (!(this instanceof Duplexify)) return new Duplexify(writable, readable, opts)\n  stream.Duplex.call(this, opts)\n\n  this._writable = null\n  this._readable = null\n  this._readable2 = null\n\n  this._autoDestroy = !opts || opts.autoDestroy !== false\n  this._forwardDestroy = !opts || opts.destroy !== false\n  this._forwardEnd = !opts || opts.end !== false\n  this._corked = 1 // start corked\n  this._ondrain = null\n  this._drained = false\n  this._forwarding = false\n  this._unwrite = null\n  this._unread = null\n  this._ended = false\n\n  this.destroyed = false\n\n  if (writable) this.setWritable(writable)\n  if (readable) this.setReadable(readable)\n}\n\ninherits(Duplexify, stream.Duplex)\n\nDuplexify.obj = function(writable, readable, opts) {\n  if (!opts) opts = {}\n  opts.objectMode = true\n  opts.highWaterMark = 16\n  return new Duplexify(writable, readable, opts)\n}\n\nDuplexify.prototype.cork = function() {\n  if (++this._corked === 1) this.emit('cork')\n}\n\nDuplexify.prototype.uncork = function() {\n  if (this._corked && --this._corked === 0) this.emit('uncork')\n}\n\nDuplexify.prototype.setWritable = function(writable) {\n  if (this._unwrite) this._unwrite()\n\n  if (this.destroyed) {\n    if (writable && writable.destroy) writable.destroy()\n    return\n  }\n\n  if (writable === null || writable === false) {\n    this.end()\n    return\n  }\n\n  var self = this\n  var unend = eos(writable, {writable:true, readable:false}, destroyer(this, this._forwardEnd))\n\n  var ondrain = function() {\n    var ondrain = self._ondrain\n    self._ondrain = null\n    if (ondrain) ondrain()\n  }\n\n  var clear = function() {\n    self._writable.removeListener('drain', ondrain)\n    unend()\n  }\n\n  if (this._unwrite) process.nextTick(ondrain) // force a drain on stream reset to avoid livelocks\n\n  this._writable = writable\n  this._writable.on('drain', ondrain)\n  this._unwrite = clear\n\n  this.uncork() // always uncork setWritable\n}\n\nDuplexify.prototype.setReadable = function(readable) {\n  if (this._unread) this._unread()\n\n  if (this.destroyed) {\n    if (readable && readable.destroy) readable.destroy()\n    return\n  }\n\n  if (readable === null || readable === false) {\n    this.push(null)\n    this.resume()\n    return\n  }\n\n  var self = this\n  var unend = eos(readable, {writable:false, readable:true}, destroyer(this))\n\n  var onreadable = function() {\n    self._forward()\n  }\n\n  var onend = function() {\n    self.push(null)\n  }\n\n  var clear = function() {\n    self._readable2.removeListener('readable', onreadable)\n    self._readable2.removeListener('end', onend)\n    unend()\n  }\n\n  this._drained = true\n  this._readable = readable\n  this._readable2 = readable._readableState ? readable : toStreams2(readable)\n  this._readable2.on('readable', onreadable)\n  this._readable2.on('end', onend)\n  this._unread = clear\n\n  this._forward()\n}\n\nDuplexify.prototype._read = function() {\n  this._drained = true\n  this._forward()\n}\n\nDuplexify.prototype._forward = function() {\n  if (this._forwarding || !this._readable2 || !this._drained) return\n  this._forwarding = true\n\n  var data\n\n  while (this._drained && (data = shift(this._readable2)) !== null) {\n    if (this.destroyed) continue\n    this._drained = this.push(data)\n  }\n\n  this._forwarding = false\n}\n\nDuplexify.prototype.destroy = function(err, cb) {\n  if (!cb) cb = noop\n  if (this.destroyed) return cb(null)\n  this.destroyed = true\n\n  var self = this\n  process.nextTick(function() {\n    self._destroy(err)\n    cb(null)\n  })\n}\n\nDuplexify.prototype._destroy = function(err) {\n  if (err) {\n    var ondrain = this._ondrain\n    this._ondrain = null\n    if (ondrain) ondrain(err)\n    else this.emit('error', err)\n  }\n\n  if (this._forwardDestroy) {\n    if (this._readable && this._readable.destroy) this._readable.destroy()\n    if (this._writable && this._writable.destroy) this._writable.destroy()\n  }\n\n  this.emit('close')\n}\n\nDuplexify.prototype._write = function(data, enc, cb) {\n  if (this.destroyed) return\n  if (this._corked) return onuncork(this, this._write.bind(this, data, enc, cb))\n  if (data === SIGNAL_FLUSH) return this._finish(cb)\n  if (!this._writable) return cb()\n\n  if (this._writable.write(data) === false) this._ondrain = cb\n  else if (!this.destroyed) cb()\n}\n\nDuplexify.prototype._finish = function(cb) {\n  var self = this\n  this.emit('preend')\n  onuncork(this, function() {\n    end(self._forwardEnd && self._writable, function() {\n      // haxx to not emit prefinish twice\n      if (self._writableState.prefinished === false) self._writableState.prefinished = true\n      self.emit('prefinish')\n      onuncork(self, cb)\n    })\n  })\n}\n\nDuplexify.prototype.end = function(data, enc, cb) {\n  if (typeof data === 'function') return this.end(null, null, data)\n  if (typeof enc === 'function') return this.end(data, null, enc)\n  this._ended = true\n  if (data) this.write(data)\n  if (!this._writableState.ending && !this._writableState.destroyed) this.write(SIGNAL_FLUSH)\n  return stream.Writable.prototype.end.call(this, cb)\n}\n\nmodule.exports = Duplexify\n","// a string of all valid unicode whitespaces\n// eslint-disable-next-line max-len\nmodule.exports = '\\u0009\\u000A\\u000B\\u000C\\u000D\\u0020\\u00A0\\u1680\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200A\\u202F\\u205F\\u3000\\u2028\\u2029\\uFEFF';\n","var requireObjectCoercible = require('../internals/require-object-coercible');\nvar whitespaces = require('../internals/whitespaces');\n\nvar whitespace = '[' + whitespaces + ']';\nvar ltrim = RegExp('^' + whitespace + whitespace + '*');\nvar rtrim = RegExp(whitespace + whitespace + '*$');\n\n// `String.prototype.{ trim, trimStart, trimEnd, trimLeft, trimRight }` methods implementation\nvar createMethod = function (TYPE) {\n  return function ($this) {\n    var string = String(requireObjectCoercible($this));\n    if (TYPE & 1) string = string.replace(ltrim, '');\n    if (TYPE & 2) string = string.replace(rtrim, '');\n    return string;\n  };\n};\n\nmodule.exports = {\n  // `String.prototype.{ trimLeft, trimStart }` methods\n  // https://tc39.github.io/ecma262/#sec-string.prototype.trimstart\n  start: createMethod(1),\n  // `String.prototype.{ trimRight, trimEnd }` methods\n  // https://tc39.github.io/ecma262/#sec-string.prototype.trimend\n  end: createMethod(2),\n  // `String.prototype.trim` method\n  // https://tc39.github.io/ecma262/#sec-string.prototype.trim\n  trim: createMethod(3)\n};\n","var isRegExp = require('../internals/is-regexp');\n\nmodule.exports = function (it) {\n  if (isRegExp(it)) {\n    throw TypeError(\"The method doesn't accept regular expressions\");\n  } return it;\n};\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.hasLabel = exports.isCeleryScript = void 0;\nvar isObj = function (o) { return o && typeof o === \"object\"; };\nvar hasKind = function (o) { return typeof o.kind === \"string\"; };\nvar hasArgs = function (o) { return isObj(o) && !!o.args; };\nfunction isCeleryScript(x) {\n    return isObj(x) && hasKind(x) && hasArgs(x);\n}\nexports.isCeleryScript = isCeleryScript;\nfunction hasLabel(x) {\n    if (isCeleryScript(x)) {\n        return typeof x.args.label === \"string\";\n    }\n    else {\n        return false;\n    }\n}\nexports.hasLabel = hasLabel;\n","module.exports = function(module) {\n\tif (!module.webpackPolyfill) {\n\t\tmodule.deprecate = function() {};\n\t\tmodule.paths = [];\n\t\t// module.parent = undefined by default\n\t\tif (!module.children) module.children = [];\n\t\tObject.defineProperty(module, \"loaded\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.l;\n\t\t\t}\n\t\t});\n\t\tObject.defineProperty(module, \"id\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.i;\n\t\t\t}\n\t\t});\n\t\tmodule.webpackPolyfill = 1;\n\t}\n\treturn module;\n};\n","// Ported from https://github.com/mafintosh/pump with\n// permission from the author, Mathias Buus (@mafintosh).\n'use strict';\n\nvar eos;\n\nfunction once(callback) {\n  var called = false;\n  return function () {\n    if (called) return;\n    called = true;\n    callback.apply(void 0, arguments);\n  };\n}\n\nvar _require$codes = require('../../../errors').codes,\n    ERR_MISSING_ARGS = _require$codes.ERR_MISSING_ARGS,\n    ERR_STREAM_DESTROYED = _require$codes.ERR_STREAM_DESTROYED;\n\nfunction noop(err) {\n  // Rethrow the error if it exists to avoid swallowing it\n  if (err) throw err;\n}\n\nfunction isRequest(stream) {\n  return stream.setHeader && typeof stream.abort === 'function';\n}\n\nfunction destroyer(stream, reading, writing, callback) {\n  callback = once(callback);\n  var closed = false;\n  stream.on('close', function () {\n    closed = true;\n  });\n  if (eos === undefined) eos = require('./end-of-stream');\n  eos(stream, {\n    readable: reading,\n    writable: writing\n  }, function (err) {\n    if (err) return callback(err);\n    closed = true;\n    callback();\n  });\n  var destroyed = false;\n  return function (err) {\n    if (closed) return;\n    if (destroyed) return;\n    destroyed = true; // request.destroy just do .end - .abort is what we want\n\n    if (isRequest(stream)) return stream.abort();\n    if (typeof stream.destroy === 'function') return stream.destroy();\n    callback(err || new ERR_STREAM_DESTROYED('pipe'));\n  };\n}\n\nfunction call(fn) {\n  fn();\n}\n\nfunction pipe(from, to) {\n  return from.pipe(to);\n}\n\nfunction popCallback(streams) {\n  if (!streams.length) return noop;\n  if (typeof streams[streams.length - 1] !== 'function') return noop;\n  return streams.pop();\n}\n\nfunction pipeline() {\n  for (var _len = arguments.length, streams = new Array(_len), _key = 0; _key < _len; _key++) {\n    streams[_key] = arguments[_key];\n  }\n\n  var callback = popCallback(streams);\n  if (Array.isArray(streams[0])) streams = streams[0];\n\n  if (streams.length < 2) {\n    throw new ERR_MISSING_ARGS('streams');\n  }\n\n  var error;\n  var destroys = streams.map(function (stream, i) {\n    var reading = i < streams.length - 1;\n    var writing = i > 0;\n    return destroyer(stream, reading, writing, function (err) {\n      if (!error) error = err;\n      if (err) destroys.forEach(call);\n      if (reading) return;\n      destroys.forEach(call);\n      callback(error);\n    });\n  });\n  return streams.reduce(pipe);\n}\n\nmodule.exports = pipeline;","var toInteger = require('../internals/to-integer');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\n\n// `String.prototype.{ codePointAt, at }` methods implementation\nvar createMethod = function (CONVERT_TO_STRING) {\n  return function ($this, pos) {\n    var S = String(requireObjectCoercible($this));\n    var position = toInteger(pos);\n    var size = S.length;\n    var first, second;\n    if (position < 0 || position >= size) return CONVERT_TO_STRING ? '' : undefined;\n    first = S.charCodeAt(position);\n    return first < 0xD800 || first > 0xDBFF || position + 1 === size\n      || (second = S.charCodeAt(position + 1)) < 0xDC00 || second > 0xDFFF\n        ? CONVERT_TO_STRING ? S.charAt(position) : first\n        : CONVERT_TO_STRING ? S.slice(position, position + 2) : (first - 0xD800 << 10) + (second - 0xDC00) + 0x10000;\n  };\n};\n\nmodule.exports = {\n  // `String.prototype.codePointAt` method\n  // https://tc39.github.io/ecma262/#sec-string.prototype.codepointat\n  codeAt: createMethod(false),\n  // `String.prototype.at` method\n  // https://github.com/mathiasbynens/String.prototype.at\n  charAt: createMethod(true)\n};\n","var isObject = require('../internals/is-object');\nvar isArray = require('../internals/is-array');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar SPECIES = wellKnownSymbol('species');\n\n// `ArraySpeciesCreate` abstract operation\n// https://tc39.github.io/ecma262/#sec-arrayspeciescreate\nmodule.exports = function (originalArray, length) {\n  var C;\n  if (isArray(originalArray)) {\n    C = originalArray.constructor;\n    // cross-realm fallback\n    if (typeof C == 'function' && (C === Array || isArray(C.prototype))) C = undefined;\n    else if (isObject(C)) {\n      C = C[SPECIES];\n      if (C === null) C = undefined;\n    }\n  } return new (C === undefined ? Array : C)(length === 0 ? 0 : length);\n};\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n// a passthrough stream.\n// basically just the most minimal sort of Transform stream.\n// Every written chunk gets output as-is.\n'use strict';\n\nmodule.exports = PassThrough;\n\nvar Transform = require('./_stream_transform');\n\nrequire('inherits')(PassThrough, Transform);\n\nfunction PassThrough(options) {\n  if (!(this instanceof PassThrough)) return new PassThrough(options);\n  Transform.call(this, options);\n}\n\nPassThrough.prototype._transform = function (chunk, encoding, cb) {\n  cb(null, chunk);\n};","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.resolveOrReject = exports.internalError = exports.outboundChanFor = void 0;\nexports.outboundChanFor = function (username, op, kind, uuid, id) {\n    if (id === void 0) { id = 0; }\n    var segments = [\"bot\", username, \"resources_v0\", op, kind, uuid, id];\n    return segments.join(\"/\");\n};\n// Auto-reject if client is not connected yet.\nexports.internalError = {\n    kind: \"rpc_error\",\n    args: { label: \"BROWSER_LEVEL_FAILURE\" },\n    body: [\n        {\n            kind: \"explanation\",\n            args: { message: \"Tried to perform batch operation before connect.\" }\n        }\n    ]\n};\nexports.resolveOrReject = function (res, rej) {\n    return function (m) { return (m.kind == \"rpc_ok\" ? res : rej)(m); };\n};\n","const protocol = require('./constants')\nconst empty = Buffer.allocUnsafe(0)\nconst zeroBuf = Buffer.from([0])\nconst numbers = require('./numbers')\nconst nextTick = require('process-nextick-args').nextTick\nconst debug = require('debug')('mqtt-packet:writeToStream')\n\nconst numCache = numbers.cache\nconst generateNumber = numbers.generateNumber\nconst generateCache = numbers.generateCache\nconst genBufVariableByteInt = numbers.genBufVariableByteInt\nconst generate4ByteBuffer = numbers.generate4ByteBuffer\nlet writeNumber = writeNumberCached\nlet toGenerate = true\n\nfunction generate (packet, stream, opts) {\n  debug('generate called')\n  if (stream.cork) {\n    stream.cork()\n    nextTick(uncork, stream)\n  }\n\n  if (toGenerate) {\n    toGenerate = false\n    generateCache()\n  }\n  debug('generate: packet.cmd: %s', packet.cmd)\n  switch (packet.cmd) {\n    case 'connect':\n      return connect(packet, stream, opts)\n    case 'connack':\n      return connack(packet, stream, opts)\n    case 'publish':\n      return publish(packet, stream, opts)\n    case 'puback':\n    case 'pubrec':\n    case 'pubrel':\n    case 'pubcomp':\n      return confirmation(packet, stream, opts)\n    case 'subscribe':\n      return subscribe(packet, stream, opts)\n    case 'suback':\n      return suback(packet, stream, opts)\n    case 'unsubscribe':\n      return unsubscribe(packet, stream, opts)\n    case 'unsuback':\n      return unsuback(packet, stream, opts)\n    case 'pingreq':\n    case 'pingresp':\n      return emptyPacket(packet, stream, opts)\n    case 'disconnect':\n      return disconnect(packet, stream, opts)\n    case 'auth':\n      return auth(packet, stream, opts)\n    default:\n      stream.emit('error', new Error('Unknown command'))\n      return false\n  }\n}\n/**\n * Controls numbers cache.\n * Set to \"false\" to allocate buffers on-the-flight instead of pre-generated cache\n */\nObject.defineProperty(generate, 'cacheNumbers', {\n  get () {\n    return writeNumber === writeNumberCached\n  },\n  set (value) {\n    if (value) {\n      if (!numCache || Object.keys(numCache).length === 0) toGenerate = true\n      writeNumber = writeNumberCached\n    } else {\n      toGenerate = false\n      writeNumber = writeNumberGenerated\n    }\n  }\n})\n\nfunction uncork (stream) {\n  stream.uncork()\n}\n\nfunction connect (packet, stream, opts) {\n  const settings = packet || {}\n  const protocolId = settings.protocolId || 'MQTT'\n  let protocolVersion = settings.protocolVersion || 4\n  const will = settings.will\n  let clean = settings.clean\n  const keepalive = settings.keepalive || 0\n  const clientId = settings.clientId || ''\n  const username = settings.username\n  const password = settings.password\n  /* mqtt5 new oprions */\n  const properties = settings.properties\n\n  if (clean === undefined) clean = true\n\n  let length = 0\n\n  // Must be a string and non-falsy\n  if (!protocolId ||\n     (typeof protocolId !== 'string' && !Buffer.isBuffer(protocolId))) {\n    stream.emit('error', new Error('Invalid protocolId'))\n    return false\n  } else length += protocolId.length + 2\n\n  // Must be 3 or 4 or 5\n  if (protocolVersion !== 3 && protocolVersion !== 4 && protocolVersion !== 5) {\n    stream.emit('error', new Error('Invalid protocol version'))\n    return false\n  } else length += 1\n\n  // ClientId might be omitted in 3.1.1 and 5, but only if cleanSession is set to 1\n  if ((typeof clientId === 'string' || Buffer.isBuffer(clientId)) &&\n     (clientId || protocolVersion >= 4) && (clientId || clean)) {\n    length += Buffer.byteLength(clientId) + 2\n  } else {\n    if (protocolVersion < 4) {\n      stream.emit('error', new Error('clientId must be supplied before 3.1.1'))\n      return false\n    }\n    if ((clean * 1) === 0) {\n      stream.emit('error', new Error('clientId must be given if cleanSession set to 0'))\n      return false\n    }\n  }\n\n  // Must be a two byte number\n  if (typeof keepalive !== 'number' ||\n      keepalive < 0 ||\n      keepalive > 65535 ||\n      keepalive % 1 !== 0) {\n    stream.emit('error', new Error('Invalid keepalive'))\n    return false\n  } else length += 2\n\n  // Connect flags\n  length += 1\n\n  // Properties\n  if (protocolVersion === 5) {\n    var propertiesData = getProperties(stream, properties)\n    if (!propertiesData) { return false }\n    length += propertiesData.length\n  }\n\n  // If will exists...\n  if (will) {\n    // It must be an object\n    if (typeof will !== 'object') {\n      stream.emit('error', new Error('Invalid will'))\n      return false\n    }\n    // It must have topic typeof string\n    if (!will.topic || typeof will.topic !== 'string') {\n      stream.emit('error', new Error('Invalid will topic'))\n      return false\n    } else {\n      length += Buffer.byteLength(will.topic) + 2\n    }\n\n    // Payload\n    length += 2 // payload length\n    if (will.payload) {\n      if (will.payload.length >= 0) {\n        if (typeof will.payload === 'string') {\n          length += Buffer.byteLength(will.payload)\n        } else {\n          length += will.payload.length\n        }\n      } else {\n        stream.emit('error', new Error('Invalid will payload'))\n        return false\n      }\n    }\n    // will properties\n    var willProperties = {}\n    if (protocolVersion === 5) {\n      willProperties = getProperties(stream, will.properties)\n      if (!willProperties) { return false }\n      length += willProperties.length\n    }\n  }\n\n  // Username\n  let providedUsername = false\n  if (username != null) {\n    if (isStringOrBuffer(username)) {\n      providedUsername = true\n      length += Buffer.byteLength(username) + 2\n    } else {\n      stream.emit('error', new Error('Invalid username'))\n      return false\n    }\n  }\n\n  // Password\n  if (password != null) {\n    if (!providedUsername) {\n      stream.emit('error', new Error('Username is required to use password'))\n      return false\n    }\n\n    if (isStringOrBuffer(password)) {\n      length += byteLength(password) + 2\n    } else {\n      stream.emit('error', new Error('Invalid password'))\n      return false\n    }\n  }\n\n  // Generate header\n  stream.write(protocol.CONNECT_HEADER)\n\n  // Generate length\n  writeVarByteInt(stream, length)\n\n  // Generate protocol ID\n  writeStringOrBuffer(stream, protocolId)\n\n  if (settings.bridgeMode) {\n    protocolVersion += 128\n  }\n\n  stream.write(\n    protocolVersion === 131\n      ? protocol.VERSION131\n      : protocolVersion === 132\n        ? protocol.VERSION132\n        : protocolVersion === 4\n          ? protocol.VERSION4\n          : protocolVersion === 5\n            ? protocol.VERSION5\n            : protocol.VERSION3\n  )\n\n  // Connect flags\n  let flags = 0\n  flags |= (username != null) ? protocol.USERNAME_MASK : 0\n  flags |= (password != null) ? protocol.PASSWORD_MASK : 0\n  flags |= (will && will.retain) ? protocol.WILL_RETAIN_MASK : 0\n  flags |= (will && will.qos) ? will.qos << protocol.WILL_QOS_SHIFT : 0\n  flags |= will ? protocol.WILL_FLAG_MASK : 0\n  flags |= clean ? protocol.CLEAN_SESSION_MASK : 0\n\n  stream.write(Buffer.from([flags]))\n\n  // Keepalive\n  writeNumber(stream, keepalive)\n\n  // Properties\n  if (protocolVersion === 5) {\n    propertiesData.write()\n  }\n\n  // Client ID\n  writeStringOrBuffer(stream, clientId)\n\n  // Will\n  if (will) {\n    if (protocolVersion === 5) {\n      willProperties.write()\n    }\n    writeString(stream, will.topic)\n    writeStringOrBuffer(stream, will.payload)\n  }\n\n  // Username and password\n  if (username != null) {\n    writeStringOrBuffer(stream, username)\n  }\n  if (password != null) {\n    writeStringOrBuffer(stream, password)\n  }\n  // This is a small packet that happens only once on a stream\n  // We assume the stream is always free to receive more data after this\n  return true\n}\n\nfunction connack (packet, stream, opts) {\n  const version = opts ? opts.protocolVersion : 4\n  const settings = packet || {}\n  const rc = version === 5 ? settings.reasonCode : settings.returnCode\n  const properties = settings.properties\n  let length = 2 // length of rc and sessionHeader\n\n  // Check return code\n  if (typeof rc !== 'number') {\n    stream.emit('error', new Error('Invalid return code'))\n    return false\n  }\n  // mqtt5 properties\n  let propertiesData = null\n  if (version === 5) {\n    propertiesData = getProperties(stream, properties)\n    if (!propertiesData) { return false }\n    length += propertiesData.length\n  }\n\n  stream.write(protocol.CONNACK_HEADER)\n  // length\n  writeVarByteInt(stream, length)\n  stream.write(settings.sessionPresent ? protocol.SESSIONPRESENT_HEADER : zeroBuf)\n\n  stream.write(Buffer.from([rc]))\n  if (propertiesData != null) {\n    propertiesData.write()\n  }\n  return true\n}\n\nfunction publish (packet, stream, opts) {\n  debug('publish: packet: %o', packet)\n  const version = opts ? opts.protocolVersion : 4\n  const settings = packet || {}\n  const qos = settings.qos || 0\n  const retain = settings.retain ? protocol.RETAIN_MASK : 0\n  const topic = settings.topic\n  const payload = settings.payload || empty\n  const id = settings.messageId\n  const properties = settings.properties\n\n  let length = 0\n\n  // Topic must be a non-empty string or Buffer\n  if (typeof topic === 'string') length += Buffer.byteLength(topic) + 2\n  else if (Buffer.isBuffer(topic)) length += topic.length + 2\n  else {\n    stream.emit('error', new Error('Invalid topic'))\n    return false\n  }\n\n  // Get the payload length\n  if (!Buffer.isBuffer(payload)) length += Buffer.byteLength(payload)\n  else length += payload.length\n\n  // Message ID must a number if qos > 0\n  if (qos && typeof id !== 'number') {\n    stream.emit('error', new Error('Invalid messageId'))\n    return false\n  } else if (qos) length += 2\n\n  // mqtt5 properties\n  let propertiesData = null\n  if (version === 5) {\n    propertiesData = getProperties(stream, properties)\n    if (!propertiesData) { return false }\n    length += propertiesData.length\n  }\n\n  // Header\n  stream.write(protocol.PUBLISH_HEADER[qos][settings.dup ? 1 : 0][retain ? 1 : 0])\n\n  // Remaining length\n  writeVarByteInt(stream, length)\n\n  // Topic\n  writeNumber(stream, byteLength(topic))\n  stream.write(topic)\n\n  // Message ID\n  if (qos > 0) writeNumber(stream, id)\n\n  // Properties\n  if (propertiesData != null) {\n    propertiesData.write()\n  }\n\n  // Payload\n  debug('publish: payload: %o', payload)\n  return stream.write(payload)\n}\n\n/* Puback, pubrec, pubrel and pubcomp */\nfunction confirmation (packet, stream, opts) {\n  const version = opts ? opts.protocolVersion : 4\n  const settings = packet || {}\n  const type = settings.cmd || 'puback'\n  const id = settings.messageId\n  const dup = (settings.dup && type === 'pubrel') ? protocol.DUP_MASK : 0\n  let qos = 0\n  const reasonCode = settings.reasonCode\n  const properties = settings.properties\n  let length = version === 5 ? 3 : 2\n\n  if (type === 'pubrel') qos = 1\n\n  // Check message ID\n  if (typeof id !== 'number') {\n    stream.emit('error', new Error('Invalid messageId'))\n    return false\n  }\n\n  // properies mqtt 5\n  let propertiesData = null\n  if (version === 5) {\n    // Confirm should not add empty property length with no properties (rfc 3.4.2.2.1)\n    if (typeof properties === 'object') {\n      propertiesData = getPropertiesByMaximumPacketSize(stream, properties, opts, length)\n      if (!propertiesData) { return false }\n      length += propertiesData.length\n    }\n  }\n\n  // Header\n  stream.write(protocol.ACKS[type][qos][dup][0])\n\n  // Length\n  writeVarByteInt(stream, length)\n\n  // Message ID\n  writeNumber(stream, id)\n\n  // reason code in header\n  if (version === 5) {\n    stream.write(Buffer.from([reasonCode]))\n  }\n\n  // properies mqtt 5\n  if (propertiesData !== null) {\n    propertiesData.write()\n  }\n  return true\n}\n\nfunction subscribe (packet, stream, opts) {\n  debug('subscribe: packet: ')\n  const version = opts ? opts.protocolVersion : 4\n  const settings = packet || {}\n  const dup = settings.dup ? protocol.DUP_MASK : 0\n  const id = settings.messageId\n  const subs = settings.subscriptions\n  const properties = settings.properties\n\n  let length = 0\n\n  // Check message ID\n  if (typeof id !== 'number') {\n    stream.emit('error', new Error('Invalid messageId'))\n    return false\n  } else length += 2\n\n  // properies mqtt 5\n  let propertiesData = null\n  if (version === 5) {\n    propertiesData = getProperties(stream, properties)\n    if (!propertiesData) { return false }\n    length += propertiesData.length\n  }\n\n  // Check subscriptions\n  if (typeof subs === 'object' && subs.length) {\n    for (let i = 0; i < subs.length; i += 1) {\n      const itopic = subs[i].topic\n      const iqos = subs[i].qos\n\n      if (typeof itopic !== 'string') {\n        stream.emit('error', new Error('Invalid subscriptions - invalid topic'))\n        return false\n      }\n      if (typeof iqos !== 'number') {\n        stream.emit('error', new Error('Invalid subscriptions - invalid qos'))\n        return false\n      }\n\n      if (version === 5) {\n        const nl = subs[i].nl || false\n        if (typeof nl !== 'boolean') {\n          stream.emit('error', new Error('Invalid subscriptions - invalid No Local'))\n          return false\n        }\n        const rap = subs[i].rap || false\n        if (typeof rap !== 'boolean') {\n          stream.emit('error', new Error('Invalid subscriptions - invalid Retain as Published'))\n          return false\n        }\n        const rh = subs[i].rh || 0\n        if (typeof rh !== 'number' || rh > 2) {\n          stream.emit('error', new Error('Invalid subscriptions - invalid Retain Handling'))\n          return false\n        }\n      }\n\n      length += Buffer.byteLength(itopic) + 2 + 1\n    }\n  } else {\n    stream.emit('error', new Error('Invalid subscriptions'))\n    return false\n  }\n\n  // Generate header\n  debug('subscribe: writing to stream: %o', protocol.SUBSCRIBE_HEADER)\n  stream.write(protocol.SUBSCRIBE_HEADER[1][dup ? 1 : 0][0])\n\n  // Generate length\n  writeVarByteInt(stream, length)\n\n  // Generate message ID\n  writeNumber(stream, id)\n\n  // properies mqtt 5\n  if (propertiesData !== null) {\n    propertiesData.write()\n  }\n\n  let result = true\n\n  // Generate subs\n  for (const sub of subs) {\n    const jtopic = sub.topic\n    const jqos = sub.qos\n    const jnl = +sub.nl\n    const jrap = +sub.rap\n    const jrh = sub.rh\n    let joptions\n\n    // Write topic string\n    writeString(stream, jtopic)\n\n    // options process\n    joptions = protocol.SUBSCRIBE_OPTIONS_QOS[jqos]\n    if (version === 5) {\n      joptions |= jnl ? protocol.SUBSCRIBE_OPTIONS_NL : 0\n      joptions |= jrap ? protocol.SUBSCRIBE_OPTIONS_RAP : 0\n      joptions |= jrh ? protocol.SUBSCRIBE_OPTIONS_RH[jrh] : 0\n    }\n    // Write options\n    result = stream.write(Buffer.from([joptions]))\n  }\n\n  return result\n}\n\nfunction suback (packet, stream, opts) {\n  const version = opts ? opts.protocolVersion : 4\n  const settings = packet || {}\n  const id = settings.messageId\n  const granted = settings.granted\n  const properties = settings.properties\n  let length = 0\n\n  // Check message ID\n  if (typeof id !== 'number') {\n    stream.emit('error', new Error('Invalid messageId'))\n    return false\n  } else length += 2\n\n  // Check granted qos vector\n  if (typeof granted === 'object' && granted.length) {\n    for (let i = 0; i < granted.length; i += 1) {\n      if (typeof granted[i] !== 'number') {\n        stream.emit('error', new Error('Invalid qos vector'))\n        return false\n      }\n      length += 1\n    }\n  } else {\n    stream.emit('error', new Error('Invalid qos vector'))\n    return false\n  }\n\n  // properies mqtt 5\n  let propertiesData = null\n  if (version === 5) {\n    propertiesData = getPropertiesByMaximumPacketSize(stream, properties, opts, length)\n    if (!propertiesData) { return false }\n    length += propertiesData.length\n  }\n\n  // header\n  stream.write(protocol.SUBACK_HEADER)\n\n  // Length\n  writeVarByteInt(stream, length)\n\n  // Message ID\n  writeNumber(stream, id)\n\n  // properies mqtt 5\n  if (propertiesData !== null) {\n    propertiesData.write()\n  }\n\n  return stream.write(Buffer.from(granted))\n}\n\nfunction unsubscribe (packet, stream, opts) {\n  const version = opts ? opts.protocolVersion : 4\n  const settings = packet || {}\n  const id = settings.messageId\n  const dup = settings.dup ? protocol.DUP_MASK : 0\n  const unsubs = settings.unsubscriptions\n  const properties = settings.properties\n\n  let length = 0\n\n  // Check message ID\n  if (typeof id !== 'number') {\n    stream.emit('error', new Error('Invalid messageId'))\n    return false\n  } else {\n    length += 2\n  }\n  // Check unsubs\n  if (typeof unsubs === 'object' && unsubs.length) {\n    for (let i = 0; i < unsubs.length; i += 1) {\n      if (typeof unsubs[i] !== 'string') {\n        stream.emit('error', new Error('Invalid unsubscriptions'))\n        return false\n      }\n      length += Buffer.byteLength(unsubs[i]) + 2\n    }\n  } else {\n    stream.emit('error', new Error('Invalid unsubscriptions'))\n    return false\n  }\n  // properies mqtt 5\n  let propertiesData = null\n  if (version === 5) {\n    propertiesData = getProperties(stream, properties)\n    if (!propertiesData) { return false }\n    length += propertiesData.length\n  }\n\n  // Header\n  stream.write(protocol.UNSUBSCRIBE_HEADER[1][dup ? 1 : 0][0])\n\n  // Length\n  writeVarByteInt(stream, length)\n\n  // Message ID\n  writeNumber(stream, id)\n\n  // properies mqtt 5\n  if (propertiesData !== null) {\n    propertiesData.write()\n  }\n\n  // Unsubs\n  let result = true\n  for (let j = 0; j < unsubs.length; j++) {\n    result = writeString(stream, unsubs[j])\n  }\n\n  return result\n}\n\nfunction unsuback (packet, stream, opts) {\n  const version = opts ? opts.protocolVersion : 4\n  const settings = packet || {}\n  const id = settings.messageId\n  const dup = settings.dup ? protocol.DUP_MASK : 0\n  const granted = settings.granted\n  const properties = settings.properties\n  const type = settings.cmd\n  const qos = 0\n\n  let length = 2\n\n  // Check message ID\n  if (typeof id !== 'number') {\n    stream.emit('error', new Error('Invalid messageId'))\n    return false\n  }\n\n  // Check granted\n  if (version === 5) {\n    if (typeof granted === 'object' && granted.length) {\n      for (let i = 0; i < granted.length; i += 1) {\n        if (typeof granted[i] !== 'number') {\n          stream.emit('error', new Error('Invalid qos vector'))\n          return false\n        }\n        length += 1\n      }\n    } else {\n      stream.emit('error', new Error('Invalid qos vector'))\n      return false\n    }\n  }\n\n  // properies mqtt 5\n  let propertiesData = null\n  if (version === 5) {\n    propertiesData = getPropertiesByMaximumPacketSize(stream, properties, opts, length)\n    if (!propertiesData) { return false }\n    length += propertiesData.length\n  }\n\n  // Header\n  stream.write(protocol.ACKS[type][qos][dup][0])\n\n  // Length\n  writeVarByteInt(stream, length)\n\n  // Message ID\n  writeNumber(stream, id)\n\n  // properies mqtt 5\n  if (propertiesData !== null) {\n    propertiesData.write()\n  }\n\n  // payload\n  if (version === 5) {\n    stream.write(Buffer.from(granted))\n  }\n  return true\n}\n\nfunction emptyPacket (packet, stream, opts) {\n  return stream.write(protocol.EMPTY[packet.cmd])\n}\n\nfunction disconnect (packet, stream, opts) {\n  const version = opts ? opts.protocolVersion : 4\n  const settings = packet || {}\n  const reasonCode = settings.reasonCode\n  const properties = settings.properties\n  let length = version === 5 ? 1 : 0\n\n  // properies mqtt 5\n  let propertiesData = null\n  if (version === 5) {\n    propertiesData = getPropertiesByMaximumPacketSize(stream, properties, opts, length)\n    if (!propertiesData) { return false }\n    length += propertiesData.length\n  }\n\n  // Header\n  stream.write(Buffer.from([protocol.codes.disconnect << 4]))\n\n  // Length\n  writeVarByteInt(stream, length)\n\n  // reason code in header\n  if (version === 5) {\n    stream.write(Buffer.from([reasonCode]))\n  }\n\n  // properies mqtt 5\n  if (propertiesData !== null) {\n    propertiesData.write()\n  }\n\n  return true\n}\n\nfunction auth (packet, stream, opts) {\n  const version = opts ? opts.protocolVersion : 4\n  const settings = packet || {}\n  const reasonCode = settings.reasonCode\n  const properties = settings.properties\n  let length = version === 5 ? 1 : 0\n\n  if (version !== 5) stream.emit('error', new Error('Invalid mqtt version for auth packet'))\n\n  // properies mqtt 5\n  const propertiesData = getPropertiesByMaximumPacketSize(stream, properties, opts, length)\n  if (!propertiesData) { return false }\n  length += propertiesData.length\n\n  // Header\n  stream.write(Buffer.from([protocol.codes.auth << 4]))\n\n  // Length\n  writeVarByteInt(stream, length)\n\n  // reason code in header\n  stream.write(Buffer.from([reasonCode]))\n\n  // properies mqtt 5\n  if (propertiesData !== null) {\n    propertiesData.write()\n  }\n  return true\n}\n\n/**\n * writeVarByteInt - write an MQTT style variable byte integer to the buffer\n *\n * @param <Buffer> buffer - destination\n * @param <Number> pos - offset\n * @param <Number> length - length (>0)\n * @returns <Number> number of bytes written\n *\n * @api private\n */\n\nconst varByteIntCache = {}\nfunction writeVarByteInt (stream, num) {\n  if (num > protocol.VARBYTEINT_MAX) {\n    stream.emit('error', new Error(`Invalid variable byte integer: ${num}`))\n    return false\n  }\n\n  let buffer = varByteIntCache[num]\n\n  if (!buffer) {\n    buffer = genBufVariableByteInt(num)\n    if (num < 16384) varByteIntCache[num] = buffer\n  }\n  debug('writeVarByteInt: writing to stream: %o', buffer)\n  return stream.write(buffer)\n}\n\n/**\n * writeString - write a utf8 string to the buffer\n *\n * @param <Buffer> buffer - destination\n * @param <Number> pos - offset\n * @param <String> string - string to write\n * @return <Number> number of bytes written\n *\n * @api private\n */\n\nfunction writeString (stream, string) {\n  const strlen = Buffer.byteLength(string)\n  writeNumber(stream, strlen)\n\n  debug('writeString: %s', string)\n  return stream.write(string, 'utf8')\n}\n\n/**\n * writeStringPair - write a utf8 string pairs to the buffer\n *\n * @param <Buffer> buffer - destination\n * @param <String> name - string name to write\n * @param <String> value - string value to write\n * @return <Number> number of bytes written\n *\n * @api private\n */\nfunction writeStringPair (stream, name, value) {\n  writeString(stream, name)\n  writeString(stream, value)\n}\n\n/**\n * writeNumber - write a two byte number to the buffer\n *\n * @param <Buffer> buffer - destination\n * @param <Number> pos - offset\n * @param <String> number - number to write\n * @return <Number> number of bytes written\n *\n * @api private\n */\nfunction writeNumberCached (stream, number) {\n  debug('writeNumberCached: number: %d', number)\n  debug('writeNumberCached: %o', numCache[number])\n  return stream.write(numCache[number])\n}\nfunction writeNumberGenerated (stream, number) {\n  const generatedNumber = generateNumber(number)\n  debug('writeNumberGenerated: %o', generatedNumber)\n  return stream.write(generatedNumber)\n}\nfunction write4ByteNumber (stream, number) {\n  const generated4ByteBuffer = generate4ByteBuffer(number)\n  debug('write4ByteNumber: %o', generated4ByteBuffer)\n  return stream.write(generated4ByteBuffer)\n}\n/**\n * writeStringOrBuffer - write a String or Buffer with the its length prefix\n *\n * @param <Buffer> buffer - destination\n * @param <Number> pos - offset\n * @param <String> toWrite - String or Buffer\n * @return <Number> number of bytes written\n */\nfunction writeStringOrBuffer (stream, toWrite) {\n  if (typeof toWrite === 'string') {\n    writeString(stream, toWrite)\n  } else if (toWrite) {\n    writeNumber(stream, toWrite.length)\n    stream.write(toWrite)\n  } else writeNumber(stream, 0)\n}\n\nfunction getProperties (stream, properties) {\n  /* connect properties */\n  if (typeof properties !== 'object' || properties.length != null) {\n    return {\n      length: 1,\n      write () {\n        writeProperties(stream, {}, 0)\n      }\n    }\n  }\n  let propertiesLength = 0\n  function getLengthProperty (name, value) {\n    const type = protocol.propertiesTypes[name]\n    let length = 0\n    switch (type) {\n      case 'byte': {\n        if (typeof value !== 'boolean') {\n          stream.emit('error', new Error(`Invalid ${name}: ${value}`))\n          return false\n        }\n        length += 1 + 1\n        break\n      }\n      case 'int8': {\n        if (typeof value !== 'number' || value < 0 || value > 0xff) {\n          stream.emit('error', new Error(`Invalid ${name}: ${value}`))\n          return false\n        }\n        length += 1 + 1\n        break\n      }\n      case 'binary': {\n        if (value && value === null) {\n          stream.emit('error', new Error(`Invalid ${name}: ${value}`))\n          return false\n        }\n        length += 1 + Buffer.byteLength(value) + 2\n        break\n      }\n      case 'int16': {\n        if (typeof value !== 'number' || value < 0 || value > 0xffff) {\n          stream.emit('error', new Error(`Invalid ${name}: ${value}`))\n          return false\n        }\n        length += 1 + 2\n        break\n      }\n      case 'int32': {\n        if (typeof value !== 'number' || value < 0 || value > 0xffffffff) {\n          stream.emit('error', new Error(`Invalid ${name}: ${value}`))\n          return false\n        }\n        length += 1 + 4\n        break\n      }\n      case 'var': {\n        // var byte integer is max 24 bits packed in 32 bits\n        if (typeof value !== 'number' || value < 0 || value > 0x0fffffff) {\n          stream.emit('error', new Error(`Invalid ${name}: ${value}`))\n          return false\n        }\n        length += 1 + Buffer.byteLength(genBufVariableByteInt(value))\n        break\n      }\n      case 'string': {\n        if (typeof value !== 'string') {\n          stream.emit('error', new Error(`Invalid ${name}: ${value}`))\n          return false\n        }\n        length += 1 + 2 + Buffer.byteLength(value.toString())\n        break\n      }\n      case 'pair': {\n        if (typeof value !== 'object') {\n          stream.emit('error', new Error(`Invalid ${name}: ${value}`))\n          return false\n        }\n        length += Object.getOwnPropertyNames(value).reduce((result, name) => {\n          const currentValue = value[name]\n          if (Array.isArray(currentValue)) {\n            result += currentValue.reduce((currentLength, value) => {\n              currentLength += 1 + 2 + Buffer.byteLength(name.toString()) + 2 + Buffer.byteLength(value.toString())\n              return currentLength\n            }, 0)\n          } else {\n            result += 1 + 2 + Buffer.byteLength(name.toString()) + 2 + Buffer.byteLength(value[name].toString())\n          }\n          return result\n        }, 0)\n        break\n      }\n      default: {\n        stream.emit('error', new Error(`Invalid property ${name}: ${value}`))\n        return false\n      }\n    }\n    return length\n  }\n  if (properties) {\n    for (const propName in properties) {\n      let propLength = 0\n      let propValueLength = 0\n      const propValue = properties[propName]\n      if (Array.isArray(propValue)) {\n        for (let valueIndex = 0; valueIndex < propValue.length; valueIndex++) {\n          propValueLength = getLengthProperty(propName, propValue[valueIndex])\n          if (!propValueLength) { return false }\n          propLength += propValueLength\n        }\n      } else {\n        propValueLength = getLengthProperty(propName, propValue)\n        if (!propValueLength) { return false }\n        propLength = propValueLength\n      }\n      if (!propLength) return false\n      propertiesLength += propLength\n    }\n  }\n  const propertiesLengthLength = Buffer.byteLength(genBufVariableByteInt(propertiesLength))\n\n  return {\n    length: propertiesLengthLength + propertiesLength,\n    write () {\n      writeProperties(stream, properties, propertiesLength)\n    }\n  }\n}\n\nfunction getPropertiesByMaximumPacketSize (stream, properties, opts, length) {\n  const mayEmptyProps = ['reasonString', 'userProperties']\n  const maximumPacketSize = opts && opts.properties && opts.properties.maximumPacketSize ? opts.properties.maximumPacketSize : 0\n\n  let propertiesData = getProperties(stream, properties)\n  if (maximumPacketSize) {\n    while (length + propertiesData.length > maximumPacketSize) {\n      const currentMayEmptyProp = mayEmptyProps.shift()\n      if (currentMayEmptyProp && properties[currentMayEmptyProp]) {\n        delete properties[currentMayEmptyProp]\n        propertiesData = getProperties(stream, properties)\n      } else {\n        return false\n      }\n    }\n  }\n  return propertiesData\n}\n\nfunction writeProperty (stream, propName, value) {\n  const type = protocol.propertiesTypes[propName]\n  switch (type) {\n    case 'byte': {\n      stream.write(Buffer.from([protocol.properties[propName]]))\n      stream.write(Buffer.from([+value]))\n      break\n    }\n    case 'int8': {\n      stream.write(Buffer.from([protocol.properties[propName]]))\n      stream.write(Buffer.from([value]))\n      break\n    }\n    case 'binary': {\n      stream.write(Buffer.from([protocol.properties[propName]]))\n      writeStringOrBuffer(stream, value)\n      break\n    }\n    case 'int16': {\n      stream.write(Buffer.from([protocol.properties[propName]]))\n      writeNumber(stream, value)\n      break\n    }\n    case 'int32': {\n      stream.write(Buffer.from([protocol.properties[propName]]))\n      write4ByteNumber(stream, value)\n      break\n    }\n    case 'var': {\n      stream.write(Buffer.from([protocol.properties[propName]]))\n      writeVarByteInt(stream, value)\n      break\n    }\n    case 'string': {\n      stream.write(Buffer.from([protocol.properties[propName]]))\n      writeString(stream, value)\n      break\n    }\n    case 'pair': {\n      Object.getOwnPropertyNames(value).forEach(name => {\n        const currentValue = value[name]\n        if (Array.isArray(currentValue)) {\n          currentValue.forEach(value => {\n            stream.write(Buffer.from([protocol.properties[propName]]))\n            writeStringPair(stream, name.toString(), value.toString())\n          })\n        } else {\n          stream.write(Buffer.from([protocol.properties[propName]]))\n          writeStringPair(stream, name.toString(), currentValue.toString())\n        }\n      })\n      break\n    }\n    default: {\n      stream.emit('error', new Error(`Invalid property ${propName} value: ${value}`))\n      return false\n    }\n  }\n}\n\nfunction writeProperties (stream, properties, propertiesLength) {\n  /* write properties to stream */\n  writeVarByteInt(stream, propertiesLength)\n  for (const propName in properties) {\n    if (Object.prototype.hasOwnProperty.call(properties, propName) && properties[propName] !== null) {\n      const value = properties[propName]\n      if (Array.isArray(value)) {\n        for (let valueIndex = 0; valueIndex < value.length; valueIndex++) {\n          writeProperty(stream, propName, value[valueIndex])\n        }\n      } else {\n        writeProperty(stream, propName, value)\n      }\n    }\n  }\n}\n\nfunction byteLength (bufOrString) {\n  if (!bufOrString) return 0\n  else if (bufOrString instanceof Buffer) return bufOrString.length\n  else return Buffer.byteLength(bufOrString)\n}\n\nfunction isStringOrBuffer (field) {\n  return typeof field === 'string' || field instanceof Buffer\n}\n\nmodule.exports = generate\n","var path = require('../internals/path');\nvar has = require('../internals/has');\nvar wrappedWellKnownSymbolModule = require('../internals/well-known-symbol-wrapped');\nvar defineProperty = require('../internals/object-define-property').f;\n\nmodule.exports = function (NAME) {\n  var Symbol = path.Symbol || (path.Symbol = {});\n  if (!has(Symbol, NAME)) defineProperty(Symbol, NAME, {\n    value: wrappedWellKnownSymbolModule.f(NAME)\n  });\n};\n","'use strict';\n\nvar _Object$setPrototypeO;\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar finished = require('./end-of-stream');\n\nvar kLastResolve = Symbol('lastResolve');\nvar kLastReject = Symbol('lastReject');\nvar kError = Symbol('error');\nvar kEnded = Symbol('ended');\nvar kLastPromise = Symbol('lastPromise');\nvar kHandlePromise = Symbol('handlePromise');\nvar kStream = Symbol('stream');\n\nfunction createIterResult(value, done) {\n  return {\n    value: value,\n    done: done\n  };\n}\n\nfunction readAndResolve(iter) {\n  var resolve = iter[kLastResolve];\n\n  if (resolve !== null) {\n    var data = iter[kStream].read(); // we defer if data is null\n    // we can be expecting either 'end' or\n    // 'error'\n\n    if (data !== null) {\n      iter[kLastPromise] = null;\n      iter[kLastResolve] = null;\n      iter[kLastReject] = null;\n      resolve(createIterResult(data, false));\n    }\n  }\n}\n\nfunction onReadable(iter) {\n  // we wait for the next tick, because it might\n  // emit an error with process.nextTick\n  process.nextTick(readAndResolve, iter);\n}\n\nfunction wrapForNext(lastPromise, iter) {\n  return function (resolve, reject) {\n    lastPromise.then(function () {\n      if (iter[kEnded]) {\n        resolve(createIterResult(undefined, true));\n        return;\n      }\n\n      iter[kHandlePromise](resolve, reject);\n    }, reject);\n  };\n}\n\nvar AsyncIteratorPrototype = Object.getPrototypeOf(function () {});\nvar ReadableStreamAsyncIteratorPrototype = Object.setPrototypeOf((_Object$setPrototypeO = {\n  get stream() {\n    return this[kStream];\n  },\n\n  next: function next() {\n    var _this = this;\n\n    // if we have detected an error in the meanwhile\n    // reject straight away\n    var error = this[kError];\n\n    if (error !== null) {\n      return Promise.reject(error);\n    }\n\n    if (this[kEnded]) {\n      return Promise.resolve(createIterResult(undefined, true));\n    }\n\n    if (this[kStream].destroyed) {\n      // We need to defer via nextTick because if .destroy(err) is\n      // called, the error will be emitted via nextTick, and\n      // we cannot guarantee that there is no error lingering around\n      // waiting to be emitted.\n      return new Promise(function (resolve, reject) {\n        process.nextTick(function () {\n          if (_this[kError]) {\n            reject(_this[kError]);\n          } else {\n            resolve(createIterResult(undefined, true));\n          }\n        });\n      });\n    } // if we have multiple next() calls\n    // we will wait for the previous Promise to finish\n    // this logic is optimized to support for await loops,\n    // where next() is only called once at a time\n\n\n    var lastPromise = this[kLastPromise];\n    var promise;\n\n    if (lastPromise) {\n      promise = new Promise(wrapForNext(lastPromise, this));\n    } else {\n      // fast path needed to support multiple this.push()\n      // without triggering the next() queue\n      var data = this[kStream].read();\n\n      if (data !== null) {\n        return Promise.resolve(createIterResult(data, false));\n      }\n\n      promise = new Promise(this[kHandlePromise]);\n    }\n\n    this[kLastPromise] = promise;\n    return promise;\n  }\n}, _defineProperty(_Object$setPrototypeO, Symbol.asyncIterator, function () {\n  return this;\n}), _defineProperty(_Object$setPrototypeO, \"return\", function _return() {\n  var _this2 = this;\n\n  // destroy(err, cb) is a private API\n  // we can guarantee we have that here, because we control the\n  // Readable class this is attached to\n  return new Promise(function (resolve, reject) {\n    _this2[kStream].destroy(null, function (err) {\n      if (err) {\n        reject(err);\n        return;\n      }\n\n      resolve(createIterResult(undefined, true));\n    });\n  });\n}), _Object$setPrototypeO), AsyncIteratorPrototype);\n\nvar createReadableStreamAsyncIterator = function createReadableStreamAsyncIterator(stream) {\n  var _Object$create;\n\n  var iterator = Object.create(ReadableStreamAsyncIteratorPrototype, (_Object$create = {}, _defineProperty(_Object$create, kStream, {\n    value: stream,\n    writable: true\n  }), _defineProperty(_Object$create, kLastResolve, {\n    value: null,\n    writable: true\n  }), _defineProperty(_Object$create, kLastReject, {\n    value: null,\n    writable: true\n  }), _defineProperty(_Object$create, kError, {\n    value: null,\n    writable: true\n  }), _defineProperty(_Object$create, kEnded, {\n    value: stream._readableState.endEmitted,\n    writable: true\n  }), _defineProperty(_Object$create, kHandlePromise, {\n    value: function value(resolve, reject) {\n      var data = iterator[kStream].read();\n\n      if (data) {\n        iterator[kLastPromise] = null;\n        iterator[kLastResolve] = null;\n        iterator[kLastReject] = null;\n        resolve(createIterResult(data, false));\n      } else {\n        iterator[kLastResolve] = resolve;\n        iterator[kLastReject] = reject;\n      }\n    },\n    writable: true\n  }), _Object$create));\n  iterator[kLastPromise] = null;\n  finished(stream, function (err) {\n    if (err && err.code !== 'ERR_STREAM_PREMATURE_CLOSE') {\n      var reject = iterator[kLastReject]; // reject if we are waiting for data in the Promise\n      // returned by next() and store the error\n\n      if (reject !== null) {\n        iterator[kLastPromise] = null;\n        iterator[kLastResolve] = null;\n        iterator[kLastReject] = null;\n        reject(err);\n      }\n\n      iterator[kError] = err;\n      return;\n    }\n\n    var resolve = iterator[kLastResolve];\n\n    if (resolve !== null) {\n      iterator[kLastPromise] = null;\n      iterator[kLastResolve] = null;\n      iterator[kLastReject] = null;\n      resolve(createIterResult(undefined, true));\n    }\n\n    iterator[kEnded] = true;\n  });\n  stream.on('readable', onReadable.bind(null, iterator));\n  return iterator;\n};\n\nmodule.exports = createReadableStreamAsyncIterator;","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\n/*<replacement>*/\n\nvar Buffer = require('safe-buffer').Buffer;\n/*</replacement>*/\n\nvar isEncoding = Buffer.isEncoding || function (encoding) {\n  encoding = '' + encoding;\n  switch (encoding && encoding.toLowerCase()) {\n    case 'hex':case 'utf8':case 'utf-8':case 'ascii':case 'binary':case 'base64':case 'ucs2':case 'ucs-2':case 'utf16le':case 'utf-16le':case 'raw':\n      return true;\n    default:\n      return false;\n  }\n};\n\nfunction _normalizeEncoding(enc) {\n  if (!enc) return 'utf8';\n  var retried;\n  while (true) {\n    switch (enc) {\n      case 'utf8':\n      case 'utf-8':\n        return 'utf8';\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return 'utf16le';\n      case 'latin1':\n      case 'binary':\n        return 'latin1';\n      case 'base64':\n      case 'ascii':\n      case 'hex':\n        return enc;\n      default:\n        if (retried) return; // undefined\n        enc = ('' + enc).toLowerCase();\n        retried = true;\n    }\n  }\n};\n\n// Do not cache `Buffer.isEncoding` when checking encoding names as some\n// modules monkey-patch it to support additional encodings\nfunction normalizeEncoding(enc) {\n  var nenc = _normalizeEncoding(enc);\n  if (typeof nenc !== 'string' && (Buffer.isEncoding === isEncoding || !isEncoding(enc))) throw new Error('Unknown encoding: ' + enc);\n  return nenc || enc;\n}\n\n// StringDecoder provides an interface for efficiently splitting a series of\n// buffers into a series of JS strings without breaking apart multi-byte\n// characters.\nexports.StringDecoder = StringDecoder;\nfunction StringDecoder(encoding) {\n  this.encoding = normalizeEncoding(encoding);\n  var nb;\n  switch (this.encoding) {\n    case 'utf16le':\n      this.text = utf16Text;\n      this.end = utf16End;\n      nb = 4;\n      break;\n    case 'utf8':\n      this.fillLast = utf8FillLast;\n      nb = 4;\n      break;\n    case 'base64':\n      this.text = base64Text;\n      this.end = base64End;\n      nb = 3;\n      break;\n    default:\n      this.write = simpleWrite;\n      this.end = simpleEnd;\n      return;\n  }\n  this.lastNeed = 0;\n  this.lastTotal = 0;\n  this.lastChar = Buffer.allocUnsafe(nb);\n}\n\nStringDecoder.prototype.write = function (buf) {\n  if (buf.length === 0) return '';\n  var r;\n  var i;\n  if (this.lastNeed) {\n    r = this.fillLast(buf);\n    if (r === undefined) return '';\n    i = this.lastNeed;\n    this.lastNeed = 0;\n  } else {\n    i = 0;\n  }\n  if (i < buf.length) return r ? r + this.text(buf, i) : this.text(buf, i);\n  return r || '';\n};\n\nStringDecoder.prototype.end = utf8End;\n\n// Returns only complete characters in a Buffer\nStringDecoder.prototype.text = utf8Text;\n\n// Attempts to complete a partial non-UTF-8 character using bytes from a Buffer\nStringDecoder.prototype.fillLast = function (buf) {\n  if (this.lastNeed <= buf.length) {\n    buf.copy(this.lastChar, this.lastTotal - this.lastNeed, 0, this.lastNeed);\n    return this.lastChar.toString(this.encoding, 0, this.lastTotal);\n  }\n  buf.copy(this.lastChar, this.lastTotal - this.lastNeed, 0, buf.length);\n  this.lastNeed -= buf.length;\n};\n\n// Checks the type of a UTF-8 byte, whether it's ASCII, a leading byte, or a\n// continuation byte. If an invalid byte is detected, -2 is returned.\nfunction utf8CheckByte(byte) {\n  if (byte <= 0x7F) return 0;else if (byte >> 5 === 0x06) return 2;else if (byte >> 4 === 0x0E) return 3;else if (byte >> 3 === 0x1E) return 4;\n  return byte >> 6 === 0x02 ? -1 : -2;\n}\n\n// Checks at most 3 bytes at the end of a Buffer in order to detect an\n// incomplete multi-byte UTF-8 character. The total number of bytes (2, 3, or 4)\n// needed to complete the UTF-8 character (if applicable) are returned.\nfunction utf8CheckIncomplete(self, buf, i) {\n  var j = buf.length - 1;\n  if (j < i) return 0;\n  var nb = utf8CheckByte(buf[j]);\n  if (nb >= 0) {\n    if (nb > 0) self.lastNeed = nb - 1;\n    return nb;\n  }\n  if (--j < i || nb === -2) return 0;\n  nb = utf8CheckByte(buf[j]);\n  if (nb >= 0) {\n    if (nb > 0) self.lastNeed = nb - 2;\n    return nb;\n  }\n  if (--j < i || nb === -2) return 0;\n  nb = utf8CheckByte(buf[j]);\n  if (nb >= 0) {\n    if (nb > 0) {\n      if (nb === 2) nb = 0;else self.lastNeed = nb - 3;\n    }\n    return nb;\n  }\n  return 0;\n}\n\n// Validates as many continuation bytes for a multi-byte UTF-8 character as\n// needed or are available. If we see a non-continuation byte where we expect\n// one, we \"replace\" the validated continuation bytes we've seen so far with\n// a single UTF-8 replacement character ('\\ufffd'), to match v8's UTF-8 decoding\n// behavior. The continuation byte check is included three times in the case\n// where all of the continuation bytes for a character exist in the same buffer.\n// It is also done this way as a slight performance increase instead of using a\n// loop.\nfunction utf8CheckExtraBytes(self, buf, p) {\n  if ((buf[0] & 0xC0) !== 0x80) {\n    self.lastNeed = 0;\n    return '\\ufffd';\n  }\n  if (self.lastNeed > 1 && buf.length > 1) {\n    if ((buf[1] & 0xC0) !== 0x80) {\n      self.lastNeed = 1;\n      return '\\ufffd';\n    }\n    if (self.lastNeed > 2 && buf.length > 2) {\n      if ((buf[2] & 0xC0) !== 0x80) {\n        self.lastNeed = 2;\n        return '\\ufffd';\n      }\n    }\n  }\n}\n\n// Attempts to complete a multi-byte UTF-8 character using bytes from a Buffer.\nfunction utf8FillLast(buf) {\n  var p = this.lastTotal - this.lastNeed;\n  var r = utf8CheckExtraBytes(this, buf, p);\n  if (r !== undefined) return r;\n  if (this.lastNeed <= buf.length) {\n    buf.copy(this.lastChar, p, 0, this.lastNeed);\n    return this.lastChar.toString(this.encoding, 0, this.lastTotal);\n  }\n  buf.copy(this.lastChar, p, 0, buf.length);\n  this.lastNeed -= buf.length;\n}\n\n// Returns all complete UTF-8 characters in a Buffer. If the Buffer ended on a\n// partial character, the character's bytes are buffered until the required\n// number of bytes are available.\nfunction utf8Text(buf, i) {\n  var total = utf8CheckIncomplete(this, buf, i);\n  if (!this.lastNeed) return buf.toString('utf8', i);\n  this.lastTotal = total;\n  var end = buf.length - (total - this.lastNeed);\n  buf.copy(this.lastChar, 0, end);\n  return buf.toString('utf8', i, end);\n}\n\n// For UTF-8, a replacement character is added when ending on a partial\n// character.\nfunction utf8End(buf) {\n  var r = buf && buf.length ? this.write(buf) : '';\n  if (this.lastNeed) return r + '\\ufffd';\n  return r;\n}\n\n// UTF-16LE typically needs two bytes per character, but even if we have an even\n// number of bytes available, we need to check if we end on a leading/high\n// surrogate. In that case, we need to wait for the next two bytes in order to\n// decode the last character properly.\nfunction utf16Text(buf, i) {\n  if ((buf.length - i) % 2 === 0) {\n    var r = buf.toString('utf16le', i);\n    if (r) {\n      var c = r.charCodeAt(r.length - 1);\n      if (c >= 0xD800 && c <= 0xDBFF) {\n        this.lastNeed = 2;\n        this.lastTotal = 4;\n        this.lastChar[0] = buf[buf.length - 2];\n        this.lastChar[1] = buf[buf.length - 1];\n        return r.slice(0, -1);\n      }\n    }\n    return r;\n  }\n  this.lastNeed = 1;\n  this.lastTotal = 2;\n  this.lastChar[0] = buf[buf.length - 1];\n  return buf.toString('utf16le', i, buf.length - 1);\n}\n\n// For UTF-16LE we do not explicitly append special replacement characters if we\n// end on a partial character, we simply let v8 handle that.\nfunction utf16End(buf) {\n  var r = buf && buf.length ? this.write(buf) : '';\n  if (this.lastNeed) {\n    var end = this.lastTotal - this.lastNeed;\n    return r + this.lastChar.toString('utf16le', 0, end);\n  }\n  return r;\n}\n\nfunction base64Text(buf, i) {\n  var n = (buf.length - i) % 3;\n  if (n === 0) return buf.toString('base64', i);\n  this.lastNeed = 3 - n;\n  this.lastTotal = 3;\n  if (n === 1) {\n    this.lastChar[0] = buf[buf.length - 1];\n  } else {\n    this.lastChar[0] = buf[buf.length - 2];\n    this.lastChar[1] = buf[buf.length - 1];\n  }\n  return buf.toString('base64', i, buf.length - n);\n}\n\nfunction base64End(buf) {\n  var r = buf && buf.length ? this.write(buf) : '';\n  if (this.lastNeed) return r + this.lastChar.toString('base64', 0, 3 - this.lastNeed);\n  return r;\n}\n\n// Pass bytes on through for single-byte encodings (e.g. ascii, latin1, hex)\nfunction simpleWrite(buf) {\n  return buf.toString(this.encoding);\n}\n\nfunction simpleEnd(buf) {\n  return buf && buf.length ? this.write(buf) : '';\n}","const writeToStream = require('./writeToStream')\nconst EventEmitter = require('events')\n\nfunction generate (packet, opts) {\n  const stream = new Accumulator()\n  writeToStream(packet, stream, opts)\n  return stream.concat()\n}\n\nclass Accumulator extends EventEmitter {\n  constructor () {\n    super()\n    this._array = new Array(20)\n    this._i = 0\n  }\n\n  write (chunk) {\n    this._array[this._i++] = chunk\n    return true\n  }\n\n  concat () {\n    let length = 0\n    const lengths = new Array(this._array.length)\n    const list = this._array\n    let pos = 0\n    let i\n\n    for (i = 0; i < list.length && list[i] !== undefined; i++) {\n      if (typeof list[i] !== 'string') lengths[i] = list[i].length\n      else lengths[i] = Buffer.byteLength(list[i])\n\n      length += lengths[i]\n    }\n\n    const result = Buffer.allocUnsafe(length)\n\n    for (i = 0; i < list.length && list[i] !== undefined; i++) {\n      if (typeof list[i] !== 'string') {\n        list[i].copy(result, pos)\n        pos += lengths[i]\n      } else {\n        result.write(list[i], pos)\n        pos += lengths[i]\n      }\n    }\n\n    return result\n  }\n}\n\nmodule.exports = generate\n","<template>\n\t<div class=\"threedgarden\">\n\t\t<h1>{{ msg }}</h1>\n\t\t<h2>{{ subtitle }}</h2>\n\t</div>\n\t<div id=\"webgl\"></div>\n</template>\n\n<script>\n/** \n * ThreeDGarden - FarmBot JavaScript\n */\nimport { Farmbot } from \"farmbot\"\n\nlet SUPER_SECRET_TOKEN = \"eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiJ9.eyJhdWQiOiJ1bmtub3duIiwic3ViIjoxNTI2NywiaWF0IjoxNjM2NjU3ODUxLCJqdGkiOiIwNTBiMzIxNC02NzcxLTRlYzktODhmMS02NTVhYWVhNWQzN2QiLCJpc3MiOiIvL215LmZhcm0uYm90OjQ0MyIsImV4cCI6MTY0MTg0MTg1MSwibXF0dCI6ImNsZXZlci1vY3RvcHVzLnJtcS5jbG91ZGFtcXAuY29tIiwiYm90IjoiZGV2aWNlXzE1Mjk3Iiwidmhvc3QiOiJ4aWNvbmZ1bSIsIm1xdHRfd3MiOiJ3c3M6Ly9jbGV2ZXItb2N0b3B1cy5ybXEuY2xvdWRhbXFwLmNvbTo0NDMvd3MvbXF0dCJ9.K8jzw-l_KduohGUgS_rkmNx4700XQyZX3-JCigk-5gXf4y-aemDNemzABGpIvULVj9D02RXEiLAzPtSxRpGS_AWpwd0OSU35HNO_pCL7-KLmtmpanAOxutflPe9KN_stU1AgZC42TmMYLYeMZY1ornQOZTaIgT6dYJkqJex7HV6D1LS-1yjvEdPM2E1UTh6OWUFDndq-fdwyVNuQfYdbu0CLhTua3SaNaXCueZ7qew3-XVUx48PS2X8XFACkveZbRfb55qgabT-WpcQB4KyujdKFbAotZqJeZ1_aCxTa4WT_y_zFV7gVptgeK2FAXC1DE9cH4FJXipt0AMPksQGShA\"\n\nlet bot = new Farmbot({ token: SUPER_SECRET_TOKEN })\n\nbot\n\t.connect()\n\t.then(function () {\n\t\t//alert(\"HEY HEY HEY\")\n\t\tbot.setConfig(\"hey\", \"HEY HEY HEY\")\n\t\tconsole.log(bot.getConfig(\"hey\"))\n\t\treturn bot.getConfig(\"hey\")\n\t})\n\t.then(function () {\n\t\treturn bot.moveRelative({ x: 1, y: 2, z: 3, speed: 100 })\n\t})\n\nconsole.log(\"bot\", bot)\n\n\n/** \n * ThreeDGarden - Custom JavaScript Vue\n * *************************************************************************************** */\n\n// check for WebGL\n//if ( ! Detector.webgl ) Detector.addGetWebGLMessage()\n\n// console.log(window.postdata)\nconst postdata = window.postdata\nconsole.log(\"MARTY: postdata\", postdata)\n\n/** PARAMETERS FROM PHP */\nconst pluginName = postdata.plugin_name\nconst pluginVersion = postdata.plugin_version\nconst pluginURL = postdata.plugin_url\nconst themeURI = postdata.theme_uri\nconst restURL = postdata.rest_url\nconst worldID = postdata.world_id\nconsole.log(\"MARTY: pluginName\", pluginName, pluginVersion)\n\n\n/** INSTANTIATE COMMON VARIABLES */\nlet scene\nlet plane\nlet camera\nlet controls\nlet gui\n\tgui = new dat.GUI({ autoPlace: true, closeOnTop: true })\n\tgui.close()\n\tgui.domElement.id = \"gui\"\n\tlet guiFolderRotation \t\t= gui.addFolder(\"Rotation + Animation\")\n\t//let guiFolderAnimation \t= guiFolderRotation.addFolder(\"Animation\")\n\tlet guiFolderCameras \t\t= gui.addFolder(\"Camera Position\")\n\tlet guiFolderLights \t\t= gui.addFolder(\"Directional Light\")\n\tlet guiFolderAllotments \t= gui.addFolder(\"Allotments\")\n\tlet guiFolderBeds \t\t\t= gui.addFolder(\"Beds\")\n\tlet guiFolderPlants \t\t= gui.addFolder(\"Plants\")\n\t//let guiFolderInfospots \t= gui.addFolder(\"Infospots\")\n\tlet guiFolderAnnotations \t= gui.addFolder(\"Annotations\")\n\tlet guiFolderPlayer \t\t= gui.addFolder(\"Character\")\nlet renderer\nlet container\nlet canvas\nlet player = {}\n\tplayer.action = \"Idle\"\n\tplayer.actionTime = Date.now()\nlet animations = {}\nlet anims = [\"Breathing Idle\", \"Driving\", \"Idle\", \"Left Turn\", \"Pointing\", \"Pointing Gesture\"]\n\tanims = [...anims, \"Right Turn\", \"Running\", \"Talking\", \"Turn\", \"Walking\", \"Walking Backwards\"]\nlet anims2 = [\"ascend-stairs\", \"gather-objects\", \"look-around\", \"push-button\", \"run\"]\nlet tweens = []\nlet stats\n\nlet cellSize = 16\nlet interactive = false\nlet levelIndex = 0\nlet _hints = 0\nlet score = 0\nlet debug = false\nlet debugPhysics = false\nlet cameraFade = 0.05\nlet mute = false\nlet collect = []\n\nlet messages = { \n\ttext: [ \n\t\t\"Welcome to your 3D Garden\",\n\t\t\"GO GROW!\"\n\t],\n\tindex: 0\n}\n\nlet params = {\n\t/** SET MODES */\n\tmodes: Object.freeze({\n\t\tNONE:   Symbol(\"none\"),\n\t\tPRELOAD: Symbol(\"preload\"),\n\t\tINITIALISING:  Symbol(\"initialising\"),\n\t\tCREATING_LEVEL: Symbol(\"creating_level\"),\n\t\tACTIVE: Symbol(\"active\"),\n\t\tGAMEOVER: Symbol(\"gameover\")\n\t}),\n\t/** turn on/off animation */\n\tANIMATE: false,\n\t/** where multimedia files located */\n\tassetsPath: `${pluginURL}assets/`,\n\t/** all the data from rest api calls to be stored here */\n\tdata: {\n\t\tworld: [{id: worldID}],\n\t\tscene: [],\n\t\tallotment: [],\n\t\tbed: [],\n\t\tplant: [],\n\t\tplanting_plan: []\n\t},\n\t/** POINTER HOVERS + CLICKS */\n\tintersectedObject1: null,\n\tintersectedObject2: null,\n\t/** PLAYER COLLISION INTO OBJECTS */\n\tcolliders: [], // params.colliders.push(object3D)\n\t// town.fbx\n\tenvironment: {},\n\t// custom fbx\n\tfarmhouse: {},\n}\nparams.mode = params.modes.NONE\nguiFolderRotation.add(params, \"ANIMATE\").name(\"Run Animation\")\n\n// const sfxExt = SFX.supportsAudioType('mp3') ? 'mp3' : 'ogg'\nconst options = {\n\tassets:[\n\t\t// `${params.assetsPath}sfx/gliss.${sfxExt}`,\n\t\t// `${params.assetsPath}sfx/factory.${sfxExt}`,\n\t\t// `${params.assetsPath}sfx/button.${sfxExt}`,\n\t\t// `${params.assetsPath}sfx/door.${sfxExt}`,\n\t\t// `${params.assetsPath}sfx/fan.${sfxExt}`,\n\t\t`${params.assetsPath}fbx/environment.fbx`,\n\t\t`${params.assetsPath}fbx/girl-walk.fbx`,\n\t\t`${params.assetsPath}fbx/usb.fbx`,\n\t],\n\toncomplete: function(){\n\t\tinit()\n\t\t//animate()\n\t}\n}\nanims.forEach( function(anim){ options.assets.push(`${params.assetsPath}fbx/anims2/${anim}.fbx`)})\n\nparams.mode = params.modes.PRELOAD\n\nconsole.log(\"MARTY: params\", params)\nconsole.log(\"MARTY: options\", options)\n\n\n//this.init()\n//this.animate()\n\n// [MM]\nconst preloader = new Preloader(options)\n\n/**\n * init main constructor\n */\nwindow.onload = function(e){ \n\tinit()\n}\nwindow.garden = this\nwindow.onError = function(error){\n\tconsole.error(JSON.stringify(error))\n}\n\n\n/* [MM] */\n// let actionBtn = document.getElementById(\"action-btn\")\n// document.getElementById(\"camera-btn\").onclick = function(){ switchCamera() }\n// document.getElementById(\"briefcase-btn\").onclick = function(){ toggleBriefcase() }\n// actionBtn.onclick = function(){ contextAction() }\n// document.getElementById(\"sfx-btn\").onclick = function(){ toggleSound() }\n\n\n\nconst loaderFBX = new THREE.FBXLoader()\n//const loaderGLTF = new THREE.GLTFLoader()\n//const loaderOBJ = new THREE.OBJLoader()\nconst loaderTexture = new THREE.TextureLoader()\n\nconst clock = new THREE.Clock()\n\n/** POINTER HOVERS + CLICKS */\nconst raycaster = new THREE.Raycaster()\nconst pointer = new THREE.Vector2()\n\n/** REST API URLS */\nconst API_URL_SCENES = `${restURL}scene/?_embed&per_page=100`\nconst API_URL_ALLOTMENTS = `${restURL}allotment/?_embed&per_page=100`\nconst API_URL_BEDS = `${restURL}bed/?_embed&per_page=100`\nconst API_URL_PLANTING_PLANS = `${restURL}planting_plan/?_embed&per_page=100`\nconst API_URL_PLANTS = `${restURL}plant/?_embed&per_page=100`\n\nlet api_urls = [\n\tAPI_URL_SCENES,\n\tAPI_URL_ALLOTMENTS,\n\tAPI_URL_BEDS,\n\tAPI_URL_PLANTING_PLANS,\n\tAPI_URL_PLANTS\n]\n\n/** \n * BEGIN MAIN\n * *************************************************************************************** */\nfunction init() {\n\n\tconsole.log(\"MARTY: init\")\n\n\tPromise.allSettled(\n\t\tapi_urls.map(\n\t\t\turl => fetch(url)\n\t\t\t\t\t.then(results => results.json())\n\t\t\t\t\t.then(data => {\n\t\t\t\t\t\tlet type = data[0].type\n\t\t\t\t\t\tswitch (type) {\n\t\t\t\t\t\t\tcase \"scene\" :\n\t\t\t\t\t\t\t\tparams.data.scene = [...data]\n\t\t\t\t\t\t\t\tbreak\n\t\t\t\t\t\t\tcase \"allotment\" :\n\t\t\t\t\t\t\t\tparams.data.allotment = [...data]\n\t\t\t\t\t\t\t\tbreak\n\t\t\t\t\t\t\tcase \"bed\" :\n\t\t\t\t\t\t\t\tparams.data.bed = [...data]\n\t\t\t\t\t\t\t\tbreak\n\t\t\t\t\t\t\tcase \"plant\" :\n\t\t\t\t\t\t\t\tparams.data.plant = [...data]\n\t\t\t\t\t\t\t\tbreak\n\t\t\t\t\t\t\tcase \"planting_plan\" :\n\t\t\t\t\t\t\t\tparams.data.planting_plan = [...data]\n\t\t\t\t\t\t\t\tbreak\n\t\t\t\t\t\t\tdefault :\n\t\t\t\t\t\t\t\tbreak\n\t\t\t\t\t\t}\n\t\t\t\t\t\tconsole.log(\"MARTY: data\", data)\n\t\t\t\t\t})\n\t\t)\n\t)\n\t.then(results => { // (*)\n\t\t\tconsole.log(\"MARTY: results\", results)\n\t\t\tresults.forEach((result, num) => {\n\t\t\t\tif (result.status == \"fulfilled\") {\n\t\t\t\t\t//alert(`${urls[num]}: ${result.value.status}`)\n\t\t\t\t\t//console.log(result)\n\t\t\t\t}\n\t\t\t\tif (result.status == \"rejected\") {\n\t\t\t\t\t//alert(`${urls[num]}: ${result.reason}`)\n\t\t\t\t\tconsole.log(result)\n\t\t\t\t}\n\t\t\t})\n\t\t\tconsole.log(\"MARTY: params.data\", params.data)\n\t\t\t/**\n\t\t\t * init scene constructor\n\t\t\t */\n\t\t\tbuildScene()\n\t\t}\n\t)\n\n\t//throwError()\n}\n\n/** \n * BUILD SCENE\n * *************************************************************************************** */\nfunction buildScene() {\n\n\tconsole.log(\"MARTY: params.data.scene\", params.data.scene)\n\n\tlet wpScene = params.data.scene[0]\n\tlet sceneID = wpScene.id\n\n\t// console.log(wpScene)\n\n\t/** THREE JS SCENE ******************************************************************* */\n\n\tscene = new THREE.Scene()\n\t\n\tscene.name = \"3D Garden\"\n\n\tconsole.log(\"MARTY: scene\", scene)\n\n\t// load the 3D cube map?\n\tif ( wpScene.acf.scene_background_image_px ) {\n\t\tlet cubeMapURLs = [\n\t\t\twpScene.acf.scene_background_image_px,\n\t\t\twpScene.acf.scene_background_image_nx,\n\t\t\twpScene.acf.scene_background_image_py,\n\t\t\twpScene.acf.scene_background_image_ny,\n\t\t\twpScene.acf.scene_background_image_pz,\n\t\t\twpScene.acf.scene_background_image_nz\n\t\t]\n\t\tlet reflectionCube = new THREE.CubeTextureLoader().load(cubeMapURLs)\n\t\treflectionCube.format = THREE.RGBFormat\n\t\tscene.background = reflectionCube\n\t}\n\t// load the 2D background image?\n\telse if ( wpScene.acf.scene_background_image ) {\n\t\t// let bgTexture = loaderTexture.load(wpScene.acf.scene_background_image)\n\t\t// scene.background = bgTexture\n\t\tlet bgTexture = loaderTexture.load(\n\t\t\twpScene.acf.scene_background_image,\n\t\t\t() => {\n\t\t\t\tconst rt = new THREE.WebGLCubeRenderTarget(bgTexture.image.height)\n\t\t\t\trt.fromEquirectangularTexture(renderer, bgTexture)\n\t\t\t\tscene.background = rt\n\t\t\t}\n\t\t)\n\t}\n\t// load the background color?\n\telse if ( wpScene.acf.scene_background_color ) {\n\t\tscene.background = new THREE.Color(wpScene.acf.scene_background_color)\n\t\t//scene.fog = new THREE.Fog(0xFFFFFF, 0, 500)\n\t}\n\n\t/** GEOMETRIES *********************************************************************** */\n\t\n\tlet plane = getPlane(\n\t\twpScene.acf.scene_plane_width_x, \n\t\twpScene.acf.scene_plane_length_y, \n\t\twpScene.acf.scene_plane_background_color\n\t)\n\tplane.name = \"plane-jane\"\n\tplane.rotation.x = -Math.PI / 2 // -90 degrees in radians\n\t//plane.position.z = 10\n\t//plane.rotation.z += 0.002\n\tguiFolderRotation.add(plane.rotation, \"x\", -Math.PI, Math.PI).listen()\n\tguiFolderRotation.add(plane.rotation, \"y\", -Math.PI, Math.PI).listen()\n\tguiFolderRotation.add(plane.rotation, \"z\", -Math.PI, Math.PI).listen()\n\n\t/** TEXTURES ************************************************************************* */\n\n\tif ( wpScene.acf.scene_plane_texture_image ) {\n\t\tplane.material.roughness = 0.0\n\t\t//plane.material.map = loaderTexture.load(\"/wp-content/plugins/threed-garden/admin/media/textures/grasslight-big.jpg\")\n\t\tplane.material.map = loaderTexture.load(wpScene.acf.scene_plane_texture_image)\n\t\t// plane.material.bumpMap = loaderTexture.load(\"/wp-content/plugins/threed-garden/admin/media/textures/grasslight-big-nm.jpg\")\n\t\t// plane.material.bumpMap = loaderTexture.load(wpScene.acf.scene_plane_texture_image)\n\t\t// plane.material.bumpScale = 0.01\n\t\tlet planeTextureMap = plane.material.map\n\t\tplaneTextureMap.wrapS = THREE.RepeatWrapping\n\t\tplaneTextureMap.wrapT = THREE.RepeatWrapping\n\t\tplaneTextureMap.repeat.set(4, 4)\n\t}\n\n\t/** LIGHTS *************************************************************************** */\n\n\t// let pointLight = getPointLight(0xFFFFFF, 4.0)\n\t// pointLight.position.set( -20, -60, 20 )\n\t// //pointLight.intensity = 3.0\n\n\t// let spotLight = getSpotLight(0xFFFFFF, 4.0)\n\t// spotLight.position.set( -20, -60, 20 )\n\t// //spotLight.intensity = 3.0\n\n\tlet directionalLight = getDirectionalLight(0xFFFFFF, 2.1)\n\tdirectionalLight.position.set( -90, -120, 120 )\n\t//directionalLight.intensity = 2.4\n\n\tlet helperDirectionalLight = new THREE.CameraHelper(directionalLight.shadow.camera)\n\thelperDirectionalLight.visible = false\n\n\t// let directionalLight2 = getDirectionalLight(0xFFFFFF, 1.0)\n\t// directionalLight2.castShadow = false\n\t// directionalLight2.position.set( 90, 120, 120 )\n\t// //directionalLight2.intensity = 1.4\n\n\t// let helperDirectionalLight2 = new THREE.CameraHelper(directionalLight2.shadow.camera)\n\t// helperDirectionalLight2.visible = true\n\n\t//let ambientLight = getAmbientLight(0xFFFFFF, 0.1)\n\t//ambientLight.position.set( -100, -100, 25 )\n\t\n\tguiFolderLights.add(helperDirectionalLight, \"visible\", 0, 20).name(\"Show Light Helper\")\n\tguiFolderLights.add(directionalLight, \"intensity\", 0, 20)\n\tguiFolderLights.add(directionalLight.position, \"x\", -500, 500)\n\tguiFolderLights.add(directionalLight.position, \"y\", -500, 500)\n\tguiFolderLights.add(directionalLight.position, \"z\", -500, 500)\n\t// guiFolderLights.add(helperDirectionalLight2, \"visible\", 0, 20).name(\"Show Light 2 Helper\")\n\t// guiFolderLights.add(directionalLight2, \"intensity\", 0, 20)\n\t// guiFolderLights.add(directionalLight2.position, \"x\", -500, 500)\n\t// guiFolderLights.add(directionalLight2.position, \"y\", -500, 500)\n\t// guiFolderLights.add(directionalLight2.position, \"z\", -500, 500)\n\n\t/** SCENE ***************************************************************************** */\n\n\t// add objects to scene\n\t//plane.add(structure)\n\t//plane.add(pointLight)\n\t//plane.add(spotLight)\n\tplane.add(directionalLight)\n\t//plane.add(directionalLight2)\n\t//plane.add(ambientLight)\n\tscene.add(helperDirectionalLight)\n\t//scene.add(helperDirectionalLight2)\n\tscene.add(plane)\n\n\t/** CAMERA **************************************************************************** */\n\n\tcamera = new THREE.PerspectiveCamera(\n\t\t55,\n\t\twindow.innerWidth/window.innerHeight,\n\t\t0.1,\n\t\t1000\n\t)\n\tcamera.name = \"gardencam1\"\n\tcamera.position.set(86, 64, 182)\n\t//camera.lookAt(new THREE.Vector3(0, 0, 0)) // overridden by OrbitControls.target\n\n\tlet helperCamera = new THREE.CameraHelper(camera)\n\thelperCamera.visible = false\n\tscene.add(helperCamera)\n\n\tguiFolderCameras.add(helperCamera, \"visible\", 0, 20).name(\"Show Camera Helper\")\n\tguiFolderCameras.add(camera.position, \"x\", -500, 500).listen()\n\tguiFolderCameras.add(camera.position, \"y\", -500, 500).listen()\n\tguiFolderCameras.add(camera.position, \"z\", -500, 500).listen()\n\n\t/** RENDERER ************************************************************************** */\n\t\n\trenderer = new THREE.WebGLRenderer(\n\t\t{ \talpha: true, \n\t\t\tantialias: true \n\t\t}\n\t)\n\trenderer.shadowMap.enabled = true\n\trenderer.setSize(window.innerWidth - 240, window.innerHeight - 100)\n\n\t// utilize javascript prototyping.. add variables to the dom element :)\n\trenderer.domElement.camera = camera\n\trenderer.domElement.targetList = plane.children\n\t\n\trenderer.domElement.addEventListener(\"pointermove\", onPointerMove, false)\n\trenderer.domElement.addEventListener(\"pointerdown\", onPointerDown, false)\n\t\n\t/** CONTROLS *************************************************************************** */\n\t\tcontrols = new THREE.OrbitControls(camera, renderer.domElement)\n\t\tcontrols.enableDamping = true\n\t\tcontrols.dampingFactor = 0.25\n\t\tcontrols.enableZoom = true\n\t\tcontrols.rotateSpeed = 0.5\n\t\tcontrols.autoRotate = false\n\t\tcontrols.autoRotateSpeed = 0.03\n\t\tcontrols.minDistance = 0.01\n\t\tcontrols.maxDistance = 340\n\t\tcontrols.maxPolarAngle = Math.PI/2 - .04\n\t\tcontrols.target = new THREE.Vector3(0, 0, 0) // where the camera actually points\n\t\t//controls.target.set(0, 5, 0) // alternate way of setting target of camera\n\n\t\trenderer.domElement.controls = controls\n\n\t/** WEBGL CANVAS *********************************************************************** */\n\n\tcontainer = document.querySelector(\"#webgl\")\n\tcontainer.append(gui.domElement)\n\tcontainer.append(renderer.domElement)\n\tcanvas = renderer.domElement\n\t\n\t/** BUILD ALLOTMENTS ******************************************************************* */\n\n\tbuildAllotments(\n\t\tparams.data.allotment, \n\t\tplane, \n\t\tsceneID // the post-to-post relationship <3\n\t)\n\n\t/** FBX ******************************************************************************** */\n\t\n\t//loaderFBX.load( `${params.assetsPath}characters/SimplePeople.fbx`, function (object) {\n\t//loaderFBX.load( `${params.assetsPath}fbx/people/FireFighter.fbx`, function (object) {\n\t//loaderFBX.load( `${params.assetsPath}fbx/people/Trucker.fbx`, function (object) {\n\tloaderFBX.load( `${params.assetsPath}characters/SK_Chr_Farmer_Male_01.fbx`, function (object) {\n\n\t\tobject.mixer = new THREE.AnimationMixer( object )\n\t\tplayer.mixer = object.mixer\n\t\tplayer.root = object.mixer.getRoot()\n\t\t\t\n\t\tobject.name = \"Gardener\"\n\t\t\t\t\n\t\tobject.traverse( function ( child ) {\n\t\t\tif ( child.isMesh ) {\n\t\t\t\tchild.castShadow = true\n\t\t\t\tchild.receiveShadow = false\t\t\n\t\t\t}\n\t\t} )\n\n\t\t//loaderTexture.load(`${params.assetsPath}images/SimpleFarmer_Farmer_Brown.png`, function(texture) {\n\t\tloaderTexture.load(`${params.assetsPath}textures/PolygonFarm_Texture_01_B.png`, function(texture) {\n\t\t\tobject.traverse( function ( child ) {\n\t\t\t\tif ( child.isMesh ){\n\t\t\t\t\tchild.material.map = texture\n\t\t\t\t}\n\t\t\t} )\n\t\t})\n\n\t\t// console.log(\"-----------------------\")\n\t\t// console.log(\"object----------------\")\n\t\t// console.log(object)\n\t\t// console.log(\"-----------------------\")\n\n\t\tplayer.object = new THREE.Object3D()\n\t\tplayer.object.add(object)\n\t\t//player.object.scale.set(0.022, 0.022, 0.022)\n\t\tplayer.object.scale.set(0.033, 0.033, 0.033)\n\t\tplayer.object.rotation.x = Math.PI/2 // 90 degrees in radians\n\t\t//player.mixer.clipAction(object.animations[0]).play()\n\t\t//animations.Idle = object.animations[0]\n\t\t//setAction(\"Idle\")\n\n\t\tplane.add(player.object)\n\t\tguiFolderPlayer.add(player.object, \"visible\").name(\"Show Character\").listen()\n\n\t\t// console.log(\"-----------------------\")\n\t\t// console.log(\"player.object----------------\")\n\t\t// console.log(player.object)\n\t\t// console.log(\"-----------------------\")\n\n\t\tloadNextAnim(loaderFBX)\n\n\t} )\n\n\n\tloadFarmHouse(plane)\n\tloadChickenCoop(plane)\n\t//loadHen(plane)\n\tloadChicken(plane)\n\t//loadHenGLTF(plane)\n\t//loadRooster(plane)\n\t//loadChickenGLTF(plane)\n\t//loadChickGLTF(plane)\n\t//loadKitchenSink(plane)\n\t//loadChickenFree(plane)\n\tloadRoad(plane)\n\t\t\n\n\t//createCameras()\n\n\tlet joystick = new JoyStick({\n\t\tonMove: playerControl,\n\t\tgame: container\n\t})\n\n\t/** ANIMATE + RENDER (continuous rendering) ******************************************** */\n\t\n\tlet animate = function () {\n\n\t\tconst dt = clock.getDelta()\n\t\twatchPointer(camera, plane.children)\n\t\tcontrols.update()\n\t\tTWEEN.update()\n\n\t\trequestAnimationFrame(animate)\n\n\t\tif ( params.ANIMATE ) {\n\t\t\t// plane.rotation.x += 0.002\n\t\t\t// plane.rotation.y += 0.002\n\t\t\tplane.rotation.z -= 0.0007\n\t\t}\n\n\t\t/** PLAYER CHARACTER */\n\t\tif ( player.mixer !== undefined ) {\n\t\t\tplayer.mixer.update(dt)\n\t\t}\n\t\t\n        if ( player.action == \"Walking\" ) {\n\t\t\tconst elapsedTime = Date.now() - player.actionTime\n\t\t\tif ( elapsedTime > 2000 && player.move.forward > 0.7 ){\n\t\t\t\tsetAction(\"Running\")\n\t\t\t}\n\t\t}\n\t\t\n\t\tif ( player.move !== undefined ) {\n\t\t\tmovePlayer(dt)\n\t\t}\n\t\t\n\t\tif ( player.cameras != undefined && player.cameras.active != undefined ) {\n\t\t\tcamera.position.lerp( player.cameras.active.getWorldPosition(new THREE.Vector3()), 0.05 )\n\t\t\tconst pos = player.object.position.clone()\n\t\t\tpos.y += 200\n\t\t\tcamera.lookAt(pos)\n\t\t}\n        \n        if (directionalLight != undefined){\n            // directionalLight.position.x = player.object.position.x\n            // directionalLight.position.y = player.object.position.y + 200\n            // directionalLight.position.z = player.object.position.z + 100\n            // directionalLight.target = player.object\n        }\n\t\t\n\t\trenderer.render(scene, camera)\n\t}\n\n\tanimate()\n\n\t\n\tlet loadNextAnim = function (loader) {\n\t\tlet anim = anims.pop()\n\t\t// console.log(\"-----------------------\")\n\t\t// console.log(\"anim-------------------\")\n\t\t// console.log(anim)\n\t\t// console.log(\"-----------------------\")\n\t\tloader.load( `${params.assetsPath}fbx/anims2/${anim}.fbx`, function(object) {\n\t\t\t// console.log(\"-----------------------\")\n\t\t\t// console.log(\"object-----------------\")\n\t\t\t// console.log(object)\n\t\t\t// console.log(\"-----------------------\")\n\t\t\tanimations[anim] = object.animations[0]\n\t\t\tif (anims.length > 0){\n\t\t\t\t// console.log(\"-----------------------\")\n\t\t\t\t// console.log(\"anims.length-----------\")\n\t\t\t\t// console.log(anims.length)\n\t\t\t\t// console.log(\"-----------------------\")\n\t\t\t\t// console.log(\"-----------------------\")\n\t\t\t\t// console.log(\"getAction()-----------\")\n\t\t\t\t// console.log(getAction())\n\t\t\t\t// console.log(\"-----------------------\")\n\t\t\t\t// console.log(\"player.action----------\")\n\t\t\t\t// console.log(player.action)\n\t\t\t\t// console.log(\"-----------------------\")\n\t\t\t\tloadNextAnim(loader)\n\t\t\t} \n\t\t\telse {\n\t\t\t\t// console.log(\"-----------------------\")\n\t\t\t\t// console.log(\"anims.length = 0-------\")\n\t\t\t\t// console.log(anims.length)\n\t\t\t\t// console.log(\"-----------------------\")\n\t\t\t\tanims = []\n\t\t\t\tsetAction(\"Idle\")\n\t\t\t\tanimate()\n\t\t\t}\n\t\t})\t\n\t}\n\t\n\t//return scene\n}\n\nfunction setAction(name) {\n\tconst action = player.mixer.clipAction( animations[name] )\n\taction.time = 0\n\tconsole.log(\"-----------------------\")\n\tconsole.log(\"animations-----------------\")\n\tconsole.log(animations)\n\tconsole.log(\"-----------------------\")\n\tplayer.mixer.stopAllAction()\n\tplayer.action = name\n\tplayer.actionTime = Date.now()\n\t// console.log(\"-----------------------\")\n\t// console.log(\"player-----------------\")\n\t// console.log(player)\n\t// console.log(\"-----------------------\")\n\t\n\taction.fadeIn(0.5)\t\n\taction.play()\n}\n\nfunction getAction() {\n\tif (player === undefined || player.action === undefined) {\n\t\treturn \"doesn't exist yet\"\n\t}\n\treturn player.action\n}\n\nfunction toggleAnimation() {\n\tif ( player.action == \"Idle\" ) {\n\t\tsetAction(\"Pointing Gesture\")\n\t}\n\telse {\n\t\tsetAction(\"Idle\")\n\t}\n}\n\nfunction movePlayer1(dt) {\t\n\t// console.log(\"-------------------------\")\n\t// console.log(\"player.move.forward------\")\n\t// console.log(player.move.forward)\n\t// console.log(\"-------------------------\")\n\tif ( player.move.forward > 0 ) {\n\t\tconst speed = ( player.action == \"Running\" ) ? 24 : 8\n\t\tplayer.object.translateZ( dt * speed )\n\t}\n\telse if ( player.move.forward < 0 ) {\n\t\tplayer.object.translateZ( -dt * 2)\n\t}\n\tplayer.object.rotateY( player.move.turn * dt )\n}\n\nfunction movePlayer(dt){\n\tconst pos = player.object.position.clone()\n\tpos.y += 60\n\tlet dir = new THREE.Vector3()\n\tplayer.object.getWorldDirection(dir)\n\tif (player.move.forward<0) dir.negate()\n\tlet raycaster = new THREE.Raycaster(pos, dir)\n\tlet blocked = false\n\tconst colliders = params.colliders\n\n\t// if (colliders!==undefined){ \n\t// \tconst intersect = raycaster.intersectObjects(colliders)\n\t// \tif (intersect.length>0){\n\t// \t\tif (intersect[0].distance<50) blocked = true\n\t// \t}\n\t// }\n\t\n\tif (!blocked){\n\t\tif (player.move.forward>0){\n\t\t\tconst speed = (player.action==\"Running\") ? 24 : 8\n\t\t\tplayer.object.translateZ(dt*speed)\n\t\t}\n\t\telse if ( player.move.forward < 0 ) {\n\t\t\tplayer.object.translateZ(-dt*2)\n\t\t}\n\t}\n\t\n\t/*\n\tif (colliders!==undefined){\n\t\t//cast left\n\t\tdir.set(-1,0,0)\n\t\tdir.applyMatrix4(player.object.matrix)\n\t\tdir.normalize()\n\t\traycaster = new THREE.Raycaster(pos, dir)\n\n\t\tlet intersect = raycaster.intersectObjects(colliders)\n\t\tif (intersect.length>0){\n\t\t\tif (intersect[0].distance<50) player.object.translateX(100-intersect[0].distance)\n\t\t}\n\t\t\n\t\t//cast right\n\t\tdir.set(1,0,0)\n\t\tdir.applyMatrix4(player.object.matrix)\n\t\tdir.normalize()\n\t\traycaster = new THREE.Raycaster(pos, dir)\n\n\t\tintersect = raycaster.intersectObjects(colliders)\n\t\tif (intersect.length>0){\n\t\t\tif (intersect[0].distance<50) player.object.translateX(intersect[0].distance-100)\n\t\t}\n\t\t\n\t\t//cast down\n\t\tdir.set(0,-1,0)\n\t\tpos.y += 200\n\t\traycaster = new THREE.Raycaster(pos, dir)\n\t\tconst gravity = 30\n\n\t\tintersect = raycaster.intersectObjects(colliders)\n\t\tif (intersect.length>0){\n\t\t\tconst targetY = pos.y - intersect[0].distance\n\t\t\tif (targetY > player.object.position.y){\n\t\t\t\t//Going up\n\t\t\t\tplayer.object.position.y = 0.8 * player.object.position.y + 0.2 * targetY\n\t\t\t\tplayer.velocityY = 0\n\t\t\t}else if (targetY < player.object.position.y){\n\t\t\t\t//Falling\n\t\t\t\tif (player.velocityY==undefined) player.velocityY = 0\n\t\t\t\tplayer.velocityY += dt * gravity\n\t\t\t\tplayer.object.position.y -= player.velocityY\n\t\t\t\tif (player.object.position.y < targetY){\n\t\t\t\t\tplayer.velocityY = 0\n\t\t\t\t\tplayer.object.position.y = targetY\n\t\t\t\t}\n\t\t\t}\n\t\t}else if (player.object.position.y>0){\n\t\t\tif (player.velocityY==undefined) player.velocityY = 0\n\t\t\tplayer.velocityY += dt * gravity\n\t\t\tplayer.object.position.y -= player.velocityY\n\t\t\tif (player.object.position.y < 0){\n\t\t\t\tplayer.velocityY = 0\n\t\t\t\tplayer.object.position.y = 0\n\t\t\t}\n\t\t}\n\t}\n\t*/\n\t\n\tplayer.object.rotateY(player.move.turn*dt)\n}\n\n\nfunction playerControl(forward, turn) {\n\t\n\tturn = -turn\n\n\tif ( forward > 0.2 ) {\n        if ( player.action != \"Walking\" && player.action != \"Running\" ) {\n\t\t\tsetAction(\"Walking\")\n\t\t}\n\t} \n\telse if ( forward < -0.2 ) {\n        if ( player.action != \"Walking Backwards\" ) {\n\t\t\tsetAction(\"Walking Backwards\")\n\t\t}\n\t} \n\telse {\n        forward = 0\n        if ( Math.abs(turn) > 0.05 ) {\n            if ( player.action != \"Left Turn\" ) {\n\t\t\t\tsetAction(\"Left Turn\")\n\t\t\t}\n\t\t} \n\t\telse if ( player.action != \"Idle\" ) {\n            setAction(\"Idle\")\n\t\t}\n\t\t// else {\n\t\t// \tsetAction(\"Idle\")\n\t\t// }\n    }\n\n    // if ( forward == 0 && turn == 0 ) {\n    //     player.move = {}\n\t// } \n\t// else {\n        player.move = { forward, turn }\n    // }\n}\n\nfunction createCameras() {\n\tconst offset = new THREE.Vector3(0, 80, 0)\n\tconst front = new THREE.Object3D()\n\tfront.position.set(112, 100, 600)\n\tfront.parent = player.object\n\tconst back = new THREE.Object3D()\n\tback.position.set(0, 300, -600)\n\tback.parent = player.object\n\tconst wide = new THREE.Object3D()\n\twide.position.set(178, 139, 1665)\n\twide.parent = player.object\n\tconst overhead = new THREE.Object3D()\n\toverhead.position.set(0, 400, 0)\n\toverhead.parent = player.object\n\tconst collect = new THREE.Object3D()\n\tcollect.position.set(40, 82, 94)\n\tcollect.parent = player.object\n\tplayer.cameras = { front, back, wide, overhead, collect }\n\tsetActiveCamera(player.cameras.back)\n}\n\nfunction setActiveCamera(object) {\n\tplayer.cameras.active = object\n}\n\n\nfunction loadEnvironment(loader) {\n\tloader.load(`${params.assetsPath}fbx/town.fbx`, function(object){\n\t\tparams.environment = object\n\t\tparams.colliders = []\n\t\tobject.scale.set(0.025, 0.025, 0.025)\n\t\tscene.add(object)\n\t\tobject.traverse( function ( child ) {\n\t\t\tif ( child.isMesh ) {\n\t\t\t\tif (child.name.startsWith(\"proxy\")){\n\t\t\t\t\tparams.colliders.push(child)\n\t\t\t\t\tchild.material.visible = false\n\t\t\t\t}else{\n\t\t\t\t\tchild.castShadow = true\n\t\t\t\t\tchild.receiveShadow = true\n\t\t\t\t}\n\t\t\t}\n\t\t} )\n\t\t\n\t\tloadNextAnim(loader)\n\t})\n}\n\nfunction loadFarmHouse(plane) {\n\t//loaderFBX.load(`${params.assetsPath}fbx/SM_Bld_Farmhouse_01.fbx`, function(object){\n\tloaderFBX.load(`${params.assetsPath}fbx/Building_Farm_House_02.fbx`, function(object){\n\t//loaderFBX.load(`${params.assetsPath}fbx/Building_Barn_Big_03.fbx`, function(object){\n\t\tparams.farmhouse = object\n\t\tparams.colliders = []\n\t\tobject.rotation.y = 270 * (Math.PI/180) // 90 degrees in radians\n\t\tobject.position.set(0, 0, 100)\n\t\t//object.scale.set(0.025, 0.025, 0.025)\n\t\tobject.scale.set(2.2, 2.2, 2.2)\n\t\tscene.add(object)\n\t\tobject.traverse( function ( child ) {\n\t\t\tif ( child.isMesh ) {\n\t\t\t\tif (child.name.startsWith(\"proxy\")){\n\t\t\t\t\tparams.colliders.push(child)\n\t\t\t\t\tchild.material.visible = false\n\t\t\t\t}else{\n\t\t\t\t\tchild.castShadow = true\n\t\t\t\t\tchild.receiveShadow = true\n\t\t\t\t}\n\t\t\t}\n\t\t} )\n\t\t//loaderTexture.load(`${params.assetsPath}textures/PolygonFarm_Texture_01_A.png`, function(texture) {\n\t\tloaderTexture.load(`${params.assetsPath}textures/SimpleFarm.png`, function(texture) {\n\t\t\tobject.traverse( function ( child ) {\n\t\t\t\tif ( child.isMesh ){\n\t\t\t\t\tchild.material.map = texture\n\t\t\t\t}\n\t\t\t} )\n\t\t})\n\t\t\n\t\t//loadNextAnim(loader)\n\t})\n}\n\nfunction loadFarmHouseGLTF(plane) {\n\t\n\t// loaderFBX.load( `${params.assetsPath}fbx/Building_Farm_House_02.fbx`, function (object) {\n\tloaderGLTF.load( `${params.assetsPath}gltf/Residential House.glb`, function (object) {\n\n\t\tlet model = object.scene\n\t\tmodel.name = \"Farm House\"\n\t\tmodel.position.set(0, 0, 100)\n\t\tmodel.scale.set(20, 20, 20)\n\t\tmodel.traverse( function ( child ) {\n\t\t\tif ( child.isMesh ) child.castShadow = true\n\t\t} )\n\t\tscene.add(model)\n\n\t\thelper = new THREE.SkeletonHelper(model)\n\t\thelper.material.linewidth = 5\n\t\thelper.visible = true\n\t\tscene.add(helper)\n\t\t\n\t\tconsole.log(\"-----------------------\")\n\t\tconsole.log(\"loadFarmHouse object----------------\")\n\t\tconsole.log(object)\n\t\tconsole.log(\"-----------------------\")\n\n\t\tconsole.log(\"-----------------------\")\n\t\tconsole.log(\"loadFarmHouse model----------------\")\n\t\tconsole.log(model)\n\t\tconsole.log(\"-----------------------\")\n\n\t\tguiFolderPlayer.add(model, \"visible\").name(\"Show House\").listen()\n\n\t} )\n}\n\nfunction loadChickenCoop(plane) {\n\tloaderFBX.load(`${params.assetsPath}fbx/Prop_Chicken_Coop_02.fbx`, function(object){\n\t\tparams.farmhouse = object\n\t\tparams.colliders = []\n\t\tobject.rotation.y = 90 * (Math.PI/180) // 90 degrees in radians\n\t\tobject.position.set(80, 0, -10)\n\t\tobject.scale.set(2.2, 2.2, 2.2)\n\t\tscene.add(object)\n\t\tobject.traverse( function ( child ) {\n\t\t\tif ( child.isMesh ) {\n\t\t\t\tif (child.name.startsWith(\"proxy\")){\n\t\t\t\t\tparams.colliders.push(child)\n\t\t\t\t\tchild.material.visible = false\n\t\t\t\t}else{\n\t\t\t\t\tchild.castShadow = true\n\t\t\t\t\tchild.receiveShadow = true\n\t\t\t\t}\n\t\t\t}\n\t\t} )\n\t\tloaderTexture.load(`${params.assetsPath}textures/SimpleFarm.png`, function(texture) {\n\t\t\tobject.traverse( function ( child ) {\n\t\t\t\tif ( child.isMesh ){\n\t\t\t\t\tchild.material.map = texture\n\t\t\t\t}\n\t\t\t} )\n\t\t})\n\t\t\n\t\t//loadNextAnim(loader)\n\t})\n}\n\nfunction loadChicken(plane) {\n\t\n\tloaderGLTF.load( `${params.assetsPath}gltf/Chicken.glb`, function (object) {\n\n\t\tlet model = object.scene\n\t\tmodel.name = \"Chicken GLB\"\n\t\tmodel.position.set(-3, 0, 0)\n\t\t//model.rotation.y = 90 * (Math.PI/180) // 90 degrees in radians\n\t\tmodel.scale.set(4, 4, 4)\n\t\tmodel.traverse( function ( child ) {\n\t\t\tif ( child.isMesh ) child.castShadow = true\n\t\t} )\n\t\tscene.add(model)\n\n\t\t// helper = new THREE.SkeletonHelper(model)\n\t\t// helper.material.linewidth = 5\n\t\t// helper.visible = true\n\t\t// scene.add(helper)\n\t\t\n\t\tconsole.log(\"-----------------------\")\n\t\tconsole.log(\"loadChicken object----------------\")\n\t\tconsole.log(object)\n\t\tconsole.log(\"-----------------------\")\n\n\t\tconsole.log(\"-----------------------\")\n\t\tconsole.log(\"loadChicken model----------------\")\n\t\tconsole.log(model)\n\t\tconsole.log(\"-----------------------\")\n\n\t\t//guiFolderPlayer.add(model, \"visible\").name(\"Show Chicken\").listen()\n\n\t} )\n}\n\nfunction loadChicken0(plane) {\n\tloaderFBX.load(`${params.assetsPath}fbx/Chicken.fbx`, function(object){\n\t\t\n\t\tconsole.log(\"-----------------------\")\n\t\tconsole.log(\"BIRD----------------\")\n\t\tconsole.log(object)\n\t\tconsole.log(\"-----------------------\")\n\n\t\t//params.farmhouse = object\n\t\t//params.colliders = []\n\t\t//object.rotation.y = 90 * (Math.PI/180) // 90 degrees in radians\n\t\tobject.position.set(0, 0, 0)\n\t\t//object.scale.set(2.2, 2.2, 2.2)\n\t\tscene.add(object)\n\t\tobject.traverse( function ( child ) {\n\t\t\tif ( child.isMesh ) {\n\t\t\t\t// if (child.name.startsWith(\"proxy\")){\n\t\t\t\t// \tparams.colliders.push(child)\n\t\t\t\t// \tchild.material.visible = false\n\t\t\t\t// }else{\n\t\t\t\t\tchild.castShadow = true\n\t\t\t\t\tchild.receiveShadow = true\n\t\t\t\t//}\n\t\t\t}\n\t\t} )\n\t\t// loaderTexture.load(`${params.assetsPath}textures/SimpleAnimalsFarm.png`, function(texture) {\n\t\t// \tobject.traverse( function ( child ) {\n\t\t// \t\tif ( child.isMesh ){\n\t\t// \t\t\tchild.material.map = texture\n\t\t// \t\t}\n\t\t// \t} )\n\t\t// })\n\t\t\n\t\t//loadNextAnim(loader)\n\t})\n}\n\nfunction loadChicken1(plane) {\n\tloaderFBX.load(`${params.assetsPath}fbx/SA_Animal_Birds.fbx`, function(object){\n\t\t\n\t\tconsole.log(\"-----------------------\")\n\t\tconsole.log(\"BIRD----------------\")\n\t\tconsole.log(object)\n\t\tconsole.log(\"-----------------------\")\n\n\t\t//params.farmhouse = object\n\t\t//params.colliders = []\n\t\t//object.rotation.y = 90 * (Math.PI/180) // 90 degrees in radians\n\t\tobject.position.set(0, 0, 0)\n\t\t//object.scale.set(2.2, 2.2, 2.2)\n\t\tscene.add(object)\n\t\tobject.traverse( function ( child ) {\n\t\t\tif ( child.isMesh ) {\n\t\t\t\t// if (child.name.startsWith(\"proxy\")){\n\t\t\t\t// \tparams.colliders.push(child)\n\t\t\t\t// \tchild.material.visible = false\n\t\t\t\t// }else{\n\t\t\t\t\tchild.castShadow = true\n\t\t\t\t\tchild.receiveShadow = true\n\t\t\t\t//}\n\t\t\t}\n\t\t} )\n\t\tloaderTexture.load(`${params.assetsPath}textures/SimpleAnimalsFarm.png`, function(texture) {\n\t\t\tobject.traverse( function ( child ) {\n\t\t\t\tif ( child.isMesh ){\n\t\t\t\t\tchild.material.map = texture\n\t\t\t\t}\n\t\t\t} )\n\t\t})\n\t\t\n\t\t//loadNextAnim(loader)\n\t})\n}\n\nfunction loadChicken2(plane) {\n\tloaderFBX.load(`${params.assetsPath}fbx/SA_Animal_Pig.fbx`, function(object) {\n\t//loaderFBX.load( `${params.assetsPath}fbx/people/Trucker.fbx`, function (object) {\n\t//loaderFBX.load( `${params.assetsPath}characters/SK_Chr_Farmer_Male_01.fbx`, function (object) {\n\n\t\tconsole.log(\"-----------------------\")\n\t\tconsole.log(\"object----------------\")\n\t\tconsole.log(object)\n\t\tconsole.log(\"-----------------------\")\n\n\t\t// object.mixer = new THREE.AnimationMixer( object )\n\t\t// mixers.push( object.mixer )\n\t\t// var action = object.mixer.clipAction( object.animations[ 0 ] )\n\t\t// action.play()\n\t\t// scene.add( object )\n\n/*\n\t\tobject.mixer = new THREE.AnimationMixer( object )\n\t\tmixers.push( object.mixer )\n\t\tvar action = object.mixer.clipAction( object.animations[ 0 ] )\n\t\taction.play()\n\n\t\tobject.name = \"Chicken\"\n\t\t\t\t\n\t\tobject.traverse( function ( child ) {\n\t\t\tif ( child.isMesh ) {\n\t\t\t\tchild.castShadow = true\n\t\t\t\tchild.receiveShadow = false\t\t\n\t\t\t}\n\t\t} )\n\n\n\t\tloaderTexture.load(`${params.assetsPath}textures/SimpleAnimalsFarm.png`, function(texture) {\n\t\t//loaderTexture.load(`${params.assetsPath}images/SimpleScarecrow.png`, function(texture) {\n\t\t//loaderTexture.load(`${params.assetsPath}images/SimpleFarmer_Farmer_Brown.png`, function(texture) {\n\t\t//loaderTexture.load(`${params.assetsPath}textures/PolygonFarm_Texture_01_A.png`, function(texture) {\n\t\t\tobject.traverse( function ( child ) {\n\t\t\t\tif ( child.isMesh ){\n\t\t\t\t\tchild.material.map = texture\n\t\t\t\t}\n\t\t\t} )\n\t\t})\n\n\t\tplane.add( object )\n\t\t\n\t\tconsole.log(\"-----------------------\")\n\t\tconsole.log(\"object----------------\")\n\t\tconsole.log(object)\n\t\tconsole.log(\"-----------------------\")\n*/\t\t\n\t\t/*\n\t\tplayer.mixer = object.mixer\n\t\tplayer.root = object.mixer.getRoot()\n\t\t\t\n\t\tobject.name = \"Chicken\"\n\t\t\t\t\n\t\tobject.traverse( function ( child ) {\n\t\t\tif ( child.isMesh ) {\n\t\t\t\tchild.castShadow = true\n\t\t\t\tchild.receiveShadow = false\t\t\n\t\t\t}\n\t\t} )\n\n\n\t\tloaderTexture.load(`${params.assetsPath}textures/SimpleAnimalsFarm.png`, function(texture) {\n\t\t//loaderTexture.load(`${params.assetsPath}images/SimpleScarecrow.png`, function(texture) {\n\t\t//loaderTexture.load(`${params.assetsPath}images/SimpleFarmer_Farmer_Brown.png`, function(texture) {\n\t\t//loaderTexture.load(`${params.assetsPath}textures/PolygonFarm_Texture_01_A.png`, function(texture) {\n\t\t\tobject.traverse( function ( child ) {\n\t\t\t\tif ( child.isMesh ){\n\t\t\t\t\tchild.material.map = texture\n\t\t\t\t}\n\t\t\t} )\n\t\t})\n\n\t\tconsole.log(\"-----------------------\")\n\t\tconsole.log(\"object----------------\")\n\t\tconsole.log(object)\n\t\tconsole.log(\"-----------------------\")\n\n\t\tplayer.object = new THREE.Object3D()\n\t\tplayer.object.add(object)\n\t\tplayer.object.scale.set(0.022, 0.022, 0.022)\n\t\tplayer.object.rotation.x = Math.PI/2 // 90 degrees in radians\n\t\tplayer.mixer.clipAction(object.animations[0]).play()\n\t\tanimations.Idle = object.animations[0]\n\t\t//setAction(\"Idle\")\n\t\tscene.add(player.object)\n\t\tguiFolderPlayer.add(player.object, \"visible\").name(\"Show Chicken\").listen()\n\n\t\tconsole.log(\"-----------------------\")\n\t\tconsole.log(\"player.object----------------\")\n\t\tconsole.log(player.object)\n\t\tconsole.log(\"-----------------------\")\n\n\n\t\t//animate()\n\t\t// OR\n\t\tloadNextAnim(loaderFBX)\n\t\t// OR\n\t\t//loadEnvironment(loaderFBX)\n\t\t*/\n\t} )\n}\n\nfunction loadChickenGLTF(plane) {\n\t\n\tloaderGLTF.load( `${params.assetsPath}gltf/Animals.glb`, function (object) {\n\n\t\tconsole.log(\"-----------------------\")\n\t\tconsole.log(\"Animals object----------------\")\n\t\tconsole.log(object)\n\t\tconsole.log(\"-----------------------\")\n\n\t\tobject.mixer = new THREE.AnimationMixer( object.scene )\n\t\tplayer.mixer = object.mixer\n\t\tplayer.root = object.mixer.getRoot()\n\t\t\t\n\t\tobject.name = \"Chicken Dance\"\n\t\t\t\t\n\t\tobject.scene.traverse( function ( child ) {\n\t\t\tif ( child.isMesh ) {\n\t\t\t\tchild.castShadow = true\n\t\t\t\tchild.receiveShadow = false\t\t\n\t\t\t}\n\t\t} )\n\n\t\tplayer.object = new THREE.Object3D()\n\t\tplayer.object.add(object.scene)\n\t\tplayer.object.position.set(0, 0, 10)\n\t\tplayer.object.scale.set(4, 4, 4)\n\t\tplayer.object.rotation.x = Math.PI/2 // 90 degrees in radians\n\t\tplayer.mixer.timeScale = 0.5\n\t\tplayer.mixer.clipAction(object.animations[2]).play()\n\t\t\n\t\t//animations.Idle = object.animations[0]\n\t\t//setAction(\"Idle\")\n\t\tplane.add(player.object)\n\t\t//guiFolderPlayer.add(player.object, \"visible\").name(\"Show Character\").listen()\n\n\t\t//animate()\n\t\t// OR\n\t\t//loadNextAnim(loaderFBX)\n\t\t// OR\n\t\t//loadEnvironment(loaderFBX)\n\n\t} )\n}\n\nfunction loadChickGLTF(plane) {\n\t\n\tloaderGLTF.load( `${params.assetsPath}gltf/Chick.glb`, function (object) {\n\n\t\tlet model = object.scene\n\t\tmodel.name = \"Chick GLB\"\n\t\tmodel.position.set(3, 0, 0)\n\t\t//model.rotation.y = 90 * (Math.PI/180) // 90 degrees in radians\n\t\tmodel.scale.set(2, 2, 2)\n\t\tmodel.traverse( function ( child ) {\n\t\t\tif ( child.isMesh ) child.castShadow = true\n\t\t} )\n\t\tscene.add(model)\n\n\t\t// helper = new THREE.SkeletonHelper(model)\n\t\t// helper.material.linewidth = 5\n\t\t// helper.visible = true\n\t\t// scene.add(helper)\n\t\t\n\t\tconsole.log(\"-----------------------\")\n\t\tconsole.log(\"loadChickGLTF object----------------\")\n\t\tconsole.log(object)\n\t\tconsole.log(\"-----------------------\")\n\n\t\tconsole.log(\"-----------------------\")\n\t\tconsole.log(\"loadChickGLTF model----------------\")\n\t\tconsole.log(model)\n\t\tconsole.log(\"-----------------------\")\n\n\t\t//guiFolderPlayer.add(model, \"visible\").name(\"Show Chicken\").listen()\n\n\t} )\n}\n\nfunction loadHen(plane) {\n\tloaderFBX.load(`${params.assetsPath}Hen&Chicken_FBX/Hen_HP.fbx`, function(object){\n\t\tparams.farmhouse = object\n\t\tparams.colliders = []\n\t\t//object.rotation.y = 270 * (Math.PI/180) // 90 degrees in radians\n\t\tobject.position.set(3, 0, 0)\n\t\tobject.scale.set(0.05, 0.05, 0.05)\n\n\t\tobject.traverse( function ( child ) {\n\t\t\tif ( child.isMesh ) {\n\t\t\t\tif (child.name.startsWith(\"proxy\")){\n\t\t\t\t\tparams.colliders.push(child)\n\t\t\t\t\tchild.material.visible = false\n\t\t\t\t}else{\n\t\t\t\t\tchild.castShadow = true\n\t\t\t\t\tchild.receiveShadow = true\n\t\t\t\t}\n\t\t\t}\n\t\t} )\n\n\t\tloaderTexture.load(`${params.assetsPath}Hen&Chicken_FBX/Textures/Hen&Chicken_A.png`, function(texture) {\n\t\t\tobject.traverse( function ( child ) {\n\t\t\t\tif ( child.isMesh ){\n\t\t\t\t\tchild.material.map = texture\n\n\t\t\t\t\tconsole.log(\"-----------------------\")\n\t\t\t\t\tconsole.log(\"loadHen child----------------\")\n\t\t\t\t\tconsole.log(child)\n\t\t\t\t\tconsole.log(child.geometry.attributes.uv)\n\t\t\t\t\tconsole.log(\"-----------------------\")\n\t\t\t\t}\n\t\t\t} )\n\t\t})\n\n\t\tconsole.log(\"-----------------------\")\n\t\tconsole.log(\"loadHen object----------------\")\n\t\tconsole.log(object)\n\t\tconsole.log(\"-----------------------\")\n\n\t\tscene.add(object)\n\t\t\n\t\t//loadNextAnim(loader)\n\t})\n}\n\nfunction loadHenGLTF(plane) {\n\t\n\t// loaderFBX.load( `${params.assetsPath}fbx/Building_Farm_House_02.fbx`, function (object) {\n\tloaderGLTF.load( `${params.assetsPath}gltf/Hen_HP.glb`, function (object) {\n\n\t\tlet model = object.scene\n\t\t//model.name = \"Hen\"\n\t\t//model.position.set(10, 0, 0)\n\t\t//model.scale.set(0.2, 0.2, 0.2)\n\t\tmodel.traverse( function ( child ) {\n\t\t\tif ( child.isMesh ) child.castShadow = true\n\t\t} )\n\t\tscene.add(model)\n\n\t\t// helper = new THREE.SkeletonHelper(model)\n\t\t// helper.material.linewidth = 5\n\t\t// helper.visible = true\n\t\t// scene.add(helper)\n\t\t\n\t\tconsole.log(\"-----------------------\")\n\t\tconsole.log(\"loadHenGLTF object----------------\")\n\t\tconsole.log(object)\n\t\tconsole.log(\"-----------------------\")\n\n\t\tconsole.log(\"-----------------------\")\n\t\tconsole.log(\"loadHenGLTF model----------------\")\n\t\tconsole.log(model)\n\t\tconsole.log(\"-----------------------\")\n\n\t\t//guiFolderPlayer.add(model, \"visible\").name(\"Show Hen GLTF\").listen()\n\n\t} )\n}\n\nfunction loadKitchenSink(plane) {\n\tloaderFBX.load(`${params.assetsPath}fbx/Prop_KitchenSink_Black.fbx`, function(object){\n\t\tparams.farmhouse = object\n\t\tparams.colliders = []\n\t\tobject.rotation.y = 270 * (Math.PI/180) // 90 degrees in radians\n\t\tobject.position.set(0, 0, 10)\n\t\t//object.scale.set(0.025, 0.025, 0.025)\n\t\tobject.scale.set(2.2, 2.2, 2.2)\n\t\tscene.add(object)\n\t\tobject.traverse( function ( child ) {\n\t\t\tif ( child.isMesh ) {\n\t\t\t\tif (child.name.startsWith(\"proxy\")){\n\t\t\t\t\tparams.colliders.push(child)\n\t\t\t\t\tchild.material.visible = false\n\t\t\t\t}else{\n\t\t\t\t\tchild.castShadow = true\n\t\t\t\t\tchild.receiveShadow = true\n\t\t\t\t}\n\t\t\t}\n\t\t} )\n\t\t//loaderTexture.load(`${params.assetsPath}textures/PolygonFarm_Texture_01_A.png`, function(texture) {\n\t\tloaderTexture.load(`${params.assetsPath}textures/SimpleInteriorsHouses.png`, function(texture) {\n\t\t\tobject.traverse( function ( child ) {\n\t\t\t\tif ( child.isMesh ){\n\t\t\t\t\tchild.material.map = texture\n\t\t\t\t}\n\t\t\t} )\n\t\t})\n\t\t\n\t\t//loadNextAnim(loader)\n\t})\n}\n\nfunction loadChickenFree(plane) {\n\tloaderOBJ.load(`${params.assetsPath}obj/chicken_01.obj`, function(object){\n\t\t// params.farmhouse = object\n\t\t// params.colliders = []\n\t\t//object.rotation.y = 270 * (Math.PI/180) // 90 degrees in radians\n\t\t//object.position.set(0, 0, 10)\n\t\t//object.scale.set(0.025, 0.025, 0.025)\n\t\t//object.scale.set(2.2, 2.2, 2.2)\n\t\tscene.add(object)\n\t\t// object.traverse( function ( child ) {\n\t\t// \tif ( child.isMesh ) {\n\t\t// \t\tif (child.name.startsWith(\"proxy\")){\n\t\t// \t\t\tparams.colliders.push(child)\n\t\t// \t\t\tchild.material.visible = false\n\t\t// \t\t}else{\n\t\t// \t\t\tchild.castShadow = true\n\t\t// \t\t\tchild.receiveShadow = true\n\t\t// \t\t}\n\t\t// \t}\n\t\t// } )\n\t\t// //loaderTexture.load(`${params.assetsPath}textures/PolygonFarm_Texture_01_A.png`, function(texture) {\n\t\t// loaderTexture.load(`${params.assetsPath}textures/SimpleInteriorsHouses.png`, function(texture) {\n\t\t// \tobject.traverse( function ( child ) {\n\t\t// \t\tif ( child.isMesh ){\n\t\t// \t\t\tchild.material.map = texture\n\t\t// \t\t}\n\t\t// \t} )\n\t\t// })\n\t\t\n\t\t//loadNextAnim(loader)\n\t})\n}\n\nfunction loadRooster(plane) {\n\tloaderFBX.load(`${params.assetsPath}fbx/rooster_1.0.1.fbx`, function(object){\n\t\t// params.farmhouse = object\n\t\t// params.colliders = []\n\t\t//object.rotation.y = 270 * (Math.PI/180) // 90 degrees in radians\n\t\tobject.position.set(0, 0, 10)\n\t\tobject.scale.set(0.025, 0.025, 0.025)\n\t\t//object.scale.set(2.2, 2.2, 2.2)\n\t\tscene.add(object)\n\t\t// object.traverse( function ( child ) {\n\t\t// \tif ( child.isMesh ) {\n\t\t// \t\tif (child.name.startsWith(\"proxy\")){\n\t\t// \t\t\tparams.colliders.push(child)\n\t\t// \t\t\tchild.material.visible = false\n\t\t// \t\t}else{\n\t\t// \t\t\tchild.castShadow = true\n\t\t// \t\t\tchild.receiveShadow = true\n\t\t// \t\t}\n\t\t// \t}\n\t\t// } )\n\t\t// //loaderTexture.load(`${params.assetsPath}textures/PolygonFarm_Texture_01_A.png`, function(texture) {\n\t\t// loaderTexture.load(`${params.assetsPath}textures/SimpleInteriorsHouses.png`, function(texture) {\n\t\t// \tobject.traverse( function ( child ) {\n\t\t// \t\tif ( child.isMesh ){\n\t\t// \t\t\tchild.material.map = texture\n\t\t// \t\t}\n\t\t// \t} )\n\t\t// })\n\t\t\n\t\t//loadNextAnim(loader)\n\t})\n}\n\nfunction loadRoad(plane) {\n\n\tlet i\n\tlet count = 8\n\tlet startX = -45\n\tlet offsetX = 0\n\tlet startZ = -138\n\tlet offsetZ = 20\n\n\t// ROAD A\n\tfor ( i = 1; i <= count; i++ ) {\n\t\tloaderFBX.load(`${params.assetsPath}fbx/SM_Env_Road_Gravel_Straight_01.fbx`, function(object){\n\t\t\t\n\t\t\t// console.log(\"-----------------------\")\n\t\t\t// console.log(\"ROAD----------------\")\n\t\t\t// console.log(object)\n\t\t\t// console.log(\"-----------------------\")\n\n\t\t\t//params.farmhouse = object\n\t\t\t//params.colliders = []\n\t\t\t//object.rotation.y = 90 * (Math.PI/180) // 90 degrees in radians\n\t\t\tobject.position.set(startX, 0, startZ)\n\t\t\tstartX = startX + offsetX\n\t\t\tstartZ = startZ + offsetZ\n\t\t\tobject.scale.set(0.02, 0.01, 0.02)\n\t\t\tobject.traverse( function ( child ) {\n\t\t\t\tif ( child.isMesh ) {\n\t\t\t\t\t// if (child.name.startsWith(\"proxy\")){\n\t\t\t\t\t// \tparams.colliders.push(child)\n\t\t\t\t\t// \tchild.material.visible = false\n\t\t\t\t\t// }else{\n\t\t\t\t\t\tchild.castShadow = true\n\t\t\t\t\t\tchild.receiveShadow = true\n\t\t\t\t\t//}\n\t\t\t\t}\n\t\t\t} )\n\t\t\tloaderTexture.load(`${params.assetsPath}textures/PolygonFarm_Texture_03_A.png`, function(texture) {\n\t\t\t\tobject.traverse( function ( child ) {\n\t\t\t\t\tif ( child.isMesh ){\n\t\t\t\t\t\t//child.material.color.setHex(0x000000)\n\t\t\t\t\t\tchild.material.transparent = true\n\t\t\t\t\t\tchild.material.opacity = 0.7\n\t\t\t\t\t\t//child.material.depthWrite = true\n\t\t\t\t\t\tchild.material.map = texture\n\t\t\t\t\t}\n\t\t\t\t} )\n\t\t\t})\n\t\t\t\n\t\t\tscene.add(object)\n\t\t\t\n\t\t\tconsole.log(\"-----------------------\")\n\t\t\tconsole.log(\"ROAD----------------\")\n\t\t\tconsole.log(object)\n\t\t\tconsole.log(\"-----------------------\")\n\t\t\t\n\t\t\t//loadNextAnim(loader)\n\t\t})\n\n\t}\n\t// ROAD T\n\tfor ( i = 1; i <= 1; i++ ) {\n\t\tloaderFBX.load(`${params.assetsPath}fbx/SM_Env_Road_Gravel_T_Section_01.fbx`, function(object){\n\t\t\t\n\t\t\tconsole.log(\"-----------------------\")\n\t\t\tconsole.log(\"ROAD T----------------\")\n\t\t\tconsole.log(startX, startZ)\n\t\t\tconsole.log(\"-----------------------\")\n\n\t\t\t//params.farmhouse = object\n\t\t\t//params.colliders = []\n\t\t\t//object.rotation.y = 90 * (Math.PI/180) // 90 degrees in radians\n\t\t\tobject.position.set(startX, 0, startZ)\n\t\t\tstartX = startX + offsetX\n\t\t\tstartZ = startZ + offsetZ\n\t\t\tobject.scale.set(0.02, 0.01, 0.02)\n\t\t\tobject.traverse( function ( child ) {\n\t\t\t\tif ( child.isMesh ) {\n\t\t\t\t\t// if (child.name.startsWith(\"proxy\")){\n\t\t\t\t\t// \tparams.colliders.push(child)\n\t\t\t\t\t// \tchild.material.visible = false\n\t\t\t\t\t// }else{\n\t\t\t\t\t\tchild.castShadow = true\n\t\t\t\t\t\tchild.receiveShadow = true\n\t\t\t\t\t//}\n\t\t\t\t}\n\t\t\t} )\n\t\t\tloaderTexture.load(`${params.assetsPath}textures/PolygonFarm_Texture_03_A.png`, function(texture) {\n\t\t\t\tobject.traverse( function ( child ) {\n\t\t\t\t\tif ( child.isMesh ){\n\t\t\t\t\t\t//child.material.color.setHex(0x000000)\n\t\t\t\t\t\tchild.material.transparent = true\n\t\t\t\t\t\tchild.material.opacity = 0.7\n\t\t\t\t\t\t//child.material.depthWrite = true\n\t\t\t\t\t\tchild.material.map = texture\n\t\t\t\t\t}\n\t\t\t\t} )\n\t\t\t})\n\t\t\t\n\t\t\tscene.add(object)\n\t\t\t\n\t\t\tconsole.log(\"-----------------------\")\n\t\t\tconsole.log(\"ROAD T----------------\")\n\t\t\tconsole.log(object)\n\t\t\tconsole.log(\"-----------------------\")\n\t\t\t\n\t\t\t//loadNextAnim(loader)\n\t\t})\n\n\t}\n}\n\n\n/**\n * BUILD \"ALLOTMENTS\" FROM REST API POST OBJECT ************************************************************\n */\nfunction buildAllotments(postObject, plane, sceneID) {\n\n\tconsole.log(\"-------------------------\")\n\tconsole.log(\"postObject ALLOTMENTS----\")\n\tconsole.log(postObject)\n\tconsole.log(\"-------------------------\")\n\t\n\tvar filteredPostObject = postObject.filter(function (obj) {\n\t\treturn obj.acf.allotment_scene == sceneID\n\t})\n\t// console.log(\"filteredPostObject-------\")\n\t// console.log(filteredPostObject)\n\t// console.log(\"-------------------------\")\n\n\tfilteredPostObject.forEach( function(key) {\n\n\t\t// console.log(\"-------------------------\")\n\t\t// console.log(\"key.id (postObject)------\")\n\t\t// console.log(key.id)\n\t\t// console.log(key)\n\t\t// console.log(\"-------------------------\")\n\n\t\t// BUILD ALLOTMENT OBJECT GROUP\n\t\tlet allotment = {}\n\t\tallotment.parameters = {}\n\t\tallotment.position = {}\n\t\tallotment.images = {}\n\t\tallotment.parameters.x = parseInt(key.acf.allotment_width)\n\t\tallotment.parameters.y = parseInt(key.acf.allotment_length)\n\t\tallotment.parameters.z = parseInt(key.acf.allotment_height) // 0\n\t\tallotment.position.x = parseInt(key.acf.allotment_position_x)\n\t\tallotment.position.y = parseInt(key.acf.allotment_position_y)\n\t\tallotment.position.z = parseInt(key.acf.allotment_position_z)\n\t\tallotment.images.texture = key.acf.allotment_texture_image\n\t\tallotment.images.featured = getFeaturedImage(key)\n\t\tallotment.shape = key.acf.allotment_shape\n\t\tallotment.color = key.acf.allotment_color\n\t\tallotment.title = key.title.rendered\n\t\tallotment.postID = key.id\n\t\tallotment.description = key.content.rendered\n\t\tallotment.link = key.link\n\n\t\t// console.log(\"-------------------------\")\n\t\t// console.log(\"allotment----------------\")\n\t\t// console.log(allotment)\n\t\t// console.log(\"-------------------------\")\n\n\t\tlet structure = getGeometry(\n\t\t\tallotment.shape,\n\t\t\tallotment.parameters.x, \n\t\t\tallotment.parameters.y, \n\t\t\tallotment.parameters.z, \n\t\t\tallotment.color\n\t\t)\n\t\tstructure.name = allotment.title\n\t\tstructure.userData.type = \"structure\"\n\t\tstructure.userData.postID = allotment.postID\n\t\tstructure.userData.description = allotment.description\n\t\tstructure.userData.annotation = allotment.title\n\t\tstructure.userData.link = allotment.link\n\t\tstructure.position.x = allotment.position.x\n\t\tstructure.position.y = allotment.position.y\n\t\tstructure.position.z = (structure.geometry.parameters.depth / 2) + allotment.position.z // - 10 for gap between plane\n\t\tstructure.material.roughness = 0.9\n\t\tif (allotment.images.texture != null && allotment.images.texture != false) {\n\t\t\tstructure.material.map = loaderTexture.load(allotment.images.texture)\n\t\t\tfor (let i = 0; i < structure.material.length; i++) {\n\t\t\t\t// hightlight object\n\t\t\t\t//structure.material[i].color.set(0xff0000)\n\t\t\t\tstructure.material[i].map = loaderTexture.load(allotment.images.texture)\n\t\t\t\t//structure.faces[i].materialIndex = 1\n\t\t\t\t//console.log(intersects[i])\n\t\t\t\t// structure.material[i].bumpMap = loaderTexture.load(allotment.images.texture)\n\t\t\t\t// structure.material[i].bumpScale = 0.05\n\t\t\t\tlet structureTextureMap = structure.material[i].map\n\t\t\t\tstructureTextureMap.wrapS = THREE.RepeatWrapping\n\t\t\t\tstructureTextureMap.wrapT = THREE.RepeatWrapping\n\t\t\t\tstructureTextureMap.repeat.set(4, 4)\n\t\t\t}\n\t\t}\n\t\t\n\t\tplane.add(structure)\n\n\t\t//params.colliders.push(structure)\n\n\t\t//guiFolderAllotments.add(structure.geometry.parameters, \"depth\", 0, allotment.parameters.z)\n\t\t\n\t\t// console.log(\"-------------------------\")\n\t\t// console.log(\"allotment----------------\")\n\t\t// console.log(structure)\n\t\t// console.log(\"-------------------------\")\n\n\t\t/** BUILD BEDS IN THIS ALLOTMENT ************************************************** */\n\n\t\tbuildBeds(\n\t\t\tparams.data.bed, \n\t\t\tplane, \n\t\t\tallotment.postID, // the post-to-post relationship <3\n\t\t\tstructure.position.x, structure.position.y, 0 //structure.position.z\n\t\t) \n\n\t\t/** INFOSPOTS ********************************************************************* */\n\n\t\tlet infospot = makeInfospotSphere(\n\t\t\tstructure.name, \n\t\t\tstructure.position.x, \n\t\t\tstructure.position.y, \n\t\t\tallotment.parameters.z + 3,\n\t\t\tallotment.postID,\n\t\t\tstructure.userData.annotation,\n\t\t\tstructure.userData.link \n\t\t)\n\t\tinfospot.name = `INFOSPOT: ${structure.name}`\n\t\tinfospot.visible = true\n\n\t\tguiFolderAllotments.add(infospot, \"visible\").name(\"InfoSphere\").listen()\n\n\t\tplane.add(infospot)\n\n\t}) /** END ALLOTMENTS ****************************************************************** */\n\t\n\t// console.log(\"-------------------------\")\n\t// console.log(\"plane.children-----------\")\n\t// console.log(plane.children)\n\t// console.log(\"-------------------------\")\n\n\t// return plane.children\n}\n\n/**\n * BUILD \"BEDS\" FROM REST API POST OBJECT ************************************************************\n */\nfunction buildBeds(postObject, plane, allotmentID, posOffsetX, posOffsetY, posOffsetZ) {\n\n\t// console.log(\"-------------------------\")\n\t// console.log(\"postObject BEDS----------\")\n\t// console.log(postObject)\n\t// console.log(\"-------------------------\")\n\t\n\t// only show beds for this allotment structure\n\tvar filteredPostObject = postObject.filter(function (obj) {\n\t\treturn obj.acf.bed_allotment == allotmentID\n\t})\n\t// console.log(\"filteredPostObject-------\")\n\t// console.log(filteredPostObject)\n\t// console.log(\"-------------------------\")\n\n\tfilteredPostObject.forEach( function(key) {\n\n\t\t// console.log(\"-------------------------\")\n\t\t// console.log(\"key.id (postObject)------\")\n\t\t// console.log(key.id)\n\t\t// console.log(key)\n\t\t// console.log(\"-------------------------\")\n\n\t\tlet bed = {}\n\t\tbed.parameters = {}\n\t\tbed.position = {}\n\t\tbed.images = {}\n\t\tbed.parameters.x = parseInt(key.acf.bed_width) / 12\n\t\tbed.parameters.y = parseInt(key.acf.bed_length) / 12\n\t\tbed.parameters.z = parseInt(key.acf.bed_height) / 12\n\t\tbed.position.x = parseInt(key.acf.bed_position_x) / 12 + posOffsetX\n\t\tbed.position.y = parseInt(key.acf.bed_position_y) / 12 + posOffsetY\n\t\tbed.position.z = parseInt(key.acf.bed_position_z) / 12 + (bed.parameters.z / 2) // + posOffsetZ\n\t\tbed.images.texture = key.acf.bed_texture_image\n\t\tbed.images.featured = getFeaturedImage(key)\n\t\tbed.shape = key.acf.bed_shape\n\t\tbed.color = key.acf.bed_color\n\t\tbed.title = key.title.rendered\n\t\tbed.postID = key.id\n\t\tbed.description = key.content.rendered\n\t\tbed.link = key.link\n\n\t\t// console.log(\"-------------------------\")\n\t\t// console.log(\"bed----------------\")\n\t\t// console.log(bed)\n\t\t// console.log(\"-------------------------\")\n\n\t\tlet structure = getGeometry(\n\t\t\tbed.shape,\n\t\t\tbed.parameters.x, \n\t\t\tbed.parameters.y, \n\t\t\tbed.parameters.z, \n\t\t\tbed.color\n\t\t)\n\t\tstructure.name = bed.title\n\t\tstructure.userData.type = \"structure\"\n\t\tstructure.userData.postID = bed.postID\n\t\tstructure.userData.description = bed.description\n\t\tstructure.userData.annotation = bed.title\n\t\tstructure.userData.link = bed.link\n\t\tstructure.position.x = bed.position.x ? bed.position.x : 0\n\t\tstructure.position.y = bed.position.y ? bed.position.y : 0\n\t\tstructure.position.z = bed.position.z ? bed.position.z : 0\n\t\t//structure.rotation.x = -Math.PI / 2 // -90 degrees in radians\n\t\tstructure.material.roughness = 0.9\n\t\tif (bed.images.texture != null && bed.images.texture != false) {\n\t\t\tstructure.material.map = loaderTexture.load(bed.images.texture)\n\t\t\tfor (let i = 0; i < structure.material.length; i++) {\n\t\t\t\t// hightlight object\n\t\t\t\t//structure.material[i].color.set(0xff0000)\n\t\t\t\tstructure.material[i].map = loaderTexture.load(bed.images.texture)\n\t\t\t\t//structure.faces[i].materialIndex = 1\n\t\t\t\t//console.log(intersects[i])\n\t\t\t\t// structure.material[i].bumpMap = loaderTexture.load(bed.images.texture)\n\t\t\t\t// structure.material[i].bumpScale = 0.05\n\t\t\t\tlet structureTextureMap = structure.material[i].map\n\t\t\t\tstructureTextureMap.wrapS = THREE.RepeatWrapping\n\t\t\t\tstructureTextureMap.wrapT = THREE.RepeatWrapping\n\t\t\t\tstructureTextureMap.repeat.set(4, 4)\n\t\t\t}\n\t\t}\n\t\t\n\t\tplane.add(structure)\n\n\t\tparams.colliders.push(structure)\n\t\t\n\t\t// console.log(\"-------------------------\")\n\t\t// console.log(\"bed----------------------\")\n\t\t// console.log(structure)\n\t\t// console.log(\"-------------------------\")\n\n\t\t/** BUILD PLANTS IN THIS BED, ACCORDING TO PLANTING PLANS ************************* */\n\n\t\tbuildPlantingPlans(\n\t\t\tparams.data.planting_plan, \n\t\t\tplane, \n\t\t\tbed.postID, // the post-to-post relationship <3\n\t\t\tstructure.position.x, structure.position.y, 0 //structure.position.z\n\t\t) \n\t\n\t\t/** INFOSPOTS ********************************************************************* */\n\t\n\t\tlet infospot = makeInfospotSphere(\n\t\t\tstructure.name, \n\t\t\tstructure.position.x, \n\t\t\tstructure.position.y, \n\t\t\tbed.parameters.z + 3,\n\t\t\tbed.postID,\n\t\t\tstructure.userData.annotation,\n\t\t\tstructure.userData.link \n\t\t)\n\t\tinfospot.name = `INFOSPOT: ${structure.name}`\n\t\tinfospot.visible = false\n\n\t\tguiFolderBeds.add(infospot, \"visible\").name(\"InfoSphere\").listen()\n\n\t\tplane.add(infospot)\n\n\t}) /** END BEDS *********************************************************************** */\n\t\n\t// console.log(\"-------------------------\")\n\t// console.log(\"plane.children-----------\")\n\t// console.log(plane.children)\n\t// console.log(\"-------------------------\")\n\n\t// return plane.children\n}\n\n/**\n * BUILD \"PLANTS\" FROM REST API POST OBJECT ************************************************************\n */\nfunction buildPlantingPlans(postObject, plane, bedID, posOffsetX, posOffsetY, posOffsetZ) {\n\n\t// console.log(\"-------------------------\")\n\t// console.log(\"postObject PLANTING PLANS\")\n\t// console.log(postObject)\n\t// console.log(\"-------------------------\")\n\n\t// only show plants for this planting plan's bed structure\n\tvar filteredPostObject = []\n\tvar matches = []\n\tpostObject.forEach(function (obj) {\n\t\tobj.acf.planting_plan_bed_plant_schedule.forEach(function(i) {\n\t\t\tif ( i.planting_plan_bed == bedID ) {\n\t\t\t\t//console.log(\"MATCHED at: \", i)\n\t\t\t\t//matches.push(i)\n\t\t\t\t//matches.push(obj)\n\t\t\t\tmatches.pushIfNotExist(obj, function(e) { \n\t\t\t\t\treturn e.id === obj.id \n\t\t\t\t})\n\t\t\t}\n\t\t})\n\t\tfilteredPostObject = [...matches]\n\t})\n\n\t// if ( filteredPostObject.length > 0 ) {\n\t// \tconsole.log(\"filteredPostObject-------\")\n\t// \tconsole.log(filteredPostObject)\n\t// \tconsole.log(\"-------------------------\")\n\t// }\n\n\t// for each planting plan..\n\tfilteredPostObject.forEach( function(key) {\n\n\t\t// console.log(\"-------------------------\")\n\t\t// console.log(\"key.id (filteredPostObject)------\")\n\t\t// console.log(key.id)\n\t\t// console.log(key)\n\t\t// console.log(\"-------------------------\")\n\n\t\t// for each planting plan bed-plant schedule..\n\t\tkey.acf.planting_plan_bed_plant_schedule.forEach(function(key2) {\n\t\t\t\n\t\t\t// console.log(\"key2-------\")\n\t\t\t// console.log(key2)\n\t\t\t// console.log(\"-------------------------\")\n\n\t\t\t// only for this bed..\n\t\t\tif ( key2.planting_plan_bed == bedID ) {\n\t\t\t\n\t\t\t\t// show this plant (or multiple plants) in this bed..\n\t\t\t\tvar filteredPlant = params.data.plant.filter(function (obj) {\n\t\t\t\t\treturn obj.id == key2.planting_plan_plant\n\t\t\t\t})\n\n\t\t\t\t// console.log(\"filteredPlant------------\")\n\t\t\t\t// console.log(filteredPlant)\n\t\t\t\t// console.log(\"-------------------------\")\n\n\t\t\t\t// for this plant in this bed..\n\t\t\t\tfilteredPlant.forEach(function(key3) {\n\n\t\t\t\t\t// console.log(\"key3---------------------\")\n\t\t\t\t\t// console.log(key3)\n\t\t\t\t\t// console.log(\"-------------------------\")\n\n\t\t\t\t\tlet plant = {}\n\t\t\t\t\tplant.parameters = {}\n\t\t\t\t\tplant.position = {}\n\t\t\t\t\tplant.images = {}\n\t\t\t\t\tplant.parameters.x = parseInt(key3.acf.plant_width) / 12\n\t\t\t\t\tplant.parameters.y = parseInt(key3.acf.plant_length) / 12\n\t\t\t\t\tplant.parameters.z = parseInt(key3.acf.plant_height) / 12\n\t\t\t\t\tplant.position.x = parseInt(key2.plant_position_x) / 12 + posOffsetX\n\t\t\t\t\tplant.position.y = parseInt(key2.plant_position_y) / 12 + posOffsetY\n\t\t\t\t\tplant.position.z = parseInt(key2.plant_position_z) / 12 + (plant.parameters.z / 2) // + posOffsetZ\n\t\t\t\t\tplant.images.texture = key3.acf.plant_texture_image\n\t\t\t\t\tplant.images.featured = getFeaturedImage(key)\n\t\t\t\t\tplant.shape = key3.acf.plant_shape\n\t\t\t\t\tplant.color = key3.acf.plant_color\n\t\t\t\t\tplant.title = key3.title.rendered\n\t\t\t\t\tplant.postID = key3.id\n\t\t\t\t\tplant.description = key3.content.rendered\n\t\t\t\t\tplant.link = key3.link\n\n\t\t\t\t\t// console.log(\"-------------------------\")\n\t\t\t\t\t// console.log(\"plant----------------\")\n\t\t\t\t\t// console.log(plant)\n\t\t\t\t\t// console.log(\"-------------------------\")\n\n\t\t\t\t\tlet structure = getGeometry(\n\t\t\t\t\t\t\"Tree\", // \"Bush\", // plant.shape,\n\t\t\t\t\t\tplant.parameters.x, \n\t\t\t\t\t\tplant.parameters.y, \n\t\t\t\t\t\tplant.parameters.z, \n\t\t\t\t\t\tplant.color\n\t\t\t\t\t)\n\t\t\t\t\tstructure.name = plant.title\n\t\t\t\t\tstructure.userData.type = \"structure\"\n\t\t\t\t\tstructure.userData.postID = plant.postID\n\t\t\t\t\tstructure.userData.description = plant.description\n\t\t\t\t\tstructure.userData.annotation = plant.title\n\t\t\t\t\tstructure.userData.link = plant.link\n\t\t\t\t\tstructure.position.x = plant.position.x ? plant.position.x : 0\n\t\t\t\t\tstructure.position.y = plant.position.y ? plant.position.y : 0\n\t\t\t\t\tstructure.position.z = plant.position.z ? plant.position.z : 0\n\t\t\t\t\tstructure.rotation.x = Math.PI / 2 // 90 degrees in radians\n\t\t\t\t\tstructure.material.roughness = 0.9\n\t\t\t\t\tif (plant.images.texture != null && plant.images.texture != false) {\n\t\t\t\t\t\tstructure.material.map = loaderTexture.load(plant.images.texture)\n\t\t\t\t\t\tfor (let i = 0; i < structure.material.length; i++) {\n\t\t\t\t\t\t\t// hightlight object\n\t\t\t\t\t\t\t//structure.material[i].color.set(0xff0000)\n\t\t\t\t\t\t\tstructure.material[i].map = loaderTexture.load(plant.images.texture)\n\t\t\t\t\t\t\t//structure.faces[i].materialIndex = 1\n\t\t\t\t\t\t\t//console.log(intersects[i])\n\t\t\t\t\t\t\t// structure.material[i].bumpMap = loaderTexture.load(plant.images.texture)\n\t\t\t\t\t\t\t// structure.material[i].bumpScale = 0.05\n\t\t\t\t\t\t\tlet structureTextureMap = structure.material[i].map\n\t\t\t\t\t\t\tstructureTextureMap.wrapS = THREE.RepeatWrapping\n\t\t\t\t\t\t\tstructureTextureMap.wrapT = THREE.RepeatWrapping\n\t\t\t\t\t\t\tstructureTextureMap.repeat.set(4, 4)\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tplane.add(structure)\n\n\t\t\t\t\tparams.colliders.push(structure)\n\t\t\t\t\t\n\t\t\t\t\tconsole.log(\"-------------------------\")\n\t\t\t\t\tconsole.log(\"plant structure----------\")\n\t\t\t\t\tconsole.log(structure)\n\t\t\t\t\tconsole.log(\"-------------------------\")\n\t\t\t\t\n\t\t\t\t\t/** INFOSPOTS ********************************************************************* */\n\t\t\t\t\n\t\t\t\t\tlet infospot = makeInfospotSphere(\n\t\t\t\t\t\tstructure.name, \n\t\t\t\t\t\tstructure.position.x, \n\t\t\t\t\t\tstructure.position.y, \n\t\t\t\t\t\tplant.parameters.z + 3,\n\t\t\t\t\t\tplant.postID,\n\t\t\t\t\t\tstructure.userData.annotation,\n\t\t\t\t\t\tstructure.userData.link \n\t\t\t\t\t)\n\t\t\t\t\tinfospot.name = `INFOSPOT: ${structure.name}`\n\t\t\t\t\tinfospot.visible = false\n\n\t\t\t\t\tguiFolderBeds.add(infospot, \"visible\").name(\"InfoSphere\").listen()\n\n\t\t\t\t\tplane.add(infospot)\n\t\t\t\n\t\t\t\t})\n\n\t\t\t} // end if\n\n\t\t})\n\n\t}) /** END PLANTS *************************************************************************** */\n\t\n\t// console.log(\"-------------------------\")\n\t// console.log(\"plane.children-----------\")\n\t// console.log(plane.children)\n\t// console.log(\"-------------------------\")\n\n\t// return plane.children\n}\n\n\n\nfunction getGeometry(shape, x, y, z, color){\n\tlet geometry\n\tlet material\n\tlet mesh\n\tswitch (shape) {\n\t\tcase \"Box\":\n\t\t\tgeometry = new THREE.BoxGeometry(x, y, z)\n\t\t\t// let opacMaterial = new THREE.MeshStandardMaterial({\n\t\t\t// \ttransparent: true, \n\t\t\t// \topacity: 0.0,\n\t\t\t// \talphaTest: 1.0,\n\t\t\t// \tcolor: color,\n\t\t\t// \tside: THREE.DoubleSide,\n\t\t\t// \tdepthWrite: false\n\t\t\t// })\n\t\t\tmaterial = new THREE.MeshStandardMaterial({\n\t\t\t\ttransparent: true, \n\t\t\t\topacity: 0.8,\n\t\t\t\tcolor: color,\n\t\t\t\tside: THREE.DoubleSide,\n\t\t\t\tdepthWrite: true\n\t\t\t})\n\t\t\tmesh = new THREE.Mesh(\n\t\t\t\tgeometry, \n\t\t\t\t[\n\t\t\t\t\tmaterial, material, \n\t\t\t\t\tmaterial, material\n\t\t\t\t]\n\t\t\t)\n\t\t\tmesh.castShadow = true\n\t\t\tbreak\n\n\t\tcase \"Cone\":\n\t\t\tgeometry = new THREE.ConeGeometry(x/2, y/2, z, 32, 1, true)\n\t\t\tmaterial = new THREE.MeshStandardMaterial({\n\t\t\t\tcolor: color,\n\t\t\t\tside: THREE.DoubleSide\n\t\t\t})\n\t\t\tmesh = new THREE.Mesh(geometry, material)\n\t\t\tmesh.castShadow = true\n\t\t\tmesh.rotation.x = Math.PI / 2 // 90 degrees in radians\n\t\t\tbreak\n\n\t\tcase \"Cylinder\":\n\t\t\tgeometry = new THREE.CylinderGeometry(x/2, y/2, z, 32, 1, true)\n\t\t\tmaterial = new THREE.MeshStandardMaterial({\n\t\t\t\tcolor: color,\n\t\t\t\tside: THREE.DoubleSide\n\t\t\t})\n\t\t\tmesh = new THREE.Mesh(geometry, material)\n\t\t\tmesh.castShadow = true\n\t\t\tmesh.rotation.x = Math.PI / 2 // 90 degrees in radians\n\t\t\tbreak\n\n\t\tcase \"InfoSphere\":\n\t\t\tgeometry = new THREE.SphereGeometry(x, y, z)\n\t\t\tmaterial = new THREE.MeshStandardMaterial({\n\t\t\t\tcolor: color,\n\t\t\t\tside: THREE.DoubleSide\n\t\t\t})\n\t\t\tmesh = new THREE.Mesh(geometry, material)\n\t\t\tmesh.castShadow = true\n\t\t\t//mesh.rotation.x = Math.PI / 2 // 90 degrees in radians\n\t\t\tbreak\n\n\t\tcase \"Sphere\":\n\t\t\tgeometry = new THREE.SphereGeometry(x, y, z)\n\t\t\tmaterial = new THREE.MeshStandardMaterial({\n\t\t\t\tcolor: color,\n\t\t\t\tside: THREE.DoubleSide\n\t\t\t})\n\t\t\tmesh = new THREE.Mesh(geometry, material)\n\t\t\tmesh.castShadow = true\n\t\t\t//mesh.rotation.x = Math.PI / 2 // 90 degrees in radians\n\t\t\tbreak\n\n\t\tcase \"Tree\":\n\t\t\tlet tree = new THREE.Tree({\n\t\t\t\tgenerations : 3,        // # for branch hierarchy\n\t\t\t\tlength      : 1.0,      // length of root branch\n\t\t\t\tuvLength    : 3.0,      // uv.v ratio against geometry length (recommended is generations * length)\n\t\t\t\tradius      : 0.1,      // radius of root branch\n\t\t\t\tradiusSegments : 8,     // # of radius segments for each branch geometry\n\t\t\t\theightSegments : 8      // # of height segments for each branch geometry\n\t\t\t})\n\t\t\tgeometry = THREE.TreeGeometry.build(tree)\n\t\t\t//geometry = new THREE.SphereGeometry(x, y, z)\n\t\t\tmaterial = new THREE.MeshStandardMaterial({\n\t\t\t\tcolor: color,\n\t\t\t\tside: THREE.DoubleSide\n\t\t\t})\n\t\t\tmesh = new THREE.Mesh(geometry, material)\n\t\t\tmesh.castShadow = true\n\t\t\t//mesh.rotation.x = Math.PI / 2 // 90 degrees in radians\n\t\t\tbreak\n\n\t\tcase \"Bush\":\n\t\t\t// CAST\n\t\t\tgeometry = new THREE.CubeGeometry(x, y, z)\n\t\t\t\n\t\t\t//color = new THREE.Color(0xff0000)\n\t\t\tcolor = new THREE.Color(\"rgb(153,90,0)\")\n\t\t\tmaterial = new THREE.MeshPhongMaterial({ color: color, wireframe: false })\n\t\t\tmesh = new THREE.Mesh(geometry, material)\n\t\t\t\n\t\t\tscene.add(mesh)  \n\t\t\tmesh.matrix.makeTranslation(0,-125,0)\n\t\t\tmesh.matrixAutoUpdate = false\n\t\t\t\n\t\t\tvar levels = 4 // slow? lower this\n\t\t\tvar edge_w = 100\n\t\t\tvar edge_h = 150\n\n\t\t\tfunction bush(n, mat, c) {\n\t\t\t\tif(n > 0) {\n\t\t\t\t\tvar new_mat = new THREE.Matrix4()\n\t\t\t\t\tvar new_mat2 = new THREE.Matrix4()\n\t\t\t\t\tvar new_mat_t0 = new THREE.Matrix4()\n\t\t\t\t\tvar new_mat_t = new THREE.Matrix4()\n\t\t\t\t\tvar new_mat_r = new THREE.Matrix4()\n\t\t\t\t\tvar new_mat_r2 = new THREE.Matrix4()\n\t\t\t\t\tvar new_mat_s = new THREE.Matrix4()\n\t\t\t\t\tvar mat2 = mat.clone()\n\t\t\t\t\tvar col1 = c.clone()\n\t\t\t\t\tvar col2 = c.clone()\n\t\t\t\t\t//col1.offsetHSL(0.12,0,0)\n\t\t\t\t\tcol1.g += 0.64/levels\n\t\t\t\t\tmaterial = new THREE.MeshPhongMaterial( { color:col1, wireframe: false } )\n\t\t\t\t\tmesh = new THREE.Mesh(geometry, material)\n\t\t\t\t\tnew_mat_t0.makeTranslation(edge_w/2,0,0)\n\t\t\t\t\tnew_mat_t.makeTranslation(0,edge_h,0)\n\t\t\t\t\tnew_mat_r.makeRotationZ(-Math.PI/4)\n\t\t\t\t\tnew_mat_r2.makeRotationY(Math.PI/2)\n\t\t\t\t\tnew_mat_s.makeScale(0.75,0.75,0.75)\n\t\t\t\t\tnew_mat.multiply(new_mat_r2)  //      \n\t\t\t\t\tnew_mat.multiply(new_mat_t0)\n\t\t\t\t\tnew_mat.multiply(new_mat_r)        \n\t\t\t\t\tnew_mat.multiply(new_mat_s)        \n\t\t\t\t\tnew_mat.multiply(new_mat_t)\n\t\t\t\t\tnew_mat.multiply(mat)\n\t\t\t\t\tmesh.matrix.copy(new_mat)\n\t\t\t\t\tmesh.matrixAutoUpdate=false\n\t\t\t\t\tmesh.updateMatrix=false //\n\t\t\t\t\tscene.add(mesh)\n\t\t\t\t\tbush(n-1, mesh.matrix.clone(), col1)\n\t\t\t\n\t\t\t\t\t//col2.offsetHSL(0.12,0,0)\n\t\t\t\t\tcol2.g += 0.64/levels\n\t\t\t\t\tmaterial = new THREE.MeshPhongMaterial( { color:col2, wireframe: false } )\n\t\t\t\t\tmesh = new THREE.Mesh(geometry, material)\n\t\t\t\t\tnew_mat_t0.makeTranslation(-edge_w/2,0,0)\n\t\t\t\t\tnew_mat_t.makeTranslation(0,edge_h,0)\n\t\t\t\t\tnew_mat_r.makeRotationZ(Math.PI/4)\n\t\t\t\t\tnew_mat_r2.makeRotationY(Math.PI/2)\n\t\t\t\t\tnew_mat_s.makeScale(0.75,0.75,0.75)\n\t\t\t\t\tnew_mat2.multiply(new_mat_r2)  //      \n\t\t\t\t\tnew_mat2.multiply(new_mat_t0)\n\t\t\t\t\tnew_mat2.multiply(new_mat_r)        \n\t\t\t\t\tnew_mat2.multiply(new_mat_s)        \n\t\t\t\t\tnew_mat2.multiply(new_mat_t)\n\t\t\t\t\tnew_mat2.multiply(mat)\n\t\t\t\t\tmesh.matrix.copy(new_mat2)\n\t\t\t\t\tmesh.matrixAutoUpdate=false\n\t\t\t\t\tmesh.updateMatrix=false //\n\t\t\t\t\tscene.add(mesh)\n\t\t\t\t\tbush(n-1, mesh.matrix.clone(), col2)\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\tbush(levels, mesh.matrix, color)\n\n\t\tdefault:\n\t\t\tgeometry = new THREE.BoxGeometry(x, y, z)\n\t\t\tmaterial = new THREE.MeshStandardMaterial({\n\t\t\t\tcolor: color,\n\t\t\t\tside: THREE.DoubleSide\n\t\t\t})\n\t\t\tmesh = new THREE.Mesh(geometry, material)\n\t\t\tmesh.castShadow = true\n\t\t\tbreak\n\t}\n\t\n\treturn mesh\n}\n\nfunction getPlane(x, y, color){\n\tlet geometry = new THREE.PlaneGeometry(x, y)\n\tlet material = new THREE.MeshStandardMaterial({\n\t\tcolor: color,\n\t\tside: THREE.DoubleSide\n\t})\n\tlet mesh = new THREE.Mesh(geometry, material)\n\tmesh.receiveShadow = true\n\treturn mesh\n}\n\nfunction getPointLight(color, intensity){\n\tlet light = new THREE.PointLight(color, intensity)\n\tlight.castShadow = true\n\tlight.shadow.bias = 0.001\n\tlight.shadow.mapSize.width = 4096 //default = 1024\n\tlight.shadow.mapSize.height = 4096 //default = 1024\n\treturn light\n}\n\nfunction getSpotLight(color, intensity){\n\tlet light = new THREE.SpotLight(color, intensity)\n\tlight.castShadow = true\n\tlight.shadow.bias = 0.001\n\tlight.shadow.mapSize.width = 2048 //default = 1024\n\tlight.shadow.mapSize.height = 2048 //default = 1024\n\treturn light\n}\n\nfunction getDirectionalLight(color, intensity){\n\tlet light = new THREE.DirectionalLight(color, intensity)\n\tlight.castShadow = true\n\tlight.shadow.bias \t\t\t= 0.0001\n\tlight.shadow.mapSize.width \t= 4096 //default = 512\n\tlight.shadow.mapSize.height = 4096 //default = 512\n\tlight.shadow.camera.left \t= -1000 //default = -5\n\tlight.shadow.camera.bottom \t= -1000 //default = -5\n\tlight.shadow.camera.right \t= 1000 //default = 5\n\tlight.shadow.camera.top \t= 1000 //default = 5\n\tlight.shadow.camera.near \t= 0.5 // default\n\tlight.shadow.camera.far \t= 500 // default\n\treturn light\n}\n\nfunction getAmbientLight(color, intensity){\n\tlet light = new THREE.AmbientLight(color, intensity)\n\treturn light\n}\n\n\n/**\n * INFOSPOTS **************************************************************************************\n */\nfunction makeInfospotSprite(message, positionX, positionY, positionZ) {\n\t/**\n\t * infospot\n\t */\n\tlet infospotCanvas = document.querySelector(\"#infospot\")\n\tlet ctx = infospotCanvas.getContext(\"2d\")\n\tlet x = 32\n\tlet y = 32\n\tlet radius = 30\n\tlet startAngle = 0\n\tlet endAngle = Math.PI * 2\n\t// background\n\tctx.fillStyle = \"rgba(0, 0, 0, 0.8)\"\n\tctx.beginPath()\n\tctx.arc(x, y, radius, startAngle, endAngle)\n\tctx.fill()\n\t// border\n\tctx.strokeStyle = \"rgba(255, 255, 255, 0.8)\"\n\tctx.lineWidth = 4\n\tctx.beginPath()\n\tctx.arc(x, y, radius, startAngle, endAngle)\n\tctx.stroke()\n\t// foreground\n\tctx.fillStyle = \"rgba(255, 255, 255, 0.8)\"\n\tctx.font = \"40px sans-serif\"\n\tctx.textAlign = \"center\"\n\tctx.textBaseline = \"middle\"\n\t// text\n\tctx.fillText(message, x, y)\n\n\n\tconst infospotTexture = new THREE.CanvasTexture(\n\t\tinfospotCanvas[0]\n\t\t//document.querySelector(\"#infospot\")\n\t\t//$(\"#infospot\")\n\t)\n\n\tconst infospotMaterial = new THREE.SpriteMaterial({\n\t\tmap: infospotTexture,\n\t\topacity: 0.8,\n\t\ttransparent: true,\n\t\tdepthTest: false,\n\t\tdepthWrite: false\n\t})\n\n\tlet infospot = new THREE.Sprite(infospotMaterial)\n\tinfospot.position.set(positionX, positionY, positionZ)\n\tinfospot.scale.set(2, 2, 2)\n\tinfospot.visible = true\n\n\treturn infospot\n}\n\nfunction makeInfospotSphere(message, positionX, positionY, positionZ, postID, contentHTML, link) {\n\t/**\n\t * INFOSPOT ********************************************************************\n\t */\n\tlet structure = getGeometry(\n\t\t\"InfoSphere\",\n\t\t0.90, // radius\n\t\t32, // width segments\n\t\t32, // height segments\n\t\t0x2e3959\n\t)\t\n\tstructure.name = message\n\tstructure.userData.type = \"infospot\"\n\tstructure.userData.postID = postID\n\tstructure.userData.description = \"\"\n\tstructure.userData.annotation = contentHTML\n\tstructure.userData.link = link\n\t// structure.position.x = positionX\n\t// structure.position.y = positionY\n\t// structure.position.z = positionZ\n\tstructure.position.set(positionX, positionY, positionZ)\n\t//structure.rotation.x = -Math.PI / 2 // -90 degrees in radians\n\t//structure.scale.set(2, 2, 2)\n\tstructure.visible = true\n\t\t\n\t/** \n\t * ANNOTATION ****************************************************************** \n\t */\n\t//\n\tlet vector = new THREE.Vector3(structure.position.x, structure.position.y, 0) //camera.position.z //structure.position.z\n\t// camera.updateProjectionMatrix()\n\t// camera.updateMatrixWorld()\n\t// let vector = new THREE.Vector3()\n\t// vector.setFromMatrixPosition(structure.matrixWorld)\n\tvector.project(camera)\n\n\tvector.x = Math.round((0.5 + vector.x / 2) * (renderer.domElement.width / window.devicePixelRatio))\n\tvector.y = Math.round((0.5 - vector.y / 2) * (renderer.domElement.height / window.devicePixelRatio))\n\t// vector.x = (structure.position.x / (window.innerWidth - 240)) * 2 - 1\n\t// vector.y = -(structure.position.y / (window.innerHeight - 100)) * 2 + 1\n\t// vector.x = Math.round( (   vector.x + 1 ) * renderer.domElement.width / 2 )\n\t// vector.y = Math.round( ( - vector.y + 1 ) * renderer.domElement.height / 2 )\n\n\tlet annoPosTop = vector.x\n\tlet annoPosLeft = vector.y\n\t//\n\t// let annoPosTop = 100\n\t// let annoPosLeft = 240\n\n\tlet annotation = makeAnnotation(\n\t\tstructure.userData.link,\n\t\tstructure.name,\n\t\tannoPosTop, \n\t\tannoPosLeft\n\t)\n\tannotation.name = `ANNOTATION: ${structure.name}`\n\tannotation.userData.type = \"annotation\"\n\tannotation.userData.postID = postID\n\tannotation.userData.description = \"\"\n\tannotation.userData.annotation = structure.name\n\tannotation.userData.link = link\n\tannotation.visible = false // does nothing, but keeps status accurate\n\n\t// console.log(\"-------------------------\")\n\t// console.log(\"annotation---------------------\")\n\t// console.log(annotation)\n\t// console.log(\"-------------------------\")\n\t\n\tstructure.add(annotation)\n\t\n\treturn structure\n}\n\nfunction makeAnnotation(link, contentHTML, positionX, positionY) {\n\n\tlet annoDiv = document.createElement(\"div\")\n\tannoDiv.classList.add(\"annotation\")\n\tannoDiv.innerHTML = `\n\t\t<a href=\"${link}\" target=\"_blank\">${contentHTML}</a>\n\t\t(${positionX}, ${positionY})\n\t\t<span class=\"dismiss\" onclick=\"dismiss(this)\">x</span>\n\t`\n\tannoDiv.hidden = true\n\tannoDiv.style.display = \"none\" //block\n\tannoDiv.style.top = `${positionY}px`\n    annoDiv.style.left = `${positionX}px`\n\tguiFolderAnnotations.add(annoDiv, \"hidden\").listen()\n\tguiFolderAnnotations.add(annoDiv.style, \"display\").listen()\n\tguiFolderAnnotations.add(annoDiv.style, \"top\").listen()\n\tguiFolderAnnotations.add(annoDiv.style, \"left\").listen()\n\tdocument.body.appendChild( annoDiv )\n\n\t// Make the DIV element draggable\n\tdragElement(annoDiv)\n\n\tlet cssObject = { userData: {} } // new THREE.CSS3DObject( annoDiv )\n\t// trying to do stuff to a cssObject does nothing :(\n\t// // we reference the same position and rotation \n\t// cssObject.position = rendererDomElement.position\n\t// cssObject.rotation = rendererDomElement.rotation\n\t// cssObject.position.set(positionX, positionY, positionZ)\n\t// cssObject.scale.set(3, 3, 3)\n\t// cssObject.visible = true\n\t// console.log(\"------------------\")\n\t// console.log(\"cssObject---------\")\n\t// console.log(cssObject)\n\t// console.log(\"------------------\")\n\n\t//return annoDiv\n\treturn cssObject\n}\n\nfunction makeTextSprite(message, parameters) {\n\tif ( parameters === undefined ) parameters = {}\n\tlet fontface = parameters.hasOwnProperty(\"fontface\") ? \n\t\tparameters[\"fontface\"] : \"Arial\"\n\tlet fontsize = parameters.hasOwnProperty(\"fontsize\") ? \n\t\tparameters[\"fontsize\"] : 18\n\tlet borderThickness = parameters.hasOwnProperty(\"borderThickness\") ? \n\t\tparameters[\"borderThickness\"] : 4\n\tlet borderColor = parameters.hasOwnProperty(\"borderColor\") ?\n\t\tparameters[\"borderColor\"] : { r:0, g:0, b:0, a:1.0 }\n\tlet backgroundColor = parameters.hasOwnProperty(\"backgroundColor\") ?\n\t\tparameters[\"backgroundColor\"] : { r:255, g:255, b:255, a:1.0 }\n\t\t\n\tlet newCanvas = document.createElement(\"canvas\")\n\tlet context = newCanvas.getContext(\"2d\")\n\tcontext.font = \"Bold \" + fontsize + \"px \" + fontface\n\t//context.textAlign = \"center\"\n    \n\t// get size data (height depends only on font size)\n\tlet metrics = context.measureText( message )\n\tlet textWidth = metrics.width\n\t// console.log(\"-------------------------\")\n\t// console.log(\"metrics------------------\")\n\t// console.log(textWidth)\n\t// console.log(\"-------------------------\")\n\n\t// background color\n\tcontext.fillStyle   = \"rgba(\" + backgroundColor.r + \",\" + backgroundColor.g + \",\"\n\t\t\t\t\t\t\t\t  + backgroundColor.b + \",\" + backgroundColor.a + \")\"\n\t// border color\n\tcontext.strokeStyle = \"rgba(\" + borderColor.r + \",\" + borderColor.g + \",\"\n\t\t\t\t\t\t\t\t  + borderColor.b + \",\" + borderColor.a + \")\"\n\n\tcontext.lineWidth = borderThickness\n\troundRect(\n\t\tcontext, \n\t\tborderThickness/2, \n\t\tborderThickness/2, \n\t\ttextWidth + borderThickness, \n\t\tfontsize * 1.4 + borderThickness, \n\t\t6\n\t)\n\t// 1.4 is extra height factor for text below baseline: g,j,p,q.\n\t\n\t// text color\n\tcontext.fillStyle = \"rgba(0, 0, 0, 1.0)\"\n\n\tcontext.fillText( message, borderThickness, fontsize + borderThickness)\n\t\n\t// canvas contents will be used for a texture\n\tlet texture = new THREE.Texture(newCanvas)\n\ttexture.needsUpdate = true\n\n\tlet spriteMaterial = new THREE.SpriteMaterial( \n\t\t{ \n\t\t\tmap: texture,\n\t\t\ttransparent: true,\n\t\t\tdepthTest: false,\n\t\t\tdepthWrite: false \n\t\t} //, useScreenCoordinates: false, alignment: spriteAlignment\n\t)\n\tlet sprite = new THREE.Sprite( spriteMaterial )\n\tsprite.scale.set(50, 25, 1.0)\n\n\treturn sprite\n}\n\n// function for drawing rounded rectangles\nfunction roundRect(ctx, x, y, w, h, r) {\n    ctx.beginPath()\n    ctx.moveTo(x+r, y)\n    ctx.lineTo(x+w-r, y)\n    ctx.quadraticCurveTo(x+w, y, x+w, y+r)\n    ctx.lineTo(x+w, y+h-r)\n    ctx.quadraticCurveTo(x+w, y+h, x+w-r, y+h)\n    ctx.lineTo(x+r, y+h)\n    ctx.quadraticCurveTo(x, y+h, x, y+h-r)\n    ctx.lineTo(x, y+r)\n    ctx.quadraticCurveTo(x, y, x+r, y)\n    ctx.closePath()\n    ctx.fill()\n\tctx.stroke()   \n}\n\nfunction updateAnnotationOpacity(camera, meshPosition, annotationPosition) {\n    const meshDistance = camera.position.distanceTo(meshPosition)\n    const annotationDistance = camera.position.distanceTo(annotationPosition)\n    let annotationBehindObject = annotationDistance > meshDistance\n    //annotation.material.opacity = annotationBehindObject ? 0.5 : 1\n\n    // Do you want an infospot that changes size according to its position?\n    // Comment out the following line and the `::before` pseudo-element.\n    //annotation.material.opacity = 1\n}\n\nfunction updateAnnotationPosition(camera, width, height, positionX, positionY, positionZ, annotation) {\n    let vector = new THREE.Vector3(positionX, positionY, positionZ)\n\t//let annotation = $(\".annotation\")[0]\n\n    vector.project(camera)\n\n    vector.x = Math.round((0.5 + vector.x / 2) * (width / window.devicePixelRatio))\n    vector.y = Math.round((0.5 - vector.y / 2) * (height / window.devicePixelRatio))\n\n    annotation.style.top = `${vector.y}px`\n    annotation.style.left = `${vector.x}px`\n    //annotation.style.opacity = annotationBehindObject ? 0.25 : 1\n\tannotation.style.opacity = 1\n\tannotation.style.display = \"block\"\n\t// console.log(\"------------------\")\n\t// console.log(\"annotation--------\")\n\t// console.log(annotation)\n\t// console.log(\"------------------\")\t\n}\n\n/**\n * POINTER HOVERS + CLICKS ********************************************************************\n */\n\n// when the pointer moves and hovers\nfunction watchPointer(camera, targetList){\n\t\n\t// update the picking ray with the camera and pointer position\n\traycaster.setFromCamera(pointer, camera)\n\t//raycaster.set( camera.getWorldPosition(), camera.getWorldDirection() )\n\n\t//let helper2 = new THREE.CameraHelper(directionalLight.shadow.camera)\n\n\t// calculate objects intersecting the picking ray\n\tconst intersects = raycaster.intersectObjects(targetList)\n\n\t// if there is one (or more) intersections\n\tif ( intersects.length > 0 ) {\n\n\t\t/* do something to object intersected? (testing purposes only)\n\t\tfor (let i = 0; i < intersects.length; i++) {\n\t\t\t// hightlight object\n\t\t\tfor (let j = 0 j < intersects[i].object.material.length j++) {\n\t\t\t\tintersects[i].object.material[j].color.setHex( 0xff0000 )\n\t\t\t}\n\t\t} */\n\n\t\t// if the closest object intersected is not the currently stored intersection object\n\t\tif ( intersects[0].object != params.intersectedObject1 ) {\n\n\t\t\t// restore previous intersection object (if it exists) to its original color\n\t\t\tif ( params.intersectedObject1 ) {\n\t\t\t\tif ( params.intersectedObject1.material.constructor.name == \"Array\" ) {\n\t\t\t\t\tfor (let i = 0; i < params.intersectedObject1.material.length; i++) {\n\t\t\t\t\t\tparams.intersectedObject1.material[i].color.setHex( params.intersectedObject1.currentHex )\n\t\t\t\t\t}\n\t\t\t\t} \n\t\t\t\telse {\n\t\t\t\t\tparams.intersectedObject1.material.color.setHex( params.intersectedObject1.currentHex )\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// store reference to closest object as current intersection object\n\t\t\tparams.intersectedObject1 = intersects[0].object\n\n\t\t\t// console.log(\"-------------------------\")\n\t\t\t// console.log(\"params.intersectedObject1-------------\")\n\t\t\t// console.log(params.intersectedObject1)\n\t\t\t// console.log(\"-------------------------\")\n\n\t\t\tif ( params.intersectedObject1.material.constructor.name == \"Array\" ) {\n\t\t\t\t// SEPARATE FOR LOOPS !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!\n\t\t\t\t// store color of closest object (for later restoration)\n\t\t\t\tfor (let i = 0; i < params.intersectedObject1.material.length; i++) {\n\t\t\t\t\tparams.intersectedObject1.currentHex = params.intersectedObject1.material[i].color.getHex()\n\t\t\t\t}\n\t\t\t\t// set a new color for closest object\n\t\t\t\tfor (let i = 0; i < params.intersectedObject1.material.length; i++) {\n\t\t\t\t\tparams.intersectedObject1.material[i].color.setHex( 0xdddd00 )\n\t\t\t\t}\n\t\t\t\t// SEPARATE FOR LOOPS !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!\n\t\t\t} \n\t\t\telse {\n\t\t\t\t// store color of closest object (for later restoration)\n\t\t\t\tparams.intersectedObject1.currentHex = params.intersectedObject1.material.color.getHex()\n\t\t\t\t// set a new color for closest object\n\t\t\t\tparams.intersectedObject1.material.color.setHex( 0xdddd00 )\n\t\t\t}\n\t\t\t\n\t\t}\n\t} \n\t// there are no intersections\n\telse {\n\t\t// restore previous intersection object (if it exists) to its original color\n\t\tif ( params.intersectedObject1 ) {\n\t\t\tif ( params.intersectedObject1.material.constructor.name == \"Array\" ) {\n\t\t\t\tfor (let i = 0; i < params.intersectedObject1.material.length; i++) {\n\t\t\t\t\tparams.intersectedObject1.material[i].color.setHex( params.intersectedObject1.currentHex )\n\t\t\t\t}\n\t\t\t} \n\t\t\telse {\n\t\t\t\tparams.intersectedObject1.material.color.setHex( params.intersectedObject1.currentHex )\n\t\t\t}\n\t\t}\n\t\t// remove previous intersection object reference\n\t\t// by setting current intersection object to \"nothing\"\n\t\tparams.intersectedObject1 = null\n\t}\n}\n\n\n// when the pointer moves, call the given function\n//document.addEventListener( \"pointermove\", onPointerMove, false )\nfunction onPointerMove( event ) {\n\n\t// the following line would stop any other event handler from firing\n\t// (such as the pointer's TrackballControls)\n\t// event.preventDefault()\n\t\n\t// update the pointer variable\n\t// pointer.x = ( event.clientX / window.innerWidth ) * 2 - 1\n\t// pointer.y = - ( event.clientY / window.innerHeight ) * 2 + 1\n\t// pointer.x = (event.offsetX / canvas.clientWidth) * 2 - 1\n\t// pointer.y = -(event.offsetY / canvas.clientHeight) * 2 + 1\n\tpointer.x = (event.offsetX / (window.innerWidth - 240)) * 2 - 1\n\tpointer.y = -(event.offsetY / (window.innerHeight - 100)) * 2 + 1\n\t// console.log(\"------------------\")\n\t// console.log(\"pointer hover-------\")\n\t// console.log(pointer.x, pointer.y)\n\t// console.log(\"------------------\")\n}\n\n// when the pointer moves, call the given function\n//document.addEventListener( \"pointerdown\", onPointerDown, false )\nfunction onPointerDown(event) {\n\t\n\t// console.log(\"------------------\")\n\t// console.log(\"event------------\")\n\t// console.log(event)\n\t// console.log(\"------------------\")\n\n\t// the following line would stop any other event handler from firing\n\t// (such as the pointer's TrackballControls)\n\t// event.preventDefault()\n\t\n\t// update the pointer variable\n\t// pointer.x = ( event.clientX / window.innerWidth ) * 2 - 1\n\t// pointer.y = - ( event.clientY / window.innerHeight ) * 2 + 1\n\t// pointer.x = (event.offsetX / canvas.clientWidth) * 2 - 1\n\t// pointer.y = -(event.offsetY / canvas.clientHeight) * 2 + 1\n\tpointer.x = (event.offsetX / (window.innerWidth - 240)) * 2 - 1\n\tpointer.y = -(event.offsetY / (window.innerHeight - 100)) * 2 + 1\n\t// console.log(\"------------------\")\n\t// console.log(\"pointer clicked-----\")\n\t// console.log(pointer.x, pointer.y)\n\t// console.log(\"------------------\")\n\n\n\t// find intersections\n\n\t// create a Ray with origin at the pointer position\n\t//   and direction into the scene (camera direction)\n\t// let vector = new THREE.Vector3( pointer.x, pointer.y, 1 )\n\t//projector.unprojectVector( vector, camera )\n\t// let raycaster2 = new THREE.Raycaster( \n\t// \tevent.target.camera.position, \n\t// \tvector.sub( event.target.camera.position ).normalize() \n\t// )\n\tlet raycaster2 = new THREE.Raycaster()\n\traycaster2.setFromCamera(pointer, event.target.camera)\n\t// raycaster2.set( \n\t// \tevent.target.camera.getWorldPosition(), \n\t// \tevent.target.camera.getWorldDirection() \n\t// )\n\t// console.log(\"------------------\")\n\t// console.log(\"raycaster2--------\")\n\t// console.log(raycaster2)\n\t// console.log(\"------------------\")\n\n\t// create an array containing all objects in the scene with which the raycaster2 intersects\n\tvar intersects = raycaster2.intersectObjects( event.target.targetList )\n\t// console.log(\"------------------\")\n\t// console.log(\"intersects--------\")\n\t// console.log(intersects)\n\t// console.log(\"------------------\")\n\t\n\t// if there is one (or more) intersections\n\tif ( intersects.length > 0 )\n\t{\n\t\t//console.log(\"Hit @ \" + toString( intersects[0].point ) )\n\t\t// change the color of the closest face.\n\t\t// intersects[0].face.color.setRGB( 0.8 * Math.random() + 0.2, 0, 0 ) \n\t\t// intersects[0].object.geometry.colorsNeedUpdate = true\n\n\t\t// if the closest object intersected is not the currently stored intersection object\n\t\tlet theIntersectedObject = intersects[0].object\n\t\t\n\t\t// for testing only\n\t\t// if ( theIntersectedObject != params.intersectedObject2 ) {\n\t\t// \tconsole.log(\"-----------------------------\")\n\t\t// \tconsole.log(\"params.intersectedObject2 null------------\")\n\t\t// \tconsole.log(\"theIntersectedObject NEW--------\")\n\t\t// \tconsole.log(theIntersectedObject)\n\t\t// \tconsole.log(\"-----------------------------\")\n\t\t// }\n\t\t// else {\n\t\t// \tconsole.log(\"-----------------------------\")\n\t\t// \tconsole.log(\"params.intersectedObject2 already stored--\")\n\t\t// \tconsole.log(\"theIntersectedObject -----------\")\n\t\t// \tconsole.log(theIntersectedObject)\n\t\t// \tconsole.log(\"-----------------------------\")\n\t\t// }\n\n\t\t// restore previous intersection object (if it exists) to its original color\n\t\tif ( params.intersectedObject2 ) {\n\t\t\t//params.intersectedObject2.material[i].color.setHex( params.intersectedObject2.currentHex )\n\t\t\t// zoom out\n\t\t\t//panCam(100, 200, 200, 800, event.target.camera, event.target.controls)\n\t\t} \n\t\telse {\n\t\t\t// zoom in\n\t\t\t//panCam(params.intersectedObject2.position.x, params.intersectedObject2.position.y, params.intersectedObject2.position.z, 800, event.target.camera, event.target.controls)\t\n\t\t}\n\t\t// store reference to closest object as current intersection object\n\t\tparams.intersectedObject2 = theIntersectedObject\n\t\t// store color of closest object (for later restoration)\n\t\t//params.intersectedObject2.currentHex = params.intersectedObject2.material.color.getHex()\n\t\t// set a new color for closest object\n\t\t//params.intersectedObject2.material.color.setHex( 0xff0000 )\n\t\t\n\t\t// point the camera controls to the intersected object?\n\t\t//event.target.controls.reset()\n\t\t//event.target.controls.target = new THREE.Vector3(params.intersectedObject2.position.x, params.intersectedObject2.position.y, params.intersectedObject2.position.z)\n\t\t//event.target.camera.position.set(100, 200, 200)\n\t\t// if (event.button == 2) {\n\t\t// \t// zoom in\n\t\t// \tpanCam(params.intersectedObject2.position.x, params.intersectedObject2.position.y, params.intersectedObject2.position.z, 1200, event.target.camera, event.target.controls)\n\t\t// } else if (event.button == 1) {\n\t\t// \t// zoom out\n\t\t// \tpanCam(100, 200, 200, 1200, event.target.camera, event.target.controls)\n\t\t// }\n\t\t// console.log(\"------------------\")\n\t\t// console.log(\"event.target.controls--------\")\n\t\t// console.log(event.target.controls)\n\t\t// console.log(\"------------------\")\n\n\t\t// show/hide infospheres\n\t\tif ( params.intersectedObject2.userData.type === \"structure\" && event.button == 0 ) {\n\n\t\t\tlet infospotObject = scene.getObjectByName( `INFOSPOT: ${params.intersectedObject2.name}` ) // , true for recursive\n\t\t\tif ( infospotObject ) {\n\t\t\t\tif (infospotObject.visible === true) {\n\t\t\t\t\tinfospotObject.visible = false\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tinfospotObject.visible = true\n\t\t\t\t}\n\t\t\t}\n\t\t\t// console.log(\"------------------\")\n\t\t\t// console.log(\"infospotObject----\")\n\t\t\t// console.log(infospotObject)\n\t\t\t// console.log(\"------------------\")\n\t\t}\n\n\t\t// show/hide annotations\n\t\tparams.intersectedObject2.children.forEach( function(key) {\n\t\t\t// console.log(\"--------------------------------------\")\n\t\t\t// console.log(\"key (pre-process)------\")\n\t\t\t// console.log(`key.type: ${key.type}`)\n\t\t\t// console.log(`key.visible: ${key.visible}`)\n\t\t\t// console.log(`key.element.hidden: ${key.element.hidden}`)\n\t\t\t// console.log(key)\n\t\t\t// console.log(\"--------------------------------------\")\n\t\t\t// if ( key.type === \"Sprite\" && event.button == 1 ) {\n\t\t\t// \tif (key.visible === true) {\n\t\t\t// \t\tkey.visible = false\n\t\t\t// \t}\n\t\t\t// \telse {\n\t\t\t// \t\tkey.visible = true\n\t\t\t// \t}\n\t\t\t// }\n\t\t\tif ( key.type === \"Object3D\" && event.button == 0 ) {\n\t\t\t\tif (key.element.hidden === true) {\n\t\t\t\t//if (key.visible == false) {\n\t\t\t\t\t// console.log(\"-------------------------\")\n\t\t\t\t\t// console.log(\"TRUE------\")\n\t\t\t\t\t// console.log(key.element.hidden)\n\t\t\t\t\t// console.log(\"-------------------------\")\n\t\t\t\t\tkey.element.hidden = false\n\t\t\t\t\tkey.element.style.display = \"block\"\n\t\t\t\t\tkey.visible = true // does nothing, but keeps status accurate\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\t// console.log(\"-------------------------\")\n\t\t\t\t\t// console.log(\"FALSE------\")\n\t\t\t\t\t// console.log(key.element.hidden)\n\t\t\t\t\t// console.log(\"-------------------------\")\n\t\t\t\t\tkey.element.hidden = true\n\t\t\t\t\tkey.element.style.display = \"none\"\n\t\t\t\t\tkey.visible = false // does nothing, but keeps status accurate\n\t\t\t\t}\n\t\t\t\t// console.log(\"--------------------------------------\")\n\t\t\t\t// console.log(\"key (post-process)------\")\n\t\t\t\t// console.log(`key.type: ${key.type}`)\n\t\t\t\t// console.log(`key.visible: ${key.visible}`)\n\t\t\t\t// console.log(`key.element.hidden: ${key.element.hidden}`)\n\t\t\t\t// console.log(key)\n\t\t\t\t// console.log(\"--------------------------------------\")\n\t\t\t}\n\t\t})\n\n\t\t/* \n\t\tif ( params.intersectedObject2.userData.annotation ) {\n\t\t\tconsole.log(\"------------------\")\n\t\t\tconsole.log(\"ANNOTATION ------------\")\n\t\t\tconsole.log(params.intersectedObject2.userData.annotation)\n\t\t\tconsole.log(\"------------------\")\n\t\t}\n\t\telse {\n\t\t\tconsole.log(\"------------------\")\n\t\t\tconsole.log(\"ANNOTATION? ------------\")\n\t\t\tconsole.log(params.intersectedObject2.userData)\n\t\t\tconsole.log(\"------------------\")\n\t\t}\n\t\t*/\n\n\t} \n\telse // there are no intersections\n\t{\n\t\t// restore previous intersection object (if it exists) to its original color\n\t\tif ( params.intersectedObject2 ) {\n\t\t\t//params.intersectedObject2.material.color.setHex( params.intersectedObject2.currentHex )\n\t\t}\n\t\t// remove previous intersection object reference\n\t\t//     by setting current intersection object to \"nothing\"\n\t\tparams.intersectedObject2 = null\n\t}\n\n}\nfunction toString(v) { return \"[ \" + v.x + \", \" + v.y + \", \" + v.z + \" ]\" }\n\n\n\nfunction dismiss(el) {\n\tel.parentNode.hidden = true\n\tel.parentNode.style.display = \"none\"\n}\n\nfunction stringToBoolean(string) {\n    switch(string.toString().toLowerCase().trim()){\n        case \"true\": case \"yes\": case \"1\": return true\n        case \"false\": case \"no\": case \"0\": case null: return false\n        default: return Boolean(string)\n    }\n}\n\n\nfunction dragElement(elmnt) {\n\n\t// console.log(\"-------------------------\")\n\t// console.log(\"elmnt--------------\")\n\t// console.log(elmnt)\n\t// console.log(\"-------------------------\")\n\n\tvar pos1 = 0, pos2 = 0, pos3 = 0, pos4 = 0\n\t\n\tif (document.getElementById(elmnt.id + \"header\")) {\n\t\t// if present, the header is where you move the DIV from:\n\t\tdocument.getElementById(elmnt.id + \"header\").onmousedown = dragMouseDown\n\t} else {\n\t\t// otherwise, move the DIV from anywhere inside the DIV:\n\t\telmnt.onmousedown = dragMouseDown\n\t}\n\n\tfunction dragMouseDown(e) {\n\t\te = e || window.event\n\t\te.preventDefault()\n\t\t// get the mouse cursor position at startup:\n\t\tpos3 = e.clientX\n\t\tpos4 = e.clientY\n\n\t\t// console.log(\"-------------------------\")\n\t\t// console.log(\"pos3, pos4---------------\")\n\t\t// console.log(pos3, pos4)\n\t\t// console.log(\"-------------------------\")\n\n\t\tdocument.onmouseup = closeDragElement\n\t\t// call a function whenever the cursor moves:\n\t\tdocument.onmousemove = elementDrag\n\t}\n\t\n\tfunction elementDrag(e) {\n\t\te = e || window.event\n\t\te.preventDefault()\n\t\t// calculate the new cursor position:\n\t\tpos1 = pos3 - e.clientX\n\t\tpos2 = pos4 - e.clientY\n\t\tpos3 = e.clientX\n\t\tpos4 = e.clientY\n\n\t\t// console.log(\"-------------------------\")\n\t\t// console.log(\"pos1, pos2, pos3, pos4---\")\n\t\t// console.log(pos1, pos2, pos3, pos4)\n\t\t// console.log(\"-------------------------\")\n\n\t\t// set the element's new position:\n\t\t// elmnt.style.top = (elmnt.offsetTop - pos2) + \"px\"\n\t\t// elmnt.style.left = (elmnt.offsetLeft - pos1) + \"px\"\n\t\telmnt.style.top = (pos4) + \"px\"\n\t\telmnt.style.left = (pos3) + \"px\"\n\t}\n\t\n\tfunction closeDragElement() {\n\t\t// stop moving when mouse button is released:\n\t\tdocument.onmouseup = null\n\t\tdocument.onmousemove = null\n\t}\n}\n\n\n/// throw manual abort of script\nfunction throwError() {\n\t// creates a new exception type:\n\tfunction FatalError(){ Error.apply(this, arguments); this.name = \"FatalError\" }\n\tFatalError.prototype = Object.create(Error.prototype)\n\n\t// and then, use this to trigger the error:\n\tthrow new FatalError(\"MANUAL ABORT\")\n}\n\n\n\n// check if an element exists in array using a comparer function\n// comparer : function(currentElement)\nArray.prototype.inArray = function(comparer) { \n    for(let i = 0; i < this.length; i++) { \n        if (comparer(this[i])) return true\n    }\n    return false\n} \n\n// adds an element to the array if it does not already exist using a comparer \n// function\nArray.prototype.pushIfNotExist = function(element, comparer) { \n    if (!this.inArray(comparer)) {\n        this.push(element)\n    }\n} \n\n\n\n/**\n * TESTING ***************************************************************************************\n */\n\n// controls.enabled = false\n// var xTarget=0\n// var yTarget=-0.7\n// var zTarget=-1.65\n// var tweenDuration=2000\n\nfunction panCam(xTarget, yTarget, zTarget, tweenDuration, camera, controls){\n\n\tvar camNewPosition= { x : xTarget, y : yTarget, z : zTarget}\n\tvar targetNewPos = {x : xTarget, y : yTarget, z : -1.65}\n\n\tvar camTween = new TWEEN.Tween(camera.position)\n\t\t.to(camNewPosition, tweenDuration)\n\t\t.easing(TWEEN.Easing.Quadratic.Out)\n\t\t.onComplete(function() {\n\t\t\tcamera.position.copy(camNewPosition)\n\t\t\tconsole.log(\"onComplete camera---------\")\n\t\t})\n\t\t.start()\n\tvar targetTween = new TWEEN.Tween(controls.target)\n\t\t.to(targetNewPos, tweenDuration)\n\t\t.easing(TWEEN.Easing.Quadratic.Out)\n\t\t.onComplete(function() {\n\t\t\tcontrols.target.copy(targetNewPos)\n\t\t\tconsole.log(\"onComplete controls---------\")\n\t\t})\n\t\t.start()\n\n\tconsole.log(\"------------------\")\n\tconsole.log(\"camTween, targetTween---------\")\n\tconsole.log(camTween)\n\tconsole.log(targetTween)\n\tconsole.log(\"------------------\")\n\t\n}\n\n/**\n * TESTING ***************************************************************************************\n */\n\n/**\n * Get the current category IDs and request their category objects.\n * @param  {object} postObject - The entire post object\n * @param  {bool}   isCat      - Is the query a category (true) or a tag (false)\n * @return {string} termLinks  - String of HTML for either list of categories or list of tags \n */\nfunction getTaxonomies( postObject, isCat ) {\n\n\tlet termLinks = []\n\tlet taxArray\n\tif ( isCat ) {\n\t\ttaxArray = postObject._embedded[\"wp:term\"][0]\n\t} \n\telse {\n\t\ttaxArray = postObject._embedded[\"wp:term\"][1]\n\t}\n\tfor ( let term of taxArray ) {\n\t\ttermLinks.push(`<a href=\"${term.link}\" rel=\"${isCat ? 'category' : ''} tag\">${term.name}</a>`)\n\t}\n\n\ttermLinks = isCat ? termLinks.join(\"\") : termLinks.join(\", \")\n\n\treturn termLinks\n\n}\n\n/**\n * Get the featured image if it exists. \n * @param  {object} postObject - The entire post object\n */\nfunction getFeaturedImage( postObject ) {\n\tlet featImage = {}\n\t// If there is no featured image, exit the function returning blank.\n\tif ( 0 === postObject.featured_media ) {\n\t\treturn featImage\n\t} \n\telse {\n\t\tfeatImage.featuredObject = postObject._embedded[\"wp:featuredmedia\"][0]\n\t\tfeatImage.imgUrl = featImage.featuredObject.source_url\n\t\tfeatImage.imgMediumUrl = \"\"\n\t\tfeatImage.imgLargeUrl = \"\"\n\t\tfeatImage.imgWidth = featImage.featuredObject.media_details.width\n\t\tfeatImage.imgHeight = featImage.featuredObject.media_details.height\n\t\tif (featImage.featuredObject.media_details.sizes.hasOwnProperty(\"large\")) {\n\t\t\tfeatImage.imgWidth = featImage.featuredObject.media_details.sizes.full.width\n\t\t\tfeatImage.imgHeight = featImage.featuredObject.media_details.sizes.full.height\n\t\t\tfeatImage.imgLargeUrl = featImage.featuredObject.media_details.sizes.large.source_url +  \" 1024w, \"\n\t\t}\n\t\t// console.log(\"-------------------------\")\n\t\t// console.log(\"featImage----------------\")\n\t\t// console.log(featImage)\n\t\t// console.log(\"-------------------------\")\n\t}\n\n\treturn featImage\n}\n\n/**\n * Builds out the HTML of the new post.\n * @param {object} postObject - modified post object with available term lists added\n */\nfunction buildNewPost( postObject ) {\n\t// Only output tag markup if there are actual tags for the post.\n\tlet conditionalTags = ( postObject ) => {\n\t\tlet tagMarkup = \"\"\n\t\tif (postObject.tagLinks !== \"\") {\n\t\t\ttagMarkup = `\n\t\t\t\t<pre>${getTaxonomies( postObject, false )}</pre>\n\t\t\t`\n\t\t}\n\t\treturn tagMarkup\n\t}\n\n\tlet output = `\n\t\t<pre>${getTaxonomies( postObject, true )}</pre>\n\t\t<pre>${getFeaturedImage( postObject )}</pre>\n\t\t<pre>${conditionalTags( postObject )}</pre>\n\t`\n\n\t// Remove \"load previous\" container.\n\t//document.querySelector(\".load-previous\").remove()\n\n\t// Create a article with appropriate classes to populate.\n  \tlet postElement = document.createElement(\"article\")\n\tpostElement.className = \"post type-post format-standard hentry\"\n\tpostElement.innerHTML = output\n\t\n\t// Append new article with all content to the bottom of the main element.\n\tdocument.querySelector(\"#webgl\").append(postElement)\n\n\t//getPreviousPost()\n}\n\n\n\n// example localStorage saving/reading\n//if (localStorage && ! debug){\n\t//const levelIndex = Number(localStorage.getItem('levelIndex'))\n\t//if (levelIndex!=undefined) this.levelIndex = levelIndex\n//}\n\n\n\n/** \n * END FILE\n * ************************************************************************************** \n */\n\nexport default {\n\tname: \"ThreeDGarden\",\n\tprops: {\n\t\tmsg: String,\n\t\tsubtitle: String,\n\t}\n}\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\nh3 {\n\tmargin: 40px 0 0;\n}\nul {\n\tlist-style-type: none;\n\tpadding: 0;\n}\nli {\n\tdisplay: inline-block;\n\tmargin: 0 10px;\n}\na {\n\tcolor: #96bc33;\n}\n.threedgarden {\n\tmargin-bottom: 40px;\n}\n</style>\n","export default function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}","import arrayLikeToArray from \"./arrayLikeToArray\";\nexport default function _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}","import arrayLikeToArray from \"./arrayLikeToArray\";\nexport default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}","export default function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import arrayWithoutHoles from \"./arrayWithoutHoles\";\nimport iterableToArray from \"./iterableToArray\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray\";\nimport nonIterableSpread from \"./nonIterableSpread\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}","import { render } from \"./ThreeDGarden.vue?vue&type=template&id=4aafcbd8&scoped=true\"\nimport script from \"./ThreeDGarden.vue?vue&type=script&lang=js\"\nexport * from \"./ThreeDGarden.vue?vue&type=script&lang=js\"\n\nimport \"./ThreeDGarden.vue?vue&type=style&index=0&id=4aafcbd8&scoped=true&lang=css\"\n\nimport exportComponent from \"C:\\\\Users\\\\mcgee\\\\Local Sites\\\\gardenuniversity\\\\app\\\\public\\\\wp-content\\\\plugins\\\\threed-garden\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-4aafcbd8\"]])\n\nexport default __exports__","'use strict';\nvar toObject = require('../internals/to-object');\nvar toAbsoluteIndex = require('../internals/to-absolute-index');\nvar toLength = require('../internals/to-length');\n\n// `Array.prototype.fill` method implementation\n// https://tc39.github.io/ecma262/#sec-array.prototype.fill\nmodule.exports = function fill(value /* , start = 0, end = @length */) {\n  var O = toObject(this);\n  var length = toLength(O.length);\n  var argumentsLength = arguments.length;\n  var index = toAbsoluteIndex(argumentsLength > 1 ? arguments[1] : undefined, length);\n  var end = argumentsLength > 2 ? arguments[2] : undefined;\n  var endPos = end === undefined ? length : toAbsoluteIndex(end, length);\n  while (endPos > index) O[index++] = value;\n  return O;\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar aFunction = require('../internals/a-function');\nvar newPromiseCapabilityModule = require('../internals/new-promise-capability');\nvar perform = require('../internals/perform');\nvar iterate = require('../internals/iterate');\n\n// `Promise.allSettled` method\n// https://github.com/tc39/proposal-promise-allSettled\n$({ target: 'Promise', stat: true }, {\n  allSettled: function allSettled(iterable) {\n    var C = this;\n    var capability = newPromiseCapabilityModule.f(C);\n    var resolve = capability.resolve;\n    var reject = capability.reject;\n    var result = perform(function () {\n      var promiseResolve = aFunction(C.resolve);\n      var values = [];\n      var counter = 0;\n      var remaining = 1;\n      iterate(iterable, function (promise) {\n        var index = counter++;\n        var alreadyCalled = false;\n        values.push(undefined);\n        remaining++;\n        promiseResolve.call(C, promise).then(function (value) {\n          if (alreadyCalled) return;\n          alreadyCalled = true;\n          values[index] = { status: 'fulfilled', value: value };\n          --remaining || resolve(values);\n        }, function (e) {\n          if (alreadyCalled) return;\n          alreadyCalled = true;\n          values[index] = { status: 'rejected', reason: e };\n          --remaining || resolve(values);\n        });\n      });\n      --remaining || resolve(values);\n    });\n    if (result.error) reject(result.value);\n    return capability.promise;\n  }\n});\n","'use strict'\r\n\r\nvar Transform = require('readable-stream').Transform\r\nvar duplexify = require('duplexify')\r\n\r\n/* global wx */\r\nvar socketTask\r\nvar proxy\r\nvar stream\r\n\r\nfunction buildProxy () {\r\n  var proxy = new Transform()\r\n  proxy._write = function (chunk, encoding, next) {\r\n    socketTask.send({\r\n      data: chunk.buffer,\r\n      success: function () {\r\n        next()\r\n      },\r\n      fail: function (errMsg) {\r\n        next(new Error(errMsg))\r\n      }\r\n    })\r\n  }\r\n  proxy._flush = function socketEnd (done) {\r\n    socketTask.close({\r\n      success: function () {\r\n        done()\r\n      }\r\n    })\r\n  }\r\n\r\n  return proxy\r\n}\r\n\r\nfunction setDefaultOpts (opts) {\r\n  if (!opts.hostname) {\r\n    opts.hostname = 'localhost'\r\n  }\r\n  if (!opts.path) {\r\n    opts.path = '/'\r\n  }\r\n\r\n  if (!opts.wsOptions) {\r\n    opts.wsOptions = {}\r\n  }\r\n}\r\n\r\nfunction buildUrl (opts, client) {\r\n  var protocol = opts.protocol === 'wxs' ? 'wss' : 'ws'\r\n  var url = protocol + '://' + opts.hostname + opts.path\r\n  if (opts.port && opts.port !== 80 && opts.port !== 443) {\r\n    url = protocol + '://' + opts.hostname + ':' + opts.port + opts.path\r\n  }\r\n  if (typeof (opts.transformWsUrl) === 'function') {\r\n    url = opts.transformWsUrl(url, opts, client)\r\n  }\r\n  return url\r\n}\r\n\r\nfunction bindEventHandler () {\r\n  socketTask.onOpen(function () {\r\n    stream.setReadable(proxy)\r\n    stream.setWritable(proxy)\r\n    stream.emit('connect')\r\n  })\r\n\r\n  socketTask.onMessage(function (res) {\r\n    var data = res.data\r\n\r\n    if (data instanceof ArrayBuffer) data = Buffer.from(data)\r\n    else data = Buffer.from(data, 'utf8')\r\n    proxy.push(data)\r\n  })\r\n\r\n  socketTask.onClose(function () {\r\n    stream.end()\r\n    stream.destroy()\r\n  })\r\n\r\n  socketTask.onError(function (res) {\r\n    stream.destroy(new Error(res.errMsg))\r\n  })\r\n}\r\n\r\nfunction buildStream (client, opts) {\r\n  opts.hostname = opts.hostname || opts.host\r\n\r\n  if (!opts.hostname) {\r\n    throw new Error('Could not determine host. Specify host manually.')\r\n  }\r\n\r\n  var websocketSubProtocol =\r\n    (opts.protocolId === 'MQIsdp') && (opts.protocolVersion === 3)\r\n      ? 'mqttv3.1'\r\n      : 'mqtt'\r\n\r\n  setDefaultOpts(opts)\r\n\r\n  var url = buildUrl(opts, client)\r\n  socketTask = wx.connectSocket({\r\n    url: url,\r\n    protocols: [websocketSubProtocol]\r\n  })\r\n\r\n  proxy = buildProxy()\r\n  stream = duplexify.obj()\r\n  stream._destroy = function (err, cb) {\r\n    socketTask.close({\r\n      success: function () {\r\n        cb && cb(err)\r\n      }\r\n    })\r\n  }\r\n\r\n  var destroyRef = stream.destroy\r\n  stream.destroy = function () {\r\n    stream.destroy = destroyRef\r\n\r\n    var self = this\r\n    setTimeout(function () {\r\n      socketTask.close({\r\n        fail: function () {\r\n          self._destroy(new Error())\r\n        }\r\n      })\r\n    }, 0)\r\n  }.bind(stream)\r\n\r\n  bindEventHandler()\r\n\r\n  return stream\r\n}\r\n\r\nmodule.exports = buildStream\r\n","'use strict';\nvar toPrimitive = require('../internals/to-primitive');\nvar definePropertyModule = require('../internals/object-define-property');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\n\nmodule.exports = function (object, key, value) {\n  var propertyKey = toPrimitive(key);\n  if (propertyKey in object) definePropertyModule.f(object, propertyKey, createPropertyDescriptor(0, value));\n  else object[propertyKey] = value;\n};\n","var requireObjectCoercible = require('../internals/require-object-coercible');\n\nvar quot = /\"/g;\n\n// B.2.3.2.1 CreateHTML(string, tag, attribute, value)\n// https://tc39.github.io/ecma262/#sec-createhtml\nmodule.exports = function (string, tag, attribute, value) {\n  var S = String(requireObjectCoercible(string));\n  var p1 = '<' + tag;\n  if (attribute !== '') p1 += ' ' + attribute + '=\"' + String(value).replace(quot, '&quot;') + '\"';\n  return p1 + '>' + S + '</' + tag + '>';\n};\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n'use strict';\n\nmodule.exports = Readable;\n/*<replacement>*/\n\nvar Duplex;\n/*</replacement>*/\n\nReadable.ReadableState = ReadableState;\n/*<replacement>*/\n\nvar EE = require('events').EventEmitter;\n\nvar EElistenerCount = function EElistenerCount(emitter, type) {\n  return emitter.listeners(type).length;\n};\n/*</replacement>*/\n\n/*<replacement>*/\n\n\nvar Stream = require('./internal/streams/stream');\n/*</replacement>*/\n\n\nvar Buffer = require('buffer').Buffer;\n\nvar OurUint8Array = global.Uint8Array || function () {};\n\nfunction _uint8ArrayToBuffer(chunk) {\n  return Buffer.from(chunk);\n}\n\nfunction _isUint8Array(obj) {\n  return Buffer.isBuffer(obj) || obj instanceof OurUint8Array;\n}\n/*<replacement>*/\n\n\nvar debugUtil = require('util');\n\nvar debug;\n\nif (debugUtil && debugUtil.debuglog) {\n  debug = debugUtil.debuglog('stream');\n} else {\n  debug = function debug() {};\n}\n/*</replacement>*/\n\n\nvar BufferList = require('./internal/streams/buffer_list');\n\nvar destroyImpl = require('./internal/streams/destroy');\n\nvar _require = require('./internal/streams/state'),\n    getHighWaterMark = _require.getHighWaterMark;\n\nvar _require$codes = require('../errors').codes,\n    ERR_INVALID_ARG_TYPE = _require$codes.ERR_INVALID_ARG_TYPE,\n    ERR_STREAM_PUSH_AFTER_EOF = _require$codes.ERR_STREAM_PUSH_AFTER_EOF,\n    ERR_METHOD_NOT_IMPLEMENTED = _require$codes.ERR_METHOD_NOT_IMPLEMENTED,\n    ERR_STREAM_UNSHIFT_AFTER_END_EVENT = _require$codes.ERR_STREAM_UNSHIFT_AFTER_END_EVENT; // Lazy loaded to improve the startup performance.\n\n\nvar StringDecoder;\nvar createReadableStreamAsyncIterator;\nvar from;\n\nrequire('inherits')(Readable, Stream);\n\nvar errorOrDestroy = destroyImpl.errorOrDestroy;\nvar kProxyEvents = ['error', 'close', 'destroy', 'pause', 'resume'];\n\nfunction prependListener(emitter, event, fn) {\n  // Sadly this is not cacheable as some libraries bundle their own\n  // event emitter implementation with them.\n  if (typeof emitter.prependListener === 'function') return emitter.prependListener(event, fn); // This is a hack to make sure that our error handler is attached before any\n  // userland ones.  NEVER DO THIS. This is here only because this code needs\n  // to continue to work with older versions of Node.js that do not include\n  // the prependListener() method. The goal is to eventually remove this hack.\n\n  if (!emitter._events || !emitter._events[event]) emitter.on(event, fn);else if (Array.isArray(emitter._events[event])) emitter._events[event].unshift(fn);else emitter._events[event] = [fn, emitter._events[event]];\n}\n\nfunction ReadableState(options, stream, isDuplex) {\n  Duplex = Duplex || require('./_stream_duplex');\n  options = options || {}; // Duplex streams are both readable and writable, but share\n  // the same options object.\n  // However, some cases require setting options to different\n  // values for the readable and the writable sides of the duplex stream.\n  // These options can be provided separately as readableXXX and writableXXX.\n\n  if (typeof isDuplex !== 'boolean') isDuplex = stream instanceof Duplex; // object stream flag. Used to make read(n) ignore n and to\n  // make all the buffer merging and length checks go away\n\n  this.objectMode = !!options.objectMode;\n  if (isDuplex) this.objectMode = this.objectMode || !!options.readableObjectMode; // the point at which it stops calling _read() to fill the buffer\n  // Note: 0 is a valid value, means \"don't call _read preemptively ever\"\n\n  this.highWaterMark = getHighWaterMark(this, options, 'readableHighWaterMark', isDuplex); // A linked list is used to store data chunks instead of an array because the\n  // linked list can remove elements from the beginning faster than\n  // array.shift()\n\n  this.buffer = new BufferList();\n  this.length = 0;\n  this.pipes = null;\n  this.pipesCount = 0;\n  this.flowing = null;\n  this.ended = false;\n  this.endEmitted = false;\n  this.reading = false; // a flag to be able to tell if the event 'readable'/'data' is emitted\n  // immediately, or on a later tick.  We set this to true at first, because\n  // any actions that shouldn't happen until \"later\" should generally also\n  // not happen before the first read call.\n\n  this.sync = true; // whenever we return null, then we set a flag to say\n  // that we're awaiting a 'readable' event emission.\n\n  this.needReadable = false;\n  this.emittedReadable = false;\n  this.readableListening = false;\n  this.resumeScheduled = false;\n  this.paused = true; // Should close be emitted on destroy. Defaults to true.\n\n  this.emitClose = options.emitClose !== false; // Should .destroy() be called after 'end' (and potentially 'finish')\n\n  this.autoDestroy = !!options.autoDestroy; // has it been destroyed\n\n  this.destroyed = false; // Crypto is kind of old and crusty.  Historically, its default string\n  // encoding is 'binary' so we have to make this configurable.\n  // Everything else in the universe uses 'utf8', though.\n\n  this.defaultEncoding = options.defaultEncoding || 'utf8'; // the number of writers that are awaiting a drain event in .pipe()s\n\n  this.awaitDrain = 0; // if true, a maybeReadMore has been scheduled\n\n  this.readingMore = false;\n  this.decoder = null;\n  this.encoding = null;\n\n  if (options.encoding) {\n    if (!StringDecoder) StringDecoder = require('string_decoder/').StringDecoder;\n    this.decoder = new StringDecoder(options.encoding);\n    this.encoding = options.encoding;\n  }\n}\n\nfunction Readable(options) {\n  Duplex = Duplex || require('./_stream_duplex');\n  if (!(this instanceof Readable)) return new Readable(options); // Checking for a Stream.Duplex instance is faster here instead of inside\n  // the ReadableState constructor, at least with V8 6.5\n\n  var isDuplex = this instanceof Duplex;\n  this._readableState = new ReadableState(options, this, isDuplex); // legacy\n\n  this.readable = true;\n\n  if (options) {\n    if (typeof options.read === 'function') this._read = options.read;\n    if (typeof options.destroy === 'function') this._destroy = options.destroy;\n  }\n\n  Stream.call(this);\n}\n\nObject.defineProperty(Readable.prototype, 'destroyed', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function get() {\n    if (this._readableState === undefined) {\n      return false;\n    }\n\n    return this._readableState.destroyed;\n  },\n  set: function set(value) {\n    // we ignore the value if the stream\n    // has not been initialized yet\n    if (!this._readableState) {\n      return;\n    } // backward compatibility, the user is explicitly\n    // managing destroyed\n\n\n    this._readableState.destroyed = value;\n  }\n});\nReadable.prototype.destroy = destroyImpl.destroy;\nReadable.prototype._undestroy = destroyImpl.undestroy;\n\nReadable.prototype._destroy = function (err, cb) {\n  cb(err);\n}; // Manually shove something into the read() buffer.\n// This returns true if the highWaterMark has not been hit yet,\n// similar to how Writable.write() returns true if you should\n// write() some more.\n\n\nReadable.prototype.push = function (chunk, encoding) {\n  var state = this._readableState;\n  var skipChunkCheck;\n\n  if (!state.objectMode) {\n    if (typeof chunk === 'string') {\n      encoding = encoding || state.defaultEncoding;\n\n      if (encoding !== state.encoding) {\n        chunk = Buffer.from(chunk, encoding);\n        encoding = '';\n      }\n\n      skipChunkCheck = true;\n    }\n  } else {\n    skipChunkCheck = true;\n  }\n\n  return readableAddChunk(this, chunk, encoding, false, skipChunkCheck);\n}; // Unshift should *always* be something directly out of read()\n\n\nReadable.prototype.unshift = function (chunk) {\n  return readableAddChunk(this, chunk, null, true, false);\n};\n\nfunction readableAddChunk(stream, chunk, encoding, addToFront, skipChunkCheck) {\n  debug('readableAddChunk', chunk);\n  var state = stream._readableState;\n\n  if (chunk === null) {\n    state.reading = false;\n    onEofChunk(stream, state);\n  } else {\n    var er;\n    if (!skipChunkCheck) er = chunkInvalid(state, chunk);\n\n    if (er) {\n      errorOrDestroy(stream, er);\n    } else if (state.objectMode || chunk && chunk.length > 0) {\n      if (typeof chunk !== 'string' && !state.objectMode && Object.getPrototypeOf(chunk) !== Buffer.prototype) {\n        chunk = _uint8ArrayToBuffer(chunk);\n      }\n\n      if (addToFront) {\n        if (state.endEmitted) errorOrDestroy(stream, new ERR_STREAM_UNSHIFT_AFTER_END_EVENT());else addChunk(stream, state, chunk, true);\n      } else if (state.ended) {\n        errorOrDestroy(stream, new ERR_STREAM_PUSH_AFTER_EOF());\n      } else if (state.destroyed) {\n        return false;\n      } else {\n        state.reading = false;\n\n        if (state.decoder && !encoding) {\n          chunk = state.decoder.write(chunk);\n          if (state.objectMode || chunk.length !== 0) addChunk(stream, state, chunk, false);else maybeReadMore(stream, state);\n        } else {\n          addChunk(stream, state, chunk, false);\n        }\n      }\n    } else if (!addToFront) {\n      state.reading = false;\n      maybeReadMore(stream, state);\n    }\n  } // We can push more data if we are below the highWaterMark.\n  // Also, if we have no data yet, we can stand some more bytes.\n  // This is to work around cases where hwm=0, such as the repl.\n\n\n  return !state.ended && (state.length < state.highWaterMark || state.length === 0);\n}\n\nfunction addChunk(stream, state, chunk, addToFront) {\n  if (state.flowing && state.length === 0 && !state.sync) {\n    state.awaitDrain = 0;\n    stream.emit('data', chunk);\n  } else {\n    // update the buffer info.\n    state.length += state.objectMode ? 1 : chunk.length;\n    if (addToFront) state.buffer.unshift(chunk);else state.buffer.push(chunk);\n    if (state.needReadable) emitReadable(stream);\n  }\n\n  maybeReadMore(stream, state);\n}\n\nfunction chunkInvalid(state, chunk) {\n  var er;\n\n  if (!_isUint8Array(chunk) && typeof chunk !== 'string' && chunk !== undefined && !state.objectMode) {\n    er = new ERR_INVALID_ARG_TYPE('chunk', ['string', 'Buffer', 'Uint8Array'], chunk);\n  }\n\n  return er;\n}\n\nReadable.prototype.isPaused = function () {\n  return this._readableState.flowing === false;\n}; // backwards compatibility.\n\n\nReadable.prototype.setEncoding = function (enc) {\n  if (!StringDecoder) StringDecoder = require('string_decoder/').StringDecoder;\n  var decoder = new StringDecoder(enc);\n  this._readableState.decoder = decoder; // If setEncoding(null), decoder.encoding equals utf8\n\n  this._readableState.encoding = this._readableState.decoder.encoding; // Iterate over current buffer to convert already stored Buffers:\n\n  var p = this._readableState.buffer.head;\n  var content = '';\n\n  while (p !== null) {\n    content += decoder.write(p.data);\n    p = p.next;\n  }\n\n  this._readableState.buffer.clear();\n\n  if (content !== '') this._readableState.buffer.push(content);\n  this._readableState.length = content.length;\n  return this;\n}; // Don't raise the hwm > 1GB\n\n\nvar MAX_HWM = 0x40000000;\n\nfunction computeNewHighWaterMark(n) {\n  if (n >= MAX_HWM) {\n    // TODO(ronag): Throw ERR_VALUE_OUT_OF_RANGE.\n    n = MAX_HWM;\n  } else {\n    // Get the next highest power of 2 to prevent increasing hwm excessively in\n    // tiny amounts\n    n--;\n    n |= n >>> 1;\n    n |= n >>> 2;\n    n |= n >>> 4;\n    n |= n >>> 8;\n    n |= n >>> 16;\n    n++;\n  }\n\n  return n;\n} // This function is designed to be inlinable, so please take care when making\n// changes to the function body.\n\n\nfunction howMuchToRead(n, state) {\n  if (n <= 0 || state.length === 0 && state.ended) return 0;\n  if (state.objectMode) return 1;\n\n  if (n !== n) {\n    // Only flow one buffer at a time\n    if (state.flowing && state.length) return state.buffer.head.data.length;else return state.length;\n  } // If we're asking for more than the current hwm, then raise the hwm.\n\n\n  if (n > state.highWaterMark) state.highWaterMark = computeNewHighWaterMark(n);\n  if (n <= state.length) return n; // Don't have enough\n\n  if (!state.ended) {\n    state.needReadable = true;\n    return 0;\n  }\n\n  return state.length;\n} // you can override either this method, or the async _read(n) below.\n\n\nReadable.prototype.read = function (n) {\n  debug('read', n);\n  n = parseInt(n, 10);\n  var state = this._readableState;\n  var nOrig = n;\n  if (n !== 0) state.emittedReadable = false; // if we're doing read(0) to trigger a readable event, but we\n  // already have a bunch of data in the buffer, then just trigger\n  // the 'readable' event and move on.\n\n  if (n === 0 && state.needReadable && ((state.highWaterMark !== 0 ? state.length >= state.highWaterMark : state.length > 0) || state.ended)) {\n    debug('read: emitReadable', state.length, state.ended);\n    if (state.length === 0 && state.ended) endReadable(this);else emitReadable(this);\n    return null;\n  }\n\n  n = howMuchToRead(n, state); // if we've ended, and we're now clear, then finish it up.\n\n  if (n === 0 && state.ended) {\n    if (state.length === 0) endReadable(this);\n    return null;\n  } // All the actual chunk generation logic needs to be\n  // *below* the call to _read.  The reason is that in certain\n  // synthetic stream cases, such as passthrough streams, _read\n  // may be a completely synchronous operation which may change\n  // the state of the read buffer, providing enough data when\n  // before there was *not* enough.\n  //\n  // So, the steps are:\n  // 1. Figure out what the state of things will be after we do\n  // a read from the buffer.\n  //\n  // 2. If that resulting state will trigger a _read, then call _read.\n  // Note that this may be asynchronous, or synchronous.  Yes, it is\n  // deeply ugly to write APIs this way, but that still doesn't mean\n  // that the Readable class should behave improperly, as streams are\n  // designed to be sync/async agnostic.\n  // Take note if the _read call is sync or async (ie, if the read call\n  // has returned yet), so that we know whether or not it's safe to emit\n  // 'readable' etc.\n  //\n  // 3. Actually pull the requested chunks out of the buffer and return.\n  // if we need a readable event, then we need to do some reading.\n\n\n  var doRead = state.needReadable;\n  debug('need readable', doRead); // if we currently have less than the highWaterMark, then also read some\n\n  if (state.length === 0 || state.length - n < state.highWaterMark) {\n    doRead = true;\n    debug('length less than watermark', doRead);\n  } // however, if we've ended, then there's no point, and if we're already\n  // reading, then it's unnecessary.\n\n\n  if (state.ended || state.reading) {\n    doRead = false;\n    debug('reading or ended', doRead);\n  } else if (doRead) {\n    debug('do read');\n    state.reading = true;\n    state.sync = true; // if the length is currently zero, then we *need* a readable event.\n\n    if (state.length === 0) state.needReadable = true; // call internal read method\n\n    this._read(state.highWaterMark);\n\n    state.sync = false; // If _read pushed data synchronously, then `reading` will be false,\n    // and we need to re-evaluate how much data we can return to the user.\n\n    if (!state.reading) n = howMuchToRead(nOrig, state);\n  }\n\n  var ret;\n  if (n > 0) ret = fromList(n, state);else ret = null;\n\n  if (ret === null) {\n    state.needReadable = state.length <= state.highWaterMark;\n    n = 0;\n  } else {\n    state.length -= n;\n    state.awaitDrain = 0;\n  }\n\n  if (state.length === 0) {\n    // If we have nothing in the buffer, then we want to know\n    // as soon as we *do* get something into the buffer.\n    if (!state.ended) state.needReadable = true; // If we tried to read() past the EOF, then emit end on the next tick.\n\n    if (nOrig !== n && state.ended) endReadable(this);\n  }\n\n  if (ret !== null) this.emit('data', ret);\n  return ret;\n};\n\nfunction onEofChunk(stream, state) {\n  debug('onEofChunk');\n  if (state.ended) return;\n\n  if (state.decoder) {\n    var chunk = state.decoder.end();\n\n    if (chunk && chunk.length) {\n      state.buffer.push(chunk);\n      state.length += state.objectMode ? 1 : chunk.length;\n    }\n  }\n\n  state.ended = true;\n\n  if (state.sync) {\n    // if we are sync, wait until next tick to emit the data.\n    // Otherwise we risk emitting data in the flow()\n    // the readable code triggers during a read() call\n    emitReadable(stream);\n  } else {\n    // emit 'readable' now to make sure it gets picked up.\n    state.needReadable = false;\n\n    if (!state.emittedReadable) {\n      state.emittedReadable = true;\n      emitReadable_(stream);\n    }\n  }\n} // Don't emit readable right away in sync mode, because this can trigger\n// another read() call => stack overflow.  This way, it might trigger\n// a nextTick recursion warning, but that's not so bad.\n\n\nfunction emitReadable(stream) {\n  var state = stream._readableState;\n  debug('emitReadable', state.needReadable, state.emittedReadable);\n  state.needReadable = false;\n\n  if (!state.emittedReadable) {\n    debug('emitReadable', state.flowing);\n    state.emittedReadable = true;\n    process.nextTick(emitReadable_, stream);\n  }\n}\n\nfunction emitReadable_(stream) {\n  var state = stream._readableState;\n  debug('emitReadable_', state.destroyed, state.length, state.ended);\n\n  if (!state.destroyed && (state.length || state.ended)) {\n    stream.emit('readable');\n    state.emittedReadable = false;\n  } // The stream needs another readable event if\n  // 1. It is not flowing, as the flow mechanism will take\n  //    care of it.\n  // 2. It is not ended.\n  // 3. It is below the highWaterMark, so we can schedule\n  //    another readable later.\n\n\n  state.needReadable = !state.flowing && !state.ended && state.length <= state.highWaterMark;\n  flow(stream);\n} // at this point, the user has presumably seen the 'readable' event,\n// and called read() to consume some data.  that may have triggered\n// in turn another _read(n) call, in which case reading = true if\n// it's in progress.\n// However, if we're not ended, or reading, and the length < hwm,\n// then go ahead and try to read some more preemptively.\n\n\nfunction maybeReadMore(stream, state) {\n  if (!state.readingMore) {\n    state.readingMore = true;\n    process.nextTick(maybeReadMore_, stream, state);\n  }\n}\n\nfunction maybeReadMore_(stream, state) {\n  // Attempt to read more data if we should.\n  //\n  // The conditions for reading more data are (one of):\n  // - Not enough data buffered (state.length < state.highWaterMark). The loop\n  //   is responsible for filling the buffer with enough data if such data\n  //   is available. If highWaterMark is 0 and we are not in the flowing mode\n  //   we should _not_ attempt to buffer any extra data. We'll get more data\n  //   when the stream consumer calls read() instead.\n  // - No data in the buffer, and the stream is in flowing mode. In this mode\n  //   the loop below is responsible for ensuring read() is called. Failing to\n  //   call read here would abort the flow and there's no other mechanism for\n  //   continuing the flow if the stream consumer has just subscribed to the\n  //   'data' event.\n  //\n  // In addition to the above conditions to keep reading data, the following\n  // conditions prevent the data from being read:\n  // - The stream has ended (state.ended).\n  // - There is already a pending 'read' operation (state.reading). This is a\n  //   case where the the stream has called the implementation defined _read()\n  //   method, but they are processing the call asynchronously and have _not_\n  //   called push() with new data. In this case we skip performing more\n  //   read()s. The execution ends in this method again after the _read() ends\n  //   up calling push() with more data.\n  while (!state.reading && !state.ended && (state.length < state.highWaterMark || state.flowing && state.length === 0)) {\n    var len = state.length;\n    debug('maybeReadMore read 0');\n    stream.read(0);\n    if (len === state.length) // didn't get any data, stop spinning.\n      break;\n  }\n\n  state.readingMore = false;\n} // abstract method.  to be overridden in specific implementation classes.\n// call cb(er, data) where data is <= n in length.\n// for virtual (non-string, non-buffer) streams, \"length\" is somewhat\n// arbitrary, and perhaps not very meaningful.\n\n\nReadable.prototype._read = function (n) {\n  errorOrDestroy(this, new ERR_METHOD_NOT_IMPLEMENTED('_read()'));\n};\n\nReadable.prototype.pipe = function (dest, pipeOpts) {\n  var src = this;\n  var state = this._readableState;\n\n  switch (state.pipesCount) {\n    case 0:\n      state.pipes = dest;\n      break;\n\n    case 1:\n      state.pipes = [state.pipes, dest];\n      break;\n\n    default:\n      state.pipes.push(dest);\n      break;\n  }\n\n  state.pipesCount += 1;\n  debug('pipe count=%d opts=%j', state.pipesCount, pipeOpts);\n  var doEnd = (!pipeOpts || pipeOpts.end !== false) && dest !== process.stdout && dest !== process.stderr;\n  var endFn = doEnd ? onend : unpipe;\n  if (state.endEmitted) process.nextTick(endFn);else src.once('end', endFn);\n  dest.on('unpipe', onunpipe);\n\n  function onunpipe(readable, unpipeInfo) {\n    debug('onunpipe');\n\n    if (readable === src) {\n      if (unpipeInfo && unpipeInfo.hasUnpiped === false) {\n        unpipeInfo.hasUnpiped = true;\n        cleanup();\n      }\n    }\n  }\n\n  function onend() {\n    debug('onend');\n    dest.end();\n  } // when the dest drains, it reduces the awaitDrain counter\n  // on the source.  This would be more elegant with a .once()\n  // handler in flow(), but adding and removing repeatedly is\n  // too slow.\n\n\n  var ondrain = pipeOnDrain(src);\n  dest.on('drain', ondrain);\n  var cleanedUp = false;\n\n  function cleanup() {\n    debug('cleanup'); // cleanup event handlers once the pipe is broken\n\n    dest.removeListener('close', onclose);\n    dest.removeListener('finish', onfinish);\n    dest.removeListener('drain', ondrain);\n    dest.removeListener('error', onerror);\n    dest.removeListener('unpipe', onunpipe);\n    src.removeListener('end', onend);\n    src.removeListener('end', unpipe);\n    src.removeListener('data', ondata);\n    cleanedUp = true; // if the reader is waiting for a drain event from this\n    // specific writer, then it would cause it to never start\n    // flowing again.\n    // So, if this is awaiting a drain, then we just call it now.\n    // If we don't know, then assume that we are waiting for one.\n\n    if (state.awaitDrain && (!dest._writableState || dest._writableState.needDrain)) ondrain();\n  }\n\n  src.on('data', ondata);\n\n  function ondata(chunk) {\n    debug('ondata');\n    var ret = dest.write(chunk);\n    debug('dest.write', ret);\n\n    if (ret === false) {\n      // If the user unpiped during `dest.write()`, it is possible\n      // to get stuck in a permanently paused state if that write\n      // also returned false.\n      // => Check whether `dest` is still a piping destination.\n      if ((state.pipesCount === 1 && state.pipes === dest || state.pipesCount > 1 && indexOf(state.pipes, dest) !== -1) && !cleanedUp) {\n        debug('false write response, pause', state.awaitDrain);\n        state.awaitDrain++;\n      }\n\n      src.pause();\n    }\n  } // if the dest has an error, then stop piping into it.\n  // however, don't suppress the throwing behavior for this.\n\n\n  function onerror(er) {\n    debug('onerror', er);\n    unpipe();\n    dest.removeListener('error', onerror);\n    if (EElistenerCount(dest, 'error') === 0) errorOrDestroy(dest, er);\n  } // Make sure our error handler is attached before userland ones.\n\n\n  prependListener(dest, 'error', onerror); // Both close and finish should trigger unpipe, but only once.\n\n  function onclose() {\n    dest.removeListener('finish', onfinish);\n    unpipe();\n  }\n\n  dest.once('close', onclose);\n\n  function onfinish() {\n    debug('onfinish');\n    dest.removeListener('close', onclose);\n    unpipe();\n  }\n\n  dest.once('finish', onfinish);\n\n  function unpipe() {\n    debug('unpipe');\n    src.unpipe(dest);\n  } // tell the dest that it's being piped to\n\n\n  dest.emit('pipe', src); // start the flow if it hasn't been started already.\n\n  if (!state.flowing) {\n    debug('pipe resume');\n    src.resume();\n  }\n\n  return dest;\n};\n\nfunction pipeOnDrain(src) {\n  return function pipeOnDrainFunctionResult() {\n    var state = src._readableState;\n    debug('pipeOnDrain', state.awaitDrain);\n    if (state.awaitDrain) state.awaitDrain--;\n\n    if (state.awaitDrain === 0 && EElistenerCount(src, 'data')) {\n      state.flowing = true;\n      flow(src);\n    }\n  };\n}\n\nReadable.prototype.unpipe = function (dest) {\n  var state = this._readableState;\n  var unpipeInfo = {\n    hasUnpiped: false\n  }; // if we're not piping anywhere, then do nothing.\n\n  if (state.pipesCount === 0) return this; // just one destination.  most common case.\n\n  if (state.pipesCount === 1) {\n    // passed in one, but it's not the right one.\n    if (dest && dest !== state.pipes) return this;\n    if (!dest) dest = state.pipes; // got a match.\n\n    state.pipes = null;\n    state.pipesCount = 0;\n    state.flowing = false;\n    if (dest) dest.emit('unpipe', this, unpipeInfo);\n    return this;\n  } // slow case. multiple pipe destinations.\n\n\n  if (!dest) {\n    // remove all.\n    var dests = state.pipes;\n    var len = state.pipesCount;\n    state.pipes = null;\n    state.pipesCount = 0;\n    state.flowing = false;\n\n    for (var i = 0; i < len; i++) {\n      dests[i].emit('unpipe', this, {\n        hasUnpiped: false\n      });\n    }\n\n    return this;\n  } // try to find the right one.\n\n\n  var index = indexOf(state.pipes, dest);\n  if (index === -1) return this;\n  state.pipes.splice(index, 1);\n  state.pipesCount -= 1;\n  if (state.pipesCount === 1) state.pipes = state.pipes[0];\n  dest.emit('unpipe', this, unpipeInfo);\n  return this;\n}; // set up data events if they are asked for\n// Ensure readable listeners eventually get something\n\n\nReadable.prototype.on = function (ev, fn) {\n  var res = Stream.prototype.on.call(this, ev, fn);\n  var state = this._readableState;\n\n  if (ev === 'data') {\n    // update readableListening so that resume() may be a no-op\n    // a few lines down. This is needed to support once('readable').\n    state.readableListening = this.listenerCount('readable') > 0; // Try start flowing on next tick if stream isn't explicitly paused\n\n    if (state.flowing !== false) this.resume();\n  } else if (ev === 'readable') {\n    if (!state.endEmitted && !state.readableListening) {\n      state.readableListening = state.needReadable = true;\n      state.flowing = false;\n      state.emittedReadable = false;\n      debug('on readable', state.length, state.reading);\n\n      if (state.length) {\n        emitReadable(this);\n      } else if (!state.reading) {\n        process.nextTick(nReadingNextTick, this);\n      }\n    }\n  }\n\n  return res;\n};\n\nReadable.prototype.addListener = Readable.prototype.on;\n\nReadable.prototype.removeListener = function (ev, fn) {\n  var res = Stream.prototype.removeListener.call(this, ev, fn);\n\n  if (ev === 'readable') {\n    // We need to check if there is someone still listening to\n    // readable and reset the state. However this needs to happen\n    // after readable has been emitted but before I/O (nextTick) to\n    // support once('readable', fn) cycles. This means that calling\n    // resume within the same tick will have no\n    // effect.\n    process.nextTick(updateReadableListening, this);\n  }\n\n  return res;\n};\n\nReadable.prototype.removeAllListeners = function (ev) {\n  var res = Stream.prototype.removeAllListeners.apply(this, arguments);\n\n  if (ev === 'readable' || ev === undefined) {\n    // We need to check if there is someone still listening to\n    // readable and reset the state. However this needs to happen\n    // after readable has been emitted but before I/O (nextTick) to\n    // support once('readable', fn) cycles. This means that calling\n    // resume within the same tick will have no\n    // effect.\n    process.nextTick(updateReadableListening, this);\n  }\n\n  return res;\n};\n\nfunction updateReadableListening(self) {\n  var state = self._readableState;\n  state.readableListening = self.listenerCount('readable') > 0;\n\n  if (state.resumeScheduled && !state.paused) {\n    // flowing needs to be set to true now, otherwise\n    // the upcoming resume will not flow.\n    state.flowing = true; // crude way to check if we should resume\n  } else if (self.listenerCount('data') > 0) {\n    self.resume();\n  }\n}\n\nfunction nReadingNextTick(self) {\n  debug('readable nexttick read 0');\n  self.read(0);\n} // pause() and resume() are remnants of the legacy readable stream API\n// If the user uses them, then switch into old mode.\n\n\nReadable.prototype.resume = function () {\n  var state = this._readableState;\n\n  if (!state.flowing) {\n    debug('resume'); // we flow only if there is no one listening\n    // for readable, but we still have to call\n    // resume()\n\n    state.flowing = !state.readableListening;\n    resume(this, state);\n  }\n\n  state.paused = false;\n  return this;\n};\n\nfunction resume(stream, state) {\n  if (!state.resumeScheduled) {\n    state.resumeScheduled = true;\n    process.nextTick(resume_, stream, state);\n  }\n}\n\nfunction resume_(stream, state) {\n  debug('resume', state.reading);\n\n  if (!state.reading) {\n    stream.read(0);\n  }\n\n  state.resumeScheduled = false;\n  stream.emit('resume');\n  flow(stream);\n  if (state.flowing && !state.reading) stream.read(0);\n}\n\nReadable.prototype.pause = function () {\n  debug('call pause flowing=%j', this._readableState.flowing);\n\n  if (this._readableState.flowing !== false) {\n    debug('pause');\n    this._readableState.flowing = false;\n    this.emit('pause');\n  }\n\n  this._readableState.paused = true;\n  return this;\n};\n\nfunction flow(stream) {\n  var state = stream._readableState;\n  debug('flow', state.flowing);\n\n  while (state.flowing && stream.read() !== null) {\n    ;\n  }\n} // wrap an old-style stream as the async data source.\n// This is *not* part of the readable stream interface.\n// It is an ugly unfortunate mess of history.\n\n\nReadable.prototype.wrap = function (stream) {\n  var _this = this;\n\n  var state = this._readableState;\n  var paused = false;\n  stream.on('end', function () {\n    debug('wrapped end');\n\n    if (state.decoder && !state.ended) {\n      var chunk = state.decoder.end();\n      if (chunk && chunk.length) _this.push(chunk);\n    }\n\n    _this.push(null);\n  });\n  stream.on('data', function (chunk) {\n    debug('wrapped data');\n    if (state.decoder) chunk = state.decoder.write(chunk); // don't skip over falsy values in objectMode\n\n    if (state.objectMode && (chunk === null || chunk === undefined)) return;else if (!state.objectMode && (!chunk || !chunk.length)) return;\n\n    var ret = _this.push(chunk);\n\n    if (!ret) {\n      paused = true;\n      stream.pause();\n    }\n  }); // proxy all the other methods.\n  // important when wrapping filters and duplexes.\n\n  for (var i in stream) {\n    if (this[i] === undefined && typeof stream[i] === 'function') {\n      this[i] = function methodWrap(method) {\n        return function methodWrapReturnFunction() {\n          return stream[method].apply(stream, arguments);\n        };\n      }(i);\n    }\n  } // proxy certain important events.\n\n\n  for (var n = 0; n < kProxyEvents.length; n++) {\n    stream.on(kProxyEvents[n], this.emit.bind(this, kProxyEvents[n]));\n  } // when we try to consume some more bytes, simply unpause the\n  // underlying stream.\n\n\n  this._read = function (n) {\n    debug('wrapped _read', n);\n\n    if (paused) {\n      paused = false;\n      stream.resume();\n    }\n  };\n\n  return this;\n};\n\nif (typeof Symbol === 'function') {\n  Readable.prototype[Symbol.asyncIterator] = function () {\n    if (createReadableStreamAsyncIterator === undefined) {\n      createReadableStreamAsyncIterator = require('./internal/streams/async_iterator');\n    }\n\n    return createReadableStreamAsyncIterator(this);\n  };\n}\n\nObject.defineProperty(Readable.prototype, 'readableHighWaterMark', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function get() {\n    return this._readableState.highWaterMark;\n  }\n});\nObject.defineProperty(Readable.prototype, 'readableBuffer', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function get() {\n    return this._readableState && this._readableState.buffer;\n  }\n});\nObject.defineProperty(Readable.prototype, 'readableFlowing', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function get() {\n    return this._readableState.flowing;\n  },\n  set: function set(state) {\n    if (this._readableState) {\n      this._readableState.flowing = state;\n    }\n  }\n}); // exposed for testing purposes only.\n\nReadable._fromList = fromList;\nObject.defineProperty(Readable.prototype, 'readableLength', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function get() {\n    return this._readableState.length;\n  }\n}); // Pluck off n bytes from an array of buffers.\n// Length is the combined lengths of all the buffers in the list.\n// This function is designed to be inlinable, so please take care when making\n// changes to the function body.\n\nfunction fromList(n, state) {\n  // nothing buffered\n  if (state.length === 0) return null;\n  var ret;\n  if (state.objectMode) ret = state.buffer.shift();else if (!n || n >= state.length) {\n    // read it all, truncate the list\n    if (state.decoder) ret = state.buffer.join('');else if (state.buffer.length === 1) ret = state.buffer.first();else ret = state.buffer.concat(state.length);\n    state.buffer.clear();\n  } else {\n    // read part of list\n    ret = state.buffer.consume(n, state.decoder);\n  }\n  return ret;\n}\n\nfunction endReadable(stream) {\n  var state = stream._readableState;\n  debug('endReadable', state.endEmitted);\n\n  if (!state.endEmitted) {\n    state.ended = true;\n    process.nextTick(endReadableNT, state, stream);\n  }\n}\n\nfunction endReadableNT(state, stream) {\n  debug('endReadableNT', state.endEmitted, state.length); // Check that we didn't get one last unshift.\n\n  if (!state.endEmitted && state.length === 0) {\n    state.endEmitted = true;\n    stream.readable = false;\n    stream.emit('end');\n\n    if (state.autoDestroy) {\n      // In case of duplex streams we need a way to detect\n      // if the writable side is ready for autoDestroy as well\n      var wState = stream._writableState;\n\n      if (!wState || wState.autoDestroy && wState.finished) {\n        stream.destroy();\n      }\n    }\n  }\n}\n\nif (typeof Symbol === 'function') {\n  Readable.from = function (iterable, opts) {\n    if (from === undefined) {\n      from = require('./internal/streams/from');\n    }\n\n    return from(Readable, iterable, opts);\n  };\n}\n\nfunction indexOf(xs, x) {\n  for (var i = 0, l = xs.length; i < l; i++) {\n    if (xs[i] === x) return i;\n  }\n\n  return -1;\n}","'use strict';\n\nvar ERR_INVALID_OPT_VALUE = require('../../../errors').codes.ERR_INVALID_OPT_VALUE;\n\nfunction highWaterMarkFrom(options, isDuplex, duplexKey) {\n  return options.highWaterMark != null ? options.highWaterMark : isDuplex ? options[duplexKey] : null;\n}\n\nfunction getHighWaterMark(state, options, duplexKey, isDuplex) {\n  var hwm = highWaterMarkFrom(options, isDuplex, duplexKey);\n\n  if (hwm != null) {\n    if (!(isFinite(hwm) && Math.floor(hwm) === hwm) || hwm < 0) {\n      var name = isDuplex ? duplexKey : 'highWaterMark';\n      throw new ERR_INVALID_OPT_VALUE(name, hwm);\n    }\n\n    return Math.floor(hwm);\n  } // Default value\n\n\n  return state.objectMode ? 16 : 16 * 1024;\n}\n\nmodule.exports = {\n  getHighWaterMark: getHighWaterMark\n};","/* eslint-disable node/no-deprecated-api */\nvar buffer = require('buffer')\nvar Buffer = buffer.Buffer\n\n// alternative to using Object.keys for old browsers\nfunction copyProps (src, dst) {\n  for (var key in src) {\n    dst[key] = src[key]\n  }\n}\nif (Buffer.from && Buffer.alloc && Buffer.allocUnsafe && Buffer.allocUnsafeSlow) {\n  module.exports = buffer\n} else {\n  // Copy properties from require('buffer')\n  copyProps(buffer, exports)\n  exports.Buffer = SafeBuffer\n}\n\nfunction SafeBuffer (arg, encodingOrOffset, length) {\n  return Buffer(arg, encodingOrOffset, length)\n}\n\n// Copy static methods from Buffer\ncopyProps(Buffer, SafeBuffer)\n\nSafeBuffer.from = function (arg, encodingOrOffset, length) {\n  if (typeof arg === 'number') {\n    throw new TypeError('Argument must not be a number')\n  }\n  return Buffer(arg, encodingOrOffset, length)\n}\n\nSafeBuffer.alloc = function (size, fill, encoding) {\n  if (typeof size !== 'number') {\n    throw new TypeError('Argument must be a number')\n  }\n  var buf = Buffer(size)\n  if (fill !== undefined) {\n    if (typeof encoding === 'string') {\n      buf.fill(fill, encoding)\n    } else {\n      buf.fill(fill)\n    }\n  } else {\n    buf.fill(0)\n  }\n  return buf\n}\n\nSafeBuffer.allocUnsafe = function (size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('Argument must be a number')\n  }\n  return Buffer(size)\n}\n\nSafeBuffer.allocUnsafeSlow = function (size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('Argument must be a number')\n  }\n  return buffer.SlowBuffer(size)\n}\n","exports.read = function (buffer, offset, isLE, mLen, nBytes) {\n  var e, m\n  var eLen = (nBytes * 8) - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var nBits = -7\n  var i = isLE ? (nBytes - 1) : 0\n  var d = isLE ? -1 : 1\n  var s = buffer[offset + i]\n\n  i += d\n\n  e = s & ((1 << (-nBits)) - 1)\n  s >>= (-nBits)\n  nBits += eLen\n  for (; nBits > 0; e = (e * 256) + buffer[offset + i], i += d, nBits -= 8) {}\n\n  m = e & ((1 << (-nBits)) - 1)\n  e >>= (-nBits)\n  nBits += mLen\n  for (; nBits > 0; m = (m * 256) + buffer[offset + i], i += d, nBits -= 8) {}\n\n  if (e === 0) {\n    e = 1 - eBias\n  } else if (e === eMax) {\n    return m ? NaN : ((s ? -1 : 1) * Infinity)\n  } else {\n    m = m + Math.pow(2, mLen)\n    e = e - eBias\n  }\n  return (s ? -1 : 1) * m * Math.pow(2, e - mLen)\n}\n\nexports.write = function (buffer, value, offset, isLE, mLen, nBytes) {\n  var e, m, c\n  var eLen = (nBytes * 8) - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var rt = (mLen === 23 ? Math.pow(2, -24) - Math.pow(2, -77) : 0)\n  var i = isLE ? 0 : (nBytes - 1)\n  var d = isLE ? 1 : -1\n  var s = value < 0 || (value === 0 && 1 / value < 0) ? 1 : 0\n\n  value = Math.abs(value)\n\n  if (isNaN(value) || value === Infinity) {\n    m = isNaN(value) ? 1 : 0\n    e = eMax\n  } else {\n    e = Math.floor(Math.log(value) / Math.LN2)\n    if (value * (c = Math.pow(2, -e)) < 1) {\n      e--\n      c *= 2\n    }\n    if (e + eBias >= 1) {\n      value += rt / c\n    } else {\n      value += rt * Math.pow(2, 1 - eBias)\n    }\n    if (value * c >= 2) {\n      e++\n      c /= 2\n    }\n\n    if (e + eBias >= eMax) {\n      m = 0\n      e = eMax\n    } else if (e + eBias >= 1) {\n      m = ((value * c) - 1) * Math.pow(2, mLen)\n      e = e + eBias\n    } else {\n      m = value * Math.pow(2, eBias - 1) * Math.pow(2, mLen)\n      e = 0\n    }\n  }\n\n  for (; mLen >= 8; buffer[offset + i] = m & 0xff, i += d, m /= 256, mLen -= 8) {}\n\n  e = (e << mLen) | m\n  eLen += mLen\n  for (; eLen > 0; buffer[offset + i] = e & 0xff, i += d, e /= 256, eLen -= 8) {}\n\n  buffer[offset + i - d] |= s * 128\n}\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\n// If obj.hasOwnProperty has been overridden, then calling\n// obj.hasOwnProperty(prop) will break.\n// See: https://github.com/joyent/node/issues/1707\nfunction hasOwnProperty(obj, prop) {\n  return Object.prototype.hasOwnProperty.call(obj, prop);\n}\n\nmodule.exports = function(qs, sep, eq, options) {\n  sep = sep || '&';\n  eq = eq || '=';\n  var obj = {};\n\n  if (typeof qs !== 'string' || qs.length === 0) {\n    return obj;\n  }\n\n  var regexp = /\\+/g;\n  qs = qs.split(sep);\n\n  var maxKeys = 1000;\n  if (options && typeof options.maxKeys === 'number') {\n    maxKeys = options.maxKeys;\n  }\n\n  var len = qs.length;\n  // maxKeys <= 0 means that we should not limit keys count\n  if (maxKeys > 0 && len > maxKeys) {\n    len = maxKeys;\n  }\n\n  for (var i = 0; i < len; ++i) {\n    var x = qs[i].replace(regexp, '%20'),\n        idx = x.indexOf(eq),\n        kstr, vstr, k, v;\n\n    if (idx >= 0) {\n      kstr = x.substr(0, idx);\n      vstr = x.substr(idx + 1);\n    } else {\n      kstr = x;\n      vstr = '';\n    }\n\n    k = decodeURIComponent(kstr);\n    v = decodeURIComponent(vstr);\n\n    if (!hasOwnProperty(obj, k)) {\n      obj[k] = v;\n    } else if (isArray(obj[k])) {\n      obj[k].push(v);\n    } else {\n      obj[k] = [obj[k], v];\n    }\n  }\n\n  return obj;\n};\n\nvar isArray = Array.isArray || function (xs) {\n  return Object.prototype.toString.call(xs) === '[object Array]';\n};\n","'use strict';\n\nif (typeof process === 'undefined' ||\n    !process.version ||\n    process.version.indexOf('v0.') === 0 ||\n    process.version.indexOf('v1.') === 0 && process.version.indexOf('v1.8.') !== 0) {\n  module.exports = { nextTick: nextTick };\n} else {\n  module.exports = process\n}\n\nfunction nextTick(fn, arg1, arg2, arg3) {\n  if (typeof fn !== 'function') {\n    throw new TypeError('\"callback\" argument must be a function');\n  }\n  var len = arguments.length;\n  var args, i;\n  switch (len) {\n  case 0:\n  case 1:\n    return process.nextTick(fn);\n  case 2:\n    return process.nextTick(function afterTickOne() {\n      fn.call(null, arg1);\n    });\n  case 3:\n    return process.nextTick(function afterTickTwo() {\n      fn.call(null, arg1, arg2);\n    });\n  case 4:\n    return process.nextTick(function afterTickThree() {\n      fn.call(null, arg1, arg2, arg3);\n    });\n  default:\n    args = new Array(len - 1);\n    i = 0;\n    while (i < args.length) {\n      args[i++] = arguments[i];\n    }\n    return process.nextTick(function afterTick() {\n      fn.apply(null, args);\n    });\n  }\n}\n\n","'use strict';\nvar $ = require('../internals/export');\nvar createHTML = require('../internals/create-html');\nvar forcedStringHTMLMethod = require('../internals/string-html-forced');\n\n// `String.prototype.link` method\n// https://tc39.github.io/ecma262/#sec-string.prototype.link\n$({ target: 'String', proto: true, forced: forcedStringHTMLMethod('link') }, {\n  link: function link(url) {\n    return createHTML(this, 'a', 'href', url);\n  }\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar fails = require('../internals/fails');\nvar isArray = require('../internals/is-array');\nvar isObject = require('../internals/is-object');\nvar toObject = require('../internals/to-object');\nvar toLength = require('../internals/to-length');\nvar createProperty = require('../internals/create-property');\nvar arraySpeciesCreate = require('../internals/array-species-create');\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar V8_VERSION = require('../internals/engine-v8-version');\n\nvar IS_CONCAT_SPREADABLE = wellKnownSymbol('isConcatSpreadable');\nvar MAX_SAFE_INTEGER = 0x1FFFFFFFFFFFFF;\nvar MAXIMUM_ALLOWED_INDEX_EXCEEDED = 'Maximum allowed index exceeded';\n\n// We can't use this feature detection in V8 since it causes\n// deoptimization and serious performance degradation\n// https://github.com/zloirock/core-js/issues/679\nvar IS_CONCAT_SPREADABLE_SUPPORT = V8_VERSION >= 51 || !fails(function () {\n  var array = [];\n  array[IS_CONCAT_SPREADABLE] = false;\n  return array.concat()[0] !== array;\n});\n\nvar SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('concat');\n\nvar isConcatSpreadable = function (O) {\n  if (!isObject(O)) return false;\n  var spreadable = O[IS_CONCAT_SPREADABLE];\n  return spreadable !== undefined ? !!spreadable : isArray(O);\n};\n\nvar FORCED = !IS_CONCAT_SPREADABLE_SUPPORT || !SPECIES_SUPPORT;\n\n// `Array.prototype.concat` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.concat\n// with adding support of @@isConcatSpreadable and @@species\n$({ target: 'Array', proto: true, forced: FORCED }, {\n  concat: function concat(arg) { // eslint-disable-line no-unused-vars\n    var O = toObject(this);\n    var A = arraySpeciesCreate(O, 0);\n    var n = 0;\n    var i, k, length, len, E;\n    for (i = -1, length = arguments.length; i < length; i++) {\n      E = i === -1 ? O : arguments[i];\n      if (isConcatSpreadable(E)) {\n        len = toLength(E.length);\n        if (n + len > MAX_SAFE_INTEGER) throw TypeError(MAXIMUM_ALLOWED_INDEX_EXCEEDED);\n        for (k = 0; k < len; k++, n++) if (k in E) createProperty(A, n, E[k]);\n      } else {\n        if (n >= MAX_SAFE_INTEGER) throw TypeError(MAXIMUM_ALLOWED_INDEX_EXCEEDED);\n        createProperty(A, n++, E);\n      }\n    }\n    A.length = n;\n    return A;\n  }\n});\n","'use strict';\n\nfunction _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; subClass.__proto__ = superClass; }\n\nvar codes = {};\n\nfunction createErrorType(code, message, Base) {\n  if (!Base) {\n    Base = Error;\n  }\n\n  function getMessage(arg1, arg2, arg3) {\n    if (typeof message === 'string') {\n      return message;\n    } else {\n      return message(arg1, arg2, arg3);\n    }\n  }\n\n  var NodeError =\n  /*#__PURE__*/\n  function (_Base) {\n    _inheritsLoose(NodeError, _Base);\n\n    function NodeError(arg1, arg2, arg3) {\n      return _Base.call(this, getMessage(arg1, arg2, arg3)) || this;\n    }\n\n    return NodeError;\n  }(Base);\n\n  NodeError.prototype.name = Base.name;\n  NodeError.prototype.code = code;\n  codes[code] = NodeError;\n} // https://github.com/nodejs/node/blob/v10.8.0/lib/internal/errors.js\n\n\nfunction oneOf(expected, thing) {\n  if (Array.isArray(expected)) {\n    var len = expected.length;\n    expected = expected.map(function (i) {\n      return String(i);\n    });\n\n    if (len > 2) {\n      return \"one of \".concat(thing, \" \").concat(expected.slice(0, len - 1).join(', '), \", or \") + expected[len - 1];\n    } else if (len === 2) {\n      return \"one of \".concat(thing, \" \").concat(expected[0], \" or \").concat(expected[1]);\n    } else {\n      return \"of \".concat(thing, \" \").concat(expected[0]);\n    }\n  } else {\n    return \"of \".concat(thing, \" \").concat(String(expected));\n  }\n} // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/startsWith\n\n\nfunction startsWith(str, search, pos) {\n  return str.substr(!pos || pos < 0 ? 0 : +pos, search.length) === search;\n} // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/endsWith\n\n\nfunction endsWith(str, search, this_len) {\n  if (this_len === undefined || this_len > str.length) {\n    this_len = str.length;\n  }\n\n  return str.substring(this_len - search.length, this_len) === search;\n} // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/includes\n\n\nfunction includes(str, search, start) {\n  if (typeof start !== 'number') {\n    start = 0;\n  }\n\n  if (start + search.length > str.length) {\n    return false;\n  } else {\n    return str.indexOf(search, start) !== -1;\n  }\n}\n\ncreateErrorType('ERR_INVALID_OPT_VALUE', function (name, value) {\n  return 'The value \"' + value + '\" is invalid for option \"' + name + '\"';\n}, TypeError);\ncreateErrorType('ERR_INVALID_ARG_TYPE', function (name, expected, actual) {\n  // determiner: 'must be' or 'must not be'\n  var determiner;\n\n  if (typeof expected === 'string' && startsWith(expected, 'not ')) {\n    determiner = 'must not be';\n    expected = expected.replace(/^not /, '');\n  } else {\n    determiner = 'must be';\n  }\n\n  var msg;\n\n  if (endsWith(name, ' argument')) {\n    // For cases like 'first argument'\n    msg = \"The \".concat(name, \" \").concat(determiner, \" \").concat(oneOf(expected, 'type'));\n  } else {\n    var type = includes(name, '.') ? 'property' : 'argument';\n    msg = \"The \\\"\".concat(name, \"\\\" \").concat(type, \" \").concat(determiner, \" \").concat(oneOf(expected, 'type'));\n  }\n\n  msg += \". Received type \".concat(typeof actual);\n  return msg;\n}, TypeError);\ncreateErrorType('ERR_STREAM_PUSH_AFTER_EOF', 'stream.push() after EOF');\ncreateErrorType('ERR_METHOD_NOT_IMPLEMENTED', function (name) {\n  return 'The ' + name + ' method is not implemented';\n});\ncreateErrorType('ERR_STREAM_PREMATURE_CLOSE', 'Premature close');\ncreateErrorType('ERR_STREAM_DESTROYED', function (name) {\n  return 'Cannot call ' + name + ' after a stream was destroyed';\n});\ncreateErrorType('ERR_MULTIPLE_CALLBACK', 'Callback called multiple times');\ncreateErrorType('ERR_STREAM_CANNOT_PIPE', 'Cannot pipe, not readable');\ncreateErrorType('ERR_STREAM_WRITE_AFTER_END', 'write after end');\ncreateErrorType('ERR_STREAM_NULL_VALUES', 'May not write null values to stream', TypeError);\ncreateErrorType('ERR_UNKNOWN_ENCODING', function (arg) {\n  return 'Unknown encoding: ' + arg;\n}, TypeError);\ncreateErrorType('ERR_STREAM_UNSHIFT_AFTER_END_EVENT', 'stream.unshift() after end event');\nmodule.exports.codes = codes;\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n// a passthrough stream.\n// basically just the most minimal sort of Transform stream.\n// Every written chunk gets output as-is.\n'use strict';\n\nmodule.exports = PassThrough;\n\nvar Transform = require('./_stream_transform');\n\nrequire('inherits')(PassThrough, Transform);\n\nfunction PassThrough(options) {\n  if (!(this instanceof PassThrough)) return new PassThrough(options);\n  Transform.call(this, options);\n}\n\nPassThrough.prototype._transform = function (chunk, encoding, cb) {\n  cb(null, chunk);\n};","module.exports = require('events').EventEmitter;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.uuid = void 0;\nfunction uuid() {\n    var template = \"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx\";\n    var replaceChar = function (c) {\n        var r = Math.random() * 16 | 0;\n        var v = c === \"x\" ? r : r & 0x3 | 0x8;\n        return v.toString(16);\n    };\n    return template.replace(/[xy]/g, replaceChar);\n}\nexports.uuid = uuid;\n","'use strict';\nvar $ = require('../internals/export');\nvar IndexedObject = require('../internals/indexed-object');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar arrayMethodIsStrict = require('../internals/array-method-is-strict');\n\nvar nativeJoin = [].join;\n\nvar ES3_STRINGS = IndexedObject != Object;\nvar STRICT_METHOD = arrayMethodIsStrict('join', ',');\n\n// `Array.prototype.join` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.join\n$({ target: 'Array', proto: true, forced: ES3_STRINGS || !STRICT_METHOD }, {\n  join: function join(separator) {\n    return nativeJoin.call(toIndexedObject(this), separator === undefined ? ',' : separator);\n  }\n});\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n// a duplex stream is just a stream that is both readable and writable.\n// Since JS doesn't have multiple prototypal inheritance, this class\n// prototypally inherits from Readable, and then parasitically from\n// Writable.\n'use strict';\n/*<replacement>*/\n\nvar objectKeys = Object.keys || function (obj) {\n  var keys = [];\n\n  for (var key in obj) {\n    keys.push(key);\n  }\n\n  return keys;\n};\n/*</replacement>*/\n\n\nmodule.exports = Duplex;\n\nvar Readable = require('./_stream_readable');\n\nvar Writable = require('./_stream_writable');\n\nrequire('inherits')(Duplex, Readable);\n\n{\n  // Allow the keys array to be GC'ed.\n  var keys = objectKeys(Writable.prototype);\n\n  for (var v = 0; v < keys.length; v++) {\n    var method = keys[v];\n    if (!Duplex.prototype[method]) Duplex.prototype[method] = Writable.prototype[method];\n  }\n}\n\nfunction Duplex(options) {\n  if (!(this instanceof Duplex)) return new Duplex(options);\n  Readable.call(this, options);\n  Writable.call(this, options);\n  this.allowHalfOpen = true;\n\n  if (options) {\n    if (options.readable === false) this.readable = false;\n    if (options.writable === false) this.writable = false;\n\n    if (options.allowHalfOpen === false) {\n      this.allowHalfOpen = false;\n      this.once('end', onend);\n    }\n  }\n}\n\nObject.defineProperty(Duplex.prototype, 'writableHighWaterMark', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function get() {\n    return this._writableState.highWaterMark;\n  }\n});\nObject.defineProperty(Duplex.prototype, 'writableBuffer', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function get() {\n    return this._writableState && this._writableState.getBuffer();\n  }\n});\nObject.defineProperty(Duplex.prototype, 'writableLength', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function get() {\n    return this._writableState.length;\n  }\n}); // the no-half-open enforcer\n\nfunction onend() {\n  // If the writable side ended, then we're ok.\n  if (this._writableState.ended) return; // no more data can be written.\n  // But allow more writes to happen in this tick.\n\n  process.nextTick(onEndNT, this);\n}\n\nfunction onEndNT(self) {\n  self.end();\n}\n\nObject.defineProperty(Duplex.prototype, 'destroyed', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function get() {\n    if (this._readableState === undefined || this._writableState === undefined) {\n      return false;\n    }\n\n    return this._readableState.destroyed && this._writableState.destroyed;\n  },\n  set: function set(value) {\n    // we ignore the value if the stream\n    // has not been initialized yet\n    if (this._readableState === undefined || this._writableState === undefined) {\n      return;\n    } // backward compatibility, the user is explicitly\n    // managing destroyed\n\n\n    this._readableState.destroyed = value;\n    this._writableState.destroyed = value;\n  }\n});","'use strict';\nvar $ = require('../internals/export');\nvar global = require('../internals/global');\nvar getBuiltIn = require('../internals/get-built-in');\nvar IS_PURE = require('../internals/is-pure');\nvar DESCRIPTORS = require('../internals/descriptors');\nvar NATIVE_SYMBOL = require('../internals/native-symbol');\nvar USE_SYMBOL_AS_UID = require('../internals/use-symbol-as-uid');\nvar fails = require('../internals/fails');\nvar has = require('../internals/has');\nvar isArray = require('../internals/is-array');\nvar isObject = require('../internals/is-object');\nvar anObject = require('../internals/an-object');\nvar toObject = require('../internals/to-object');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar toPrimitive = require('../internals/to-primitive');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\nvar nativeObjectCreate = require('../internals/object-create');\nvar objectKeys = require('../internals/object-keys');\nvar getOwnPropertyNamesModule = require('../internals/object-get-own-property-names');\nvar getOwnPropertyNamesExternal = require('../internals/object-get-own-property-names-external');\nvar getOwnPropertySymbolsModule = require('../internals/object-get-own-property-symbols');\nvar getOwnPropertyDescriptorModule = require('../internals/object-get-own-property-descriptor');\nvar definePropertyModule = require('../internals/object-define-property');\nvar propertyIsEnumerableModule = require('../internals/object-property-is-enumerable');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar redefine = require('../internals/redefine');\nvar shared = require('../internals/shared');\nvar sharedKey = require('../internals/shared-key');\nvar hiddenKeys = require('../internals/hidden-keys');\nvar uid = require('../internals/uid');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar wrappedWellKnownSymbolModule = require('../internals/well-known-symbol-wrapped');\nvar defineWellKnownSymbol = require('../internals/define-well-known-symbol');\nvar setToStringTag = require('../internals/set-to-string-tag');\nvar InternalStateModule = require('../internals/internal-state');\nvar $forEach = require('../internals/array-iteration').forEach;\n\nvar HIDDEN = sharedKey('hidden');\nvar SYMBOL = 'Symbol';\nvar PROTOTYPE = 'prototype';\nvar TO_PRIMITIVE = wellKnownSymbol('toPrimitive');\nvar setInternalState = InternalStateModule.set;\nvar getInternalState = InternalStateModule.getterFor(SYMBOL);\nvar ObjectPrototype = Object[PROTOTYPE];\nvar $Symbol = global.Symbol;\nvar $stringify = getBuiltIn('JSON', 'stringify');\nvar nativeGetOwnPropertyDescriptor = getOwnPropertyDescriptorModule.f;\nvar nativeDefineProperty = definePropertyModule.f;\nvar nativeGetOwnPropertyNames = getOwnPropertyNamesExternal.f;\nvar nativePropertyIsEnumerable = propertyIsEnumerableModule.f;\nvar AllSymbols = shared('symbols');\nvar ObjectPrototypeSymbols = shared('op-symbols');\nvar StringToSymbolRegistry = shared('string-to-symbol-registry');\nvar SymbolToStringRegistry = shared('symbol-to-string-registry');\nvar WellKnownSymbolsStore = shared('wks');\nvar QObject = global.QObject;\n// Don't use setters in Qt Script, https://github.com/zloirock/core-js/issues/173\nvar USE_SETTER = !QObject || !QObject[PROTOTYPE] || !QObject[PROTOTYPE].findChild;\n\n// fallback for old Android, https://code.google.com/p/v8/issues/detail?id=687\nvar setSymbolDescriptor = DESCRIPTORS && fails(function () {\n  return nativeObjectCreate(nativeDefineProperty({}, 'a', {\n    get: function () { return nativeDefineProperty(this, 'a', { value: 7 }).a; }\n  })).a != 7;\n}) ? function (O, P, Attributes) {\n  var ObjectPrototypeDescriptor = nativeGetOwnPropertyDescriptor(ObjectPrototype, P);\n  if (ObjectPrototypeDescriptor) delete ObjectPrototype[P];\n  nativeDefineProperty(O, P, Attributes);\n  if (ObjectPrototypeDescriptor && O !== ObjectPrototype) {\n    nativeDefineProperty(ObjectPrototype, P, ObjectPrototypeDescriptor);\n  }\n} : nativeDefineProperty;\n\nvar wrap = function (tag, description) {\n  var symbol = AllSymbols[tag] = nativeObjectCreate($Symbol[PROTOTYPE]);\n  setInternalState(symbol, {\n    type: SYMBOL,\n    tag: tag,\n    description: description\n  });\n  if (!DESCRIPTORS) symbol.description = description;\n  return symbol;\n};\n\nvar isSymbol = USE_SYMBOL_AS_UID ? function (it) {\n  return typeof it == 'symbol';\n} : function (it) {\n  return Object(it) instanceof $Symbol;\n};\n\nvar $defineProperty = function defineProperty(O, P, Attributes) {\n  if (O === ObjectPrototype) $defineProperty(ObjectPrototypeSymbols, P, Attributes);\n  anObject(O);\n  var key = toPrimitive(P, true);\n  anObject(Attributes);\n  if (has(AllSymbols, key)) {\n    if (!Attributes.enumerable) {\n      if (!has(O, HIDDEN)) nativeDefineProperty(O, HIDDEN, createPropertyDescriptor(1, {}));\n      O[HIDDEN][key] = true;\n    } else {\n      if (has(O, HIDDEN) && O[HIDDEN][key]) O[HIDDEN][key] = false;\n      Attributes = nativeObjectCreate(Attributes, { enumerable: createPropertyDescriptor(0, false) });\n    } return setSymbolDescriptor(O, key, Attributes);\n  } return nativeDefineProperty(O, key, Attributes);\n};\n\nvar $defineProperties = function defineProperties(O, Properties) {\n  anObject(O);\n  var properties = toIndexedObject(Properties);\n  var keys = objectKeys(properties).concat($getOwnPropertySymbols(properties));\n  $forEach(keys, function (key) {\n    if (!DESCRIPTORS || $propertyIsEnumerable.call(properties, key)) $defineProperty(O, key, properties[key]);\n  });\n  return O;\n};\n\nvar $create = function create(O, Properties) {\n  return Properties === undefined ? nativeObjectCreate(O) : $defineProperties(nativeObjectCreate(O), Properties);\n};\n\nvar $propertyIsEnumerable = function propertyIsEnumerable(V) {\n  var P = toPrimitive(V, true);\n  var enumerable = nativePropertyIsEnumerable.call(this, P);\n  if (this === ObjectPrototype && has(AllSymbols, P) && !has(ObjectPrototypeSymbols, P)) return false;\n  return enumerable || !has(this, P) || !has(AllSymbols, P) || has(this, HIDDEN) && this[HIDDEN][P] ? enumerable : true;\n};\n\nvar $getOwnPropertyDescriptor = function getOwnPropertyDescriptor(O, P) {\n  var it = toIndexedObject(O);\n  var key = toPrimitive(P, true);\n  if (it === ObjectPrototype && has(AllSymbols, key) && !has(ObjectPrototypeSymbols, key)) return;\n  var descriptor = nativeGetOwnPropertyDescriptor(it, key);\n  if (descriptor && has(AllSymbols, key) && !(has(it, HIDDEN) && it[HIDDEN][key])) {\n    descriptor.enumerable = true;\n  }\n  return descriptor;\n};\n\nvar $getOwnPropertyNames = function getOwnPropertyNames(O) {\n  var names = nativeGetOwnPropertyNames(toIndexedObject(O));\n  var result = [];\n  $forEach(names, function (key) {\n    if (!has(AllSymbols, key) && !has(hiddenKeys, key)) result.push(key);\n  });\n  return result;\n};\n\nvar $getOwnPropertySymbols = function getOwnPropertySymbols(O) {\n  var IS_OBJECT_PROTOTYPE = O === ObjectPrototype;\n  var names = nativeGetOwnPropertyNames(IS_OBJECT_PROTOTYPE ? ObjectPrototypeSymbols : toIndexedObject(O));\n  var result = [];\n  $forEach(names, function (key) {\n    if (has(AllSymbols, key) && (!IS_OBJECT_PROTOTYPE || has(ObjectPrototype, key))) {\n      result.push(AllSymbols[key]);\n    }\n  });\n  return result;\n};\n\n// `Symbol` constructor\n// https://tc39.github.io/ecma262/#sec-symbol-constructor\nif (!NATIVE_SYMBOL) {\n  $Symbol = function Symbol() {\n    if (this instanceof $Symbol) throw TypeError('Symbol is not a constructor');\n    var description = !arguments.length || arguments[0] === undefined ? undefined : String(arguments[0]);\n    var tag = uid(description);\n    var setter = function (value) {\n      if (this === ObjectPrototype) setter.call(ObjectPrototypeSymbols, value);\n      if (has(this, HIDDEN) && has(this[HIDDEN], tag)) this[HIDDEN][tag] = false;\n      setSymbolDescriptor(this, tag, createPropertyDescriptor(1, value));\n    };\n    if (DESCRIPTORS && USE_SETTER) setSymbolDescriptor(ObjectPrototype, tag, { configurable: true, set: setter });\n    return wrap(tag, description);\n  };\n\n  redefine($Symbol[PROTOTYPE], 'toString', function toString() {\n    return getInternalState(this).tag;\n  });\n\n  redefine($Symbol, 'withoutSetter', function (description) {\n    return wrap(uid(description), description);\n  });\n\n  propertyIsEnumerableModule.f = $propertyIsEnumerable;\n  definePropertyModule.f = $defineProperty;\n  getOwnPropertyDescriptorModule.f = $getOwnPropertyDescriptor;\n  getOwnPropertyNamesModule.f = getOwnPropertyNamesExternal.f = $getOwnPropertyNames;\n  getOwnPropertySymbolsModule.f = $getOwnPropertySymbols;\n\n  wrappedWellKnownSymbolModule.f = function (name) {\n    return wrap(wellKnownSymbol(name), name);\n  };\n\n  if (DESCRIPTORS) {\n    // https://github.com/tc39/proposal-Symbol-description\n    nativeDefineProperty($Symbol[PROTOTYPE], 'description', {\n      configurable: true,\n      get: function description() {\n        return getInternalState(this).description;\n      }\n    });\n    if (!IS_PURE) {\n      redefine(ObjectPrototype, 'propertyIsEnumerable', $propertyIsEnumerable, { unsafe: true });\n    }\n  }\n}\n\n$({ global: true, wrap: true, forced: !NATIVE_SYMBOL, sham: !NATIVE_SYMBOL }, {\n  Symbol: $Symbol\n});\n\n$forEach(objectKeys(WellKnownSymbolsStore), function (name) {\n  defineWellKnownSymbol(name);\n});\n\n$({ target: SYMBOL, stat: true, forced: !NATIVE_SYMBOL }, {\n  // `Symbol.for` method\n  // https://tc39.github.io/ecma262/#sec-symbol.for\n  'for': function (key) {\n    var string = String(key);\n    if (has(StringToSymbolRegistry, string)) return StringToSymbolRegistry[string];\n    var symbol = $Symbol(string);\n    StringToSymbolRegistry[string] = symbol;\n    SymbolToStringRegistry[symbol] = string;\n    return symbol;\n  },\n  // `Symbol.keyFor` method\n  // https://tc39.github.io/ecma262/#sec-symbol.keyfor\n  keyFor: function keyFor(sym) {\n    if (!isSymbol(sym)) throw TypeError(sym + ' is not a symbol');\n    if (has(SymbolToStringRegistry, sym)) return SymbolToStringRegistry[sym];\n  },\n  useSetter: function () { USE_SETTER = true; },\n  useSimple: function () { USE_SETTER = false; }\n});\n\n$({ target: 'Object', stat: true, forced: !NATIVE_SYMBOL, sham: !DESCRIPTORS }, {\n  // `Object.create` method\n  // https://tc39.github.io/ecma262/#sec-object.create\n  create: $create,\n  // `Object.defineProperty` method\n  // https://tc39.github.io/ecma262/#sec-object.defineproperty\n  defineProperty: $defineProperty,\n  // `Object.defineProperties` method\n  // https://tc39.github.io/ecma262/#sec-object.defineproperties\n  defineProperties: $defineProperties,\n  // `Object.getOwnPropertyDescriptor` method\n  // https://tc39.github.io/ecma262/#sec-object.getownpropertydescriptors\n  getOwnPropertyDescriptor: $getOwnPropertyDescriptor\n});\n\n$({ target: 'Object', stat: true, forced: !NATIVE_SYMBOL }, {\n  // `Object.getOwnPropertyNames` method\n  // https://tc39.github.io/ecma262/#sec-object.getownpropertynames\n  getOwnPropertyNames: $getOwnPropertyNames,\n  // `Object.getOwnPropertySymbols` method\n  // https://tc39.github.io/ecma262/#sec-object.getownpropertysymbols\n  getOwnPropertySymbols: $getOwnPropertySymbols\n});\n\n// Chrome 38 and 39 `Object.getOwnPropertySymbols` fails on primitives\n// https://bugs.chromium.org/p/v8/issues/detail?id=3443\n$({ target: 'Object', stat: true, forced: fails(function () { getOwnPropertySymbolsModule.f(1); }) }, {\n  getOwnPropertySymbols: function getOwnPropertySymbols(it) {\n    return getOwnPropertySymbolsModule.f(toObject(it));\n  }\n});\n\n// `JSON.stringify` method behavior with symbols\n// https://tc39.github.io/ecma262/#sec-json.stringify\nif ($stringify) {\n  var FORCED_JSON_STRINGIFY = !NATIVE_SYMBOL || fails(function () {\n    var symbol = $Symbol();\n    // MS Edge converts symbol values to JSON as {}\n    return $stringify([symbol]) != '[null]'\n      // WebKit converts symbol values to JSON as null\n      || $stringify({ a: symbol }) != '{}'\n      // V8 throws on boxed symbols\n      || $stringify(Object(symbol)) != '{}';\n  });\n\n  $({ target: 'JSON', stat: true, forced: FORCED_JSON_STRINGIFY }, {\n    // eslint-disable-next-line no-unused-vars\n    stringify: function stringify(it, replacer, space) {\n      var args = [it];\n      var index = 1;\n      var $replacer;\n      while (arguments.length > index) args.push(arguments[index++]);\n      $replacer = replacer;\n      if (!isObject(replacer) && it === undefined || isSymbol(it)) return; // IE8 returns string on undefined\n      if (!isArray(replacer)) replacer = function (key, value) {\n        if (typeof $replacer == 'function') value = $replacer.call(this, key, value);\n        if (!isSymbol(value)) return value;\n      };\n      args[1] = replacer;\n      return $stringify.apply(null, args);\n    }\n  });\n}\n\n// `Symbol.prototype[@@toPrimitive]` method\n// https://tc39.github.io/ecma262/#sec-symbol.prototype-@@toprimitive\nif (!$Symbol[PROTOTYPE][TO_PRIMITIVE]) {\n  createNonEnumerableProperty($Symbol[PROTOTYPE], TO_PRIMITIVE, $Symbol[PROTOTYPE].valueOf);\n}\n// `Symbol.prototype[@@toStringTag]` property\n// https://tc39.github.io/ecma262/#sec-symbol.prototype-@@tostringtag\nsetToStringTag($Symbol, SYMBOL);\n\nhiddenKeys[HIDDEN] = true;\n","module.exports = function () {\n  throw new Error('Readable.from is not available in the browser')\n};\n","var $ = require('../internals/export');\nvar from = require('../internals/array-from');\nvar checkCorrectnessOfIteration = require('../internals/check-correctness-of-iteration');\n\nvar INCORRECT_ITERATION = !checkCorrectnessOfIteration(function (iterable) {\n  Array.from(iterable);\n});\n\n// `Array.from` method\n// https://tc39.github.io/ecma262/#sec-array.from\n$({ target: 'Array', stat: true, forced: INCORRECT_ITERATION }, {\n  from: from\n});\n","'use strict';\nvar fails = require('../internals/fails');\n\nmodule.exports = function (METHOD_NAME, argument) {\n  var method = [][METHOD_NAME];\n  return !!method && fails(function () {\n    // eslint-disable-next-line no-useless-call,no-throw-literal\n    method.call(null, argument || function () { throw 1; }, 1);\n  });\n};\n","class Packet {\n  constructor () {\n    this.cmd = null\n    this.retain = false\n    this.qos = 0\n    this.dup = false\n    this.length = -1\n    this.topic = null\n    this.payload = null\n  }\n}\n\nmodule.exports = Packet\n","'use strict';\n\nmodule.exports = function () {\n  throw new Error(\n    'ws does not work in the browser. Browser clients must use the native ' +\n      'WebSocket object'\n  );\n};\n","var wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar MATCH = wellKnownSymbol('match');\n\nmodule.exports = function (METHOD_NAME) {\n  var regexp = /./;\n  try {\n    '/./'[METHOD_NAME](regexp);\n  } catch (e) {\n    try {\n      regexp[MATCH] = false;\n      return '/./'[METHOD_NAME](regexp);\n    } catch (f) { /* empty */ }\n  } return false;\n};\n","var once = require('once');\n\nvar noop = function() {};\n\nvar isRequest = function(stream) {\n\treturn stream.setHeader && typeof stream.abort === 'function';\n};\n\nvar isChildProcess = function(stream) {\n\treturn stream.stdio && Array.isArray(stream.stdio) && stream.stdio.length === 3\n};\n\nvar eos = function(stream, opts, callback) {\n\tif (typeof opts === 'function') return eos(stream, null, opts);\n\tif (!opts) opts = {};\n\n\tcallback = once(callback || noop);\n\n\tvar ws = stream._writableState;\n\tvar rs = stream._readableState;\n\tvar readable = opts.readable || (opts.readable !== false && stream.readable);\n\tvar writable = opts.writable || (opts.writable !== false && stream.writable);\n\tvar cancelled = false;\n\n\tvar onlegacyfinish = function() {\n\t\tif (!stream.writable) onfinish();\n\t};\n\n\tvar onfinish = function() {\n\t\twritable = false;\n\t\tif (!readable) callback.call(stream);\n\t};\n\n\tvar onend = function() {\n\t\treadable = false;\n\t\tif (!writable) callback.call(stream);\n\t};\n\n\tvar onexit = function(exitCode) {\n\t\tcallback.call(stream, exitCode ? new Error('exited with error code: ' + exitCode) : null);\n\t};\n\n\tvar onerror = function(err) {\n\t\tcallback.call(stream, err);\n\t};\n\n\tvar onclose = function() {\n\t\tprocess.nextTick(onclosenexttick);\n\t};\n\n\tvar onclosenexttick = function() {\n\t\tif (cancelled) return;\n\t\tif (readable && !(rs && (rs.ended && !rs.destroyed))) return callback.call(stream, new Error('premature close'));\n\t\tif (writable && !(ws && (ws.ended && !ws.destroyed))) return callback.call(stream, new Error('premature close'));\n\t};\n\n\tvar onrequest = function() {\n\t\tstream.req.on('finish', onfinish);\n\t};\n\n\tif (isRequest(stream)) {\n\t\tstream.on('complete', onfinish);\n\t\tstream.on('abort', onclose);\n\t\tif (stream.req) onrequest();\n\t\telse stream.on('request', onrequest);\n\t} else if (writable && !ws) { // legacy streams\n\t\tstream.on('end', onlegacyfinish);\n\t\tstream.on('close', onlegacyfinish);\n\t}\n\n\tif (isChildProcess(stream)) stream.on('exit', onexit);\n\n\tstream.on('end', onend);\n\tstream.on('finish', onfinish);\n\tif (opts.error !== false) stream.on('error', onerror);\n\tstream.on('close', onclose);\n\n\treturn function() {\n\t\tcancelled = true;\n\t\tstream.removeListener('complete', onfinish);\n\t\tstream.removeListener('abort', onclose);\n\t\tstream.removeListener('request', onrequest);\n\t\tif (stream.req) stream.req.removeListener('finish', onfinish);\n\t\tstream.removeListener('end', onlegacyfinish);\n\t\tstream.removeListener('close', onlegacyfinish);\n\t\tstream.removeListener('finish', onfinish);\n\t\tstream.removeListener('exit', onexit);\n\t\tstream.removeListener('end', onend);\n\t\tstream.removeListener('error', onerror);\n\t\tstream.removeListener('close', onclose);\n\t};\n};\n\nmodule.exports = eos;\n","'use strict';\nvar anObject = require('../internals/an-object');\n\n// `RegExp.prototype.flags` getter implementation\n// https://tc39.github.io/ecma262/#sec-get-regexp.prototype.flags\nmodule.exports = function () {\n  var that = anObject(this);\n  var result = '';\n  if (that.global) result += 'g';\n  if (that.ignoreCase) result += 'i';\n  if (that.multiline) result += 'm';\n  if (that.dotAll) result += 's';\n  if (that.unicode) result += 'u';\n  if (that.sticky) result += 'y';\n  return result;\n};\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ResourceAdapter = void 0;\nvar __1 = require(\"..\");\nvar support_1 = require(\"./support\");\nvar reject_rpc_1 = require(\"./reject_rpc\");\nvar ResourceAdapter = /** @class */ (function () {\n    function ResourceAdapter(parent, username) {\n        var _this = this;\n        this.parent = parent;\n        this.username = username;\n        this.destroy = function (r) {\n            var client = _this.parent.client;\n            return (client ? _this.doDestroy(client, r.kind, r.id) : reject_rpc_1.rejectRpc());\n        };\n        this.save = function (resource) {\n            var client = _this.parent.client;\n            return (client ? _this.doSave(client, resource) : reject_rpc_1.rejectRpc());\n        };\n        this.destroyAll = function (req) { return Promise.all(req.map(function (r) { return _this.destroy(r); })); };\n        this.doDestroy = function (client, kind, id) {\n            return new Promise(function (res, rej) {\n                var requestId = __1.uuid();\n                _this.parent.on(requestId, support_1.resolveOrReject(res, rej));\n                client.publish(support_1.outboundChanFor(_this.username, \"destroy\", kind, requestId, id), \"\");\n            });\n        };\n        this.doSave = function (client, r) {\n            return new Promise(function (res, rej) {\n                var uid = __1.uuid();\n                _this.parent.on(uid, support_1.resolveOrReject(res, rej));\n                var chan = support_1.outboundChanFor(_this.username, \"save\", r.kind, uid, r.body.id);\n                client.publish(chan, JSON.stringify(r.body));\n            });\n        };\n    }\n    return ResourceAdapter;\n}());\nexports.ResourceAdapter = ResourceAdapter;\n","var DESCRIPTORS = require('../internals/descriptors');\nvar fails = require('../internals/fails');\nvar has = require('../internals/has');\n\nvar defineProperty = Object.defineProperty;\nvar cache = {};\n\nvar thrower = function (it) { throw it; };\n\nmodule.exports = function (METHOD_NAME, options) {\n  if (has(cache, METHOD_NAME)) return cache[METHOD_NAME];\n  if (!options) options = {};\n  var method = [][METHOD_NAME];\n  var ACCESSORS = has(options, 'ACCESSORS') ? options.ACCESSORS : false;\n  var argument0 = has(options, 0) ? options[0] : thrower;\n  var argument1 = has(options, 1) ? options[1] : undefined;\n\n  return cache[METHOD_NAME] = !!method && !fails(function () {\n    if (ACCESSORS && !DESCRIPTORS) return true;\n    var O = { length: -1 };\n\n    if (ACCESSORS) defineProperty(O, 1, { enumerable: true, get: thrower });\n    else O[1] = 1;\n\n    method.call(O, argument0, argument1);\n  });\n};\n","'use strict'\r\n\r\n/**\r\n * Validate a topic to see if it's valid or not.\r\n * A topic is valid if it follow below rules:\r\n * - Rule #1: If any part of the topic is not `+` or `#`, then it must not contain `+` and '#'\r\n * - Rule #2: Part `#` must be located at the end of the mailbox\r\n *\r\n * @param {String} topic - A topic\r\n * @returns {Boolean} If the topic is valid, returns true. Otherwise, returns false.\r\n */\r\nfunction validateTopic (topic) {\r\n  var parts = topic.split('/')\r\n\r\n  for (var i = 0; i < parts.length; i++) {\r\n    if (parts[i] === '+') {\r\n      continue\r\n    }\r\n\r\n    if (parts[i] === '#') {\r\n      // for Rule #2\r\n      return i === parts.length - 1\r\n    }\r\n\r\n    if (parts[i].indexOf('+') !== -1 || parts[i].indexOf('#') !== -1) {\r\n      return false\r\n    }\r\n  }\r\n\r\n  return true\r\n}\r\n\r\n/**\r\n * Validate an array of topics to see if any of them is valid or not\r\n  * @param {Array} topics - Array of topics\r\n * @returns {String} If the topics is valid, returns null. Otherwise, returns the invalid one\r\n */\r\nfunction validateTopics (topics) {\r\n  if (topics.length === 0) {\r\n    return 'empty_topic_list'\r\n  }\r\n  for (var i = 0; i < topics.length; i++) {\r\n    if (!validateTopic(topics[i])) {\r\n      return topics[i]\r\n    }\r\n  }\r\n  return null\r\n}\r\n\r\nmodule.exports = {\r\n  validateTopics: validateTopics\r\n}\r\n","var fails = require('../internals/fails');\n\n// check the existence of a method, lowercase\n// of a tag and escaping quotes in arguments\nmodule.exports = function (METHOD_NAME) {\n  return fails(function () {\n    var test = ''[METHOD_NAME]('\"');\n    return test !== test.toLowerCase() || test.split('\"').length > 3;\n  });\n};\n","var DESCRIPTORS = require('../internals/descriptors');\nvar defineProperty = require('../internals/object-define-property').f;\n\nvar FunctionPrototype = Function.prototype;\nvar FunctionPrototypeToString = FunctionPrototype.toString;\nvar nameRE = /^\\s*function ([^ (]*)/;\nvar NAME = 'name';\n\n// Function instances `.name` property\n// https://tc39.github.io/ecma262/#sec-function-instances-name\nif (DESCRIPTORS && !(NAME in FunctionPrototype)) {\n  defineProperty(FunctionPrototype, NAME, {\n    configurable: true,\n    get: function () {\n      try {\n        return FunctionPrototypeToString.call(this).match(nameRE)[1];\n      } catch (error) {\n        return '';\n      }\n    }\n  });\n}\n","/* Protocol - protocol constants */\nconst protocol = module.exports\n\n/* Command code => mnemonic */\nprotocol.types = {\n  0: 'reserved',\n  1: 'connect',\n  2: 'connack',\n  3: 'publish',\n  4: 'puback',\n  5: 'pubrec',\n  6: 'pubrel',\n  7: 'pubcomp',\n  8: 'subscribe',\n  9: 'suback',\n  10: 'unsubscribe',\n  11: 'unsuback',\n  12: 'pingreq',\n  13: 'pingresp',\n  14: 'disconnect',\n  15: 'auth'\n}\n\n/* Mnemonic => Command code */\nprotocol.codes = {}\nfor (const k in protocol.types) {\n  const v = protocol.types[k]\n  protocol.codes[v] = k\n}\n\n/* Header */\nprotocol.CMD_SHIFT = 4\nprotocol.CMD_MASK = 0xF0\nprotocol.DUP_MASK = 0x08\nprotocol.QOS_MASK = 0x03\nprotocol.QOS_SHIFT = 1\nprotocol.RETAIN_MASK = 0x01\n\n/* Length */\nprotocol.VARBYTEINT_MASK = 0x7F\nprotocol.VARBYTEINT_FIN_MASK = 0x80\nprotocol.VARBYTEINT_MAX = 268435455\n\n/* Connack */\nprotocol.SESSIONPRESENT_MASK = 0x01\nprotocol.SESSIONPRESENT_HEADER = Buffer.from([protocol.SESSIONPRESENT_MASK])\nprotocol.CONNACK_HEADER = Buffer.from([protocol.codes.connack << protocol.CMD_SHIFT])\n\n/* Connect */\nprotocol.USERNAME_MASK = 0x80\nprotocol.PASSWORD_MASK = 0x40\nprotocol.WILL_RETAIN_MASK = 0x20\nprotocol.WILL_QOS_MASK = 0x18\nprotocol.WILL_QOS_SHIFT = 3\nprotocol.WILL_FLAG_MASK = 0x04\nprotocol.CLEAN_SESSION_MASK = 0x02\nprotocol.CONNECT_HEADER = Buffer.from([protocol.codes.connect << protocol.CMD_SHIFT])\n\n/* Properties */\nprotocol.properties = {\n  sessionExpiryInterval: 17,\n  willDelayInterval: 24,\n  receiveMaximum: 33,\n  maximumPacketSize: 39,\n  topicAliasMaximum: 34,\n  requestResponseInformation: 25,\n  requestProblemInformation: 23,\n  userProperties: 38,\n  authenticationMethod: 21,\n  authenticationData: 22,\n  payloadFormatIndicator: 1,\n  messageExpiryInterval: 2,\n  contentType: 3,\n  responseTopic: 8,\n  correlationData: 9,\n  maximumQoS: 36,\n  retainAvailable: 37,\n  assignedClientIdentifier: 18,\n  reasonString: 31,\n  wildcardSubscriptionAvailable: 40,\n  subscriptionIdentifiersAvailable: 41,\n  sharedSubscriptionAvailable: 42,\n  serverKeepAlive: 19,\n  responseInformation: 26,\n  serverReference: 28,\n  topicAlias: 35,\n  subscriptionIdentifier: 11\n}\nprotocol.propertiesCodes = {}\nfor (const prop in protocol.properties) {\n  const id = protocol.properties[prop]\n  protocol.propertiesCodes[id] = prop\n}\nprotocol.propertiesTypes = {\n  sessionExpiryInterval: 'int32',\n  willDelayInterval: 'int32',\n  receiveMaximum: 'int16',\n  maximumPacketSize: 'int32',\n  topicAliasMaximum: 'int16',\n  requestResponseInformation: 'byte',\n  requestProblemInformation: 'byte',\n  userProperties: 'pair',\n  authenticationMethod: 'string',\n  authenticationData: 'binary',\n  payloadFormatIndicator: 'byte',\n  messageExpiryInterval: 'int32',\n  contentType: 'string',\n  responseTopic: 'string',\n  correlationData: 'binary',\n  maximumQoS: 'int8',\n  retainAvailable: 'byte',\n  assignedClientIdentifier: 'string',\n  reasonString: 'string',\n  wildcardSubscriptionAvailable: 'byte',\n  subscriptionIdentifiersAvailable: 'byte',\n  sharedSubscriptionAvailable: 'byte',\n  serverKeepAlive: 'int16',\n  responseInformation: 'string',\n  serverReference: 'string',\n  topicAlias: 'int16',\n  subscriptionIdentifier: 'var'\n}\n\nfunction genHeader (type) {\n  return [0, 1, 2].map(qos => {\n    return [0, 1].map(dup => {\n      return [0, 1].map(retain => {\n        const buf = Buffer.alloc(1)\n        buf.writeUInt8(\n          protocol.codes[type] << protocol.CMD_SHIFT |\n          (dup ? protocol.DUP_MASK : 0) |\n          qos << protocol.QOS_SHIFT | retain, 0, true)\n        return buf\n      })\n    })\n  })\n}\n\n/* Publish */\nprotocol.PUBLISH_HEADER = genHeader('publish')\n\n/* Subscribe */\nprotocol.SUBSCRIBE_HEADER = genHeader('subscribe')\nprotocol.SUBSCRIBE_OPTIONS_QOS_MASK = 0x03\nprotocol.SUBSCRIBE_OPTIONS_NL_MASK = 0x01\nprotocol.SUBSCRIBE_OPTIONS_NL_SHIFT = 2\nprotocol.SUBSCRIBE_OPTIONS_RAP_MASK = 0x01\nprotocol.SUBSCRIBE_OPTIONS_RAP_SHIFT = 3\nprotocol.SUBSCRIBE_OPTIONS_RH_MASK = 0x03\nprotocol.SUBSCRIBE_OPTIONS_RH_SHIFT = 4\nprotocol.SUBSCRIBE_OPTIONS_RH = [0x00, 0x10, 0x20]\nprotocol.SUBSCRIBE_OPTIONS_NL = 0x04\nprotocol.SUBSCRIBE_OPTIONS_RAP = 0x08\nprotocol.SUBSCRIBE_OPTIONS_QOS = [0x00, 0x01, 0x02]\n\n/* Unsubscribe */\nprotocol.UNSUBSCRIBE_HEADER = genHeader('unsubscribe')\n\n/* Confirmations */\nprotocol.ACKS = {\n  unsuback: genHeader('unsuback'),\n  puback: genHeader('puback'),\n  pubcomp: genHeader('pubcomp'),\n  pubrel: genHeader('pubrel'),\n  pubrec: genHeader('pubrec')\n}\n\nprotocol.SUBACK_HEADER = Buffer.from([protocol.codes.suback << protocol.CMD_SHIFT])\n\n/* Protocol versions */\nprotocol.VERSION3 = Buffer.from([3])\nprotocol.VERSION4 = Buffer.from([4])\nprotocol.VERSION5 = Buffer.from([5])\nprotocol.VERSION131 = Buffer.from([131])\nprotocol.VERSION132 = Buffer.from([132])\n\n/* QoS */\nprotocol.QOS = [0, 1, 2].map(qos => {\n  return Buffer.from([qos])\n})\n\n/* Empty packets */\nprotocol.EMPTY = {\n  pingreq: Buffer.from([protocol.codes.pingreq << 4, 0]),\n  pingresp: Buffer.from([protocol.codes.pingresp << 4, 0]),\n  disconnect: Buffer.from([protocol.codes.disconnect << 4, 0])\n}\n","'use strict';\n\nexports.decode = exports.parse = require('./decode');\nexports.encode = exports.stringify = require('./encode');\n","/*!\n * The buffer module from node.js, for the browser.\n *\n * @author   Feross Aboukhadijeh <http://feross.org>\n * @license  MIT\n */\n/* eslint-disable no-proto */\n\n'use strict'\n\nvar base64 = require('base64-js')\nvar ieee754 = require('ieee754')\nvar isArray = require('isarray')\n\nexports.Buffer = Buffer\nexports.SlowBuffer = SlowBuffer\nexports.INSPECT_MAX_BYTES = 50\n\n/**\n * If `Buffer.TYPED_ARRAY_SUPPORT`:\n *   === true    Use Uint8Array implementation (fastest)\n *   === false   Use Object implementation (most compatible, even IE6)\n *\n * Browsers that support typed arrays are IE 10+, Firefox 4+, Chrome 7+, Safari 5.1+,\n * Opera 11.6+, iOS 4.2+.\n *\n * Due to various browser bugs, sometimes the Object implementation will be used even\n * when the browser supports typed arrays.\n *\n * Note:\n *\n *   - Firefox 4-29 lacks support for adding new properties to `Uint8Array` instances,\n *     See: https://bugzilla.mozilla.org/show_bug.cgi?id=695438.\n *\n *   - Chrome 9-10 is missing the `TypedArray.prototype.subarray` function.\n *\n *   - IE10 has a broken `TypedArray.prototype.subarray` function which returns arrays of\n *     incorrect length in some situations.\n\n * We detect these buggy browsers and set `Buffer.TYPED_ARRAY_SUPPORT` to `false` so they\n * get the Object implementation, which is slower but behaves correctly.\n */\nBuffer.TYPED_ARRAY_SUPPORT = global.TYPED_ARRAY_SUPPORT !== undefined\n  ? global.TYPED_ARRAY_SUPPORT\n  : typedArraySupport()\n\n/*\n * Export kMaxLength after typed array support is determined.\n */\nexports.kMaxLength = kMaxLength()\n\nfunction typedArraySupport () {\n  try {\n    var arr = new Uint8Array(1)\n    arr.__proto__ = {__proto__: Uint8Array.prototype, foo: function () { return 42 }}\n    return arr.foo() === 42 && // typed array instances can be augmented\n        typeof arr.subarray === 'function' && // chrome 9-10 lack `subarray`\n        arr.subarray(1, 1).byteLength === 0 // ie10 has broken `subarray`\n  } catch (e) {\n    return false\n  }\n}\n\nfunction kMaxLength () {\n  return Buffer.TYPED_ARRAY_SUPPORT\n    ? 0x7fffffff\n    : 0x3fffffff\n}\n\nfunction createBuffer (that, length) {\n  if (kMaxLength() < length) {\n    throw new RangeError('Invalid typed array length')\n  }\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    // Return an augmented `Uint8Array` instance, for best performance\n    that = new Uint8Array(length)\n    that.__proto__ = Buffer.prototype\n  } else {\n    // Fallback: Return an object instance of the Buffer class\n    if (that === null) {\n      that = new Buffer(length)\n    }\n    that.length = length\n  }\n\n  return that\n}\n\n/**\n * The Buffer constructor returns instances of `Uint8Array` that have their\n * prototype changed to `Buffer.prototype`. Furthermore, `Buffer` is a subclass of\n * `Uint8Array`, so the returned instances will have all the node `Buffer` methods\n * and the `Uint8Array` methods. Square bracket notation works as expected -- it\n * returns a single octet.\n *\n * The `Uint8Array` prototype remains unmodified.\n */\n\nfunction Buffer (arg, encodingOrOffset, length) {\n  if (!Buffer.TYPED_ARRAY_SUPPORT && !(this instanceof Buffer)) {\n    return new Buffer(arg, encodingOrOffset, length)\n  }\n\n  // Common case.\n  if (typeof arg === 'number') {\n    if (typeof encodingOrOffset === 'string') {\n      throw new Error(\n        'If encoding is specified then the first argument must be a string'\n      )\n    }\n    return allocUnsafe(this, arg)\n  }\n  return from(this, arg, encodingOrOffset, length)\n}\n\nBuffer.poolSize = 8192 // not used by this implementation\n\n// TODO: Legacy, not needed anymore. Remove in next major version.\nBuffer._augment = function (arr) {\n  arr.__proto__ = Buffer.prototype\n  return arr\n}\n\nfunction from (that, value, encodingOrOffset, length) {\n  if (typeof value === 'number') {\n    throw new TypeError('\"value\" argument must not be a number')\n  }\n\n  if (typeof ArrayBuffer !== 'undefined' && value instanceof ArrayBuffer) {\n    return fromArrayBuffer(that, value, encodingOrOffset, length)\n  }\n\n  if (typeof value === 'string') {\n    return fromString(that, value, encodingOrOffset)\n  }\n\n  return fromObject(that, value)\n}\n\n/**\n * Functionally equivalent to Buffer(arg, encoding) but throws a TypeError\n * if value is a number.\n * Buffer.from(str[, encoding])\n * Buffer.from(array)\n * Buffer.from(buffer)\n * Buffer.from(arrayBuffer[, byteOffset[, length]])\n **/\nBuffer.from = function (value, encodingOrOffset, length) {\n  return from(null, value, encodingOrOffset, length)\n}\n\nif (Buffer.TYPED_ARRAY_SUPPORT) {\n  Buffer.prototype.__proto__ = Uint8Array.prototype\n  Buffer.__proto__ = Uint8Array\n  if (typeof Symbol !== 'undefined' && Symbol.species &&\n      Buffer[Symbol.species] === Buffer) {\n    // Fix subarray() in ES2016. See: https://github.com/feross/buffer/pull/97\n    Object.defineProperty(Buffer, Symbol.species, {\n      value: null,\n      configurable: true\n    })\n  }\n}\n\nfunction assertSize (size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('\"size\" argument must be a number')\n  } else if (size < 0) {\n    throw new RangeError('\"size\" argument must not be negative')\n  }\n}\n\nfunction alloc (that, size, fill, encoding) {\n  assertSize(size)\n  if (size <= 0) {\n    return createBuffer(that, size)\n  }\n  if (fill !== undefined) {\n    // Only pay attention to encoding if it's a string. This\n    // prevents accidentally sending in a number that would\n    // be interpretted as a start offset.\n    return typeof encoding === 'string'\n      ? createBuffer(that, size).fill(fill, encoding)\n      : createBuffer(that, size).fill(fill)\n  }\n  return createBuffer(that, size)\n}\n\n/**\n * Creates a new filled Buffer instance.\n * alloc(size[, fill[, encoding]])\n **/\nBuffer.alloc = function (size, fill, encoding) {\n  return alloc(null, size, fill, encoding)\n}\n\nfunction allocUnsafe (that, size) {\n  assertSize(size)\n  that = createBuffer(that, size < 0 ? 0 : checked(size) | 0)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) {\n    for (var i = 0; i < size; ++i) {\n      that[i] = 0\n    }\n  }\n  return that\n}\n\n/**\n * Equivalent to Buffer(num), by default creates a non-zero-filled Buffer instance.\n * */\nBuffer.allocUnsafe = function (size) {\n  return allocUnsafe(null, size)\n}\n/**\n * Equivalent to SlowBuffer(num), by default creates a non-zero-filled Buffer instance.\n */\nBuffer.allocUnsafeSlow = function (size) {\n  return allocUnsafe(null, size)\n}\n\nfunction fromString (that, string, encoding) {\n  if (typeof encoding !== 'string' || encoding === '') {\n    encoding = 'utf8'\n  }\n\n  if (!Buffer.isEncoding(encoding)) {\n    throw new TypeError('\"encoding\" must be a valid string encoding')\n  }\n\n  var length = byteLength(string, encoding) | 0\n  that = createBuffer(that, length)\n\n  var actual = that.write(string, encoding)\n\n  if (actual !== length) {\n    // Writing a hex string, for example, that contains invalid characters will\n    // cause everything after the first invalid character to be ignored. (e.g.\n    // 'abxxcd' will be treated as 'ab')\n    that = that.slice(0, actual)\n  }\n\n  return that\n}\n\nfunction fromArrayLike (that, array) {\n  var length = array.length < 0 ? 0 : checked(array.length) | 0\n  that = createBuffer(that, length)\n  for (var i = 0; i < length; i += 1) {\n    that[i] = array[i] & 255\n  }\n  return that\n}\n\nfunction fromArrayBuffer (that, array, byteOffset, length) {\n  array.byteLength // this throws if `array` is not a valid ArrayBuffer\n\n  if (byteOffset < 0 || array.byteLength < byteOffset) {\n    throw new RangeError('\\'offset\\' is out of bounds')\n  }\n\n  if (array.byteLength < byteOffset + (length || 0)) {\n    throw new RangeError('\\'length\\' is out of bounds')\n  }\n\n  if (byteOffset === undefined && length === undefined) {\n    array = new Uint8Array(array)\n  } else if (length === undefined) {\n    array = new Uint8Array(array, byteOffset)\n  } else {\n    array = new Uint8Array(array, byteOffset, length)\n  }\n\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    // Return an augmented `Uint8Array` instance, for best performance\n    that = array\n    that.__proto__ = Buffer.prototype\n  } else {\n    // Fallback: Return an object instance of the Buffer class\n    that = fromArrayLike(that, array)\n  }\n  return that\n}\n\nfunction fromObject (that, obj) {\n  if (Buffer.isBuffer(obj)) {\n    var len = checked(obj.length) | 0\n    that = createBuffer(that, len)\n\n    if (that.length === 0) {\n      return that\n    }\n\n    obj.copy(that, 0, 0, len)\n    return that\n  }\n\n  if (obj) {\n    if ((typeof ArrayBuffer !== 'undefined' &&\n        obj.buffer instanceof ArrayBuffer) || 'length' in obj) {\n      if (typeof obj.length !== 'number' || isnan(obj.length)) {\n        return createBuffer(that, 0)\n      }\n      return fromArrayLike(that, obj)\n    }\n\n    if (obj.type === 'Buffer' && isArray(obj.data)) {\n      return fromArrayLike(that, obj.data)\n    }\n  }\n\n  throw new TypeError('First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.')\n}\n\nfunction checked (length) {\n  // Note: cannot use `length < kMaxLength()` here because that fails when\n  // length is NaN (which is otherwise coerced to zero.)\n  if (length >= kMaxLength()) {\n    throw new RangeError('Attempt to allocate Buffer larger than maximum ' +\n                         'size: 0x' + kMaxLength().toString(16) + ' bytes')\n  }\n  return length | 0\n}\n\nfunction SlowBuffer (length) {\n  if (+length != length) { // eslint-disable-line eqeqeq\n    length = 0\n  }\n  return Buffer.alloc(+length)\n}\n\nBuffer.isBuffer = function isBuffer (b) {\n  return !!(b != null && b._isBuffer)\n}\n\nBuffer.compare = function compare (a, b) {\n  if (!Buffer.isBuffer(a) || !Buffer.isBuffer(b)) {\n    throw new TypeError('Arguments must be Buffers')\n  }\n\n  if (a === b) return 0\n\n  var x = a.length\n  var y = b.length\n\n  for (var i = 0, len = Math.min(x, y); i < len; ++i) {\n    if (a[i] !== b[i]) {\n      x = a[i]\n      y = b[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\nBuffer.isEncoding = function isEncoding (encoding) {\n  switch (String(encoding).toLowerCase()) {\n    case 'hex':\n    case 'utf8':\n    case 'utf-8':\n    case 'ascii':\n    case 'latin1':\n    case 'binary':\n    case 'base64':\n    case 'ucs2':\n    case 'ucs-2':\n    case 'utf16le':\n    case 'utf-16le':\n      return true\n    default:\n      return false\n  }\n}\n\nBuffer.concat = function concat (list, length) {\n  if (!isArray(list)) {\n    throw new TypeError('\"list\" argument must be an Array of Buffers')\n  }\n\n  if (list.length === 0) {\n    return Buffer.alloc(0)\n  }\n\n  var i\n  if (length === undefined) {\n    length = 0\n    for (i = 0; i < list.length; ++i) {\n      length += list[i].length\n    }\n  }\n\n  var buffer = Buffer.allocUnsafe(length)\n  var pos = 0\n  for (i = 0; i < list.length; ++i) {\n    var buf = list[i]\n    if (!Buffer.isBuffer(buf)) {\n      throw new TypeError('\"list\" argument must be an Array of Buffers')\n    }\n    buf.copy(buffer, pos)\n    pos += buf.length\n  }\n  return buffer\n}\n\nfunction byteLength (string, encoding) {\n  if (Buffer.isBuffer(string)) {\n    return string.length\n  }\n  if (typeof ArrayBuffer !== 'undefined' && typeof ArrayBuffer.isView === 'function' &&\n      (ArrayBuffer.isView(string) || string instanceof ArrayBuffer)) {\n    return string.byteLength\n  }\n  if (typeof string !== 'string') {\n    string = '' + string\n  }\n\n  var len = string.length\n  if (len === 0) return 0\n\n  // Use a for loop to avoid recursion\n  var loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'ascii':\n      case 'latin1':\n      case 'binary':\n        return len\n      case 'utf8':\n      case 'utf-8':\n      case undefined:\n        return utf8ToBytes(string).length\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return len * 2\n      case 'hex':\n        return len >>> 1\n      case 'base64':\n        return base64ToBytes(string).length\n      default:\n        if (loweredCase) return utf8ToBytes(string).length // assume utf8\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\nBuffer.byteLength = byteLength\n\nfunction slowToString (encoding, start, end) {\n  var loweredCase = false\n\n  // No need to verify that \"this.length <= MAX_UINT32\" since it's a read-only\n  // property of a typed array.\n\n  // This behaves neither like String nor Uint8Array in that we set start/end\n  // to their upper/lower bounds if the value passed is out of range.\n  // undefined is handled specially as per ECMA-262 6th Edition,\n  // Section 13.3.3.7 Runtime Semantics: KeyedBindingInitialization.\n  if (start === undefined || start < 0) {\n    start = 0\n  }\n  // Return early if start > this.length. Done here to prevent potential uint32\n  // coercion fail below.\n  if (start > this.length) {\n    return ''\n  }\n\n  if (end === undefined || end > this.length) {\n    end = this.length\n  }\n\n  if (end <= 0) {\n    return ''\n  }\n\n  // Force coersion to uint32. This will also coerce falsey/NaN values to 0.\n  end >>>= 0\n  start >>>= 0\n\n  if (end <= start) {\n    return ''\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  while (true) {\n    switch (encoding) {\n      case 'hex':\n        return hexSlice(this, start, end)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Slice(this, start, end)\n\n      case 'ascii':\n        return asciiSlice(this, start, end)\n\n      case 'latin1':\n      case 'binary':\n        return latin1Slice(this, start, end)\n\n      case 'base64':\n        return base64Slice(this, start, end)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return utf16leSlice(this, start, end)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = (encoding + '').toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\n// The property is used by `Buffer.isBuffer` and `is-buffer` (in Safari 5-7) to detect\n// Buffer instances.\nBuffer.prototype._isBuffer = true\n\nfunction swap (b, n, m) {\n  var i = b[n]\n  b[n] = b[m]\n  b[m] = i\n}\n\nBuffer.prototype.swap16 = function swap16 () {\n  var len = this.length\n  if (len % 2 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 16-bits')\n  }\n  for (var i = 0; i < len; i += 2) {\n    swap(this, i, i + 1)\n  }\n  return this\n}\n\nBuffer.prototype.swap32 = function swap32 () {\n  var len = this.length\n  if (len % 4 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 32-bits')\n  }\n  for (var i = 0; i < len; i += 4) {\n    swap(this, i, i + 3)\n    swap(this, i + 1, i + 2)\n  }\n  return this\n}\n\nBuffer.prototype.swap64 = function swap64 () {\n  var len = this.length\n  if (len % 8 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 64-bits')\n  }\n  for (var i = 0; i < len; i += 8) {\n    swap(this, i, i + 7)\n    swap(this, i + 1, i + 6)\n    swap(this, i + 2, i + 5)\n    swap(this, i + 3, i + 4)\n  }\n  return this\n}\n\nBuffer.prototype.toString = function toString () {\n  var length = this.length | 0\n  if (length === 0) return ''\n  if (arguments.length === 0) return utf8Slice(this, 0, length)\n  return slowToString.apply(this, arguments)\n}\n\nBuffer.prototype.equals = function equals (b) {\n  if (!Buffer.isBuffer(b)) throw new TypeError('Argument must be a Buffer')\n  if (this === b) return true\n  return Buffer.compare(this, b) === 0\n}\n\nBuffer.prototype.inspect = function inspect () {\n  var str = ''\n  var max = exports.INSPECT_MAX_BYTES\n  if (this.length > 0) {\n    str = this.toString('hex', 0, max).match(/.{2}/g).join(' ')\n    if (this.length > max) str += ' ... '\n  }\n  return '<Buffer ' + str + '>'\n}\n\nBuffer.prototype.compare = function compare (target, start, end, thisStart, thisEnd) {\n  if (!Buffer.isBuffer(target)) {\n    throw new TypeError('Argument must be a Buffer')\n  }\n\n  if (start === undefined) {\n    start = 0\n  }\n  if (end === undefined) {\n    end = target ? target.length : 0\n  }\n  if (thisStart === undefined) {\n    thisStart = 0\n  }\n  if (thisEnd === undefined) {\n    thisEnd = this.length\n  }\n\n  if (start < 0 || end > target.length || thisStart < 0 || thisEnd > this.length) {\n    throw new RangeError('out of range index')\n  }\n\n  if (thisStart >= thisEnd && start >= end) {\n    return 0\n  }\n  if (thisStart >= thisEnd) {\n    return -1\n  }\n  if (start >= end) {\n    return 1\n  }\n\n  start >>>= 0\n  end >>>= 0\n  thisStart >>>= 0\n  thisEnd >>>= 0\n\n  if (this === target) return 0\n\n  var x = thisEnd - thisStart\n  var y = end - start\n  var len = Math.min(x, y)\n\n  var thisCopy = this.slice(thisStart, thisEnd)\n  var targetCopy = target.slice(start, end)\n\n  for (var i = 0; i < len; ++i) {\n    if (thisCopy[i] !== targetCopy[i]) {\n      x = thisCopy[i]\n      y = targetCopy[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\n// Finds either the first index of `val` in `buffer` at offset >= `byteOffset`,\n// OR the last index of `val` in `buffer` at offset <= `byteOffset`.\n//\n// Arguments:\n// - buffer - a Buffer to search\n// - val - a string, Buffer, or number\n// - byteOffset - an index into `buffer`; will be clamped to an int32\n// - encoding - an optional encoding, relevant is val is a string\n// - dir - true for indexOf, false for lastIndexOf\nfunction bidirectionalIndexOf (buffer, val, byteOffset, encoding, dir) {\n  // Empty buffer means no match\n  if (buffer.length === 0) return -1\n\n  // Normalize byteOffset\n  if (typeof byteOffset === 'string') {\n    encoding = byteOffset\n    byteOffset = 0\n  } else if (byteOffset > 0x7fffffff) {\n    byteOffset = 0x7fffffff\n  } else if (byteOffset < -0x80000000) {\n    byteOffset = -0x80000000\n  }\n  byteOffset = +byteOffset  // Coerce to Number.\n  if (isNaN(byteOffset)) {\n    // byteOffset: it it's undefined, null, NaN, \"foo\", etc, search whole buffer\n    byteOffset = dir ? 0 : (buffer.length - 1)\n  }\n\n  // Normalize byteOffset: negative offsets start from the end of the buffer\n  if (byteOffset < 0) byteOffset = buffer.length + byteOffset\n  if (byteOffset >= buffer.length) {\n    if (dir) return -1\n    else byteOffset = buffer.length - 1\n  } else if (byteOffset < 0) {\n    if (dir) byteOffset = 0\n    else return -1\n  }\n\n  // Normalize val\n  if (typeof val === 'string') {\n    val = Buffer.from(val, encoding)\n  }\n\n  // Finally, search either indexOf (if dir is true) or lastIndexOf\n  if (Buffer.isBuffer(val)) {\n    // Special case: looking for empty string/buffer always fails\n    if (val.length === 0) {\n      return -1\n    }\n    return arrayIndexOf(buffer, val, byteOffset, encoding, dir)\n  } else if (typeof val === 'number') {\n    val = val & 0xFF // Search for a byte value [0-255]\n    if (Buffer.TYPED_ARRAY_SUPPORT &&\n        typeof Uint8Array.prototype.indexOf === 'function') {\n      if (dir) {\n        return Uint8Array.prototype.indexOf.call(buffer, val, byteOffset)\n      } else {\n        return Uint8Array.prototype.lastIndexOf.call(buffer, val, byteOffset)\n      }\n    }\n    return arrayIndexOf(buffer, [ val ], byteOffset, encoding, dir)\n  }\n\n  throw new TypeError('val must be string, number or Buffer')\n}\n\nfunction arrayIndexOf (arr, val, byteOffset, encoding, dir) {\n  var indexSize = 1\n  var arrLength = arr.length\n  var valLength = val.length\n\n  if (encoding !== undefined) {\n    encoding = String(encoding).toLowerCase()\n    if (encoding === 'ucs2' || encoding === 'ucs-2' ||\n        encoding === 'utf16le' || encoding === 'utf-16le') {\n      if (arr.length < 2 || val.length < 2) {\n        return -1\n      }\n      indexSize = 2\n      arrLength /= 2\n      valLength /= 2\n      byteOffset /= 2\n    }\n  }\n\n  function read (buf, i) {\n    if (indexSize === 1) {\n      return buf[i]\n    } else {\n      return buf.readUInt16BE(i * indexSize)\n    }\n  }\n\n  var i\n  if (dir) {\n    var foundIndex = -1\n    for (i = byteOffset; i < arrLength; i++) {\n      if (read(arr, i) === read(val, foundIndex === -1 ? 0 : i - foundIndex)) {\n        if (foundIndex === -1) foundIndex = i\n        if (i - foundIndex + 1 === valLength) return foundIndex * indexSize\n      } else {\n        if (foundIndex !== -1) i -= i - foundIndex\n        foundIndex = -1\n      }\n    }\n  } else {\n    if (byteOffset + valLength > arrLength) byteOffset = arrLength - valLength\n    for (i = byteOffset; i >= 0; i--) {\n      var found = true\n      for (var j = 0; j < valLength; j++) {\n        if (read(arr, i + j) !== read(val, j)) {\n          found = false\n          break\n        }\n      }\n      if (found) return i\n    }\n  }\n\n  return -1\n}\n\nBuffer.prototype.includes = function includes (val, byteOffset, encoding) {\n  return this.indexOf(val, byteOffset, encoding) !== -1\n}\n\nBuffer.prototype.indexOf = function indexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, true)\n}\n\nBuffer.prototype.lastIndexOf = function lastIndexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, false)\n}\n\nfunction hexWrite (buf, string, offset, length) {\n  offset = Number(offset) || 0\n  var remaining = buf.length - offset\n  if (!length) {\n    length = remaining\n  } else {\n    length = Number(length)\n    if (length > remaining) {\n      length = remaining\n    }\n  }\n\n  // must be an even number of digits\n  var strLen = string.length\n  if (strLen % 2 !== 0) throw new TypeError('Invalid hex string')\n\n  if (length > strLen / 2) {\n    length = strLen / 2\n  }\n  for (var i = 0; i < length; ++i) {\n    var parsed = parseInt(string.substr(i * 2, 2), 16)\n    if (isNaN(parsed)) return i\n    buf[offset + i] = parsed\n  }\n  return i\n}\n\nfunction utf8Write (buf, string, offset, length) {\n  return blitBuffer(utf8ToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nfunction asciiWrite (buf, string, offset, length) {\n  return blitBuffer(asciiToBytes(string), buf, offset, length)\n}\n\nfunction latin1Write (buf, string, offset, length) {\n  return asciiWrite(buf, string, offset, length)\n}\n\nfunction base64Write (buf, string, offset, length) {\n  return blitBuffer(base64ToBytes(string), buf, offset, length)\n}\n\nfunction ucs2Write (buf, string, offset, length) {\n  return blitBuffer(utf16leToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nBuffer.prototype.write = function write (string, offset, length, encoding) {\n  // Buffer#write(string)\n  if (offset === undefined) {\n    encoding = 'utf8'\n    length = this.length\n    offset = 0\n  // Buffer#write(string, encoding)\n  } else if (length === undefined && typeof offset === 'string') {\n    encoding = offset\n    length = this.length\n    offset = 0\n  // Buffer#write(string, offset[, length][, encoding])\n  } else if (isFinite(offset)) {\n    offset = offset | 0\n    if (isFinite(length)) {\n      length = length | 0\n      if (encoding === undefined) encoding = 'utf8'\n    } else {\n      encoding = length\n      length = undefined\n    }\n  // legacy write(string, encoding, offset, length) - remove in v0.13\n  } else {\n    throw new Error(\n      'Buffer.write(string, encoding, offset[, length]) is no longer supported'\n    )\n  }\n\n  var remaining = this.length - offset\n  if (length === undefined || length > remaining) length = remaining\n\n  if ((string.length > 0 && (length < 0 || offset < 0)) || offset > this.length) {\n    throw new RangeError('Attempt to write outside buffer bounds')\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  var loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'hex':\n        return hexWrite(this, string, offset, length)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Write(this, string, offset, length)\n\n      case 'ascii':\n        return asciiWrite(this, string, offset, length)\n\n      case 'latin1':\n      case 'binary':\n        return latin1Write(this, string, offset, length)\n\n      case 'base64':\n        // Warning: maxLength not taken into account in base64Write\n        return base64Write(this, string, offset, length)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return ucs2Write(this, string, offset, length)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\nBuffer.prototype.toJSON = function toJSON () {\n  return {\n    type: 'Buffer',\n    data: Array.prototype.slice.call(this._arr || this, 0)\n  }\n}\n\nfunction base64Slice (buf, start, end) {\n  if (start === 0 && end === buf.length) {\n    return base64.fromByteArray(buf)\n  } else {\n    return base64.fromByteArray(buf.slice(start, end))\n  }\n}\n\nfunction utf8Slice (buf, start, end) {\n  end = Math.min(buf.length, end)\n  var res = []\n\n  var i = start\n  while (i < end) {\n    var firstByte = buf[i]\n    var codePoint = null\n    var bytesPerSequence = (firstByte > 0xEF) ? 4\n      : (firstByte > 0xDF) ? 3\n      : (firstByte > 0xBF) ? 2\n      : 1\n\n    if (i + bytesPerSequence <= end) {\n      var secondByte, thirdByte, fourthByte, tempCodePoint\n\n      switch (bytesPerSequence) {\n        case 1:\n          if (firstByte < 0x80) {\n            codePoint = firstByte\n          }\n          break\n        case 2:\n          secondByte = buf[i + 1]\n          if ((secondByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0x1F) << 0x6 | (secondByte & 0x3F)\n            if (tempCodePoint > 0x7F) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 3:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0xC | (secondByte & 0x3F) << 0x6 | (thirdByte & 0x3F)\n            if (tempCodePoint > 0x7FF && (tempCodePoint < 0xD800 || tempCodePoint > 0xDFFF)) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 4:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          fourthByte = buf[i + 3]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80 && (fourthByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0x12 | (secondByte & 0x3F) << 0xC | (thirdByte & 0x3F) << 0x6 | (fourthByte & 0x3F)\n            if (tempCodePoint > 0xFFFF && tempCodePoint < 0x110000) {\n              codePoint = tempCodePoint\n            }\n          }\n      }\n    }\n\n    if (codePoint === null) {\n      // we did not generate a valid codePoint so insert a\n      // replacement char (U+FFFD) and advance only 1 byte\n      codePoint = 0xFFFD\n      bytesPerSequence = 1\n    } else if (codePoint > 0xFFFF) {\n      // encode to utf16 (surrogate pair dance)\n      codePoint -= 0x10000\n      res.push(codePoint >>> 10 & 0x3FF | 0xD800)\n      codePoint = 0xDC00 | codePoint & 0x3FF\n    }\n\n    res.push(codePoint)\n    i += bytesPerSequence\n  }\n\n  return decodeCodePointsArray(res)\n}\n\n// Based on http://stackoverflow.com/a/22747272/680742, the browser with\n// the lowest limit is Chrome, with 0x10000 args.\n// We go 1 magnitude less, for safety\nvar MAX_ARGUMENTS_LENGTH = 0x1000\n\nfunction decodeCodePointsArray (codePoints) {\n  var len = codePoints.length\n  if (len <= MAX_ARGUMENTS_LENGTH) {\n    return String.fromCharCode.apply(String, codePoints) // avoid extra slice()\n  }\n\n  // Decode in chunks to avoid \"call stack size exceeded\".\n  var res = ''\n  var i = 0\n  while (i < len) {\n    res += String.fromCharCode.apply(\n      String,\n      codePoints.slice(i, i += MAX_ARGUMENTS_LENGTH)\n    )\n  }\n  return res\n}\n\nfunction asciiSlice (buf, start, end) {\n  var ret = ''\n  end = Math.min(buf.length, end)\n\n  for (var i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i] & 0x7F)\n  }\n  return ret\n}\n\nfunction latin1Slice (buf, start, end) {\n  var ret = ''\n  end = Math.min(buf.length, end)\n\n  for (var i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i])\n  }\n  return ret\n}\n\nfunction hexSlice (buf, start, end) {\n  var len = buf.length\n\n  if (!start || start < 0) start = 0\n  if (!end || end < 0 || end > len) end = len\n\n  var out = ''\n  for (var i = start; i < end; ++i) {\n    out += toHex(buf[i])\n  }\n  return out\n}\n\nfunction utf16leSlice (buf, start, end) {\n  var bytes = buf.slice(start, end)\n  var res = ''\n  for (var i = 0; i < bytes.length; i += 2) {\n    res += String.fromCharCode(bytes[i] + bytes[i + 1] * 256)\n  }\n  return res\n}\n\nBuffer.prototype.slice = function slice (start, end) {\n  var len = this.length\n  start = ~~start\n  end = end === undefined ? len : ~~end\n\n  if (start < 0) {\n    start += len\n    if (start < 0) start = 0\n  } else if (start > len) {\n    start = len\n  }\n\n  if (end < 0) {\n    end += len\n    if (end < 0) end = 0\n  } else if (end > len) {\n    end = len\n  }\n\n  if (end < start) end = start\n\n  var newBuf\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    newBuf = this.subarray(start, end)\n    newBuf.__proto__ = Buffer.prototype\n  } else {\n    var sliceLen = end - start\n    newBuf = new Buffer(sliceLen, undefined)\n    for (var i = 0; i < sliceLen; ++i) {\n      newBuf[i] = this[i + start]\n    }\n  }\n\n  return newBuf\n}\n\n/*\n * Need to make sure that buffer isn't trying to write out of bounds.\n */\nfunction checkOffset (offset, ext, length) {\n  if ((offset % 1) !== 0 || offset < 0) throw new RangeError('offset is not uint')\n  if (offset + ext > length) throw new RangeError('Trying to access beyond buffer length')\n}\n\nBuffer.prototype.readUIntLE = function readUIntLE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var val = this[offset]\n  var mul = 1\n  var i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUIntBE = function readUIntBE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    checkOffset(offset, byteLength, this.length)\n  }\n\n  var val = this[offset + --byteLength]\n  var mul = 1\n  while (byteLength > 0 && (mul *= 0x100)) {\n    val += this[offset + --byteLength] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUInt8 = function readUInt8 (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  return this[offset]\n}\n\nBuffer.prototype.readUInt16LE = function readUInt16LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return this[offset] | (this[offset + 1] << 8)\n}\n\nBuffer.prototype.readUInt16BE = function readUInt16BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return (this[offset] << 8) | this[offset + 1]\n}\n\nBuffer.prototype.readUInt32LE = function readUInt32LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return ((this[offset]) |\n      (this[offset + 1] << 8) |\n      (this[offset + 2] << 16)) +\n      (this[offset + 3] * 0x1000000)\n}\n\nBuffer.prototype.readUInt32BE = function readUInt32BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] * 0x1000000) +\n    ((this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    this[offset + 3])\n}\n\nBuffer.prototype.readIntLE = function readIntLE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var val = this[offset]\n  var mul = 1\n  var i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readIntBE = function readIntBE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var i = byteLength\n  var mul = 1\n  var val = this[offset + --i]\n  while (i > 0 && (mul *= 0x100)) {\n    val += this[offset + --i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readInt8 = function readInt8 (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  if (!(this[offset] & 0x80)) return (this[offset])\n  return ((0xff - this[offset] + 1) * -1)\n}\n\nBuffer.prototype.readInt16LE = function readInt16LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  var val = this[offset] | (this[offset + 1] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt16BE = function readInt16BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  var val = this[offset + 1] | (this[offset] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt32LE = function readInt32LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset]) |\n    (this[offset + 1] << 8) |\n    (this[offset + 2] << 16) |\n    (this[offset + 3] << 24)\n}\n\nBuffer.prototype.readInt32BE = function readInt32BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] << 24) |\n    (this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    (this[offset + 3])\n}\n\nBuffer.prototype.readFloatLE = function readFloatLE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, true, 23, 4)\n}\n\nBuffer.prototype.readFloatBE = function readFloatBE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, false, 23, 4)\n}\n\nBuffer.prototype.readDoubleLE = function readDoubleLE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, true, 52, 8)\n}\n\nBuffer.prototype.readDoubleBE = function readDoubleBE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, false, 52, 8)\n}\n\nfunction checkInt (buf, value, offset, ext, max, min) {\n  if (!Buffer.isBuffer(buf)) throw new TypeError('\"buffer\" argument must be a Buffer instance')\n  if (value > max || value < min) throw new RangeError('\"value\" argument is out of bounds')\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n}\n\nBuffer.prototype.writeUIntLE = function writeUIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    var maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  var mul = 1\n  var i = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUIntBE = function writeUIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    var maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  var i = byteLength - 1\n  var mul = 1\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUInt8 = function writeUInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0xff, 0)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value)\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nfunction objectWriteUInt16 (buf, value, offset, littleEndian) {\n  if (value < 0) value = 0xffff + value + 1\n  for (var i = 0, j = Math.min(buf.length - offset, 2); i < j; ++i) {\n    buf[offset + i] = (value & (0xff << (8 * (littleEndian ? i : 1 - i)))) >>>\n      (littleEndian ? i : 1 - i) * 8\n  }\n}\n\nBuffer.prototype.writeUInt16LE = function writeUInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n  } else {\n    objectWriteUInt16(this, value, offset, true)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeUInt16BE = function writeUInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 8)\n    this[offset + 1] = (value & 0xff)\n  } else {\n    objectWriteUInt16(this, value, offset, false)\n  }\n  return offset + 2\n}\n\nfunction objectWriteUInt32 (buf, value, offset, littleEndian) {\n  if (value < 0) value = 0xffffffff + value + 1\n  for (var i = 0, j = Math.min(buf.length - offset, 4); i < j; ++i) {\n    buf[offset + i] = (value >>> (littleEndian ? i : 3 - i) * 8) & 0xff\n  }\n}\n\nBuffer.prototype.writeUInt32LE = function writeUInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset + 3] = (value >>> 24)\n    this[offset + 2] = (value >>> 16)\n    this[offset + 1] = (value >>> 8)\n    this[offset] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, true)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeUInt32BE = function writeUInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 24)\n    this[offset + 1] = (value >>> 16)\n    this[offset + 2] = (value >>> 8)\n    this[offset + 3] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, false)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeIntLE = function writeIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) {\n    var limit = Math.pow(2, 8 * byteLength - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  var i = 0\n  var mul = 1\n  var sub = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i - 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeIntBE = function writeIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) {\n    var limit = Math.pow(2, 8 * byteLength - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  var i = byteLength - 1\n  var mul = 1\n  var sub = 0\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i + 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeInt8 = function writeInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0x7f, -0x80)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value)\n  if (value < 0) value = 0xff + value + 1\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nBuffer.prototype.writeInt16LE = function writeInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n  } else {\n    objectWriteUInt16(this, value, offset, true)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeInt16BE = function writeInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 8)\n    this[offset + 1] = (value & 0xff)\n  } else {\n    objectWriteUInt16(this, value, offset, false)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeInt32LE = function writeInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n    this[offset + 2] = (value >>> 16)\n    this[offset + 3] = (value >>> 24)\n  } else {\n    objectWriteUInt32(this, value, offset, true)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeInt32BE = function writeInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (value < 0) value = 0xffffffff + value + 1\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 24)\n    this[offset + 1] = (value >>> 16)\n    this[offset + 2] = (value >>> 8)\n    this[offset + 3] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, false)\n  }\n  return offset + 4\n}\n\nfunction checkIEEE754 (buf, value, offset, ext, max, min) {\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n  if (offset < 0) throw new RangeError('Index out of range')\n}\n\nfunction writeFloat (buf, value, offset, littleEndian, noAssert) {\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 4, 3.4028234663852886e+38, -3.4028234663852886e+38)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 23, 4)\n  return offset + 4\n}\n\nBuffer.prototype.writeFloatLE = function writeFloatLE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeFloatBE = function writeFloatBE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, false, noAssert)\n}\n\nfunction writeDouble (buf, value, offset, littleEndian, noAssert) {\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 8, 1.7976931348623157E+308, -1.7976931348623157E+308)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 52, 8)\n  return offset + 8\n}\n\nBuffer.prototype.writeDoubleLE = function writeDoubleLE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeDoubleBE = function writeDoubleBE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, false, noAssert)\n}\n\n// copy(targetBuffer, targetStart=0, sourceStart=0, sourceEnd=buffer.length)\nBuffer.prototype.copy = function copy (target, targetStart, start, end) {\n  if (!start) start = 0\n  if (!end && end !== 0) end = this.length\n  if (targetStart >= target.length) targetStart = target.length\n  if (!targetStart) targetStart = 0\n  if (end > 0 && end < start) end = start\n\n  // Copy 0 bytes; we're done\n  if (end === start) return 0\n  if (target.length === 0 || this.length === 0) return 0\n\n  // Fatal error conditions\n  if (targetStart < 0) {\n    throw new RangeError('targetStart out of bounds')\n  }\n  if (start < 0 || start >= this.length) throw new RangeError('sourceStart out of bounds')\n  if (end < 0) throw new RangeError('sourceEnd out of bounds')\n\n  // Are we oob?\n  if (end > this.length) end = this.length\n  if (target.length - targetStart < end - start) {\n    end = target.length - targetStart + start\n  }\n\n  var len = end - start\n  var i\n\n  if (this === target && start < targetStart && targetStart < end) {\n    // descending copy from end\n    for (i = len - 1; i >= 0; --i) {\n      target[i + targetStart] = this[i + start]\n    }\n  } else if (len < 1000 || !Buffer.TYPED_ARRAY_SUPPORT) {\n    // ascending copy from start\n    for (i = 0; i < len; ++i) {\n      target[i + targetStart] = this[i + start]\n    }\n  } else {\n    Uint8Array.prototype.set.call(\n      target,\n      this.subarray(start, start + len),\n      targetStart\n    )\n  }\n\n  return len\n}\n\n// Usage:\n//    buffer.fill(number[, offset[, end]])\n//    buffer.fill(buffer[, offset[, end]])\n//    buffer.fill(string[, offset[, end]][, encoding])\nBuffer.prototype.fill = function fill (val, start, end, encoding) {\n  // Handle string cases:\n  if (typeof val === 'string') {\n    if (typeof start === 'string') {\n      encoding = start\n      start = 0\n      end = this.length\n    } else if (typeof end === 'string') {\n      encoding = end\n      end = this.length\n    }\n    if (val.length === 1) {\n      var code = val.charCodeAt(0)\n      if (code < 256) {\n        val = code\n      }\n    }\n    if (encoding !== undefined && typeof encoding !== 'string') {\n      throw new TypeError('encoding must be a string')\n    }\n    if (typeof encoding === 'string' && !Buffer.isEncoding(encoding)) {\n      throw new TypeError('Unknown encoding: ' + encoding)\n    }\n  } else if (typeof val === 'number') {\n    val = val & 255\n  }\n\n  // Invalid ranges are not set to a default, so can range check early.\n  if (start < 0 || this.length < start || this.length < end) {\n    throw new RangeError('Out of range index')\n  }\n\n  if (end <= start) {\n    return this\n  }\n\n  start = start >>> 0\n  end = end === undefined ? this.length : end >>> 0\n\n  if (!val) val = 0\n\n  var i\n  if (typeof val === 'number') {\n    for (i = start; i < end; ++i) {\n      this[i] = val\n    }\n  } else {\n    var bytes = Buffer.isBuffer(val)\n      ? val\n      : utf8ToBytes(new Buffer(val, encoding).toString())\n    var len = bytes.length\n    for (i = 0; i < end - start; ++i) {\n      this[i + start] = bytes[i % len]\n    }\n  }\n\n  return this\n}\n\n// HELPER FUNCTIONS\n// ================\n\nvar INVALID_BASE64_RE = /[^+\\/0-9A-Za-z-_]/g\n\nfunction base64clean (str) {\n  // Node strips out invalid characters like \\n and \\t from the string, base64-js does not\n  str = stringtrim(str).replace(INVALID_BASE64_RE, '')\n  // Node converts strings with length < 2 to ''\n  if (str.length < 2) return ''\n  // Node allows for non-padded base64 strings (missing trailing ===), base64-js does not\n  while (str.length % 4 !== 0) {\n    str = str + '='\n  }\n  return str\n}\n\nfunction stringtrim (str) {\n  if (str.trim) return str.trim()\n  return str.replace(/^\\s+|\\s+$/g, '')\n}\n\nfunction toHex (n) {\n  if (n < 16) return '0' + n.toString(16)\n  return n.toString(16)\n}\n\nfunction utf8ToBytes (string, units) {\n  units = units || Infinity\n  var codePoint\n  var length = string.length\n  var leadSurrogate = null\n  var bytes = []\n\n  for (var i = 0; i < length; ++i) {\n    codePoint = string.charCodeAt(i)\n\n    // is surrogate component\n    if (codePoint > 0xD7FF && codePoint < 0xE000) {\n      // last char was a lead\n      if (!leadSurrogate) {\n        // no lead yet\n        if (codePoint > 0xDBFF) {\n          // unexpected trail\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        } else if (i + 1 === length) {\n          // unpaired lead\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        }\n\n        // valid lead\n        leadSurrogate = codePoint\n\n        continue\n      }\n\n      // 2 leads in a row\n      if (codePoint < 0xDC00) {\n        if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n        leadSurrogate = codePoint\n        continue\n      }\n\n      // valid surrogate pair\n      codePoint = (leadSurrogate - 0xD800 << 10 | codePoint - 0xDC00) + 0x10000\n    } else if (leadSurrogate) {\n      // valid bmp char, but last char was a lead\n      if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n    }\n\n    leadSurrogate = null\n\n    // encode utf8\n    if (codePoint < 0x80) {\n      if ((units -= 1) < 0) break\n      bytes.push(codePoint)\n    } else if (codePoint < 0x800) {\n      if ((units -= 2) < 0) break\n      bytes.push(\n        codePoint >> 0x6 | 0xC0,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x10000) {\n      if ((units -= 3) < 0) break\n      bytes.push(\n        codePoint >> 0xC | 0xE0,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x110000) {\n      if ((units -= 4) < 0) break\n      bytes.push(\n        codePoint >> 0x12 | 0xF0,\n        codePoint >> 0xC & 0x3F | 0x80,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else {\n      throw new Error('Invalid code point')\n    }\n  }\n\n  return bytes\n}\n\nfunction asciiToBytes (str) {\n  var byteArray = []\n  for (var i = 0; i < str.length; ++i) {\n    // Node's code seems to be doing this and not & 0x7F..\n    byteArray.push(str.charCodeAt(i) & 0xFF)\n  }\n  return byteArray\n}\n\nfunction utf16leToBytes (str, units) {\n  var c, hi, lo\n  var byteArray = []\n  for (var i = 0; i < str.length; ++i) {\n    if ((units -= 2) < 0) break\n\n    c = str.charCodeAt(i)\n    hi = c >> 8\n    lo = c % 256\n    byteArray.push(lo)\n    byteArray.push(hi)\n  }\n\n  return byteArray\n}\n\nfunction base64ToBytes (str) {\n  return base64.toByteArray(base64clean(str))\n}\n\nfunction blitBuffer (src, dst, offset, length) {\n  for (var i = 0; i < length; ++i) {\n    if ((i + offset >= dst.length) || (i >= src.length)) break\n    dst[i + offset] = src[i]\n  }\n  return i\n}\n\nfunction isnan (val) {\n  return val !== val // eslint-disable-line no-self-compare\n}\n","var bind = require('../internals/function-bind-context');\nvar IndexedObject = require('../internals/indexed-object');\nvar toObject = require('../internals/to-object');\nvar toLength = require('../internals/to-length');\nvar arraySpeciesCreate = require('../internals/array-species-create');\n\nvar push = [].push;\n\n// `Array.prototype.{ forEach, map, filter, some, every, find, findIndex }` methods implementation\nvar createMethod = function (TYPE) {\n  var IS_MAP = TYPE == 1;\n  var IS_FILTER = TYPE == 2;\n  var IS_SOME = TYPE == 3;\n  var IS_EVERY = TYPE == 4;\n  var IS_FIND_INDEX = TYPE == 6;\n  var NO_HOLES = TYPE == 5 || IS_FIND_INDEX;\n  return function ($this, callbackfn, that, specificCreate) {\n    var O = toObject($this);\n    var self = IndexedObject(O);\n    var boundFunction = bind(callbackfn, that, 3);\n    var length = toLength(self.length);\n    var index = 0;\n    var create = specificCreate || arraySpeciesCreate;\n    var target = IS_MAP ? create($this, length) : IS_FILTER ? create($this, 0) : undefined;\n    var value, result;\n    for (;length > index; index++) if (NO_HOLES || index in self) {\n      value = self[index];\n      result = boundFunction(value, index, O);\n      if (TYPE) {\n        if (IS_MAP) target[index] = result; // map\n        else if (result) switch (TYPE) {\n          case 3: return true;              // some\n          case 5: return value;             // find\n          case 6: return index;             // findIndex\n          case 2: push.call(target, value); // filter\n        } else if (IS_EVERY) return false;  // every\n      }\n    }\n    return IS_FIND_INDEX ? -1 : IS_SOME || IS_EVERY ? IS_EVERY : target;\n  };\n};\n\nmodule.exports = {\n  // `Array.prototype.forEach` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.foreach\n  forEach: createMethod(0),\n  // `Array.prototype.map` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.map\n  map: createMethod(1),\n  // `Array.prototype.filter` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.filter\n  filter: createMethod(2),\n  // `Array.prototype.some` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.some\n  some: createMethod(3),\n  // `Array.prototype.every` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.every\n  every: createMethod(4),\n  // `Array.prototype.find` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.find\n  find: createMethod(5),\n  // `Array.prototype.findIndex` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.findIndex\n  findIndex: createMethod(6)\n};\n","\n/**\n * Module exports.\n */\n\nmodule.exports = deprecate;\n\n/**\n * Mark that a method should not be used.\n * Returns a modified function which warns once by default.\n *\n * If `localStorage.noDeprecation = true` is set, then it is a no-op.\n *\n * If `localStorage.throwDeprecation = true` is set, then deprecated functions\n * will throw an Error when invoked.\n *\n * If `localStorage.traceDeprecation = true` is set, then deprecated functions\n * will invoke `console.trace()` instead of `console.error()`.\n *\n * @param {Function} fn - the function to deprecate\n * @param {String} msg - the string to print to the console when `fn` is invoked\n * @returns {Function} a new \"deprecated\" version of `fn`\n * @api public\n */\n\nfunction deprecate (fn, msg) {\n  if (config('noDeprecation')) {\n    return fn;\n  }\n\n  var warned = false;\n  function deprecated() {\n    if (!warned) {\n      if (config('throwDeprecation')) {\n        throw new Error(msg);\n      } else if (config('traceDeprecation')) {\n        console.trace(msg);\n      } else {\n        console.warn(msg);\n      }\n      warned = true;\n    }\n    return fn.apply(this, arguments);\n  }\n\n  return deprecated;\n}\n\n/**\n * Checks `localStorage` for boolean values for the given `name`.\n *\n * @param {String} name\n * @returns {Boolean}\n * @api private\n */\n\nfunction config (name) {\n  // accessing global.localStorage can trigger a DOMException in sandboxed iframes\n  try {\n    if (!global.localStorage) return false;\n  } catch (_) {\n    return false;\n  }\n  var val = global.localStorage[name];\n  if (null == val) return false;\n  return String(val).toLowerCase() === 'true';\n}\n","module.exports = require('events').EventEmitter;\n","var fails = require('../internals/fails');\n\nmodule.exports = !fails(function () {\n  return Object.isExtensible(Object.preventExtensions({}));\n});\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.rejectRpc = void 0;\nvar support_1 = require(\"./support\");\nexports.rejectRpc = function () { return Promise.reject(support_1.internalError); };\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n// a duplex stream is just a stream that is both readable and writable.\n// Since JS doesn't have multiple prototypal inheritance, this class\n// prototypally inherits from Readable, and then parasitically from\n// Writable.\n'use strict';\n/*<replacement>*/\n\nvar objectKeys = Object.keys || function (obj) {\n  var keys = [];\n\n  for (var key in obj) {\n    keys.push(key);\n  }\n\n  return keys;\n};\n/*</replacement>*/\n\n\nmodule.exports = Duplex;\n\nvar Readable = require('./_stream_readable');\n\nvar Writable = require('./_stream_writable');\n\nrequire('inherits')(Duplex, Readable);\n\n{\n  // Allow the keys array to be GC'ed.\n  var keys = objectKeys(Writable.prototype);\n\n  for (var v = 0; v < keys.length; v++) {\n    var method = keys[v];\n    if (!Duplex.prototype[method]) Duplex.prototype[method] = Writable.prototype[method];\n  }\n}\n\nfunction Duplex(options) {\n  if (!(this instanceof Duplex)) return new Duplex(options);\n  Readable.call(this, options);\n  Writable.call(this, options);\n  this.allowHalfOpen = true;\n\n  if (options) {\n    if (options.readable === false) this.readable = false;\n    if (options.writable === false) this.writable = false;\n\n    if (options.allowHalfOpen === false) {\n      this.allowHalfOpen = false;\n      this.once('end', onend);\n    }\n  }\n}\n\nObject.defineProperty(Duplex.prototype, 'writableHighWaterMark', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function get() {\n    return this._writableState.highWaterMark;\n  }\n});\nObject.defineProperty(Duplex.prototype, 'writableBuffer', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function get() {\n    return this._writableState && this._writableState.getBuffer();\n  }\n});\nObject.defineProperty(Duplex.prototype, 'writableLength', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function get() {\n    return this._writableState.length;\n  }\n}); // the no-half-open enforcer\n\nfunction onend() {\n  // If the writable side ended, then we're ok.\n  if (this._writableState.ended) return; // no more data can be written.\n  // But allow more writes to happen in this tick.\n\n  process.nextTick(onEndNT, this);\n}\n\nfunction onEndNT(self) {\n  self.end();\n}\n\nObject.defineProperty(Duplex.prototype, 'destroyed', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function get() {\n    if (this._readableState === undefined || this._writableState === undefined) {\n      return false;\n    }\n\n    return this._readableState.destroyed && this._writableState.destroyed;\n  },\n  set: function set(value) {\n    // we ignore the value if the stream\n    // has not been initialized yet\n    if (this._readableState === undefined || this._writableState === undefined) {\n      return;\n    } // backward compatibility, the user is explicitly\n    // managing destroyed\n\n\n    this._readableState.destroyed = value;\n    this._writableState.destroyed = value;\n  }\n});","// Ported from https://github.com/mafintosh/end-of-stream with\n// permission from the author, Mathias Buus (@mafintosh).\n'use strict';\n\nvar ERR_STREAM_PREMATURE_CLOSE = require('../../../errors').codes.ERR_STREAM_PREMATURE_CLOSE;\n\nfunction once(callback) {\n  var called = false;\n  return function () {\n    if (called) return;\n    called = true;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    callback.apply(this, args);\n  };\n}\n\nfunction noop() {}\n\nfunction isRequest(stream) {\n  return stream.setHeader && typeof stream.abort === 'function';\n}\n\nfunction eos(stream, opts, callback) {\n  if (typeof opts === 'function') return eos(stream, null, opts);\n  if (!opts) opts = {};\n  callback = once(callback || noop);\n  var readable = opts.readable || opts.readable !== false && stream.readable;\n  var writable = opts.writable || opts.writable !== false && stream.writable;\n\n  var onlegacyfinish = function onlegacyfinish() {\n    if (!stream.writable) onfinish();\n  };\n\n  var writableEnded = stream._writableState && stream._writableState.finished;\n\n  var onfinish = function onfinish() {\n    writable = false;\n    writableEnded = true;\n    if (!readable) callback.call(stream);\n  };\n\n  var readableEnded = stream._readableState && stream._readableState.endEmitted;\n\n  var onend = function onend() {\n    readable = false;\n    readableEnded = true;\n    if (!writable) callback.call(stream);\n  };\n\n  var onerror = function onerror(err) {\n    callback.call(stream, err);\n  };\n\n  var onclose = function onclose() {\n    var err;\n\n    if (readable && !readableEnded) {\n      if (!stream._readableState || !stream._readableState.ended) err = new ERR_STREAM_PREMATURE_CLOSE();\n      return callback.call(stream, err);\n    }\n\n    if (writable && !writableEnded) {\n      if (!stream._writableState || !stream._writableState.ended) err = new ERR_STREAM_PREMATURE_CLOSE();\n      return callback.call(stream, err);\n    }\n  };\n\n  var onrequest = function onrequest() {\n    stream.req.on('finish', onfinish);\n  };\n\n  if (isRequest(stream)) {\n    stream.on('complete', onfinish);\n    stream.on('abort', onclose);\n    if (stream.req) onrequest();else stream.on('request', onrequest);\n  } else if (writable && !stream._writableState) {\n    // legacy streams\n    stream.on('end', onlegacyfinish);\n    stream.on('close', onlegacyfinish);\n  }\n\n  stream.on('end', onend);\n  stream.on('finish', onfinish);\n  if (opts.error !== false) stream.on('error', onerror);\n  stream.on('close', onclose);\n  return function () {\n    stream.removeListener('complete', onfinish);\n    stream.removeListener('abort', onclose);\n    stream.removeListener('request', onrequest);\n    if (stream.req) stream.req.removeListener('finish', onfinish);\n    stream.removeListener('end', onlegacyfinish);\n    stream.removeListener('close', onlegacyfinish);\n    stream.removeListener('finish', onfinish);\n    stream.removeListener('end', onend);\n    stream.removeListener('error', onerror);\n    stream.removeListener('close', onclose);\n  };\n}\n\nmodule.exports = eos;","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.isNode = void 0;\nfunction isNode() {\n    return typeof window === \"undefined\";\n}\nexports.isNode = isNode;\n","'use strict'\r\n\r\nvar Transform = require('readable-stream').Transform\r\nvar duplexify = require('duplexify')\r\n\r\n/* global FileReader */\r\nvar my\r\nvar proxy\r\nvar stream\r\nvar isInitialized = false\r\n\r\nfunction buildProxy () {\r\n  var proxy = new Transform()\r\n  proxy._write = function (chunk, encoding, next) {\r\n    my.sendSocketMessage({\r\n      data: chunk.buffer,\r\n      success: function () {\r\n        next()\r\n      },\r\n      fail: function () {\r\n        next(new Error())\r\n      }\r\n    })\r\n  }\r\n  proxy._flush = function socketEnd (done) {\r\n    my.closeSocket({\r\n      success: function () {\r\n        done()\r\n      }\r\n    })\r\n  }\r\n\r\n  return proxy\r\n}\r\n\r\nfunction setDefaultOpts (opts) {\r\n  if (!opts.hostname) {\r\n    opts.hostname = 'localhost'\r\n  }\r\n  if (!opts.path) {\r\n    opts.path = '/'\r\n  }\r\n\r\n  if (!opts.wsOptions) {\r\n    opts.wsOptions = {}\r\n  }\r\n}\r\n\r\nfunction buildUrl (opts, client) {\r\n  var protocol = opts.protocol === 'alis' ? 'wss' : 'ws'\r\n  var url = protocol + '://' + opts.hostname + opts.path\r\n  if (opts.port && opts.port !== 80 && opts.port !== 443) {\r\n    url = protocol + '://' + opts.hostname + ':' + opts.port + opts.path\r\n  }\r\n  if (typeof (opts.transformWsUrl) === 'function') {\r\n    url = opts.transformWsUrl(url, opts, client)\r\n  }\r\n  return url\r\n}\r\n\r\nfunction bindEventHandler () {\r\n  if (isInitialized) return\r\n\r\n  isInitialized = true\r\n\r\n  my.onSocketOpen(function () {\r\n    stream.setReadable(proxy)\r\n    stream.setWritable(proxy)\r\n    stream.emit('connect')\r\n  })\r\n\r\n  my.onSocketMessage(function (res) {\r\n    if (typeof res.data === 'string') {\r\n      var buffer = Buffer.from(res.data, 'base64')\r\n      proxy.push(buffer)\r\n    } else {\r\n      var reader = new FileReader()\r\n      reader.addEventListener('load', function () {\r\n        var data = reader.result\r\n\r\n        if (data instanceof ArrayBuffer) data = Buffer.from(data)\r\n        else data = Buffer.from(data, 'utf8')\r\n        proxy.push(data)\r\n      })\r\n      reader.readAsArrayBuffer(res.data)\r\n    }\r\n  })\r\n\r\n  my.onSocketClose(function () {\r\n    stream.end()\r\n    stream.destroy()\r\n  })\r\n\r\n  my.onSocketError(function (res) {\r\n    stream.destroy(res)\r\n  })\r\n}\r\n\r\nfunction buildStream (client, opts) {\r\n  opts.hostname = opts.hostname || opts.host\r\n\r\n  if (!opts.hostname) {\r\n    throw new Error('Could not determine host. Specify host manually.')\r\n  }\r\n\r\n  var websocketSubProtocol =\r\n    (opts.protocolId === 'MQIsdp') && (opts.protocolVersion === 3)\r\n      ? 'mqttv3.1'\r\n      : 'mqtt'\r\n\r\n  setDefaultOpts(opts)\r\n\r\n  var url = buildUrl(opts, client)\r\n  my = opts.my\r\n  my.connectSocket({\r\n    url: url,\r\n    protocols: websocketSubProtocol\r\n  })\r\n\r\n  proxy = buildProxy()\r\n  stream = duplexify.obj()\r\n\r\n  bindEventHandler()\r\n\r\n  return stream\r\n}\r\n\r\nmodule.exports = buildStream\r\n","var fails = require('../internals/fails');\nvar whitespaces = require('../internals/whitespaces');\n\nvar non = '\\u200B\\u0085\\u180E';\n\n// check that a method works with the correct list\n// of whitespaces and has a correct name\nmodule.exports = function (METHOD_NAME) {\n  return fails(function () {\n    return !!whitespaces[METHOD_NAME]() || non[METHOD_NAME]() != non || whitespaces[METHOD_NAME].name !== METHOD_NAME;\n  });\n};\n","var $ = require('../internals/export');\nvar fill = require('../internals/array-fill');\nvar addToUnscopables = require('../internals/add-to-unscopables');\n\n// `Array.prototype.fill` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.fill\n$({ target: 'Array', proto: true }, {\n  fill: fill\n});\n\n// https://tc39.github.io/ecma262/#sec-array.prototype-@@unscopables\naddToUnscopables('fill');\n","var defineWellKnownSymbol = require('../internals/define-well-known-symbol');\n\n// `Symbol.iterator` well-known symbol\n// https://tc39.github.io/ecma262/#sec-symbol.iterator\ndefineWellKnownSymbol('iterator');\n","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !exports.hasOwnProperty(p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.bufferToString = exports.stringToBuffer = void 0;\n__exportStar(require(\"./util/coordinate\"), exports);\n__exportStar(require(\"./util/is_celery_script\"), exports);\n__exportStar(require(\"./util/is_node\"), exports);\n__exportStar(require(\"./util/pick\"), exports);\n__exportStar(require(\"./util/rpc_request\"), exports);\n__exportStar(require(\"./util/uuid\"), exports);\nfunction stringToBuffer(str) {\n    var regular_array = str.split(\"\").map(function (x) { return x.charCodeAt(0); });\n    var data16 = new Uint8Array(regular_array);\n    return data16;\n}\nexports.stringToBuffer = stringToBuffer;\nfunction newDecoder() {\n    if (typeof util !== \"undefined\" && util.TextDecoder) {\n        return new util.TextDecoder();\n    }\n    if (typeof window !== \"undefined\" && window.TextDecoder) {\n        return new window.TextDecoder();\n    }\n    return {\n        decode: function (buffer) {\n            var chars = [];\n            buffer.forEach(function (x) { return chars.push(String.fromCharCode(x)); });\n            return chars.join(\"\");\n        }\n    };\n}\nvar td = newDecoder();\n/** We originally called buffer.toString(),\n *  but that suffers from inconsistent behavior\n * between environments, leading to testing\n * difficulty. */\nexports.bufferToString = function (b) { return td.decode(b); };\n","// Returns a wrapper function that returns a wrapped callback\n// The wrapper function should do some stuff, and return a\n// presumably different callback function.\n// This makes sure that own properties are retained, so that\n// decorations and such are not lost along the way.\nmodule.exports = wrappy\nfunction wrappy (fn, cb) {\n  if (fn && cb) return wrappy(fn)(cb)\n\n  if (typeof fn !== 'function')\n    throw new TypeError('need wrapper function')\n\n  Object.keys(fn).forEach(function (k) {\n    wrapper[k] = fn[k]\n  })\n\n  return wrapper\n\n  function wrapper() {\n    var args = new Array(arguments.length)\n    for (var i = 0; i < args.length; i++) {\n      args[i] = arguments[i]\n    }\n    var ret = fn.apply(this, args)\n    var cb = args[args.length-1]\n    if (typeof ret === 'function' && ret !== cb) {\n      Object.keys(cb).forEach(function (k) {\n        ret[k] = cb[k]\n      })\n    }\n    return ret\n  }\n}\n","'use strict';\nvar $ = require('../internals/export');\nvar $map = require('../internals/array-iteration').map;\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('map');\n// FF49- issue\nvar USES_TO_LENGTH = arrayMethodUsesToLength('map');\n\n// `Array.prototype.map` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.map\n// with adding support of @@species\n$({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT || !USES_TO_LENGTH }, {\n  map: function map(callbackfn /* , thisArg */) {\n    return $map(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n","// Ported from https://github.com/mafintosh/end-of-stream with\n// permission from the author, Mathias Buus (@mafintosh).\n'use strict';\n\nvar ERR_STREAM_PREMATURE_CLOSE = require('../../../errors').codes.ERR_STREAM_PREMATURE_CLOSE;\n\nfunction once(callback) {\n  var called = false;\n  return function () {\n    if (called) return;\n    called = true;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    callback.apply(this, args);\n  };\n}\n\nfunction noop() {}\n\nfunction isRequest(stream) {\n  return stream.setHeader && typeof stream.abort === 'function';\n}\n\nfunction eos(stream, opts, callback) {\n  if (typeof opts === 'function') return eos(stream, null, opts);\n  if (!opts) opts = {};\n  callback = once(callback || noop);\n  var readable = opts.readable || opts.readable !== false && stream.readable;\n  var writable = opts.writable || opts.writable !== false && stream.writable;\n\n  var onlegacyfinish = function onlegacyfinish() {\n    if (!stream.writable) onfinish();\n  };\n\n  var writableEnded = stream._writableState && stream._writableState.finished;\n\n  var onfinish = function onfinish() {\n    writable = false;\n    writableEnded = true;\n    if (!readable) callback.call(stream);\n  };\n\n  var readableEnded = stream._readableState && stream._readableState.endEmitted;\n\n  var onend = function onend() {\n    readable = false;\n    readableEnded = true;\n    if (!writable) callback.call(stream);\n  };\n\n  var onerror = function onerror(err) {\n    callback.call(stream, err);\n  };\n\n  var onclose = function onclose() {\n    var err;\n\n    if (readable && !readableEnded) {\n      if (!stream._readableState || !stream._readableState.ended) err = new ERR_STREAM_PREMATURE_CLOSE();\n      return callback.call(stream, err);\n    }\n\n    if (writable && !writableEnded) {\n      if (!stream._writableState || !stream._writableState.ended) err = new ERR_STREAM_PREMATURE_CLOSE();\n      return callback.call(stream, err);\n    }\n  };\n\n  var onrequest = function onrequest() {\n    stream.req.on('finish', onfinish);\n  };\n\n  if (isRequest(stream)) {\n    stream.on('complete', onfinish);\n    stream.on('abort', onclose);\n    if (stream.req) onrequest();else stream.on('request', onrequest);\n  } else if (writable && !stream._writableState) {\n    // legacy streams\n    stream.on('end', onlegacyfinish);\n    stream.on('close', onlegacyfinish);\n  }\n\n  stream.on('end', onend);\n  stream.on('finish', onfinish);\n  if (opts.error !== false) stream.on('error', onerror);\n  stream.on('close', onclose);\n  return function () {\n    stream.removeListener('complete', onfinish);\n    stream.removeListener('abort', onclose);\n    stream.removeListener('request', onrequest);\n    if (stream.req) stream.req.removeListener('finish', onfinish);\n    stream.removeListener('end', onlegacyfinish);\n    stream.removeListener('close', onlegacyfinish);\n    stream.removeListener('finish', onfinish);\n    stream.removeListener('end', onend);\n    stream.removeListener('error', onerror);\n    stream.removeListener('close', onclose);\n  };\n}\n\nmodule.exports = eos;","\n/**\n * This is the common logic for both the Node.js and web browser\n * implementations of `debug()`.\n */\n\nfunction setup(env) {\n\tcreateDebug.debug = createDebug;\n\tcreateDebug.default = createDebug;\n\tcreateDebug.coerce = coerce;\n\tcreateDebug.disable = disable;\n\tcreateDebug.enable = enable;\n\tcreateDebug.enabled = enabled;\n\tcreateDebug.humanize = require('ms');\n\n\tObject.keys(env).forEach(key => {\n\t\tcreateDebug[key] = env[key];\n\t});\n\n\t/**\n\t* Active `debug` instances.\n\t*/\n\tcreateDebug.instances = [];\n\n\t/**\n\t* The currently active debug mode names, and names to skip.\n\t*/\n\n\tcreateDebug.names = [];\n\tcreateDebug.skips = [];\n\n\t/**\n\t* Map of special \"%n\" handling functions, for the debug \"format\" argument.\n\t*\n\t* Valid key names are a single, lower or upper-case letter, i.e. \"n\" and \"N\".\n\t*/\n\tcreateDebug.formatters = {};\n\n\t/**\n\t* Selects a color for a debug namespace\n\t* @param {String} namespace The namespace string for the for the debug instance to be colored\n\t* @return {Number|String} An ANSI color code for the given namespace\n\t* @api private\n\t*/\n\tfunction selectColor(namespace) {\n\t\tlet hash = 0;\n\n\t\tfor (let i = 0; i < namespace.length; i++) {\n\t\t\thash = ((hash << 5) - hash) + namespace.charCodeAt(i);\n\t\t\thash |= 0; // Convert to 32bit integer\n\t\t}\n\n\t\treturn createDebug.colors[Math.abs(hash) % createDebug.colors.length];\n\t}\n\tcreateDebug.selectColor = selectColor;\n\n\t/**\n\t* Create a debugger with the given `namespace`.\n\t*\n\t* @param {String} namespace\n\t* @return {Function}\n\t* @api public\n\t*/\n\tfunction createDebug(namespace) {\n\t\tlet prevTime;\n\n\t\tfunction debug(...args) {\n\t\t\t// Disabled?\n\t\t\tif (!debug.enabled) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst self = debug;\n\n\t\t\t// Set `diff` timestamp\n\t\t\tconst curr = Number(new Date());\n\t\t\tconst ms = curr - (prevTime || curr);\n\t\t\tself.diff = ms;\n\t\t\tself.prev = prevTime;\n\t\t\tself.curr = curr;\n\t\t\tprevTime = curr;\n\n\t\t\targs[0] = createDebug.coerce(args[0]);\n\n\t\t\tif (typeof args[0] !== 'string') {\n\t\t\t\t// Anything else let's inspect with %O\n\t\t\t\targs.unshift('%O');\n\t\t\t}\n\n\t\t\t// Apply any `formatters` transformations\n\t\t\tlet index = 0;\n\t\t\targs[0] = args[0].replace(/%([a-zA-Z%])/g, (match, format) => {\n\t\t\t\t// If we encounter an escaped % then don't increase the array index\n\t\t\t\tif (match === '%%') {\n\t\t\t\t\treturn match;\n\t\t\t\t}\n\t\t\t\tindex++;\n\t\t\t\tconst formatter = createDebug.formatters[format];\n\t\t\t\tif (typeof formatter === 'function') {\n\t\t\t\t\tconst val = args[index];\n\t\t\t\t\tmatch = formatter.call(self, val);\n\n\t\t\t\t\t// Now we need to remove `args[index]` since it's inlined in the `format`\n\t\t\t\t\targs.splice(index, 1);\n\t\t\t\t\tindex--;\n\t\t\t\t}\n\t\t\t\treturn match;\n\t\t\t});\n\n\t\t\t// Apply env-specific formatting (colors, etc.)\n\t\t\tcreateDebug.formatArgs.call(self, args);\n\n\t\t\tconst logFn = self.log || createDebug.log;\n\t\t\tlogFn.apply(self, args);\n\t\t}\n\n\t\tdebug.namespace = namespace;\n\t\tdebug.enabled = createDebug.enabled(namespace);\n\t\tdebug.useColors = createDebug.useColors();\n\t\tdebug.color = selectColor(namespace);\n\t\tdebug.destroy = destroy;\n\t\tdebug.extend = extend;\n\t\t// Debug.formatArgs = formatArgs;\n\t\t// debug.rawLog = rawLog;\n\n\t\t// env-specific initialization logic for debug instances\n\t\tif (typeof createDebug.init === 'function') {\n\t\t\tcreateDebug.init(debug);\n\t\t}\n\n\t\tcreateDebug.instances.push(debug);\n\n\t\treturn debug;\n\t}\n\n\tfunction destroy() {\n\t\tconst index = createDebug.instances.indexOf(this);\n\t\tif (index !== -1) {\n\t\t\tcreateDebug.instances.splice(index, 1);\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t}\n\n\tfunction extend(namespace, delimiter) {\n\t\tconst newDebug = createDebug(this.namespace + (typeof delimiter === 'undefined' ? ':' : delimiter) + namespace);\n\t\tnewDebug.log = this.log;\n\t\treturn newDebug;\n\t}\n\n\t/**\n\t* Enables a debug mode by namespaces. This can include modes\n\t* separated by a colon and wildcards.\n\t*\n\t* @param {String} namespaces\n\t* @api public\n\t*/\n\tfunction enable(namespaces) {\n\t\tcreateDebug.save(namespaces);\n\n\t\tcreateDebug.names = [];\n\t\tcreateDebug.skips = [];\n\n\t\tlet i;\n\t\tconst split = (typeof namespaces === 'string' ? namespaces : '').split(/[\\s,]+/);\n\t\tconst len = split.length;\n\n\t\tfor (i = 0; i < len; i++) {\n\t\t\tif (!split[i]) {\n\t\t\t\t// ignore empty strings\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tnamespaces = split[i].replace(/\\*/g, '.*?');\n\n\t\t\tif (namespaces[0] === '-') {\n\t\t\t\tcreateDebug.skips.push(new RegExp('^' + namespaces.substr(1) + '$'));\n\t\t\t} else {\n\t\t\t\tcreateDebug.names.push(new RegExp('^' + namespaces + '$'));\n\t\t\t}\n\t\t}\n\n\t\tfor (i = 0; i < createDebug.instances.length; i++) {\n\t\t\tconst instance = createDebug.instances[i];\n\t\t\tinstance.enabled = createDebug.enabled(instance.namespace);\n\t\t}\n\t}\n\n\t/**\n\t* Disable debug output.\n\t*\n\t* @return {String} namespaces\n\t* @api public\n\t*/\n\tfunction disable() {\n\t\tconst namespaces = [\n\t\t\t...createDebug.names.map(toNamespace),\n\t\t\t...createDebug.skips.map(toNamespace).map(namespace => '-' + namespace)\n\t\t].join(',');\n\t\tcreateDebug.enable('');\n\t\treturn namespaces;\n\t}\n\n\t/**\n\t* Returns true if the given mode name is enabled, false otherwise.\n\t*\n\t* @param {String} name\n\t* @return {Boolean}\n\t* @api public\n\t*/\n\tfunction enabled(name) {\n\t\tif (name[name.length - 1] === '*') {\n\t\t\treturn true;\n\t\t}\n\n\t\tlet i;\n\t\tlet len;\n\n\t\tfor (i = 0, len = createDebug.skips.length; i < len; i++) {\n\t\t\tif (createDebug.skips[i].test(name)) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\n\t\tfor (i = 0, len = createDebug.names.length; i < len; i++) {\n\t\t\tif (createDebug.names[i].test(name)) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\n\t\treturn false;\n\t}\n\n\t/**\n\t* Convert regexp to namespace\n\t*\n\t* @param {RegExp} regxep\n\t* @return {String} namespace\n\t* @api private\n\t*/\n\tfunction toNamespace(regexp) {\n\t\treturn regexp.toString()\n\t\t\t.substring(2, regexp.toString().length - 2)\n\t\t\t.replace(/\\.\\*\\?$/, '*');\n\t}\n\n\t/**\n\t* Coerce `val`.\n\t*\n\t* @param {Mixed} val\n\t* @return {Mixed}\n\t* @api private\n\t*/\n\tfunction coerce(val) {\n\t\tif (val instanceof Error) {\n\t\t\treturn val.stack || val.message;\n\t\t}\n\t\treturn val;\n\t}\n\n\tcreateDebug.enable(createDebug.load());\n\n\treturn createDebug;\n}\n\nmodule.exports = setup;\n","var $ = require('../internals/export');\nvar FREEZING = require('../internals/freezing');\nvar fails = require('../internals/fails');\nvar isObject = require('../internals/is-object');\nvar onFreeze = require('../internals/internal-metadata').onFreeze;\n\nvar nativeFreeze = Object.freeze;\nvar FAILS_ON_PRIMITIVES = fails(function () { nativeFreeze(1); });\n\n// `Object.freeze` method\n// https://tc39.github.io/ecma262/#sec-object.freeze\n$({ target: 'Object', stat: true, forced: FAILS_ON_PRIMITIVES, sham: !FREEZING }, {\n  freeze: function freeze(it) {\n    return nativeFreeze && isObject(it) ? nativeFreeze(onFreeze(it)) : it;\n  }\n});\n","var global = require('../internals/global');\nvar DOMIterables = require('../internals/dom-iterables');\nvar ArrayIteratorMethods = require('../modules/es.array.iterator');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar ITERATOR = wellKnownSymbol('iterator');\nvar TO_STRING_TAG = wellKnownSymbol('toStringTag');\nvar ArrayValues = ArrayIteratorMethods.values;\n\nfor (var COLLECTION_NAME in DOMIterables) {\n  var Collection = global[COLLECTION_NAME];\n  var CollectionPrototype = Collection && Collection.prototype;\n  if (CollectionPrototype) {\n    // some Chrome versions have non-configurable methods on DOMTokenList\n    if (CollectionPrototype[ITERATOR] !== ArrayValues) try {\n      createNonEnumerableProperty(CollectionPrototype, ITERATOR, ArrayValues);\n    } catch (error) {\n      CollectionPrototype[ITERATOR] = ArrayValues;\n    }\n    if (!CollectionPrototype[TO_STRING_TAG]) {\n      createNonEnumerableProperty(CollectionPrototype, TO_STRING_TAG, COLLECTION_NAME);\n    }\n    if (DOMIterables[COLLECTION_NAME]) for (var METHOD_NAME in ArrayIteratorMethods) {\n      // some Chrome versions have non-configurable methods on DOMTokenList\n      if (CollectionPrototype[METHOD_NAME] !== ArrayIteratorMethods[METHOD_NAME]) try {\n        createNonEnumerableProperty(CollectionPrototype, METHOD_NAME, ArrayIteratorMethods[METHOD_NAME]);\n      } catch (error) {\n        CollectionPrototype[METHOD_NAME] = ArrayIteratorMethods[METHOD_NAME];\n      }\n    }\n  }\n}\n","// .dirname, .basename, and .extname methods are extracted from Node.js v8.11.1,\n// backported and transplited with Babel, with backwards-compat fixes\n\n// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n// resolves . and .. elements in a path array with directory names there\n// must be no slashes, empty elements, or device names (c:\\) in the array\n// (so also no leading and trailing slashes - it does not distinguish\n// relative and absolute paths)\nfunction normalizeArray(parts, allowAboveRoot) {\n  // if the path tries to go above the root, `up` ends up > 0\n  var up = 0;\n  for (var i = parts.length - 1; i >= 0; i--) {\n    var last = parts[i];\n    if (last === '.') {\n      parts.splice(i, 1);\n    } else if (last === '..') {\n      parts.splice(i, 1);\n      up++;\n    } else if (up) {\n      parts.splice(i, 1);\n      up--;\n    }\n  }\n\n  // if the path is allowed to go above the root, restore leading ..s\n  if (allowAboveRoot) {\n    for (; up--; up) {\n      parts.unshift('..');\n    }\n  }\n\n  return parts;\n}\n\n// path.resolve([from ...], to)\n// posix version\nexports.resolve = function() {\n  var resolvedPath = '',\n      resolvedAbsolute = false;\n\n  for (var i = arguments.length - 1; i >= -1 && !resolvedAbsolute; i--) {\n    var path = (i >= 0) ? arguments[i] : process.cwd();\n\n    // Skip empty and invalid entries\n    if (typeof path !== 'string') {\n      throw new TypeError('Arguments to path.resolve must be strings');\n    } else if (!path) {\n      continue;\n    }\n\n    resolvedPath = path + '/' + resolvedPath;\n    resolvedAbsolute = path.charAt(0) === '/';\n  }\n\n  // At this point the path should be resolved to a full absolute path, but\n  // handle relative paths to be safe (might happen when process.cwd() fails)\n\n  // Normalize the path\n  resolvedPath = normalizeArray(filter(resolvedPath.split('/'), function(p) {\n    return !!p;\n  }), !resolvedAbsolute).join('/');\n\n  return ((resolvedAbsolute ? '/' : '') + resolvedPath) || '.';\n};\n\n// path.normalize(path)\n// posix version\nexports.normalize = function(path) {\n  var isAbsolute = exports.isAbsolute(path),\n      trailingSlash = substr(path, -1) === '/';\n\n  // Normalize the path\n  path = normalizeArray(filter(path.split('/'), function(p) {\n    return !!p;\n  }), !isAbsolute).join('/');\n\n  if (!path && !isAbsolute) {\n    path = '.';\n  }\n  if (path && trailingSlash) {\n    path += '/';\n  }\n\n  return (isAbsolute ? '/' : '') + path;\n};\n\n// posix version\nexports.isAbsolute = function(path) {\n  return path.charAt(0) === '/';\n};\n\n// posix version\nexports.join = function() {\n  var paths = Array.prototype.slice.call(arguments, 0);\n  return exports.normalize(filter(paths, function(p, index) {\n    if (typeof p !== 'string') {\n      throw new TypeError('Arguments to path.join must be strings');\n    }\n    return p;\n  }).join('/'));\n};\n\n\n// path.relative(from, to)\n// posix version\nexports.relative = function(from, to) {\n  from = exports.resolve(from).substr(1);\n  to = exports.resolve(to).substr(1);\n\n  function trim(arr) {\n    var start = 0;\n    for (; start < arr.length; start++) {\n      if (arr[start] !== '') break;\n    }\n\n    var end = arr.length - 1;\n    for (; end >= 0; end--) {\n      if (arr[end] !== '') break;\n    }\n\n    if (start > end) return [];\n    return arr.slice(start, end - start + 1);\n  }\n\n  var fromParts = trim(from.split('/'));\n  var toParts = trim(to.split('/'));\n\n  var length = Math.min(fromParts.length, toParts.length);\n  var samePartsLength = length;\n  for (var i = 0; i < length; i++) {\n    if (fromParts[i] !== toParts[i]) {\n      samePartsLength = i;\n      break;\n    }\n  }\n\n  var outputParts = [];\n  for (var i = samePartsLength; i < fromParts.length; i++) {\n    outputParts.push('..');\n  }\n\n  outputParts = outputParts.concat(toParts.slice(samePartsLength));\n\n  return outputParts.join('/');\n};\n\nexports.sep = '/';\nexports.delimiter = ':';\n\nexports.dirname = function (path) {\n  if (typeof path !== 'string') path = path + '';\n  if (path.length === 0) return '.';\n  var code = path.charCodeAt(0);\n  var hasRoot = code === 47 /*/*/;\n  var end = -1;\n  var matchedSlash = true;\n  for (var i = path.length - 1; i >= 1; --i) {\n    code = path.charCodeAt(i);\n    if (code === 47 /*/*/) {\n        if (!matchedSlash) {\n          end = i;\n          break;\n        }\n      } else {\n      // We saw the first non-path separator\n      matchedSlash = false;\n    }\n  }\n\n  if (end === -1) return hasRoot ? '/' : '.';\n  if (hasRoot && end === 1) {\n    // return '//';\n    // Backwards-compat fix:\n    return '/';\n  }\n  return path.slice(0, end);\n};\n\nfunction basename(path) {\n  if (typeof path !== 'string') path = path + '';\n\n  var start = 0;\n  var end = -1;\n  var matchedSlash = true;\n  var i;\n\n  for (i = path.length - 1; i >= 0; --i) {\n    if (path.charCodeAt(i) === 47 /*/*/) {\n        // If we reached a path separator that was not part of a set of path\n        // separators at the end of the string, stop now\n        if (!matchedSlash) {\n          start = i + 1;\n          break;\n        }\n      } else if (end === -1) {\n      // We saw the first non-path separator, mark this as the end of our\n      // path component\n      matchedSlash = false;\n      end = i + 1;\n    }\n  }\n\n  if (end === -1) return '';\n  return path.slice(start, end);\n}\n\n// Uses a mixed approach for backwards-compatibility, as ext behavior changed\n// in new Node.js versions, so only basename() above is backported here\nexports.basename = function (path, ext) {\n  var f = basename(path);\n  if (ext && f.substr(-1 * ext.length) === ext) {\n    f = f.substr(0, f.length - ext.length);\n  }\n  return f;\n};\n\nexports.extname = function (path) {\n  if (typeof path !== 'string') path = path + '';\n  var startDot = -1;\n  var startPart = 0;\n  var end = -1;\n  var matchedSlash = true;\n  // Track the state of characters (if any) we see before our first dot and\n  // after any path separator we find\n  var preDotState = 0;\n  for (var i = path.length - 1; i >= 0; --i) {\n    var code = path.charCodeAt(i);\n    if (code === 47 /*/*/) {\n        // If we reached a path separator that was not part of a set of path\n        // separators at the end of the string, stop now\n        if (!matchedSlash) {\n          startPart = i + 1;\n          break;\n        }\n        continue;\n      }\n    if (end === -1) {\n      // We saw the first non-path separator, mark this as the end of our\n      // extension\n      matchedSlash = false;\n      end = i + 1;\n    }\n    if (code === 46 /*.*/) {\n        // If this is our first dot, mark it as the start of our extension\n        if (startDot === -1)\n          startDot = i;\n        else if (preDotState !== 1)\n          preDotState = 1;\n    } else if (startDot !== -1) {\n      // We saw a non-dot and non-path separator before our dot, so we should\n      // have a good chance at having a non-empty extension\n      preDotState = -1;\n    }\n  }\n\n  if (startDot === -1 || end === -1 ||\n      // We saw a non-dot character immediately before the dot\n      preDotState === 0 ||\n      // The (right-most) trimmed path component is exactly '..'\n      preDotState === 1 && startDot === end - 1 && startDot === startPart + 1) {\n    return '';\n  }\n  return path.slice(startDot, end);\n};\n\nfunction filter (xs, f) {\n    if (xs.filter) return xs.filter(f);\n    var res = [];\n    for (var i = 0; i < xs.length; i++) {\n        if (f(xs[i], i, xs)) res.push(xs[i]);\n    }\n    return res;\n}\n\n// String.prototype.substr - negative index don't work in IE8\nvar substr = 'ab'.substr(-1) === 'b'\n    ? function (str, start, len) { return str.substr(start, len) }\n    : function (str, start, len) {\n        if (start < 0) start = str.length + start;\n        return str.substr(start, len);\n    }\n;\n","'use strict'\r\n\r\n/**\r\n * Module dependencies\r\n */\r\nvar EventEmitter = require('events').EventEmitter\r\nvar Store = require('./store')\r\nvar mqttPacket = require('mqtt-packet')\r\nvar Writable = require('readable-stream').Writable\r\nvar inherits = require('inherits')\r\nvar reInterval = require('reinterval')\r\nvar validations = require('./validations')\r\nvar xtend = require('xtend')\r\nvar debug = require('debug')('mqttjs:client')\r\nvar nextTick = process ? process.nextTick : function (callback) { setTimeout(callback, 0) }\r\nvar setImmediate = global.setImmediate || function (callback) {\r\n  // works in node v0.8\r\n  nextTick(callback)\r\n}\r\nvar defaultConnectOptions = {\r\n  keepalive: 60,\r\n  reschedulePings: true,\r\n  protocolId: 'MQTT',\r\n  protocolVersion: 4,\r\n  reconnectPeriod: 1000,\r\n  connectTimeout: 30 * 1000,\r\n  clean: true,\r\n  resubscribe: true\r\n}\r\n\r\nvar socketErrors = [\r\n  'ECONNREFUSED',\r\n  'EADDRINUSE',\r\n  'ECONNRESET',\r\n  'ENOTFOUND'\r\n]\r\n\r\n// Other Socket Errors: EADDRINUSE, ECONNRESET, ENOTFOUND.\r\n\r\nvar errors = {\r\n  0: '',\r\n  1: 'Unacceptable protocol version',\r\n  2: 'Identifier rejected',\r\n  3: 'Server unavailable',\r\n  4: 'Bad username or password',\r\n  5: 'Not authorized',\r\n  16: 'No matching subscribers',\r\n  17: 'No subscription existed',\r\n  128: 'Unspecified error',\r\n  129: 'Malformed Packet',\r\n  130: 'Protocol Error',\r\n  131: 'Implementation specific error',\r\n  132: 'Unsupported Protocol Version',\r\n  133: 'Client Identifier not valid',\r\n  134: 'Bad User Name or Password',\r\n  135: 'Not authorized',\r\n  136: 'Server unavailable',\r\n  137: 'Server busy',\r\n  138: 'Banned',\r\n  139: 'Server shutting down',\r\n  140: 'Bad authentication method',\r\n  141: 'Keep Alive timeout',\r\n  142: 'Session taken over',\r\n  143: 'Topic Filter invalid',\r\n  144: 'Topic Name invalid',\r\n  145: 'Packet identifier in use',\r\n  146: 'Packet Identifier not found',\r\n  147: 'Receive Maximum exceeded',\r\n  148: 'Topic Alias invalid',\r\n  149: 'Packet too large',\r\n  150: 'Message rate too high',\r\n  151: 'Quota exceeded',\r\n  152: 'Administrative action',\r\n  153: 'Payload format invalid',\r\n  154: 'Retain not supported',\r\n  155: 'QoS not supported',\r\n  156: 'Use another server',\r\n  157: 'Server moved',\r\n  158: 'Shared Subscriptions not supported',\r\n  159: 'Connection rate exceeded',\r\n  160: 'Maximum connect time',\r\n  161: 'Subscription Identifiers not supported',\r\n  162: 'Wildcard Subscriptions not supported'\r\n}\r\n\r\nfunction defaultId () {\r\n  return 'mqttjs_' + Math.random().toString(16).substr(2, 8)\r\n}\r\n\r\nfunction sendPacket (client, packet, cb) {\r\n  debug('sendPacket :: packet: %O', packet)\r\n  debug('sendPacket :: emitting `packetsend`')\r\n  client.emit('packetsend', packet)\r\n\r\n  debug('sendPacket :: writing to stream')\r\n  var result = mqttPacket.writeToStream(packet, client.stream, client.options)\r\n  debug('sendPacket :: writeToStream result %s', result)\r\n  if (!result && cb) {\r\n    debug('sendPacket :: handle events on `drain` once through callback.')\r\n    client.stream.once('drain', cb)\r\n  } else if (cb) {\r\n    debug('sendPacket :: invoking cb')\r\n    cb()\r\n  }\r\n}\r\n\r\nfunction flush (queue) {\r\n  if (queue) {\r\n    debug('flush: queue exists? %b', !!(queue))\r\n    Object.keys(queue).forEach(function (messageId) {\r\n      if (typeof queue[messageId].cb === 'function') {\r\n        queue[messageId].cb(new Error('Connection closed'))\r\n        delete queue[messageId]\r\n      }\r\n    })\r\n  }\r\n}\r\n\r\nfunction flushVolatile (queue) {\r\n  if (queue) {\r\n    debug('flushVolatile :: deleting volatile messages from the queue and setting their callbacks as error function')\r\n    Object.keys(queue).forEach(function (messageId) {\r\n      if (queue[messageId].volatile && typeof queue[messageId].cb === 'function') {\r\n        queue[messageId].cb(new Error('Connection closed'))\r\n        delete queue[messageId]\r\n      }\r\n    })\r\n  }\r\n}\r\n\r\nfunction storeAndSend (client, packet, cb, cbStorePut) {\r\n  debug('storeAndSend :: store packet with cmd %s to outgoingStore', packet.cmd)\r\n  client.outgoingStore.put(packet, function storedPacket (err) {\r\n    if (err) {\r\n      return cb && cb(err)\r\n    }\r\n    cbStorePut()\r\n    sendPacket(client, packet, cb)\r\n  })\r\n}\r\n\r\nfunction nop (error) {\r\n  debug('nop ::', error)\r\n}\r\n\r\n/**\r\n * MqttClient constructor\r\n *\r\n * @param {Stream} stream - stream\r\n * @param {Object} [options] - connection options\r\n * (see Connection#connect)\r\n */\r\nfunction MqttClient (streamBuilder, options) {\r\n  var k\r\n  var that = this\r\n\r\n  if (!(this instanceof MqttClient)) {\r\n    return new MqttClient(streamBuilder, options)\r\n  }\r\n\r\n  this.options = options || {}\r\n\r\n  // Defaults\r\n  for (k in defaultConnectOptions) {\r\n    if (typeof this.options[k] === 'undefined') {\r\n      this.options[k] = defaultConnectOptions[k]\r\n    } else {\r\n      this.options[k] = options[k]\r\n    }\r\n  }\r\n\r\n  debug('MqttClient :: options.protocol', options.protocol)\r\n  debug('MqttClient :: options.protocolVersion', options.protocolVersion)\r\n  debug('MqttClient :: options.username', options.username)\r\n  debug('MqttClient :: options.keepalive', options.keepalive)\r\n  debug('MqttClient :: options.reconnectPeriod', options.reconnectPeriod)\r\n  debug('MqttClient :: options.rejectUnauthorized', options.rejectUnauthorized)\r\n\r\n  this.options.clientId = (typeof options.clientId === 'string') ? options.clientId : defaultId()\r\n\r\n  debug('MqttClient :: clientId', this.options.clientId)\r\n\r\n  this.options.customHandleAcks = (options.protocolVersion === 5 && options.customHandleAcks) ? options.customHandleAcks : function () { arguments[3](0) }\r\n\r\n  this.streamBuilder = streamBuilder\r\n\r\n  // Inflight message storages\r\n  this.outgoingStore = options.outgoingStore || new Store()\r\n  this.incomingStore = options.incomingStore || new Store()\r\n\r\n  // Should QoS zero messages be queued when the connection is broken?\r\n  this.queueQoSZero = options.queueQoSZero === undefined ? true : options.queueQoSZero\r\n\r\n  // map of subscribed topics to support reconnection\r\n  this._resubscribeTopics = {}\r\n\r\n  // map of a subscribe messageId and a topic\r\n  this.messageIdToTopic = {}\r\n\r\n  // Ping timer, setup in _setupPingTimer\r\n  this.pingTimer = null\r\n  // Is the client connected?\r\n  this.connected = false\r\n  // Are we disconnecting?\r\n  this.disconnecting = false\r\n  // Packet queue\r\n  this.queue = []\r\n  // connack timer\r\n  this.connackTimer = null\r\n  // Reconnect timer\r\n  this.reconnectTimer = null\r\n  // Is processing store?\r\n  this._storeProcessing = false\r\n  // Packet Ids are put into the store during store processing\r\n  this._packetIdsDuringStoreProcessing = {}\r\n  /**\r\n   * MessageIDs starting with 1\r\n   * ensure that nextId is min. 1, see https://github.com/mqttjs/MQTT.js/issues/810\r\n   */\r\n  this.nextId = Math.max(1, Math.floor(Math.random() * 65535))\r\n\r\n  // Inflight callbacks\r\n  this.outgoing = {}\r\n\r\n  // True if connection is first time.\r\n  this._firstConnection = true\r\n\r\n  // Send queued packets\r\n  this.on('connect', function () {\r\n    var queue = this.queue\r\n\r\n    function deliver () {\r\n      var entry = queue.shift()\r\n      debug('deliver :: entry %o', entry)\r\n      var packet = null\r\n\r\n      if (!entry) {\r\n        return\r\n      }\r\n\r\n      packet = entry.packet\r\n      debug('deliver :: call _sendPacket for %o', packet)\r\n      that._sendPacket(\r\n        packet,\r\n        function (err) {\r\n          if (entry.cb) {\r\n            entry.cb(err)\r\n          }\r\n          deliver()\r\n        }\r\n      )\r\n    }\r\n\r\n    debug('connect :: sending queued packets')\r\n    deliver()\r\n  })\r\n\r\n  this.on('close', function () {\r\n    debug('close :: connected set to `false`')\r\n    this.connected = false\r\n\r\n    debug('close :: clearing connackTimer')\r\n    clearTimeout(this.connackTimer)\r\n\r\n    debug('close :: clearing ping timer')\r\n    if (that.pingTimer !== null) {\r\n      that.pingTimer.clear()\r\n      that.pingTimer = null\r\n    }\r\n\r\n    debug('close :: calling _setupReconnect')\r\n    this._setupReconnect()\r\n  })\r\n  EventEmitter.call(this)\r\n\r\n  debug('MqttClient :: setting up stream')\r\n  this._setupStream()\r\n}\r\ninherits(MqttClient, EventEmitter)\r\n\r\n/**\r\n * setup the event handlers in the inner stream.\r\n *\r\n * @api private\r\n */\r\nMqttClient.prototype._setupStream = function () {\r\n  var connectPacket\r\n  var that = this\r\n  var writable = new Writable()\r\n  var parser = mqttPacket.parser(this.options)\r\n  var completeParse = null\r\n  var packets = []\r\n\r\n  debug('_setupStream :: calling method to clear reconnect')\r\n  this._clearReconnect()\r\n\r\n  debug('_setupStream :: using streamBuilder provided to client to create stream')\r\n  this.stream = this.streamBuilder(this)\r\n\r\n  parser.on('packet', function (packet) {\r\n    debug('parser :: on packet push to packets array.')\r\n    packets.push(packet)\r\n  })\r\n\r\n  function nextTickWork () {\r\n    if (packets.length) {\r\n      nextTick(work)\r\n    } else {\r\n      var done = completeParse\r\n      completeParse = null\r\n      done()\r\n    }\r\n  }\r\n\r\n  function work () {\r\n    debug('work :: getting next packet in queue')\r\n    var packet = packets.shift()\r\n\r\n    if (packet) {\r\n      debug('work :: packet pulled from queue')\r\n      that._handlePacket(packet, nextTickWork)\r\n    } else {\r\n      debug('work :: no packets in queue')\r\n      var done = completeParse\r\n      completeParse = null\r\n      debug('work :: done flag is %s', !!(done))\r\n      if (done) done()\r\n    }\r\n  }\r\n\r\n  writable._write = function (buf, enc, done) {\r\n    completeParse = done\r\n    debug('writable stream :: parsing buffer')\r\n    parser.parse(buf)\r\n    work()\r\n  }\r\n\r\n  function streamErrorHandler (error) {\r\n    debug('streamErrorHandler :: error', error.message)\r\n    if (socketErrors.includes(error.code)) {\r\n      // handle error\r\n      debug('streamErrorHandler :: emitting error')\r\n      that.emit('error', error)\r\n    } else {\r\n      nop(error)\r\n    }\r\n  }\r\n\r\n  debug('_setupStream :: pipe stream to writable stream')\r\n  this.stream.pipe(writable)\r\n\r\n  // Suppress connection errors\r\n  this.stream.on('error', streamErrorHandler)\r\n\r\n  // Echo stream close\r\n  this.stream.on('close', function () {\r\n    debug('(%s)stream :: on close', that.options.clientId)\r\n    flushVolatile(that.outgoing)\r\n    debug('stream: emit close to MqttClient')\r\n    that.emit('close')\r\n  })\r\n\r\n  // Send a connect packet\r\n  debug('_setupStream: sending packet `connect`')\r\n  connectPacket = Object.create(this.options)\r\n  connectPacket.cmd = 'connect'\r\n  // avoid message queue\r\n  sendPacket(this, connectPacket)\r\n\r\n  // Echo connection errors\r\n  parser.on('error', this.emit.bind(this, 'error'))\r\n\r\n  // auth\r\n  if (this.options.properties) {\r\n    if (!this.options.properties.authenticationMethod && this.options.properties.authenticationData) {\r\n      that.end(() =>\r\n        this.emit('error', new Error('Packet has no Authentication Method')\r\n        ))\r\n      return this\r\n    }\r\n    if (this.options.properties.authenticationMethod && this.options.authPacket && typeof this.options.authPacket === 'object') {\r\n      var authPacket = xtend({cmd: 'auth', reasonCode: 0}, this.options.authPacket)\r\n      sendPacket(this, authPacket)\r\n    }\r\n  }\r\n\r\n  // many drain listeners are needed for qos 1 callbacks if the connection is intermittent\r\n  this.stream.setMaxListeners(1000)\r\n\r\n  clearTimeout(this.connackTimer)\r\n  this.connackTimer = setTimeout(function () {\r\n    debug('!!connectTimeout hit!! Calling _cleanUp with force `true`')\r\n    that._cleanUp(true)\r\n  }, this.options.connectTimeout)\r\n}\r\n\r\nMqttClient.prototype._handlePacket = function (packet, done) {\r\n  var options = this.options\r\n\r\n  if (options.protocolVersion === 5 && options.properties && options.properties.maximumPacketSize && options.properties.maximumPacketSize < packet.length) {\r\n    this.emit('error', new Error('exceeding packets size ' + packet.cmd))\r\n    this.end({reasonCode: 149, properties: { reasonString: 'Maximum packet size was exceeded' }})\r\n    return this\r\n  }\r\n  debug('_handlePacket :: emitting packetreceive')\r\n  this.emit('packetreceive', packet)\r\n\r\n  switch (packet.cmd) {\r\n    case 'publish':\r\n      this._handlePublish(packet, done)\r\n      break\r\n    case 'puback':\r\n    case 'pubrec':\r\n    case 'pubcomp':\r\n    case 'suback':\r\n    case 'unsuback':\r\n      this._handleAck(packet)\r\n      done()\r\n      break\r\n    case 'pubrel':\r\n      this._handlePubrel(packet, done)\r\n      break\r\n    case 'connack':\r\n      this._handleConnack(packet)\r\n      done()\r\n      break\r\n    case 'pingresp':\r\n      this._handlePingresp(packet)\r\n      done()\r\n      break\r\n    case 'disconnect':\r\n      this._handleDisconnect(packet)\r\n      done()\r\n      break\r\n    default:\r\n      // do nothing\r\n      // maybe we should do an error handling\r\n      // or just log it\r\n      break\r\n  }\r\n}\r\n\r\nMqttClient.prototype._checkDisconnecting = function (callback) {\r\n  if (this.disconnecting) {\r\n    if (callback) {\r\n      callback(new Error('client disconnecting'))\r\n    } else {\r\n      this.emit('error', new Error('client disconnecting'))\r\n    }\r\n  }\r\n  return this.disconnecting\r\n}\r\n\r\n/**\r\n * publish - publish <message> to <topic>\r\n *\r\n * @param {String} topic - topic to publish to\r\n * @param {String, Buffer} message - message to publish\r\n * @param {Object} [opts] - publish options, includes:\r\n *    {Number} qos - qos level to publish on\r\n *    {Boolean} retain - whether or not to retain the message\r\n *    {Boolean} dup - whether or not mark a message as duplicate\r\n *    {Function} cbStorePut - function(){} called when message is put into `outgoingStore`\r\n * @param {Function} [callback] - function(err){}\r\n *    called when publish succeeds or fails\r\n * @returns {MqttClient} this - for chaining\r\n * @api public\r\n *\r\n * @example client.publish('topic', 'message');\r\n * @example\r\n *     client.publish('topic', 'message', {qos: 1, retain: true, dup: true});\r\n * @example client.publish('topic', 'message', console.log);\r\n */\r\nMqttClient.prototype.publish = function (topic, message, opts, callback) {\r\n  debug('publish :: message `%s` to topic `%s`', message, topic)\r\n  var packet\r\n  var options = this.options\r\n\r\n  // .publish(topic, payload, cb);\r\n  if (typeof opts === 'function') {\r\n    callback = opts\r\n    opts = null\r\n  }\r\n\r\n  // default opts\r\n  var defaultOpts = {qos: 0, retain: false, dup: false}\r\n  opts = xtend(defaultOpts, opts)\r\n\r\n  if (this._checkDisconnecting(callback)) {\r\n    return this\r\n  }\r\n\r\n  packet = {\r\n    cmd: 'publish',\r\n    topic: topic,\r\n    payload: message,\r\n    qos: opts.qos,\r\n    retain: opts.retain,\r\n    messageId: this._nextId(),\r\n    dup: opts.dup\r\n  }\r\n\r\n  if (options.protocolVersion === 5) {\r\n    packet.properties = opts.properties\r\n    if ((!options.properties && packet.properties && packet.properties.topicAlias) || ((opts.properties && options.properties) &&\r\n      ((opts.properties.topicAlias && options.properties.topicAliasMaximum && opts.properties.topicAlias > options.properties.topicAliasMaximum) ||\r\n        (!options.properties.topicAliasMaximum && opts.properties.topicAlias)))) {\r\n      /*\r\n      if we are don`t setup topic alias or\r\n      topic alias maximum less than topic alias or\r\n      server don`t give topic alias maximum,\r\n      we are removing topic alias from packet\r\n      */\r\n      delete packet.properties.topicAlias\r\n    }\r\n  }\r\n\r\n  debug('publish :: qos', opts.qos)\r\n  switch (opts.qos) {\r\n    case 1:\r\n    case 2:\r\n      // Add to callbacks\r\n      this.outgoing[packet.messageId] = {\r\n        volatile: false,\r\n        cb: callback || nop\r\n      }\r\n      if (this._storeProcessing) {\r\n        debug('_storeProcessing enabled')\r\n        this._packetIdsDuringStoreProcessing[packet.messageId] = false\r\n        this._storePacket(packet, undefined, opts.cbStorePut)\r\n      } else {\r\n        debug('MqttClient:publish: packet cmd: %s', packet.cmd)\r\n        this._sendPacket(packet, undefined, opts.cbStorePut)\r\n      }\r\n      break\r\n    default:\r\n      if (this._storeProcessing) {\r\n        debug('_storeProcessing enabled')\r\n        this._storePacket(packet, callback, opts.cbStorePut)\r\n      } else {\r\n        debug('MqttClient:publish: packet cmd: %s', packet.cmd)\r\n        this._sendPacket(packet, callback, opts.cbStorePut)\r\n      }\r\n      break\r\n  }\r\n\r\n  return this\r\n}\r\n\r\n/**\r\n * subscribe - subscribe to <topic>\r\n *\r\n * @param {String, Array, Object} topic - topic(s) to subscribe to, supports objects in the form {'topic': qos}\r\n * @param {Object} [opts] - optional subscription options, includes:\r\n *    {Number} qos - subscribe qos level\r\n * @param {Function} [callback] - function(err, granted){} where:\r\n *    {Error} err - subscription error (none at the moment!)\r\n *    {Array} granted - array of {topic: 't', qos: 0}\r\n * @returns {MqttClient} this - for chaining\r\n * @api public\r\n * @example client.subscribe('topic');\r\n * @example client.subscribe('topic', {qos: 1});\r\n * @example client.subscribe({'topic': {qos: 0}, 'topic2': {qos: 1}}, console.log);\r\n * @example client.subscribe('topic', console.log);\r\n */\r\nMqttClient.prototype.subscribe = function () {\r\n  var packet\r\n  var args = new Array(arguments.length)\r\n  for (var i = 0; i < arguments.length; i++) {\r\n    args[i] = arguments[i]\r\n  }\r\n  var subs = []\r\n  var obj = args.shift()\r\n  var resubscribe = obj.resubscribe\r\n  var callback = args.pop() || nop\r\n  var opts = args.pop()\r\n  var invalidTopic\r\n  var that = this\r\n  var version = this.options.protocolVersion\r\n\r\n  delete obj.resubscribe\r\n\r\n  if (typeof obj === 'string') {\r\n    obj = [obj]\r\n  }\r\n\r\n  if (typeof callback !== 'function') {\r\n    opts = callback\r\n    callback = nop\r\n  }\r\n\r\n  invalidTopic = validations.validateTopics(obj)\r\n  if (invalidTopic !== null) {\r\n    setImmediate(callback, new Error('Invalid topic ' + invalidTopic))\r\n    return this\r\n  }\r\n\r\n  if (this._checkDisconnecting(callback)) {\r\n    debug('subscribe: discconecting true')\r\n    return this\r\n  }\r\n\r\n  var defaultOpts = {\r\n    qos: 0\r\n  }\r\n  if (version === 5) {\r\n    defaultOpts.nl = false\r\n    defaultOpts.rap = false\r\n    defaultOpts.rh = 0\r\n  }\r\n  opts = xtend(defaultOpts, opts)\r\n\r\n  if (Array.isArray(obj)) {\r\n    obj.forEach(function (topic) {\r\n      debug('subscribe: array topic %s', topic)\r\n      if (!that._resubscribeTopics.hasOwnProperty(topic) ||\r\n        that._resubscribeTopics[topic].qos < opts.qos ||\r\n          resubscribe) {\r\n        var currentOpts = {\r\n          topic: topic,\r\n          qos: opts.qos\r\n        }\r\n        if (version === 5) {\r\n          currentOpts.nl = opts.nl\r\n          currentOpts.rap = opts.rap\r\n          currentOpts.rh = opts.rh\r\n          currentOpts.properties = opts.properties\r\n        }\r\n        debug('subscribe: pushing topic `%s` and qos `%s` to subs list', currentOpts.topic, currentOpts.qos)\r\n        subs.push(currentOpts)\r\n      }\r\n    })\r\n  } else {\r\n    Object\r\n      .keys(obj)\r\n      .forEach(function (k) {\r\n        debug('subscribe: object topic %s', k)\r\n        if (!that._resubscribeTopics.hasOwnProperty(k) ||\r\n          that._resubscribeTopics[k].qos < obj[k].qos ||\r\n            resubscribe) {\r\n          var currentOpts = {\r\n            topic: k,\r\n            qos: obj[k].qos\r\n          }\r\n          if (version === 5) {\r\n            currentOpts.nl = obj[k].nl\r\n            currentOpts.rap = obj[k].rap\r\n            currentOpts.rh = obj[k].rh\r\n            currentOpts.properties = opts.properties\r\n          }\r\n          debug('subscribe: pushing `%s` to subs list', currentOpts)\r\n          subs.push(currentOpts)\r\n        }\r\n      })\r\n  }\r\n\r\n  packet = {\r\n    cmd: 'subscribe',\r\n    subscriptions: subs,\r\n    qos: 1,\r\n    retain: false,\r\n    dup: false,\r\n    messageId: this._nextId()\r\n  }\r\n\r\n  if (opts.properties) {\r\n    packet.properties = opts.properties\r\n  }\r\n\r\n  if (!subs.length) {\r\n    callback(null, [])\r\n    return\r\n  }\r\n\r\n  // subscriptions to resubscribe to in case of disconnect\r\n  if (this.options.resubscribe) {\r\n    debug('subscribe :: resubscribe true')\r\n    var topics = []\r\n    subs.forEach(function (sub) {\r\n      if (that.options.reconnectPeriod > 0) {\r\n        var topic = { qos: sub.qos }\r\n        if (version === 5) {\r\n          topic.nl = sub.nl || false\r\n          topic.rap = sub.rap || false\r\n          topic.rh = sub.rh || 0\r\n          topic.properties = sub.properties\r\n        }\r\n        that._resubscribeTopics[sub.topic] = topic\r\n        topics.push(sub.topic)\r\n      }\r\n    })\r\n    that.messageIdToTopic[packet.messageId] = topics\r\n  }\r\n\r\n  this.outgoing[packet.messageId] = {\r\n    volatile: true,\r\n    cb: function (err, packet) {\r\n      if (!err) {\r\n        var granted = packet.granted\r\n        for (var i = 0; i < granted.length; i += 1) {\r\n          subs[i].qos = granted[i]\r\n        }\r\n      }\r\n\r\n      callback(err, subs)\r\n    }\r\n  }\r\n  debug('subscribe :: call _sendPacket')\r\n  this._sendPacket(packet)\r\n\r\n  return this\r\n}\r\n\r\n/**\r\n * unsubscribe - unsubscribe from topic(s)\r\n *\r\n * @param {String, Array} topic - topics to unsubscribe from\r\n * @param {Object} [opts] - optional subscription options, includes:\r\n *    {Object} properties - properties of unsubscribe packet\r\n * @param {Function} [callback] - callback fired on unsuback\r\n * @returns {MqttClient} this - for chaining\r\n * @api public\r\n * @example client.unsubscribe('topic');\r\n * @example client.unsubscribe('topic', console.log);\r\n */\r\nMqttClient.prototype.unsubscribe = function () {\r\n  var packet = {\r\n    cmd: 'unsubscribe',\r\n    qos: 1,\r\n    messageId: this._nextId()\r\n  }\r\n  var that = this\r\n  var args = new Array(arguments.length)\r\n  for (var i = 0; i < arguments.length; i++) {\r\n    args[i] = arguments[i]\r\n  }\r\n  var topic = args.shift()\r\n  var callback = args.pop() || nop\r\n  var opts = args.pop()\r\n\r\n  if (typeof topic === 'string') {\r\n    topic = [topic]\r\n  }\r\n\r\n  if (typeof callback !== 'function') {\r\n    opts = callback\r\n    callback = nop\r\n  }\r\n\r\n  if (this._checkDisconnecting(callback)) {\r\n    return this\r\n  }\r\n\r\n  if (typeof topic === 'string') {\r\n    packet.unsubscriptions = [topic]\r\n  } else if (Array.isArray(topic)) {\r\n    packet.unsubscriptions = topic\r\n  }\r\n\r\n  if (this.options.resubscribe) {\r\n    packet.unsubscriptions.forEach(function (topic) {\r\n      delete that._resubscribeTopics[topic]\r\n    })\r\n  }\r\n\r\n  if (typeof opts === 'object' && opts.properties) {\r\n    packet.properties = opts.properties\r\n  }\r\n\r\n  this.outgoing[packet.messageId] = {\r\n    volatile: true,\r\n    cb: callback\r\n  }\r\n\r\n  debug('unsubscribe: call _sendPacket')\r\n  this._sendPacket(packet)\r\n\r\n  return this\r\n}\r\n\r\n/**\r\n * end - close connection\r\n *\r\n * @returns {MqttClient} this - for chaining\r\n * @param {Boolean} force - do not wait for all in-flight messages to be acked\r\n * @param {Object} opts - added to the disconnect packet\r\n * @param {Function} cb - called when the client has been closed\r\n *\r\n * @api public\r\n */\r\nMqttClient.prototype.end = function (force, opts, cb) {\r\n  var that = this\r\n\r\n  debug('end :: (%s)', this.options.clientId)\r\n\r\n  if (force == null || typeof force !== 'boolean') {\r\n    cb = opts || nop\r\n    opts = force\r\n    force = false\r\n    if (typeof opts !== 'object') {\r\n      cb = opts\r\n      opts = null\r\n      if (typeof cb !== 'function') {\r\n        cb = nop\r\n      }\r\n    }\r\n  }\r\n\r\n  if (typeof opts !== 'object') {\r\n    cb = opts\r\n    opts = null\r\n  }\r\n\r\n  debug('end :: cb? %s', !!cb)\r\n  cb = cb || nop\r\n\r\n  function closeStores () {\r\n    debug('end :: closeStores: closing incoming and outgoing stores')\r\n    that.disconnected = true\r\n    that.incomingStore.close(function (e1) {\r\n      that.outgoingStore.close(function (e2) {\r\n        debug('end :: closeStores: emitting end')\r\n        that.emit('end')\r\n        if (cb) {\r\n          let err = e1 || e2\r\n          debug('end :: closeStores: invoking callback with args')\r\n          cb(err)\r\n        }\r\n      })\r\n    })\r\n    if (that._deferredReconnect) {\r\n      that._deferredReconnect()\r\n    }\r\n  }\r\n\r\n  function finish () {\r\n    // defer closesStores of an I/O cycle,\r\n    // just to make sure things are\r\n    // ok for websockets\r\n    debug('end :: (%s) :: finish :: calling _cleanUp with force %s', that.options.clientId, force)\r\n    that._cleanUp(force, () => {\r\n      debug('end :: finish :: calling process.nextTick on closeStores')\r\n      // var boundProcess = nextTick.bind(null, closeStores)\r\n      nextTick(closeStores.bind(that))\r\n    }, opts)\r\n  }\r\n\r\n  if (this.disconnecting) {\r\n    cb()\r\n    return this\r\n  }\r\n\r\n  this._clearReconnect()\r\n\r\n  this.disconnecting = true\r\n\r\n  if (!force && Object.keys(this.outgoing).length > 0) {\r\n    // wait 10ms, just to be sure we received all of it\r\n    debug('end :: (%s) :: calling finish in 10ms once outgoing is empty', that.options.clientId)\r\n    this.once('outgoingEmpty', setTimeout.bind(null, finish, 10))\r\n  } else {\r\n    debug('end :: (%s) :: immediately calling finish', that.options.clientId)\r\n    finish()\r\n  }\r\n\r\n  return this\r\n}\r\n\r\n/**\r\n * removeOutgoingMessage - remove a message in outgoing store\r\n * the outgoing callback will be called withe Error('Message removed') if the message is removed\r\n *\r\n * @param {Number} messageId - messageId to remove message\r\n * @returns {MqttClient} this - for chaining\r\n * @api public\r\n *\r\n * @example client.removeOutgoingMessage(client.getLastMessageId());\r\n */\r\nMqttClient.prototype.removeOutgoingMessage = function (messageId) {\r\n  var cb = this.outgoing[messageId] ? this.outgoing[messageId].cb : null\r\n  delete this.outgoing[messageId]\r\n  this.outgoingStore.del({messageId: messageId}, function () {\r\n    cb(new Error('Message removed'))\r\n  })\r\n  return this\r\n}\r\n\r\n/**\r\n * reconnect - connect again using the same options as connect()\r\n *\r\n * @param {Object} [opts] - optional reconnect options, includes:\r\n *    {Store} incomingStore - a store for the incoming packets\r\n *    {Store} outgoingStore - a store for the outgoing packets\r\n *    if opts is not given, current stores are used\r\n * @returns {MqttClient} this - for chaining\r\n *\r\n * @api public\r\n */\r\nMqttClient.prototype.reconnect = function (opts) {\r\n  debug('client reconnect')\r\n  var that = this\r\n  var f = function () {\r\n    if (opts) {\r\n      that.options.incomingStore = opts.incomingStore\r\n      that.options.outgoingStore = opts.outgoingStore\r\n    } else {\r\n      that.options.incomingStore = null\r\n      that.options.outgoingStore = null\r\n    }\r\n    that.incomingStore = that.options.incomingStore || new Store()\r\n    that.outgoingStore = that.options.outgoingStore || new Store()\r\n    that.disconnecting = false\r\n    that.disconnected = false\r\n    that._deferredReconnect = null\r\n    that._reconnect()\r\n  }\r\n\r\n  if (this.disconnecting && !this.disconnected) {\r\n    this._deferredReconnect = f\r\n  } else {\r\n    f()\r\n  }\r\n  return this\r\n}\r\n\r\n/**\r\n * _reconnect - implement reconnection\r\n * @api privateish\r\n */\r\nMqttClient.prototype._reconnect = function () {\r\n  debug('_reconnect: emitting reconnect to client')\r\n  this.emit('reconnect')\r\n  if (this.connected) {\r\n    this.end(() => { this._setupStream() })\r\n    debug('client already connected. disconnecting first.')\r\n  } else {\r\n    debug('_reconnect: calling _setupStream')\r\n    this._setupStream()\r\n  }\r\n}\r\n\r\n/**\r\n * _setupReconnect - setup reconnect timer\r\n */\r\nMqttClient.prototype._setupReconnect = function () {\r\n  var that = this\r\n\r\n  if (!that.disconnecting && !that.reconnectTimer && (that.options.reconnectPeriod > 0)) {\r\n    if (!this.reconnecting) {\r\n      debug('_setupReconnect :: emit `offline` state')\r\n      this.emit('offline')\r\n      debug('_setupReconnect :: set `reconnecting` to `true`')\r\n      this.reconnecting = true\r\n    }\r\n    debug('_setupReconnect :: setting reconnectTimer for %d ms', that.options.reconnectPeriod)\r\n    that.reconnectTimer = setInterval(function () {\r\n      debug('reconnectTimer :: reconnect triggered!')\r\n      that._reconnect()\r\n    }, that.options.reconnectPeriod)\r\n  } else {\r\n    debug('_setupReconnect :: doing nothing...')\r\n  }\r\n}\r\n\r\n/**\r\n * _clearReconnect - clear the reconnect timer\r\n */\r\nMqttClient.prototype._clearReconnect = function () {\r\n  debug('_clearReconnect : clearing reconnect timer')\r\n  if (this.reconnectTimer) {\r\n    clearInterval(this.reconnectTimer)\r\n    this.reconnectTimer = null\r\n  }\r\n}\r\n\r\n/**\r\n * _cleanUp - clean up on connection end\r\n * @api private\r\n */\r\nMqttClient.prototype._cleanUp = function (forced, done) {\r\n  var opts = arguments[2]\r\n  if (done) {\r\n    debug('_cleanUp :: done callback provided for on stream close')\r\n    this.stream.on('close', done)\r\n  }\r\n\r\n  debug('_cleanUp :: forced? %s', forced)\r\n  if (forced) {\r\n    if ((this.options.reconnectPeriod === 0) && this.options.clean) {\r\n      flush(this.outgoing)\r\n    }\r\n    debug('_cleanUp :: (%s) :: destroying stream', this.options.clientId)\r\n    this.stream.destroy()\r\n  } else {\r\n    var packet = xtend({ cmd: 'disconnect' }, opts)\r\n    debug('_cleanUp :: (%s) :: call _sendPacket with disconnect packet', this.options.clientId)\r\n    this._sendPacket(\r\n      packet,\r\n      setImmediate.bind(\r\n        null,\r\n        this.stream.end.bind(this.stream)\r\n      )\r\n    )\r\n  }\r\n\r\n  if (!this.disconnecting) {\r\n    debug('_cleanUp :: client not disconnecting. Clearing and resetting reconnect.')\r\n    this._clearReconnect()\r\n    this._setupReconnect()\r\n  }\r\n\r\n  if (this.pingTimer !== null) {\r\n    debug('_cleanUp :: clearing pingTimer')\r\n    this.pingTimer.clear()\r\n    this.pingTimer = null\r\n  }\r\n\r\n  if (done && !this.connected) {\r\n    debug('_cleanUp :: (%s) :: removing stream `done` callback `close` listener', this.options.clientId)\r\n    this.stream.removeListener('close', done)\r\n    done()\r\n  }\r\n}\r\n\r\n/**\r\n * _sendPacket - send or queue a packet\r\n * @param {Object} packet - packet options\r\n * @param {Function} cb - callback when the packet is sent\r\n * @param {Function} cbStorePut - called when message is put into outgoingStore\r\n * @api private\r\n */\r\nMqttClient.prototype._sendPacket = function (packet, cb, cbStorePut) {\r\n  debug('_sendPacket :: (%s) ::  start', this.options.clientId)\r\n  cbStorePut = cbStorePut || nop\r\n\r\n  if (!this.connected) {\r\n    debug('_sendPacket :: client not connected. Storing packet offline.')\r\n    this._storePacket(packet, cb, cbStorePut)\r\n    return\r\n  }\r\n\r\n  // When sending a packet, reschedule the ping timer\r\n  this._shiftPingInterval()\r\n\r\n  switch (packet.cmd) {\r\n    case 'publish':\r\n      break\r\n    case 'pubrel':\r\n      storeAndSend(this, packet, cb, cbStorePut)\r\n      return\r\n    default:\r\n      sendPacket(this, packet, cb)\r\n      return\r\n  }\r\n\r\n  switch (packet.qos) {\r\n    case 2:\r\n    case 1:\r\n      storeAndSend(this, packet, cb, cbStorePut)\r\n      break\r\n    /**\r\n     * no need of case here since it will be caught by default\r\n     * and jshint comply that before default it must be a break\r\n     * anyway it will result in -1 evaluation\r\n     */\r\n    case 0:\r\n      /* falls through */\r\n    default:\r\n      sendPacket(this, packet, cb)\r\n      break\r\n  }\r\n  debug('_sendPacket :: (%s) ::  end', this.options.clientId)\r\n}\r\n\r\n/**\r\n * _storePacket - queue a packet\r\n * @param {Object} packet - packet options\r\n * @param {Function} cb - callback when the packet is sent\r\n * @param {Function} cbStorePut - called when message is put into outgoingStore\r\n * @api private\r\n */\r\nMqttClient.prototype._storePacket = function (packet, cb, cbStorePut) {\r\n  debug('_storePacket :: packet: %o', packet)\r\n  debug('_storePacket :: cb? %s', !!cb)\r\n  cbStorePut = cbStorePut || nop\r\n\r\n  // check that the packet is not a qos of 0, or that the command is not a publish\r\n  if (((packet.qos || 0) === 0 && this.queueQoSZero) || packet.cmd !== 'publish') {\r\n    this.queue.push({ packet: packet, cb: cb })\r\n  } else if (packet.qos > 0) {\r\n    cb = this.outgoing[packet.messageId] ? this.outgoing[packet.messageId].cb : null\r\n    this.outgoingStore.put(packet, function (err) {\r\n      if (err) {\r\n        return cb && cb(err)\r\n      }\r\n      cbStorePut()\r\n    })\r\n  } else if (cb) {\r\n    cb(new Error('No connection to broker'))\r\n  }\r\n}\r\n\r\n/**\r\n * _setupPingTimer - setup the ping timer\r\n *\r\n * @api private\r\n */\r\nMqttClient.prototype._setupPingTimer = function () {\r\n  debug('_setupPingTimer :: keepalive %d (seconds)', this.options.keepalive)\r\n  var that = this\r\n\r\n  if (!this.pingTimer && this.options.keepalive) {\r\n    this.pingResp = true\r\n    this.pingTimer = reInterval(function () {\r\n      that._checkPing()\r\n    }, this.options.keepalive * 1000)\r\n  }\r\n}\r\n\r\n/**\r\n * _shiftPingInterval - reschedule the ping interval\r\n *\r\n * @api private\r\n */\r\nMqttClient.prototype._shiftPingInterval = function () {\r\n  if (this.pingTimer && this.options.keepalive && this.options.reschedulePings) {\r\n    this.pingTimer.reschedule(this.options.keepalive * 1000)\r\n  }\r\n}\r\n/**\r\n * _checkPing - check if a pingresp has come back, and ping the server again\r\n *\r\n * @api private\r\n */\r\nMqttClient.prototype._checkPing = function () {\r\n  debug('_checkPing :: checking ping...')\r\n  if (this.pingResp) {\r\n    debug('_checkPing :: ping response received. Clearing flag and sending `pingreq`')\r\n    this.pingResp = false\r\n    this._sendPacket({ cmd: 'pingreq' })\r\n  } else {\r\n    // do a forced cleanup since socket will be in bad shape\r\n    debug('_checkPing :: calling _cleanUp with force true')\r\n    this._cleanUp(true)\r\n  }\r\n}\r\n\r\n/**\r\n * _handlePingresp - handle a pingresp\r\n *\r\n * @api private\r\n */\r\nMqttClient.prototype._handlePingresp = function () {\r\n  this.pingResp = true\r\n}\r\n\r\n/**\r\n * _handleConnack\r\n *\r\n * @param {Object} packet\r\n * @api private\r\n */\r\nMqttClient.prototype._handleConnack = function (packet) {\r\n  debug('_handleConnack')\r\n  var options = this.options\r\n  var version = options.protocolVersion\r\n  var rc = version === 5 ? packet.reasonCode : packet.returnCode\r\n\r\n  clearTimeout(this.connackTimer)\r\n\r\n  if (packet.properties) {\r\n    if (packet.properties.topicAliasMaximum) {\r\n      if (!options.properties) { options.properties = {} }\r\n      options.properties.topicAliasMaximum = packet.properties.topicAliasMaximum\r\n    }\r\n    if (packet.properties.serverKeepAlive && options.keepalive) {\r\n      options.keepalive = packet.properties.serverKeepAlive\r\n      this._shiftPingInterval()\r\n    }\r\n    if (packet.properties.maximumPacketSize) {\r\n      if (!options.properties) { options.properties = {} }\r\n      options.properties.maximumPacketSize = packet.properties.maximumPacketSize\r\n    }\r\n  }\r\n\r\n  if (rc === 0) {\r\n    this.reconnecting = false\r\n    this._onConnect(packet)\r\n  } else if (rc > 0) {\r\n    var err = new Error('Connection refused: ' + errors[rc])\r\n    err.code = rc\r\n    this.emit('error', err)\r\n  }\r\n}\r\n\r\n/**\r\n * _handlePublish\r\n *\r\n * @param {Object} packet\r\n * @api private\r\n */\r\n/*\r\nthose late 2 case should be rewrite to comply with coding style:\r\n\r\ncase 1:\r\ncase 0:\r\n  // do not wait sending a puback\r\n  // no callback passed\r\n  if (1 === qos) {\r\n    this._sendPacket({\r\n      cmd: 'puback',\r\n      messageId: messageId\r\n    });\r\n  }\r\n  // emit the message event for both qos 1 and 0\r\n  this.emit('message', topic, message, packet);\r\n  this.handleMessage(packet, done);\r\n  break;\r\ndefault:\r\n  // do nothing but every switch mus have a default\r\n  // log or throw an error about unknown qos\r\n  break;\r\n\r\nfor now i just suppressed the warnings\r\n*/\r\nMqttClient.prototype._handlePublish = function (packet, done) {\r\n  debug('_handlePublish: packet %o', packet)\r\n  done = typeof done !== 'undefined' ? done : nop\r\n  var topic = packet.topic.toString()\r\n  var message = packet.payload\r\n  var qos = packet.qos\r\n  var messageId = packet.messageId\r\n  var that = this\r\n  var options = this.options\r\n  var validReasonCodes = [0, 16, 128, 131, 135, 144, 145, 151, 153]\r\n  debug('_handlePublish: qos %d', qos)\r\n  switch (qos) {\r\n    case 2: {\r\n      options.customHandleAcks(topic, message, packet, function (error, code) {\r\n        if (!(error instanceof Error)) {\r\n          code = error\r\n          error = null\r\n        }\r\n        if (error) { return that.emit('error', error) }\r\n        if (validReasonCodes.indexOf(code) === -1) { return that.emit('error', new Error('Wrong reason code for pubrec')) }\r\n        if (code) {\r\n          that._sendPacket({cmd: 'pubrec', messageId: messageId, reasonCode: code}, done)\r\n        } else {\r\n          that.incomingStore.put(packet, function () {\r\n            that._sendPacket({cmd: 'pubrec', messageId: messageId}, done)\r\n          })\r\n        }\r\n      })\r\n      break\r\n    }\r\n    case 1: {\r\n      // emit the message event\r\n      options.customHandleAcks(topic, message, packet, function (error, code) {\r\n        if (!(error instanceof Error)) {\r\n          code = error\r\n          error = null\r\n        }\r\n        if (error) { return that.emit('error', error) }\r\n        if (validReasonCodes.indexOf(code) === -1) { return that.emit('error', new Error('Wrong reason code for puback')) }\r\n        if (!code) { that.emit('message', topic, message, packet) }\r\n        that.handleMessage(packet, function (err) {\r\n          if (err) {\r\n            return done && done(err)\r\n          }\r\n          that._sendPacket({cmd: 'puback', messageId: messageId, reasonCode: code}, done)\r\n        })\r\n      })\r\n      break\r\n    }\r\n    case 0:\r\n      // emit the message event\r\n      this.emit('message', topic, message, packet)\r\n      this.handleMessage(packet, done)\r\n      break\r\n    default:\r\n      // do nothing\r\n      debug('_handlePublish: unknown QoS. Doing nothing.')\r\n      // log or throw an error about unknown qos\r\n      break\r\n  }\r\n}\r\n\r\n/**\r\n * Handle messages with backpressure support, one at a time.\r\n * Override at will.\r\n *\r\n * @param Packet packet the packet\r\n * @param Function callback call when finished\r\n * @api public\r\n */\r\nMqttClient.prototype.handleMessage = function (packet, callback) {\r\n  callback()\r\n}\r\n\r\n/**\r\n * _handleAck\r\n *\r\n * @param {Object} packet\r\n * @api private\r\n */\r\n\r\nMqttClient.prototype._handleAck = function (packet) {\r\n  /* eslint no-fallthrough: \"off\" */\r\n  var messageId = packet.messageId\r\n  var type = packet.cmd\r\n  var response = null\r\n  var cb = this.outgoing[messageId] ? this.outgoing[messageId].cb : null\r\n  var that = this\r\n  var err\r\n\r\n  if (!cb) {\r\n    debug('_handleAck :: Server sent an ack in error. Ignoring.')\r\n    // Server sent an ack in error, ignore it.\r\n    return\r\n  }\r\n\r\n  // Process\r\n  debug('_handleAck :: packet type', type)\r\n  switch (type) {\r\n    case 'pubcomp':\r\n      // same thing as puback for QoS 2\r\n    case 'puback':\r\n      var pubackRC = packet.reasonCode\r\n      // Callback - we're done\r\n      if (pubackRC && pubackRC > 0 && pubackRC !== 16) {\r\n        err = new Error('Publish error: ' + errors[pubackRC])\r\n        err.code = pubackRC\r\n        cb(err, packet)\r\n      }\r\n      delete this.outgoing[messageId]\r\n      this.outgoingStore.del(packet, cb)\r\n      break\r\n    case 'pubrec':\r\n      response = {\r\n        cmd: 'pubrel',\r\n        qos: 2,\r\n        messageId: messageId\r\n      }\r\n      var pubrecRC = packet.reasonCode\r\n\r\n      if (pubrecRC && pubrecRC > 0 && pubrecRC !== 16) {\r\n        err = new Error('Publish error: ' + errors[pubrecRC])\r\n        err.code = pubrecRC\r\n        cb(err, packet)\r\n      } else {\r\n        this._sendPacket(response)\r\n      }\r\n      break\r\n    case 'suback':\r\n      delete this.outgoing[messageId]\r\n      for (var grantedI = 0; grantedI < packet.granted.length; grantedI++) {\r\n        if ((packet.granted[grantedI] & 0x80) !== 0) {\r\n          // suback with Failure status\r\n          var topics = this.messageIdToTopic[messageId]\r\n          if (topics) {\r\n            topics.forEach(function (topic) {\r\n              delete that._resubscribeTopics[topic]\r\n            })\r\n          }\r\n        }\r\n      }\r\n      cb(null, packet)\r\n      break\r\n    case 'unsuback':\r\n      delete this.outgoing[messageId]\r\n      cb(null)\r\n      break\r\n    default:\r\n      that.emit('error', new Error('unrecognized packet type'))\r\n  }\r\n\r\n  if (this.disconnecting &&\r\n      Object.keys(this.outgoing).length === 0) {\r\n    this.emit('outgoingEmpty')\r\n  }\r\n}\r\n\r\n/**\r\n * _handlePubrel\r\n *\r\n * @param {Object} packet\r\n * @api private\r\n */\r\nMqttClient.prototype._handlePubrel = function (packet, callback) {\r\n  debug('handling pubrel packet')\r\n  callback = typeof callback !== 'undefined' ? callback : nop\r\n  var messageId = packet.messageId\r\n  var that = this\r\n\r\n  var comp = {cmd: 'pubcomp', messageId: messageId}\r\n\r\n  that.incomingStore.get(packet, function (err, pub) {\r\n    if (!err) {\r\n      that.emit('message', pub.topic, pub.payload, pub)\r\n      that.handleMessage(pub, function (err) {\r\n        if (err) {\r\n          return callback(err)\r\n        }\r\n        that.incomingStore.del(pub, nop)\r\n        that._sendPacket(comp, callback)\r\n      })\r\n    } else {\r\n      that._sendPacket(comp, callback)\r\n    }\r\n  })\r\n}\r\n\r\n/**\r\n * _handleDisconnect\r\n *\r\n * @param {Object} packet\r\n * @api private\r\n */\r\nMqttClient.prototype._handleDisconnect = function (packet) {\r\n  this.emit('disconnect', packet)\r\n}\r\n\r\n/**\r\n * _nextId\r\n * @return unsigned int\r\n */\r\nMqttClient.prototype._nextId = function () {\r\n  // id becomes current state of this.nextId and increments afterwards\r\n  var id = this.nextId++\r\n  // Ensure 16 bit unsigned int (max 65535, nextId got one higher)\r\n  if (this.nextId === 65536) {\r\n    this.nextId = 1\r\n  }\r\n  return id\r\n}\r\n\r\n/**\r\n * getLastMessageId\r\n * @return unsigned int\r\n */\r\nMqttClient.prototype.getLastMessageId = function () {\r\n  return (this.nextId === 1) ? 65535 : (this.nextId - 1)\r\n}\r\n\r\n/**\r\n * _resubscribe\r\n * @api private\r\n */\r\nMqttClient.prototype._resubscribe = function (connack) {\r\n  debug('_resubscribe')\r\n  var _resubscribeTopicsKeys = Object.keys(this._resubscribeTopics)\r\n  if (!this._firstConnection &&\r\n      (this.options.clean || (this.options.protocolVersion === 5 && !connack.sessionPresent)) &&\r\n      _resubscribeTopicsKeys.length > 0) {\r\n    if (this.options.resubscribe) {\r\n      if (this.options.protocolVersion === 5) {\r\n        debug('_resubscribe: protocolVersion 5')\r\n        for (var topicI = 0; topicI < _resubscribeTopicsKeys.length; topicI++) {\r\n          var resubscribeTopic = {}\r\n          resubscribeTopic[_resubscribeTopicsKeys[topicI]] = this._resubscribeTopics[_resubscribeTopicsKeys[topicI]]\r\n          resubscribeTopic.resubscribe = true\r\n          this.subscribe(resubscribeTopic, {properties: resubscribeTopic[_resubscribeTopicsKeys[topicI]].properties})\r\n        }\r\n      } else {\r\n        this._resubscribeTopics.resubscribe = true\r\n        this.subscribe(this._resubscribeTopics)\r\n      }\r\n    } else {\r\n      this._resubscribeTopics = {}\r\n    }\r\n  }\r\n\r\n  this._firstConnection = false\r\n}\r\n\r\n/**\r\n * _onConnect\r\n *\r\n * @api private\r\n */\r\nMqttClient.prototype._onConnect = function (packet) {\r\n  if (this.disconnected) {\r\n    this.emit('connect', packet)\r\n    return\r\n  }\r\n\r\n  var that = this\r\n\r\n  this._setupPingTimer()\r\n  this._resubscribe(packet)\r\n\r\n  this.connected = true\r\n\r\n  function startStreamProcess () {\r\n    var outStore = that.outgoingStore.createStream()\r\n\r\n    function clearStoreProcessing () {\r\n      that._storeProcessing = false\r\n      that._packetIdsDuringStoreProcessing = {}\r\n    }\r\n\r\n    that.once('close', remove)\r\n    outStore.on('error', function (err) {\r\n      clearStoreProcessing()\r\n      that.removeListener('close', remove)\r\n      that.emit('error', err)\r\n    })\r\n\r\n    function remove () {\r\n      outStore.destroy()\r\n      outStore = null\r\n      clearStoreProcessing()\r\n    }\r\n\r\n    function storeDeliver () {\r\n      // edge case, we wrapped this twice\r\n      if (!outStore) {\r\n        return\r\n      }\r\n      that._storeProcessing = true\r\n\r\n      var packet = outStore.read(1)\r\n\r\n      var cb\r\n\r\n      if (!packet) {\r\n        // read when data is available in the future\r\n        outStore.once('readable', storeDeliver)\r\n        return\r\n      }\r\n\r\n      // Skip already processed store packets\r\n      if (that._packetIdsDuringStoreProcessing[packet.messageId]) {\r\n        storeDeliver()\r\n        return\r\n      }\r\n\r\n      // Avoid unnecessary stream read operations when disconnected\r\n      if (!that.disconnecting && !that.reconnectTimer) {\r\n        cb = that.outgoing[packet.messageId] ? that.outgoing[packet.messageId].cb : null\r\n        that.outgoing[packet.messageId] = {\r\n          volatile: false,\r\n          cb: function (err, status) {\r\n            // Ensure that the original callback passed in to publish gets invoked\r\n            if (cb) {\r\n              cb(err, status)\r\n            }\r\n\r\n            storeDeliver()\r\n          }\r\n        }\r\n        that._packetIdsDuringStoreProcessing[packet.messageId] = true\r\n        that._sendPacket(packet)\r\n      } else if (outStore.destroy) {\r\n        outStore.destroy()\r\n      }\r\n    }\r\n\r\n    outStore.on('end', function () {\r\n      var allProcessed = true\r\n      for (var id in that._packetIdsDuringStoreProcessing) {\r\n        if (!that._packetIdsDuringStoreProcessing[id]) {\r\n          allProcessed = false\r\n          break\r\n        }\r\n      }\r\n      if (allProcessed) {\r\n        clearStoreProcessing()\r\n        that.removeListener('close', remove)\r\n        that.emit('connect', packet)\r\n      } else {\r\n        startStreamProcess()\r\n      }\r\n    })\r\n    storeDeliver()\r\n  }\r\n  // start flowing\r\n  startStreamProcess()\r\n}\r\n\r\nmodule.exports = MqttClient\r\n","// `Symbol.prototype.description` getter\n// https://tc39.github.io/ecma262/#sec-symbol.prototype.description\n'use strict';\nvar $ = require('../internals/export');\nvar DESCRIPTORS = require('../internals/descriptors');\nvar global = require('../internals/global');\nvar has = require('../internals/has');\nvar isObject = require('../internals/is-object');\nvar defineProperty = require('../internals/object-define-property').f;\nvar copyConstructorProperties = require('../internals/copy-constructor-properties');\n\nvar NativeSymbol = global.Symbol;\n\nif (DESCRIPTORS && typeof NativeSymbol == 'function' && (!('description' in NativeSymbol.prototype) ||\n  // Safari 12 bug\n  NativeSymbol().description !== undefined\n)) {\n  var EmptyStringDescriptionStore = {};\n  // wrap Symbol constructor for correct work with undefined description\n  var SymbolWrapper = function Symbol() {\n    var description = arguments.length < 1 || arguments[0] === undefined ? undefined : String(arguments[0]);\n    var result = this instanceof SymbolWrapper\n      ? new NativeSymbol(description)\n      // in Edge 13, String(Symbol(undefined)) === 'Symbol(undefined)'\n      : description === undefined ? NativeSymbol() : NativeSymbol(description);\n    if (description === '') EmptyStringDescriptionStore[result] = true;\n    return result;\n  };\n  copyConstructorProperties(SymbolWrapper, NativeSymbol);\n  var symbolPrototype = SymbolWrapper.prototype = NativeSymbol.prototype;\n  symbolPrototype.constructor = SymbolWrapper;\n\n  var symbolToString = symbolPrototype.toString;\n  var native = String(NativeSymbol('test')) == 'Symbol(test)';\n  var regexp = /^Symbol\\((.*)\\)[^)]+$/;\n  defineProperty(symbolPrototype, 'description', {\n    configurable: true,\n    get: function description() {\n      var symbol = isObject(this) ? this.valueOf() : this;\n      var string = symbolToString.call(symbol);\n      if (has(EmptyStringDescriptionStore, symbol)) return '';\n      var desc = native ? string.slice(7, -1) : string.replace(regexp, '$1');\n      return desc === '' ? undefined : desc;\n    }\n  });\n\n  $({ global: true, forced: true }, {\n    Symbol: SymbolWrapper\n  });\n}\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\nvar stringifyPrimitive = function(v) {\n  switch (typeof v) {\n    case 'string':\n      return v;\n\n    case 'boolean':\n      return v ? 'true' : 'false';\n\n    case 'number':\n      return isFinite(v) ? v : '';\n\n    default:\n      return '';\n  }\n};\n\nmodule.exports = function(obj, sep, eq, name) {\n  sep = sep || '&';\n  eq = eq || '=';\n  if (obj === null) {\n    obj = undefined;\n  }\n\n  if (typeof obj === 'object') {\n    return map(objectKeys(obj), function(k) {\n      var ks = encodeURIComponent(stringifyPrimitive(k)) + eq;\n      if (isArray(obj[k])) {\n        return map(obj[k], function(v) {\n          return ks + encodeURIComponent(stringifyPrimitive(v));\n        }).join(sep);\n      } else {\n        return ks + encodeURIComponent(stringifyPrimitive(obj[k]));\n      }\n    }).join(sep);\n\n  }\n\n  if (!name) return '';\n  return encodeURIComponent(stringifyPrimitive(name)) + eq +\n         encodeURIComponent(stringifyPrimitive(obj));\n};\n\nvar isArray = Array.isArray || function (xs) {\n  return Object.prototype.toString.call(xs) === '[object Array]';\n};\n\nfunction map (xs, f) {\n  if (xs.map) return xs.map(f);\n  var res = [];\n  for (var i = 0; i < xs.length; i++) {\n    res.push(f(xs[i], i));\n  }\n  return res;\n}\n\nvar objectKeys = Object.keys || function (obj) {\n  var res = [];\n  for (var key in obj) {\n    if (Object.prototype.hasOwnProperty.call(obj, key)) res.push(key);\n  }\n  return res;\n};\n","var toString = {}.toString;\n\nmodule.exports = Array.isArray || function (arr) {\n  return toString.call(arr) == '[object Array]';\n};\n","var wellKnownSymbol = require('../internals/well-known-symbol');\n\nexports.f = wellKnownSymbol;\n","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !exports.hasOwnProperty(p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__exportStar(require(\"./corpus\"), exports);\n__exportStar(require(\"./farmbot\"), exports);\n__exportStar(require(\"./interfaces\"), exports);\n__exportStar(require(\"./util\"), exports);\n__exportStar(require(\"./resources/tagged_resource\"), exports);\n","'use strict'\r\n\r\nvar MqttClient = require('../client')\r\nvar Store = require('../store')\r\nvar url = require('url')\r\nvar xtend = require('xtend')\r\nvar debug = require('debug')('mqttjs')\r\n\r\nvar protocols = {}\r\n\r\n// eslint-disable-next-line camelcase\r\nif ((typeof process !== 'undefined' && process.title !== 'browser') || typeof __webpack_require__ !== 'function') {\r\n  protocols.mqtt = require('./tcp')\r\n  protocols.tcp = require('./tcp')\r\n  protocols.ssl = require('./tls')\r\n  protocols.tls = require('./tls')\r\n  protocols.mqtts = require('./tls')\r\n} else {\r\n  protocols.wx = require('./wx')\r\n  protocols.wxs = require('./wx')\r\n\r\n  protocols.ali = require('./ali')\r\n  protocols.alis = require('./ali')\r\n}\r\n\r\nprotocols.ws = require('./ws')\r\nprotocols.wss = require('./ws')\r\n\r\n/**\r\n * Parse the auth attribute and merge username and password in the options object.\r\n *\r\n * @param {Object} [opts] option object\r\n */\r\nfunction parseAuthOptions (opts) {\r\n  var matches\r\n  if (opts.auth) {\r\n    matches = opts.auth.match(/^(.+):(.+)$/)\r\n    if (matches) {\r\n      opts.username = matches[1]\r\n      opts.password = matches[2]\r\n    } else {\r\n      opts.username = opts.auth\r\n    }\r\n  }\r\n}\r\n\r\n/**\r\n * connect - connect to an MQTT broker.\r\n *\r\n * @param {String} [brokerUrl] - url of the broker, optional\r\n * @param {Object} opts - see MqttClient#constructor\r\n */\r\nfunction connect (brokerUrl, opts) {\r\n  debug('connecting to an MQTT broker...')\r\n  if ((typeof brokerUrl === 'object') && !opts) {\r\n    opts = brokerUrl\r\n    brokerUrl = null\r\n  }\r\n\r\n  opts = opts || {}\r\n\r\n  if (brokerUrl) {\r\n    var parsed = url.parse(brokerUrl, true)\r\n    if (parsed.port != null) {\r\n      parsed.port = Number(parsed.port)\r\n    }\r\n\r\n    opts = xtend(parsed, opts)\r\n\r\n    if (opts.protocol === null) {\r\n      throw new Error('Missing protocol')\r\n    }\r\n\r\n    opts.protocol = opts.protocol.replace(/:$/, '')\r\n  }\r\n\r\n  // merge in the auth options if supplied\r\n  parseAuthOptions(opts)\r\n\r\n  // support clientId passed in the query string of the url\r\n  if (opts.query && typeof opts.query.clientId === 'string') {\r\n    opts.clientId = opts.query.clientId\r\n  }\r\n\r\n  if (opts.cert && opts.key) {\r\n    if (opts.protocol) {\r\n      if (['mqtts', 'wss', 'wxs', 'alis'].indexOf(opts.protocol) === -1) {\r\n        switch (opts.protocol) {\r\n          case 'mqtt':\r\n            opts.protocol = 'mqtts'\r\n            break\r\n          case 'ws':\r\n            opts.protocol = 'wss'\r\n            break\r\n          case 'wx':\r\n            opts.protocol = 'wxs'\r\n            break\r\n          case 'ali':\r\n            opts.protocol = 'alis'\r\n            break\r\n          default:\r\n            throw new Error('Unknown protocol for secure connection: \"' + opts.protocol + '\"!')\r\n        }\r\n      }\r\n    } else {\r\n      // A cert and key was provided, however no protocol was specified, so we will throw an error.\r\n      throw new Error('Missing secure protocol key')\r\n    }\r\n  }\r\n\r\n  if (!protocols[opts.protocol]) {\r\n    var isSecure = ['mqtts', 'wss'].indexOf(opts.protocol) !== -1\r\n    opts.protocol = [\r\n      'mqtt',\r\n      'mqtts',\r\n      'ws',\r\n      'wss',\r\n      'wx',\r\n      'wxs',\r\n      'ali',\r\n      'alis'\r\n    ].filter(function (key, index) {\r\n      if (isSecure && index % 2 === 0) {\r\n        // Skip insecure protocols when requesting a secure one.\r\n        return false\r\n      }\r\n      return (typeof protocols[key] === 'function')\r\n    })[0]\r\n  }\r\n\r\n  if (opts.clean === false && !opts.clientId) {\r\n    throw new Error('Missing clientId for unclean clients')\r\n  }\r\n\r\n  if (opts.protocol) {\r\n    opts.defaultProtocol = opts.protocol\r\n  }\r\n\r\n  function wrapper (client) {\r\n    if (opts.servers) {\r\n      if (!client._reconnectCount || client._reconnectCount === opts.servers.length) {\r\n        client._reconnectCount = 0\r\n      }\r\n\r\n      opts.host = opts.servers[client._reconnectCount].host\r\n      opts.port = opts.servers[client._reconnectCount].port\r\n      opts.protocol = (!opts.servers[client._reconnectCount].protocol ? opts.defaultProtocol : opts.servers[client._reconnectCount].protocol)\r\n      opts.hostname = opts.host\r\n\r\n      client._reconnectCount++\r\n    }\r\n\r\n    debug('calling streambuilder for', opts.protocol)\r\n    return protocols[opts.protocol](client, opts)\r\n  }\r\n  var client = new MqttClient(wrapper, opts)\r\n  client.on('error', function () { /* Automatically set up client error handling */ })\r\n  return client\r\n}\r\n\r\nmodule.exports = connect\r\nmodule.exports.connect = connect\r\nmodule.exports.MqttClient = MqttClient\r\nmodule.exports.Store = Store\r\n","var classof = require('../internals/classof-raw');\n\n// `IsArray` abstract operation\n// https://tc39.github.io/ecma262/#sec-isarray\nmodule.exports = Array.isArray || function isArray(arg) {\n  return classof(arg) == 'Array';\n};\n","'use strict';\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nvar _require = require('buffer'),\n    Buffer = _require.Buffer;\n\nvar _require2 = require('util'),\n    inspect = _require2.inspect;\n\nvar custom = inspect && inspect.custom || 'inspect';\n\nfunction copyBuffer(src, target, offset) {\n  Buffer.prototype.copy.call(src, target, offset);\n}\n\nmodule.exports =\n/*#__PURE__*/\nfunction () {\n  function BufferList() {\n    _classCallCheck(this, BufferList);\n\n    this.head = null;\n    this.tail = null;\n    this.length = 0;\n  }\n\n  _createClass(BufferList, [{\n    key: \"push\",\n    value: function push(v) {\n      var entry = {\n        data: v,\n        next: null\n      };\n      if (this.length > 0) this.tail.next = entry;else this.head = entry;\n      this.tail = entry;\n      ++this.length;\n    }\n  }, {\n    key: \"unshift\",\n    value: function unshift(v) {\n      var entry = {\n        data: v,\n        next: this.head\n      };\n      if (this.length === 0) this.tail = entry;\n      this.head = entry;\n      ++this.length;\n    }\n  }, {\n    key: \"shift\",\n    value: function shift() {\n      if (this.length === 0) return;\n      var ret = this.head.data;\n      if (this.length === 1) this.head = this.tail = null;else this.head = this.head.next;\n      --this.length;\n      return ret;\n    }\n  }, {\n    key: \"clear\",\n    value: function clear() {\n      this.head = this.tail = null;\n      this.length = 0;\n    }\n  }, {\n    key: \"join\",\n    value: function join(s) {\n      if (this.length === 0) return '';\n      var p = this.head;\n      var ret = '' + p.data;\n\n      while (p = p.next) {\n        ret += s + p.data;\n      }\n\n      return ret;\n    }\n  }, {\n    key: \"concat\",\n    value: function concat(n) {\n      if (this.length === 0) return Buffer.alloc(0);\n      var ret = Buffer.allocUnsafe(n >>> 0);\n      var p = this.head;\n      var i = 0;\n\n      while (p) {\n        copyBuffer(p.data, ret, i);\n        i += p.data.length;\n        p = p.next;\n      }\n\n      return ret;\n    } // Consumes a specified amount of bytes or characters from the buffered data.\n\n  }, {\n    key: \"consume\",\n    value: function consume(n, hasStrings) {\n      var ret;\n\n      if (n < this.head.data.length) {\n        // `slice` is the same for buffers and strings.\n        ret = this.head.data.slice(0, n);\n        this.head.data = this.head.data.slice(n);\n      } else if (n === this.head.data.length) {\n        // First chunk is a perfect match.\n        ret = this.shift();\n      } else {\n        // Result spans more than one buffer.\n        ret = hasStrings ? this._getString(n) : this._getBuffer(n);\n      }\n\n      return ret;\n    }\n  }, {\n    key: \"first\",\n    value: function first() {\n      return this.head.data;\n    } // Consumes a specified amount of characters from the buffered data.\n\n  }, {\n    key: \"_getString\",\n    value: function _getString(n) {\n      var p = this.head;\n      var c = 1;\n      var ret = p.data;\n      n -= ret.length;\n\n      while (p = p.next) {\n        var str = p.data;\n        var nb = n > str.length ? str.length : n;\n        if (nb === str.length) ret += str;else ret += str.slice(0, n);\n        n -= nb;\n\n        if (n === 0) {\n          if (nb === str.length) {\n            ++c;\n            if (p.next) this.head = p.next;else this.head = this.tail = null;\n          } else {\n            this.head = p;\n            p.data = str.slice(nb);\n          }\n\n          break;\n        }\n\n        ++c;\n      }\n\n      this.length -= c;\n      return ret;\n    } // Consumes a specified amount of bytes from the buffered data.\n\n  }, {\n    key: \"_getBuffer\",\n    value: function _getBuffer(n) {\n      var ret = Buffer.allocUnsafe(n);\n      var p = this.head;\n      var c = 1;\n      p.data.copy(ret);\n      n -= p.data.length;\n\n      while (p = p.next) {\n        var buf = p.data;\n        var nb = n > buf.length ? buf.length : n;\n        buf.copy(ret, ret.length - n, 0, nb);\n        n -= nb;\n\n        if (n === 0) {\n          if (nb === buf.length) {\n            ++c;\n            if (p.next) this.head = p.next;else this.head = this.tail = null;\n          } else {\n            this.head = p;\n            p.data = buf.slice(nb);\n          }\n\n          break;\n        }\n\n        ++c;\n      }\n\n      this.length -= c;\n      return ret;\n    } // Make sure the linked list only shows the minimal necessary information.\n\n  }, {\n    key: custom,\n    value: function value(_, options) {\n      return inspect(this, _objectSpread({}, options, {\n        // Only inspect one level.\n        depth: 0,\n        // It should not recurse.\n        customInspect: false\n      }));\n    }\n  }]);\n\n  return BufferList;\n}();","'use strict'\r\n\r\n/**\r\n * Module dependencies\r\n */\r\nvar xtend = require('xtend')\r\n\r\nvar Readable = require('readable-stream').Readable\r\nvar streamsOpts = { objectMode: true }\r\nvar defaultStoreOptions = {\r\n  clean: true\r\n}\r\n\r\n/**\r\n * In-memory implementation of the message store\r\n * This can actually be saved into files.\r\n *\r\n * @param {Object} [options] - store options\r\n */\r\nfunction Store (options) {\r\n  if (!(this instanceof Store)) {\r\n    return new Store(options)\r\n  }\r\n\r\n  this.options = options || {}\r\n\r\n  // Defaults\r\n  this.options = xtend(defaultStoreOptions, options)\r\n\r\n  this._inflights = new Map()\r\n}\r\n\r\n/**\r\n * Adds a packet to the store, a packet is\r\n * anything that has a messageId property.\r\n *\r\n */\r\nStore.prototype.put = function (packet, cb) {\r\n  this._inflights.set(packet.messageId, packet)\r\n\r\n  if (cb) {\r\n    cb()\r\n  }\r\n\r\n  return this\r\n}\r\n\r\n/**\r\n * Creates a stream with all the packets in the store\r\n *\r\n */\r\nStore.prototype.createStream = function () {\r\n  var stream = new Readable(streamsOpts)\r\n  var destroyed = false\r\n  var values = []\r\n  var i = 0\r\n\r\n  this._inflights.forEach(function (value, key) {\r\n    values.push(value)\r\n  })\r\n\r\n  stream._read = function () {\r\n    if (!destroyed && i < values.length) {\r\n      this.push(values[i++])\r\n    } else {\r\n      this.push(null)\r\n    }\r\n  }\r\n\r\n  stream.destroy = function () {\r\n    if (destroyed) {\r\n      return\r\n    }\r\n\r\n    var self = this\r\n\r\n    destroyed = true\r\n\r\n    setTimeout(function () {\r\n      self.emit('close')\r\n    }, 0)\r\n  }\r\n\r\n  return stream\r\n}\r\n\r\n/**\r\n * deletes a packet from the store.\r\n */\r\nStore.prototype.del = function (packet, cb) {\r\n  packet = this._inflights.get(packet.messageId)\r\n  if (packet) {\r\n    this._inflights.delete(packet.messageId)\r\n    cb(null, packet)\r\n  } else if (cb) {\r\n    cb(new Error('missing packet'))\r\n  }\r\n\r\n  return this\r\n}\r\n\r\n/**\r\n * get a packet from the store.\r\n */\r\nStore.prototype.get = function (packet, cb) {\r\n  packet = this._inflights.get(packet.messageId)\r\n  if (packet) {\r\n    cb(null, packet)\r\n  } else if (cb) {\r\n    cb(new Error('missing packet'))\r\n  }\r\n\r\n  return this\r\n}\r\n\r\n/**\r\n * Close the store\r\n */\r\nStore.prototype.close = function (cb) {\r\n  if (this.options.clean) {\r\n    this._inflights = null\r\n  }\r\n  if (cb) {\r\n    cb()\r\n  }\r\n}\r\n\r\nmodule.exports = Store\r\n","'use strict'; // undocumented cb() API, needed for core, not for public API\n\nfunction destroy(err, cb) {\n  var _this = this;\n\n  var readableDestroyed = this._readableState && this._readableState.destroyed;\n  var writableDestroyed = this._writableState && this._writableState.destroyed;\n\n  if (readableDestroyed || writableDestroyed) {\n    if (cb) {\n      cb(err);\n    } else if (err) {\n      if (!this._writableState) {\n        process.nextTick(emitErrorNT, this, err);\n      } else if (!this._writableState.errorEmitted) {\n        this._writableState.errorEmitted = true;\n        process.nextTick(emitErrorNT, this, err);\n      }\n    }\n\n    return this;\n  } // we set destroyed to true before firing error callbacks in order\n  // to make it re-entrance safe in case destroy() is called within callbacks\n\n\n  if (this._readableState) {\n    this._readableState.destroyed = true;\n  } // if this is a duplex stream mark the writable part as destroyed as well\n\n\n  if (this._writableState) {\n    this._writableState.destroyed = true;\n  }\n\n  this._destroy(err || null, function (err) {\n    if (!cb && err) {\n      if (!_this._writableState) {\n        process.nextTick(emitErrorAndCloseNT, _this, err);\n      } else if (!_this._writableState.errorEmitted) {\n        _this._writableState.errorEmitted = true;\n        process.nextTick(emitErrorAndCloseNT, _this, err);\n      } else {\n        process.nextTick(emitCloseNT, _this);\n      }\n    } else if (cb) {\n      process.nextTick(emitCloseNT, _this);\n      cb(err);\n    } else {\n      process.nextTick(emitCloseNT, _this);\n    }\n  });\n\n  return this;\n}\n\nfunction emitErrorAndCloseNT(self, err) {\n  emitErrorNT(self, err);\n  emitCloseNT(self);\n}\n\nfunction emitCloseNT(self) {\n  if (self._writableState && !self._writableState.emitClose) return;\n  if (self._readableState && !self._readableState.emitClose) return;\n  self.emit('close');\n}\n\nfunction undestroy() {\n  if (this._readableState) {\n    this._readableState.destroyed = false;\n    this._readableState.reading = false;\n    this._readableState.ended = false;\n    this._readableState.endEmitted = false;\n  }\n\n  if (this._writableState) {\n    this._writableState.destroyed = false;\n    this._writableState.ended = false;\n    this._writableState.ending = false;\n    this._writableState.finalCalled = false;\n    this._writableState.prefinished = false;\n    this._writableState.finished = false;\n    this._writableState.errorEmitted = false;\n  }\n}\n\nfunction emitErrorNT(self, err) {\n  self.emit('error', err);\n}\n\nfunction errorOrDestroy(stream, err) {\n  // We have tests that rely on errors being emitted\n  // in the same tick, so changing this is semver major.\n  // For now when you opt-in to autoDestroy we allow\n  // the error to be emitted nextTick. In a future\n  // semver major update we should change the default to this.\n  var rState = stream._readableState;\n  var wState = stream._writableState;\n  if (rState && rState.autoDestroy || wState && wState.autoDestroy) stream.destroy(err);else stream.emit('error', err);\n}\n\nmodule.exports = {\n  destroy: destroy,\n  undestroy: undestroy,\n  errorOrDestroy: errorOrDestroy\n};","const max = 65536\nconst cache = {}\n\n// in node 6 Buffer.subarray returns a Uint8Array instead of a Buffer\n// later versions return a Buffer\n// alternative is Buffer.slice but that creates a new buffer\n// creating new buffers takes time\n// SubOk is only false on node < 8\nconst SubOk = Buffer.isBuffer(Buffer.from([1, 2]).subarray(0, 1))\n\nfunction generateBuffer (i) {\n  const buffer = Buffer.allocUnsafe(2)\n  buffer.writeUInt8(i >> 8, 0)\n  buffer.writeUInt8(i & 0x00FF, 0 + 1)\n\n  return buffer\n}\n\nfunction generateCache () {\n  for (let i = 0; i < max; i++) {\n    cache[i] = generateBuffer(i)\n  }\n}\n\nfunction genBufVariableByteInt (num) {\n  const maxLength = 4 // max 4 bytes\n  let digit = 0\n  let pos = 0\n  const buffer = Buffer.allocUnsafe(maxLength)\n\n  do {\n    digit = num % 128 | 0\n    num = num / 128 | 0\n    if (num > 0) digit = digit | 0x80\n\n    buffer.writeUInt8(digit, pos++)\n  } while (num > 0 && pos < maxLength)\n\n  if (num > 0) {\n    pos = 0\n  }\n\n  return SubOk ? buffer.subarray(0, pos) : buffer.slice(0, pos)\n}\n\nfunction generate4ByteBuffer (num) {\n  const buffer = Buffer.allocUnsafe(4)\n  buffer.writeUInt32BE(num, 0)\n  return buffer\n}\n\nmodule.exports = {\n  cache,\n  generateCache,\n  generateNumber: generateBuffer,\n  genBufVariableByteInt,\n  generate4ByteBuffer\n}\n","var hiddenKeys = require('../internals/hidden-keys');\nvar isObject = require('../internals/is-object');\nvar has = require('../internals/has');\nvar defineProperty = require('../internals/object-define-property').f;\nvar uid = require('../internals/uid');\nvar FREEZING = require('../internals/freezing');\n\nvar METADATA = uid('meta');\nvar id = 0;\n\nvar isExtensible = Object.isExtensible || function () {\n  return true;\n};\n\nvar setMetadata = function (it) {\n  defineProperty(it, METADATA, { value: {\n    objectID: 'O' + ++id, // object ID\n    weakData: {}          // weak collections IDs\n  } });\n};\n\nvar fastKey = function (it, create) {\n  // return a primitive with prefix\n  if (!isObject(it)) return typeof it == 'symbol' ? it : (typeof it == 'string' ? 'S' : 'P') + it;\n  if (!has(it, METADATA)) {\n    // can't set metadata to uncaught frozen object\n    if (!isExtensible(it)) return 'F';\n    // not necessary to add metadata\n    if (!create) return 'E';\n    // add missing metadata\n    setMetadata(it);\n  // return object ID\n  } return it[METADATA].objectID;\n};\n\nvar getWeakData = function (it, create) {\n  if (!has(it, METADATA)) {\n    // can't set metadata to uncaught frozen object\n    if (!isExtensible(it)) return true;\n    // not necessary to add metadata\n    if (!create) return false;\n    // add missing metadata\n    setMetadata(it);\n  // return the store of weak collections IDs\n  } return it[METADATA].weakData;\n};\n\n// add metadata on freeze-family methods calling\nvar onFreeze = function (it) {\n  if (FREEZING && meta.REQUIRED && isExtensible(it) && !has(it, METADATA)) setMetadata(it);\n  return it;\n};\n\nvar meta = module.exports = {\n  REQUIRED: false,\n  fastKey: fastKey,\n  getWeakData: getWeakData,\n  onFreeze: onFreeze\n};\n\nhiddenKeys[METADATA] = true;\n","exports = module.exports = require('./lib/_stream_readable.js');\nexports.Stream = exports;\nexports.Readable = exports;\nexports.Writable = require('./lib/_stream_writable.js');\nexports.Duplex = require('./lib/_stream_duplex.js');\nexports.Transform = require('./lib/_stream_transform.js');\nexports.PassThrough = require('./lib/_stream_passthrough.js');\nexports.finished = require('./lib/internal/streams/end-of-stream.js');\nexports.pipeline = require('./lib/internal/streams/pipeline.js');\n","'use strict'; // undocumented cb() API, needed for core, not for public API\n\nfunction destroy(err, cb) {\n  var _this = this;\n\n  var readableDestroyed = this._readableState && this._readableState.destroyed;\n  var writableDestroyed = this._writableState && this._writableState.destroyed;\n\n  if (readableDestroyed || writableDestroyed) {\n    if (cb) {\n      cb(err);\n    } else if (err) {\n      if (!this._writableState) {\n        process.nextTick(emitErrorNT, this, err);\n      } else if (!this._writableState.errorEmitted) {\n        this._writableState.errorEmitted = true;\n        process.nextTick(emitErrorNT, this, err);\n      }\n    }\n\n    return this;\n  } // we set destroyed to true before firing error callbacks in order\n  // to make it re-entrance safe in case destroy() is called within callbacks\n\n\n  if (this._readableState) {\n    this._readableState.destroyed = true;\n  } // if this is a duplex stream mark the writable part as destroyed as well\n\n\n  if (this._writableState) {\n    this._writableState.destroyed = true;\n  }\n\n  this._destroy(err || null, function (err) {\n    if (!cb && err) {\n      if (!_this._writableState) {\n        process.nextTick(emitErrorAndCloseNT, _this, err);\n      } else if (!_this._writableState.errorEmitted) {\n        _this._writableState.errorEmitted = true;\n        process.nextTick(emitErrorAndCloseNT, _this, err);\n      } else {\n        process.nextTick(emitCloseNT, _this);\n      }\n    } else if (cb) {\n      process.nextTick(emitCloseNT, _this);\n      cb(err);\n    } else {\n      process.nextTick(emitCloseNT, _this);\n    }\n  });\n\n  return this;\n}\n\nfunction emitErrorAndCloseNT(self, err) {\n  emitErrorNT(self, err);\n  emitCloseNT(self);\n}\n\nfunction emitCloseNT(self) {\n  if (self._writableState && !self._writableState.emitClose) return;\n  if (self._readableState && !self._readableState.emitClose) return;\n  self.emit('close');\n}\n\nfunction undestroy() {\n  if (this._readableState) {\n    this._readableState.destroyed = false;\n    this._readableState.reading = false;\n    this._readableState.ended = false;\n    this._readableState.endEmitted = false;\n  }\n\n  if (this._writableState) {\n    this._writableState.destroyed = false;\n    this._writableState.ended = false;\n    this._writableState.ending = false;\n    this._writableState.finalCalled = false;\n    this._writableState.prefinished = false;\n    this._writableState.finished = false;\n    this._writableState.errorEmitted = false;\n  }\n}\n\nfunction emitErrorNT(self, err) {\n  self.emit('error', err);\n}\n\nfunction errorOrDestroy(stream, err) {\n  // We have tests that rely on errors being emitted\n  // in the same tick, so changing this is semver major.\n  // For now when you opt-in to autoDestroy we allow\n  // the error to be emitted nextTick. In a future\n  // semver major update we should change the default to this.\n  var rState = stream._readableState;\n  var wState = stream._writableState;\n  if (rState && rState.autoDestroy || wState && wState.autoDestroy) stream.destroy(err);else stream.emit('error', err);\n}\n\nmodule.exports = {\n  destroy: destroy,\n  undestroy: undestroy,\n  errorOrDestroy: errorOrDestroy\n};","'use strict';\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nvar _require = require('buffer'),\n    Buffer = _require.Buffer;\n\nvar _require2 = require('util'),\n    inspect = _require2.inspect;\n\nvar custom = inspect && inspect.custom || 'inspect';\n\nfunction copyBuffer(src, target, offset) {\n  Buffer.prototype.copy.call(src, target, offset);\n}\n\nmodule.exports =\n/*#__PURE__*/\nfunction () {\n  function BufferList() {\n    _classCallCheck(this, BufferList);\n\n    this.head = null;\n    this.tail = null;\n    this.length = 0;\n  }\n\n  _createClass(BufferList, [{\n    key: \"push\",\n    value: function push(v) {\n      var entry = {\n        data: v,\n        next: null\n      };\n      if (this.length > 0) this.tail.next = entry;else this.head = entry;\n      this.tail = entry;\n      ++this.length;\n    }\n  }, {\n    key: \"unshift\",\n    value: function unshift(v) {\n      var entry = {\n        data: v,\n        next: this.head\n      };\n      if (this.length === 0) this.tail = entry;\n      this.head = entry;\n      ++this.length;\n    }\n  }, {\n    key: \"shift\",\n    value: function shift() {\n      if (this.length === 0) return;\n      var ret = this.head.data;\n      if (this.length === 1) this.head = this.tail = null;else this.head = this.head.next;\n      --this.length;\n      return ret;\n    }\n  }, {\n    key: \"clear\",\n    value: function clear() {\n      this.head = this.tail = null;\n      this.length = 0;\n    }\n  }, {\n    key: \"join\",\n    value: function join(s) {\n      if (this.length === 0) return '';\n      var p = this.head;\n      var ret = '' + p.data;\n\n      while (p = p.next) {\n        ret += s + p.data;\n      }\n\n      return ret;\n    }\n  }, {\n    key: \"concat\",\n    value: function concat(n) {\n      if (this.length === 0) return Buffer.alloc(0);\n      var ret = Buffer.allocUnsafe(n >>> 0);\n      var p = this.head;\n      var i = 0;\n\n      while (p) {\n        copyBuffer(p.data, ret, i);\n        i += p.data.length;\n        p = p.next;\n      }\n\n      return ret;\n    } // Consumes a specified amount of bytes or characters from the buffered data.\n\n  }, {\n    key: \"consume\",\n    value: function consume(n, hasStrings) {\n      var ret;\n\n      if (n < this.head.data.length) {\n        // `slice` is the same for buffers and strings.\n        ret = this.head.data.slice(0, n);\n        this.head.data = this.head.data.slice(n);\n      } else if (n === this.head.data.length) {\n        // First chunk is a perfect match.\n        ret = this.shift();\n      } else {\n        // Result spans more than one buffer.\n        ret = hasStrings ? this._getString(n) : this._getBuffer(n);\n      }\n\n      return ret;\n    }\n  }, {\n    key: \"first\",\n    value: function first() {\n      return this.head.data;\n    } // Consumes a specified amount of characters from the buffered data.\n\n  }, {\n    key: \"_getString\",\n    value: function _getString(n) {\n      var p = this.head;\n      var c = 1;\n      var ret = p.data;\n      n -= ret.length;\n\n      while (p = p.next) {\n        var str = p.data;\n        var nb = n > str.length ? str.length : n;\n        if (nb === str.length) ret += str;else ret += str.slice(0, n);\n        n -= nb;\n\n        if (n === 0) {\n          if (nb === str.length) {\n            ++c;\n            if (p.next) this.head = p.next;else this.head = this.tail = null;\n          } else {\n            this.head = p;\n            p.data = str.slice(nb);\n          }\n\n          break;\n        }\n\n        ++c;\n      }\n\n      this.length -= c;\n      return ret;\n    } // Consumes a specified amount of bytes from the buffered data.\n\n  }, {\n    key: \"_getBuffer\",\n    value: function _getBuffer(n) {\n      var ret = Buffer.allocUnsafe(n);\n      var p = this.head;\n      var c = 1;\n      p.data.copy(ret);\n      n -= p.data.length;\n\n      while (p = p.next) {\n        var buf = p.data;\n        var nb = n > buf.length ? buf.length : n;\n        buf.copy(ret, ret.length - n, 0, nb);\n        n -= nb;\n\n        if (n === 0) {\n          if (nb === buf.length) {\n            ++c;\n            if (p.next) this.head = p.next;else this.head = this.tail = null;\n          } else {\n            this.head = p;\n            p.data = buf.slice(nb);\n          }\n\n          break;\n        }\n\n        ++c;\n      }\n\n      this.length -= c;\n      return ret;\n    } // Make sure the linked list only shows the minimal necessary information.\n\n  }, {\n    key: custom,\n    value: function value(_, options) {\n      return inspect(this, _objectSpread({}, options, {\n        // Only inspect one level.\n        depth: 0,\n        // It should not recurse.\n        customInspect: false\n      }));\n    }\n  }]);\n\n  return BufferList;\n}();","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n// A bit simpler than readable streams.\n// Implement an async ._write(chunk, encoding, cb), and it'll handle all\n// the drain event emission and buffering.\n'use strict';\n\nmodule.exports = Writable;\n/* <replacement> */\n\nfunction WriteReq(chunk, encoding, cb) {\n  this.chunk = chunk;\n  this.encoding = encoding;\n  this.callback = cb;\n  this.next = null;\n} // It seems a linked list but it is not\n// there will be only 2 of these for each stream\n\n\nfunction CorkedRequest(state) {\n  var _this = this;\n\n  this.next = null;\n  this.entry = null;\n\n  this.finish = function () {\n    onCorkedFinish(_this, state);\n  };\n}\n/* </replacement> */\n\n/*<replacement>*/\n\n\nvar Duplex;\n/*</replacement>*/\n\nWritable.WritableState = WritableState;\n/*<replacement>*/\n\nvar internalUtil = {\n  deprecate: require('util-deprecate')\n};\n/*</replacement>*/\n\n/*<replacement>*/\n\nvar Stream = require('./internal/streams/stream');\n/*</replacement>*/\n\n\nvar Buffer = require('buffer').Buffer;\n\nvar OurUint8Array = global.Uint8Array || function () {};\n\nfunction _uint8ArrayToBuffer(chunk) {\n  return Buffer.from(chunk);\n}\n\nfunction _isUint8Array(obj) {\n  return Buffer.isBuffer(obj) || obj instanceof OurUint8Array;\n}\n\nvar destroyImpl = require('./internal/streams/destroy');\n\nvar _require = require('./internal/streams/state'),\n    getHighWaterMark = _require.getHighWaterMark;\n\nvar _require$codes = require('../errors').codes,\n    ERR_INVALID_ARG_TYPE = _require$codes.ERR_INVALID_ARG_TYPE,\n    ERR_METHOD_NOT_IMPLEMENTED = _require$codes.ERR_METHOD_NOT_IMPLEMENTED,\n    ERR_MULTIPLE_CALLBACK = _require$codes.ERR_MULTIPLE_CALLBACK,\n    ERR_STREAM_CANNOT_PIPE = _require$codes.ERR_STREAM_CANNOT_PIPE,\n    ERR_STREAM_DESTROYED = _require$codes.ERR_STREAM_DESTROYED,\n    ERR_STREAM_NULL_VALUES = _require$codes.ERR_STREAM_NULL_VALUES,\n    ERR_STREAM_WRITE_AFTER_END = _require$codes.ERR_STREAM_WRITE_AFTER_END,\n    ERR_UNKNOWN_ENCODING = _require$codes.ERR_UNKNOWN_ENCODING;\n\nvar errorOrDestroy = destroyImpl.errorOrDestroy;\n\nrequire('inherits')(Writable, Stream);\n\nfunction nop() {}\n\nfunction WritableState(options, stream, isDuplex) {\n  Duplex = Duplex || require('./_stream_duplex');\n  options = options || {}; // Duplex streams are both readable and writable, but share\n  // the same options object.\n  // However, some cases require setting options to different\n  // values for the readable and the writable sides of the duplex stream,\n  // e.g. options.readableObjectMode vs. options.writableObjectMode, etc.\n\n  if (typeof isDuplex !== 'boolean') isDuplex = stream instanceof Duplex; // object stream flag to indicate whether or not this stream\n  // contains buffers or objects.\n\n  this.objectMode = !!options.objectMode;\n  if (isDuplex) this.objectMode = this.objectMode || !!options.writableObjectMode; // the point at which write() starts returning false\n  // Note: 0 is a valid value, means that we always return false if\n  // the entire buffer is not flushed immediately on write()\n\n  this.highWaterMark = getHighWaterMark(this, options, 'writableHighWaterMark', isDuplex); // if _final has been called\n\n  this.finalCalled = false; // drain event flag.\n\n  this.needDrain = false; // at the start of calling end()\n\n  this.ending = false; // when end() has been called, and returned\n\n  this.ended = false; // when 'finish' is emitted\n\n  this.finished = false; // has it been destroyed\n\n  this.destroyed = false; // should we decode strings into buffers before passing to _write?\n  // this is here so that some node-core streams can optimize string\n  // handling at a lower level.\n\n  var noDecode = options.decodeStrings === false;\n  this.decodeStrings = !noDecode; // Crypto is kind of old and crusty.  Historically, its default string\n  // encoding is 'binary' so we have to make this configurable.\n  // Everything else in the universe uses 'utf8', though.\n\n  this.defaultEncoding = options.defaultEncoding || 'utf8'; // not an actual buffer we keep track of, but a measurement\n  // of how much we're waiting to get pushed to some underlying\n  // socket or file.\n\n  this.length = 0; // a flag to see when we're in the middle of a write.\n\n  this.writing = false; // when true all writes will be buffered until .uncork() call\n\n  this.corked = 0; // a flag to be able to tell if the onwrite cb is called immediately,\n  // or on a later tick.  We set this to true at first, because any\n  // actions that shouldn't happen until \"later\" should generally also\n  // not happen before the first write call.\n\n  this.sync = true; // a flag to know if we're processing previously buffered items, which\n  // may call the _write() callback in the same tick, so that we don't\n  // end up in an overlapped onwrite situation.\n\n  this.bufferProcessing = false; // the callback that's passed to _write(chunk,cb)\n\n  this.onwrite = function (er) {\n    onwrite(stream, er);\n  }; // the callback that the user supplies to write(chunk,encoding,cb)\n\n\n  this.writecb = null; // the amount that is being written when _write is called.\n\n  this.writelen = 0;\n  this.bufferedRequest = null;\n  this.lastBufferedRequest = null; // number of pending user-supplied write callbacks\n  // this must be 0 before 'finish' can be emitted\n\n  this.pendingcb = 0; // emit prefinish if the only thing we're waiting for is _write cbs\n  // This is relevant for synchronous Transform streams\n\n  this.prefinished = false; // True if the error was already emitted and should not be thrown again\n\n  this.errorEmitted = false; // Should close be emitted on destroy. Defaults to true.\n\n  this.emitClose = options.emitClose !== false; // Should .destroy() be called after 'finish' (and potentially 'end')\n\n  this.autoDestroy = !!options.autoDestroy; // count buffered requests\n\n  this.bufferedRequestCount = 0; // allocate the first CorkedRequest, there is always\n  // one allocated and free to use, and we maintain at most two\n\n  this.corkedRequestsFree = new CorkedRequest(this);\n}\n\nWritableState.prototype.getBuffer = function getBuffer() {\n  var current = this.bufferedRequest;\n  var out = [];\n\n  while (current) {\n    out.push(current);\n    current = current.next;\n  }\n\n  return out;\n};\n\n(function () {\n  try {\n    Object.defineProperty(WritableState.prototype, 'buffer', {\n      get: internalUtil.deprecate(function writableStateBufferGetter() {\n        return this.getBuffer();\n      }, '_writableState.buffer is deprecated. Use _writableState.getBuffer ' + 'instead.', 'DEP0003')\n    });\n  } catch (_) {}\n})(); // Test _writableState for inheritance to account for Duplex streams,\n// whose prototype chain only points to Readable.\n\n\nvar realHasInstance;\n\nif (typeof Symbol === 'function' && Symbol.hasInstance && typeof Function.prototype[Symbol.hasInstance] === 'function') {\n  realHasInstance = Function.prototype[Symbol.hasInstance];\n  Object.defineProperty(Writable, Symbol.hasInstance, {\n    value: function value(object) {\n      if (realHasInstance.call(this, object)) return true;\n      if (this !== Writable) return false;\n      return object && object._writableState instanceof WritableState;\n    }\n  });\n} else {\n  realHasInstance = function realHasInstance(object) {\n    return object instanceof this;\n  };\n}\n\nfunction Writable(options) {\n  Duplex = Duplex || require('./_stream_duplex'); // Writable ctor is applied to Duplexes, too.\n  // `realHasInstance` is necessary because using plain `instanceof`\n  // would return false, as no `_writableState` property is attached.\n  // Trying to use the custom `instanceof` for Writable here will also break the\n  // Node.js LazyTransform implementation, which has a non-trivial getter for\n  // `_writableState` that would lead to infinite recursion.\n  // Checking for a Stream.Duplex instance is faster here instead of inside\n  // the WritableState constructor, at least with V8 6.5\n\n  var isDuplex = this instanceof Duplex;\n  if (!isDuplex && !realHasInstance.call(Writable, this)) return new Writable(options);\n  this._writableState = new WritableState(options, this, isDuplex); // legacy.\n\n  this.writable = true;\n\n  if (options) {\n    if (typeof options.write === 'function') this._write = options.write;\n    if (typeof options.writev === 'function') this._writev = options.writev;\n    if (typeof options.destroy === 'function') this._destroy = options.destroy;\n    if (typeof options.final === 'function') this._final = options.final;\n  }\n\n  Stream.call(this);\n} // Otherwise people can pipe Writable streams, which is just wrong.\n\n\nWritable.prototype.pipe = function () {\n  errorOrDestroy(this, new ERR_STREAM_CANNOT_PIPE());\n};\n\nfunction writeAfterEnd(stream, cb) {\n  var er = new ERR_STREAM_WRITE_AFTER_END(); // TODO: defer error events consistently everywhere, not just the cb\n\n  errorOrDestroy(stream, er);\n  process.nextTick(cb, er);\n} // Checks that a user-supplied chunk is valid, especially for the particular\n// mode the stream is in. Currently this means that `null` is never accepted\n// and undefined/non-string values are only allowed in object mode.\n\n\nfunction validChunk(stream, state, chunk, cb) {\n  var er;\n\n  if (chunk === null) {\n    er = new ERR_STREAM_NULL_VALUES();\n  } else if (typeof chunk !== 'string' && !state.objectMode) {\n    er = new ERR_INVALID_ARG_TYPE('chunk', ['string', 'Buffer'], chunk);\n  }\n\n  if (er) {\n    errorOrDestroy(stream, er);\n    process.nextTick(cb, er);\n    return false;\n  }\n\n  return true;\n}\n\nWritable.prototype.write = function (chunk, encoding, cb) {\n  var state = this._writableState;\n  var ret = false;\n\n  var isBuf = !state.objectMode && _isUint8Array(chunk);\n\n  if (isBuf && !Buffer.isBuffer(chunk)) {\n    chunk = _uint8ArrayToBuffer(chunk);\n  }\n\n  if (typeof encoding === 'function') {\n    cb = encoding;\n    encoding = null;\n  }\n\n  if (isBuf) encoding = 'buffer';else if (!encoding) encoding = state.defaultEncoding;\n  if (typeof cb !== 'function') cb = nop;\n  if (state.ending) writeAfterEnd(this, cb);else if (isBuf || validChunk(this, state, chunk, cb)) {\n    state.pendingcb++;\n    ret = writeOrBuffer(this, state, isBuf, chunk, encoding, cb);\n  }\n  return ret;\n};\n\nWritable.prototype.cork = function () {\n  this._writableState.corked++;\n};\n\nWritable.prototype.uncork = function () {\n  var state = this._writableState;\n\n  if (state.corked) {\n    state.corked--;\n    if (!state.writing && !state.corked && !state.bufferProcessing && state.bufferedRequest) clearBuffer(this, state);\n  }\n};\n\nWritable.prototype.setDefaultEncoding = function setDefaultEncoding(encoding) {\n  // node::ParseEncoding() requires lower case.\n  if (typeof encoding === 'string') encoding = encoding.toLowerCase();\n  if (!(['hex', 'utf8', 'utf-8', 'ascii', 'binary', 'base64', 'ucs2', 'ucs-2', 'utf16le', 'utf-16le', 'raw'].indexOf((encoding + '').toLowerCase()) > -1)) throw new ERR_UNKNOWN_ENCODING(encoding);\n  this._writableState.defaultEncoding = encoding;\n  return this;\n};\n\nObject.defineProperty(Writable.prototype, 'writableBuffer', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function get() {\n    return this._writableState && this._writableState.getBuffer();\n  }\n});\n\nfunction decodeChunk(state, chunk, encoding) {\n  if (!state.objectMode && state.decodeStrings !== false && typeof chunk === 'string') {\n    chunk = Buffer.from(chunk, encoding);\n  }\n\n  return chunk;\n}\n\nObject.defineProperty(Writable.prototype, 'writableHighWaterMark', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function get() {\n    return this._writableState.highWaterMark;\n  }\n}); // if we're already writing something, then just put this\n// in the queue, and wait our turn.  Otherwise, call _write\n// If we return false, then we need a drain event, so set that flag.\n\nfunction writeOrBuffer(stream, state, isBuf, chunk, encoding, cb) {\n  if (!isBuf) {\n    var newChunk = decodeChunk(state, chunk, encoding);\n\n    if (chunk !== newChunk) {\n      isBuf = true;\n      encoding = 'buffer';\n      chunk = newChunk;\n    }\n  }\n\n  var len = state.objectMode ? 1 : chunk.length;\n  state.length += len;\n  var ret = state.length < state.highWaterMark; // we must ensure that previous needDrain will not be reset to false.\n\n  if (!ret) state.needDrain = true;\n\n  if (state.writing || state.corked) {\n    var last = state.lastBufferedRequest;\n    state.lastBufferedRequest = {\n      chunk: chunk,\n      encoding: encoding,\n      isBuf: isBuf,\n      callback: cb,\n      next: null\n    };\n\n    if (last) {\n      last.next = state.lastBufferedRequest;\n    } else {\n      state.bufferedRequest = state.lastBufferedRequest;\n    }\n\n    state.bufferedRequestCount += 1;\n  } else {\n    doWrite(stream, state, false, len, chunk, encoding, cb);\n  }\n\n  return ret;\n}\n\nfunction doWrite(stream, state, writev, len, chunk, encoding, cb) {\n  state.writelen = len;\n  state.writecb = cb;\n  state.writing = true;\n  state.sync = true;\n  if (state.destroyed) state.onwrite(new ERR_STREAM_DESTROYED('write'));else if (writev) stream._writev(chunk, state.onwrite);else stream._write(chunk, encoding, state.onwrite);\n  state.sync = false;\n}\n\nfunction onwriteError(stream, state, sync, er, cb) {\n  --state.pendingcb;\n\n  if (sync) {\n    // defer the callback if we are being called synchronously\n    // to avoid piling up things on the stack\n    process.nextTick(cb, er); // this can emit finish, and it will always happen\n    // after error\n\n    process.nextTick(finishMaybe, stream, state);\n    stream._writableState.errorEmitted = true;\n    errorOrDestroy(stream, er);\n  } else {\n    // the caller expect this to happen before if\n    // it is async\n    cb(er);\n    stream._writableState.errorEmitted = true;\n    errorOrDestroy(stream, er); // this can emit finish, but finish must\n    // always follow error\n\n    finishMaybe(stream, state);\n  }\n}\n\nfunction onwriteStateUpdate(state) {\n  state.writing = false;\n  state.writecb = null;\n  state.length -= state.writelen;\n  state.writelen = 0;\n}\n\nfunction onwrite(stream, er) {\n  var state = stream._writableState;\n  var sync = state.sync;\n  var cb = state.writecb;\n  if (typeof cb !== 'function') throw new ERR_MULTIPLE_CALLBACK();\n  onwriteStateUpdate(state);\n  if (er) onwriteError(stream, state, sync, er, cb);else {\n    // Check if we're actually ready to finish, but don't emit yet\n    var finished = needFinish(state) || stream.destroyed;\n\n    if (!finished && !state.corked && !state.bufferProcessing && state.bufferedRequest) {\n      clearBuffer(stream, state);\n    }\n\n    if (sync) {\n      process.nextTick(afterWrite, stream, state, finished, cb);\n    } else {\n      afterWrite(stream, state, finished, cb);\n    }\n  }\n}\n\nfunction afterWrite(stream, state, finished, cb) {\n  if (!finished) onwriteDrain(stream, state);\n  state.pendingcb--;\n  cb();\n  finishMaybe(stream, state);\n} // Must force callback to be called on nextTick, so that we don't\n// emit 'drain' before the write() consumer gets the 'false' return\n// value, and has a chance to attach a 'drain' listener.\n\n\nfunction onwriteDrain(stream, state) {\n  if (state.length === 0 && state.needDrain) {\n    state.needDrain = false;\n    stream.emit('drain');\n  }\n} // if there's something in the buffer waiting, then process it\n\n\nfunction clearBuffer(stream, state) {\n  state.bufferProcessing = true;\n  var entry = state.bufferedRequest;\n\n  if (stream._writev && entry && entry.next) {\n    // Fast case, write everything using _writev()\n    var l = state.bufferedRequestCount;\n    var buffer = new Array(l);\n    var holder = state.corkedRequestsFree;\n    holder.entry = entry;\n    var count = 0;\n    var allBuffers = true;\n\n    while (entry) {\n      buffer[count] = entry;\n      if (!entry.isBuf) allBuffers = false;\n      entry = entry.next;\n      count += 1;\n    }\n\n    buffer.allBuffers = allBuffers;\n    doWrite(stream, state, true, state.length, buffer, '', holder.finish); // doWrite is almost always async, defer these to save a bit of time\n    // as the hot path ends with doWrite\n\n    state.pendingcb++;\n    state.lastBufferedRequest = null;\n\n    if (holder.next) {\n      state.corkedRequestsFree = holder.next;\n      holder.next = null;\n    } else {\n      state.corkedRequestsFree = new CorkedRequest(state);\n    }\n\n    state.bufferedRequestCount = 0;\n  } else {\n    // Slow case, write chunks one-by-one\n    while (entry) {\n      var chunk = entry.chunk;\n      var encoding = entry.encoding;\n      var cb = entry.callback;\n      var len = state.objectMode ? 1 : chunk.length;\n      doWrite(stream, state, false, len, chunk, encoding, cb);\n      entry = entry.next;\n      state.bufferedRequestCount--; // if we didn't call the onwrite immediately, then\n      // it means that we need to wait until it does.\n      // also, that means that the chunk and cb are currently\n      // being processed, so move the buffer counter past them.\n\n      if (state.writing) {\n        break;\n      }\n    }\n\n    if (entry === null) state.lastBufferedRequest = null;\n  }\n\n  state.bufferedRequest = entry;\n  state.bufferProcessing = false;\n}\n\nWritable.prototype._write = function (chunk, encoding, cb) {\n  cb(new ERR_METHOD_NOT_IMPLEMENTED('_write()'));\n};\n\nWritable.prototype._writev = null;\n\nWritable.prototype.end = function (chunk, encoding, cb) {\n  var state = this._writableState;\n\n  if (typeof chunk === 'function') {\n    cb = chunk;\n    chunk = null;\n    encoding = null;\n  } else if (typeof encoding === 'function') {\n    cb = encoding;\n    encoding = null;\n  }\n\n  if (chunk !== null && chunk !== undefined) this.write(chunk, encoding); // .end() fully uncorks\n\n  if (state.corked) {\n    state.corked = 1;\n    this.uncork();\n  } // ignore unnecessary end() calls.\n\n\n  if (!state.ending) endWritable(this, state, cb);\n  return this;\n};\n\nObject.defineProperty(Writable.prototype, 'writableLength', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function get() {\n    return this._writableState.length;\n  }\n});\n\nfunction needFinish(state) {\n  return state.ending && state.length === 0 && state.bufferedRequest === null && !state.finished && !state.writing;\n}\n\nfunction callFinal(stream, state) {\n  stream._final(function (err) {\n    state.pendingcb--;\n\n    if (err) {\n      errorOrDestroy(stream, err);\n    }\n\n    state.prefinished = true;\n    stream.emit('prefinish');\n    finishMaybe(stream, state);\n  });\n}\n\nfunction prefinish(stream, state) {\n  if (!state.prefinished && !state.finalCalled) {\n    if (typeof stream._final === 'function' && !state.destroyed) {\n      state.pendingcb++;\n      state.finalCalled = true;\n      process.nextTick(callFinal, stream, state);\n    } else {\n      state.prefinished = true;\n      stream.emit('prefinish');\n    }\n  }\n}\n\nfunction finishMaybe(stream, state) {\n  var need = needFinish(state);\n\n  if (need) {\n    prefinish(stream, state);\n\n    if (state.pendingcb === 0) {\n      state.finished = true;\n      stream.emit('finish');\n\n      if (state.autoDestroy) {\n        // In case of duplex streams we need a way to detect\n        // if the readable side is ready for autoDestroy as well\n        var rState = stream._readableState;\n\n        if (!rState || rState.autoDestroy && rState.endEmitted) {\n          stream.destroy();\n        }\n      }\n    }\n  }\n\n  return need;\n}\n\nfunction endWritable(stream, state, cb) {\n  state.ending = true;\n  finishMaybe(stream, state);\n\n  if (cb) {\n    if (state.finished) process.nextTick(cb);else stream.once('finish', cb);\n  }\n\n  state.ended = true;\n  stream.writable = false;\n}\n\nfunction onCorkedFinish(corkReq, state, err) {\n  var entry = corkReq.entry;\n  corkReq.entry = null;\n\n  while (entry) {\n    var cb = entry.callback;\n    state.pendingcb--;\n    cb(err);\n    entry = entry.next;\n  } // reuse the free corkReq.\n\n\n  state.corkedRequestsFree.next = corkReq;\n}\n\nObject.defineProperty(Writable.prototype, 'destroyed', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function get() {\n    if (this._writableState === undefined) {\n      return false;\n    }\n\n    return this._writableState.destroyed;\n  },\n  set: function set(value) {\n    // we ignore the value if the stream\n    // has not been initialized yet\n    if (!this._writableState) {\n      return;\n    } // backward compatibility, the user is explicitly\n    // managing destroyed\n\n\n    this._writableState.destroyed = value;\n  }\n});\nWritable.prototype.destroy = destroyImpl.destroy;\nWritable.prototype._undestroy = destroyImpl.undestroy;\n\nWritable.prototype._destroy = function (err, cb) {\n  cb(err);\n};","module.exports = shift\n\nfunction shift (stream) {\n  var rs = stream._readableState\n  if (!rs) return null\n  return (rs.objectMode || typeof stream._duplexState === 'number') ? stream.read() : stream.read(getStateLength(rs))\n}\n\nfunction getStateLength (state) {\n  if (state.buffer.length) {\n    // Since node 6.3.0 state.buffer is a BufferList not an array\n    if (state.buffer.head) {\n      return state.buffer.head.data.length\n    }\n\n    return state.buffer[0].length\n  }\n\n  return state.length\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Farmbot = void 0;\nvar mqtt_1 = require(\"mqtt\");\nvar util_1 = require(\"./util\");\nvar _1 = require(\".\");\nvar config_1 = require(\"./config\");\nvar resource_adapter_1 = require(\"./resources/resource_adapter\");\nvar constants_1 = require(\"./constants\");\nvar is_celery_script_1 = require(\"./util/is_celery_script\");\nvar time_1 = require(\"./util/time\");\nvar rpc_request_1 = require(\"./util/rpc_request\");\nvar Farmbot = /** @class */ (function () {\n    function Farmbot(input) {\n        var _this = this;\n        /** Get a Farmbot Constructor Parameter. */\n        this.getConfig = function (key) { return _this.config[key]; };\n        /** Set a Farmbot Constructor Parameter. */\n        this.setConfig = function (key, value) {\n            _this.config[key] = value;\n        };\n        /**\n         * Installs a \"Farmware\" (plugin) onto the bot's SD card.\n         * URL must point to a valid Farmware manifest JSON document.\n         */\n        this.installFarmware = function (url) {\n            return _this.send(util_1.rpcRequest([{ kind: \"install_farmware\", args: { url: url } }]));\n        };\n        /**\n         * Checks for updates on a particular Farmware plugin when given the name of\n         * a Farmware. `updateFarmware(\"take-photo\")`\n         */\n        this.updateFarmware = function (pkg) {\n            return _this.send(util_1.rpcRequest([{\n                    kind: \"update_farmware\",\n                    args: { package: pkg }\n                }]));\n        };\n        /** Uninstall a Farmware plugin. */\n        this.removeFarmware = function (pkg) {\n            return _this.send(util_1.rpcRequest([{\n                    kind: \"remove_farmware\",\n                    args: {\n                        package: pkg\n                    }\n                }]));\n        };\n        /**\n         * Installs \"Farmware\" (plugins) authored by FarmBot, Inc.\n         * onto the bot's SD card.\n         */\n        this.installFirstPartyFarmware = function () {\n            return _this.send(util_1.rpcRequest([{\n                    kind: \"install_first_party_farmware\",\n                    args: {}\n                }]));\n        };\n        /**\n         * Deactivate FarmBot OS completely (shutdown).\n         * Useful before unplugging the power.\n         */\n        this.powerOff = function () {\n            return _this.send(util_1.rpcRequest([{ kind: \"power_off\", args: {} }]));\n        };\n        /** Restart FarmBot OS. */\n        this.reboot = function () {\n            return _this.send(util_1.rpcRequest([\n                { kind: \"reboot\", args: { package: \"farmbot_os\" } }\n            ]));\n        };\n        /** Reinitialize the FarmBot microcontroller firmware. */\n        this.rebootFirmware = function () {\n            return _this.send(util_1.rpcRequest([\n                { kind: \"reboot\", args: { package: \"arduino_firmware\" } }\n            ]));\n        };\n        /** Check for new versions of FarmBot OS.\n         * Downloads and installs if available. */\n        this.checkUpdates = function () {\n            return _this.send(util_1.rpcRequest([\n                { kind: \"check_updates\", args: { package: \"farmbot_os\" } }\n            ]));\n        };\n        /** THIS WILL RESET THE SD CARD, deleting all non-factory data!\n         * Be careful!! */\n        this.resetOS = function () {\n            return _this.publish(util_1.rpcRequest([\n                { kind: \"factory_reset\", args: { package: \"farmbot_os\" } }\n            ]));\n        };\n        /** WARNING: will reset all firmware (hardware) settings! */\n        this.resetMCU = function () {\n            return _this.send(util_1.rpcRequest([\n                { kind: \"factory_reset\", args: { package: \"arduino_firmware\" } }\n            ]));\n        };\n        this.flashFirmware = function (\n        /** one of: \"arduino\"|\"express_k10\"|\"farmduino_k14\"|\"farmduino\" */\n        firmware_name) {\n            return _this.send(util_1.rpcRequest([{\n                    kind: \"flash_firmware\",\n                    args: {\n                        package: firmware_name\n                    }\n                }]));\n        };\n        /**\n         * Lock the bot from moving (E-STOP). Turns off peripherals and motors. This\n         * also will pause running regimens and cause any running sequences to exit.\n         */\n        this.emergencyLock = function () {\n            var body = [{ kind: \"emergency_lock\", args: {} }];\n            var rpc = util_1.rpcRequest(body, rpc_request_1.Priority.HIGHEST);\n            return _this.send(rpc);\n        };\n        /** Unlock the bot when the user says it is safe. */\n        this.emergencyUnlock = function () {\n            var body = [{ kind: \"emergency_unlock\", args: {} }];\n            var rpc = util_1.rpcRequest(body, rpc_request_1.Priority.HIGHEST);\n            return _this.send(rpc);\n        };\n        /** Execute a sequence by its ID on the FarmBot API. */\n        this.execSequence = function (sequence_id, body) {\n            if (body === void 0) { body = []; }\n            return _this.send(util_1.rpcRequest([\n                { kind: \"execute\", args: { sequence_id: sequence_id }, body: body }\n            ]));\n        };\n        /** Run an installed Farmware plugin on the SD Card. */\n        this.execScript = function (\n        /** Name of the Farmware. */\n        label, \n        /** Optional ENV vars to pass the Farmware. */\n        envVars) {\n            return _this.send(util_1.rpcRequest([\n                { kind: \"execute_script\", args: { label: label }, body: envVars }\n            ]));\n        };\n        /** Bring a particular axis (or all of them) to position 0 in Z Y X order. */\n        this.home = function (args) {\n            return _this.send(util_1.rpcRequest([{ kind: \"home\", args: args }]));\n        };\n        /** Use end stops or encoders to figure out where 0,0,0 is in Z Y X axis\n         * order. WON'T WORK WITHOUT ENCODERS OR END STOPS! A blockage or stall\n         * during this command will set that position as zero. Use carefully. */\n        this.findHome = function (args) {\n            return _this.send(util_1.rpcRequest([{ kind: \"find_home\", args: args }]));\n        };\n        /** Move FarmBot to an absolute point. */\n        this.moveAbsolute = function (args) {\n            var x = args.x, y = args.y, z = args.z;\n            var speed = args.speed || config_1.CONFIG_DEFAULTS.speed;\n            return _this.send(util_1.rpcRequest([\n                {\n                    kind: \"move_absolute\",\n                    args: {\n                        location: util_1.coordinate(x, y, z),\n                        offset: util_1.coordinate(0, 0, 0),\n                        speed: speed\n                    }\n                }\n            ]));\n        };\n        /** Move FarmBot to position relative to its current position. */\n        this.moveRelative = function (args) {\n            var x = args.x, y = args.y, z = args.z;\n            var speed = args.speed || config_1.CONFIG_DEFAULTS.speed;\n            return _this.send(util_1.rpcRequest([\n                { kind: \"move_relative\", args: { x: x, y: y, z: z, speed: speed } }\n            ]));\n        };\n        /** Set a GPIO pin to a particular value. */\n        this.writePin = function (args) {\n            return _this.send(util_1.rpcRequest([{ kind: \"write_pin\", args: args }]));\n        };\n        /** Read the value of a GPIO pin. Will create a SensorReading if it's\n         * a sensor. */\n        this.readPin = function (args) {\n            return _this.send(util_1.rpcRequest([{ kind: \"read_pin\", args: args }]));\n        };\n        /** Reverse the value of a digital pin. */\n        this.togglePin = function (args) {\n            return _this.send(util_1.rpcRequest([{ kind: \"toggle_pin\", args: args }]));\n        };\n        /** Read the status of the bot. Should not be needed unless you are first\n         * logging in to the device, since the device pushes new states out on\n         * every update. */\n        this.readStatus = function (args) {\n            if (args === void 0) { args = {}; }\n            return _this.send(util_1.rpcRequest([{ kind: \"read_status\", args: args }]));\n        };\n        /** Snap a photo and send to the API for post processing. */\n        this.takePhoto = function (args) {\n            if (args === void 0) { args = {}; }\n            return _this.send(util_1.rpcRequest([{ kind: \"take_photo\", args: args }]));\n        };\n        /** Download/apply all of the latest FarmBot API JSON resources (plants,\n         * account info, etc.) to the device. */\n        this.sync = function (args) {\n            if (args === void 0) { args = {}; }\n            return _this.send(util_1.rpcRequest([{ kind: \"sync\", args: args }]));\n        };\n        /**\n         * Set the current position of the given axis to 0.\n         * Example: Sending `bot.setZero(\"x\")` at x: 255 will translate position\n         * 255 to 0, causing that position to be x: 0.\n         */\n        this.setZero = function (axis) {\n            return _this.send(util_1.rpcRequest([{\n                    kind: \"zero\",\n                    args: { axis: axis }\n                }]));\n        };\n        /**\n         * Set user ENV vars (usually used by 3rd-party Farmware plugins).\n         * Set value to `undefined` to unset.\n         */\n        this.setUserEnv = function (configs) {\n            var body = Object\n                .keys(configs)\n                .map(function (label) {\n                return {\n                    kind: \"pair\",\n                    args: { label: label, value: (configs[label] || constants_1.Misc.NULL) }\n                };\n            });\n            return _this.send(util_1.rpcRequest([{ kind: \"set_user_env\", args: {}, body: body }]));\n        };\n        this.sendMessage = function (message_type, message, channels) {\n            if (channels === void 0) { channels = []; }\n            _this.send(util_1.rpcRequest([{\n                    kind: \"send_message\",\n                    args: {\n                        message_type: message_type,\n                        message: message\n                    },\n                    body: channels.map(function (channel_name) { return ({\n                        kind: \"channel\",\n                        args: {\n                            channel_name: channel_name\n                        }\n                    }); })\n                }]));\n        };\n        /** Control servos on pins 4 and 5. */\n        this.setServoAngle = function (args) {\n            var result = _this.send(util_1.rpcRequest([{ kind: \"set_servo_angle\", args: args }]));\n            // Celery script can't validate `pin_number` and `pin_value` the way we need\n            // for `set_servo_angle`. We will send the RPC command off, but also\n            // crash the client to aid debugging.\n            if (![4, 5, 6, 11].includes(args.pin_number)) {\n                throw new Error(\"Servos only work on pins 4 and 5\");\n            }\n            if (args.pin_value > 180 || args.pin_value < 0) {\n                throw new Error(\"Pin value outside of 0...180 range\");\n            }\n            return result;\n        };\n        /**\n         * Find the axis extents using encoder, motor, or end-stop feedback.\n         * Will set a new home position and a new axis length for the given axis.\n         */\n        this.calibrate = function (args) {\n            return _this.send(util_1.rpcRequest([{ kind: \"calibrate\", args: args }]));\n        };\n        this.lua = function (lua) {\n            return _this.send(util_1.rpcRequest([\n                { kind: \"lua\", args: { lua: lua } }\n            ]));\n        };\n        /**\n         * Retrieves all of the event handlers for a particular event.\n         * Returns an empty array if the event did not exist.\n         */\n        this.event = function (name) {\n            _this._events[name] = _this._events[name] || [];\n            return _this._events[name];\n        };\n        this.on = function (event, value, once) {\n            if (once === void 0) { once = false; }\n            _this.event(event).push({ value: value, once: once, event: event });\n        };\n        this.emit = function (event, data) {\n            var nextArray = [];\n            _this.event(event)\n                .concat(_this.event(\"*\"))\n                .forEach(function (handler) {\n                try {\n                    handler.value(data, event);\n                    if (!handler.once && handler.event === event) {\n                        nextArray.push(handler);\n                    }\n                }\n                catch (e) {\n                    var msg = \"Exception thrown while handling '\" + event + \"' event.\";\n                    console.warn(msg);\n                    console.dir(e);\n                }\n            });\n            if (nextArray.length === 0) {\n                delete _this._events[event];\n            }\n            else {\n                _this._events[event] = nextArray;\n            }\n        };\n        /** Low-level means of sending MQTT packets. Does not check format. Does not\n         * acknowledge confirmation. Probably not the one you want. */\n        this.publish = function (msg, important) {\n            if (important === void 0) { important = true; }\n            if (_this.client) {\n                _this.emit(constants_1.FbjsEventName.sent, msg);\n                /** SEE: https://github.com/mqttjs/MQTT.js#client */\n                _this.client.publish(_this.channel.toDevice, JSON.stringify(msg));\n            }\n            else {\n                if (important) {\n                    throw new Error(\"Not connected to server\");\n                }\n            }\n        };\n        /** Low-level means of sending MQTT RPC commands to the bot. Acknowledges\n         * receipt of message, but does not check formatting. Consider using higher\n         * level methods like .moveRelative(), .calibrate(), etc....\n        */\n        this.send = function (input) {\n            return new Promise(function (resolve, reject) {\n                _this.publish(input);\n                function handler(response) {\n                    switch (response.kind) {\n                        case \"rpc_ok\": return resolve(response);\n                        case \"rpc_error\":\n                            var reason = (response.body || [])\n                                .map(function (x) { return x.args.message; })\n                                .join(\", \");\n                            return reject(new Error(\"Problem sending RPC command: \" + reason));\n                        default:\n                            console.dir(response);\n                            throw new Error(\"Got a bad CeleryScript node.\");\n                    }\n                }\n                _this.on(input.args.label, handler, true);\n            });\n        };\n        /** Main entry point for all MQTT packets. */\n        this._onmessage = function (chan, buffer) {\n            var original = _1.bufferToString(buffer);\n            var segments = chan.split(constants_1.Misc.MQTT_DELIM);\n            var emit = _this.emit;\n            try {\n                var msg = JSON.parse(original);\n                if (segments[0] == constants_1.MqttChanName.publicBroadcast) {\n                    return emit(constants_1.MqttChanName.publicBroadcast, msg);\n                }\n                switch (segments[2]) {\n                    case constants_1.MqttChanName.logs: return emit(constants_1.FbjsEventName.logs, msg);\n                    case constants_1.MqttChanName.status: return emit(constants_1.FbjsEventName.status, msg);\n                    case constants_1.MqttChanName.sync: return emit(constants_1.FbjsEventName.sync, msg);\n                    case constants_1.MqttChanName.pong:\n                        return emit(segments[3], msg);\n                    default:\n                        var ev = is_celery_script_1.hasLabel(msg) ? msg.args.label : constants_1.FbjsEventName.malformed;\n                        return emit(ev, msg);\n                }\n            }\n            catch (error) {\n                console\n                    .dir({ text: \"Could not parse inbound message from MQTT.\", error: error });\n                emit(constants_1.FbjsEventName.malformed, original);\n            }\n        };\n        this.ping = function (timeout, now) {\n            if (timeout === void 0) { timeout = 10000; }\n            if (now === void 0) { now = time_1.timestamp(); }\n            _this.setConfig(\"LAST_PING_OUT\", now);\n            return _this.doPing(now, timeout);\n        };\n        // STEP 0: Subscribe to `bot/device_23/pong/#`\n        // STEP 0: Send         `bot/device_23/ping/3123123`\n        // STEP 0: Receive      `bot/device_23/pong/3123123`\n        this.doPing = function (startedAt, timeout) {\n            var timeoutPromise = new Promise(function (_, rej) { return setTimeout(function () { return rej(-0); }, timeout); });\n            var pingPromise = new Promise(function (res, _) {\n                var ok = function () {\n                    var t = time_1.timestamp();\n                    _this.setConfig(\"LAST_PING_IN\", t);\n                    res(t - startedAt);\n                };\n                _this.on(\"\" + startedAt, ok, true);\n                var chan = _this.channel.ping(startedAt);\n                if (_this.client) {\n                    _this.client.publish(chan, JSON.stringify(startedAt));\n                }\n            });\n            return Promise.race([timeoutPromise, pingPromise]);\n        };\n        /** Bootstrap the device onto the MQTT broker. */\n        this.connect = function () {\n            var _a = _this.config, mqttUsername = _a.mqttUsername, token = _a.token, mqttServer = _a.mqttServer;\n            var reconnectPeriod = constants_1.Misc.RECONNECT_THROTTLE_MS;\n            var client = mqtt_1.connect(mqttServer, {\n                clean: true,\n                clientId: \"FBJS-\" + Farmbot.VERSION + \"-\" + util_1.uuid(),\n                password: token,\n                protocolId: \"MQIsdp\",\n                protocolVersion: 3,\n                reconnectPeriod: reconnectPeriod,\n                username: mqttUsername,\n            });\n            _this.client = client;\n            _this.resources = new resource_adapter_1.ResourceAdapter(_this, _this.config.mqttUsername);\n            client.on(\"message\", _this._onmessage);\n            client.on(\"offline\", function () { return _this.emit(constants_1.FbjsEventName.offline, {}); });\n            client.on(\"connect\", function () { return _this.emit(constants_1.FbjsEventName.online, {}); });\n            var channels = [\n                _this.channel.logs,\n                _this.channel.status,\n                _this.channel.sync,\n                _this.channel.toClient,\n                _this.channel.pong\n            ];\n            client.subscribe(channels);\n            return new Promise(function (resolve, _reject) {\n                if (_this.client) {\n                    _this.client.once(\"connect\", function () { return resolve(_this); });\n                }\n                else {\n                    throw new Error(\"Please connect first.\");\n                }\n            });\n        };\n        this._events = {};\n        this.config = config_1.generateConfig(input);\n        this.resources = new resource_adapter_1.ResourceAdapter(this, this.config.mqttUsername);\n    }\n    Object.defineProperty(Farmbot.prototype, \"channel\", {\n        /** Dictionary of all relevant MQTT channels the bot uses. */\n        get: function () {\n            var deviceName = this.config.mqttUsername;\n            return {\n                /** From the browser, usually. */\n                toDevice: \"bot/\" + deviceName + \"/\" + constants_1.MqttChanName.fromClients,\n                /** From farmbot */\n                toClient: \"bot/\" + deviceName + \"/\" + constants_1.MqttChanName.fromDevice,\n                status: \"bot/\" + deviceName + \"/\" + constants_1.MqttChanName.status,\n                logs: \"bot/\" + deviceName + \"/\" + constants_1.MqttChanName.logs,\n                sync: \"bot/\" + deviceName + \"/\" + constants_1.MqttChanName.sync + \"/#\",\n                /** Read only */\n                pong: \"bot/\" + deviceName + \"/pong/#\",\n                /** Write only: bot/${deviceName}/ping/${timestamp} */\n                ping: function (tStamp) { return \"bot/\" + deviceName + \"/ping/\" + tStamp; }\n            };\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Farmbot.VERSION = \"14.6.0\";\n    return Farmbot;\n}());\nexports.Farmbot = Farmbot;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.rpcRequest = exports.Priority = void 0;\nvar uuid_1 = require(\"./uuid\");\nvar Priority;\n(function (Priority) {\n    Priority[Priority[\"HIGHEST\"] = 9000] = \"HIGHEST\";\n    Priority[Priority[\"NORMAL\"] = 600] = \"NORMAL\";\n    Priority[Priority[\"LOWEST\"] = 300] = \"LOWEST\";\n})(Priority = exports.Priority || (exports.Priority = {}));\nexports.rpcRequest = function (body, priority) {\n    if (priority === void 0) { priority = Priority.NORMAL; }\n    return ({\n        kind: \"rpc_request\",\n        args: {\n            label: uuid_1.uuid(),\n            priority: priority\n        },\n        body: body\n    });\n};\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\nvar R = typeof Reflect === 'object' ? Reflect : null\nvar ReflectApply = R && typeof R.apply === 'function'\n  ? R.apply\n  : function ReflectApply(target, receiver, args) {\n    return Function.prototype.apply.call(target, receiver, args);\n  }\n\nvar ReflectOwnKeys\nif (R && typeof R.ownKeys === 'function') {\n  ReflectOwnKeys = R.ownKeys\n} else if (Object.getOwnPropertySymbols) {\n  ReflectOwnKeys = function ReflectOwnKeys(target) {\n    return Object.getOwnPropertyNames(target)\n      .concat(Object.getOwnPropertySymbols(target));\n  };\n} else {\n  ReflectOwnKeys = function ReflectOwnKeys(target) {\n    return Object.getOwnPropertyNames(target);\n  };\n}\n\nfunction ProcessEmitWarning(warning) {\n  if (console && console.warn) console.warn(warning);\n}\n\nvar NumberIsNaN = Number.isNaN || function NumberIsNaN(value) {\n  return value !== value;\n}\n\nfunction EventEmitter() {\n  EventEmitter.init.call(this);\n}\nmodule.exports = EventEmitter;\nmodule.exports.once = once;\n\n// Backwards-compat with node 0.10.x\nEventEmitter.EventEmitter = EventEmitter;\n\nEventEmitter.prototype._events = undefined;\nEventEmitter.prototype._eventsCount = 0;\nEventEmitter.prototype._maxListeners = undefined;\n\n// By default EventEmitters will print a warning if more than 10 listeners are\n// added to it. This is a useful default which helps finding memory leaks.\nvar defaultMaxListeners = 10;\n\nfunction checkListener(listener) {\n  if (typeof listener !== 'function') {\n    throw new TypeError('The \"listener\" argument must be of type Function. Received type ' + typeof listener);\n  }\n}\n\nObject.defineProperty(EventEmitter, 'defaultMaxListeners', {\n  enumerable: true,\n  get: function() {\n    return defaultMaxListeners;\n  },\n  set: function(arg) {\n    if (typeof arg !== 'number' || arg < 0 || NumberIsNaN(arg)) {\n      throw new RangeError('The value of \"defaultMaxListeners\" is out of range. It must be a non-negative number. Received ' + arg + '.');\n    }\n    defaultMaxListeners = arg;\n  }\n});\n\nEventEmitter.init = function() {\n\n  if (this._events === undefined ||\n      this._events === Object.getPrototypeOf(this)._events) {\n    this._events = Object.create(null);\n    this._eventsCount = 0;\n  }\n\n  this._maxListeners = this._maxListeners || undefined;\n};\n\n// Obviously not all Emitters should be limited to 10. This function allows\n// that to be increased. Set to zero for unlimited.\nEventEmitter.prototype.setMaxListeners = function setMaxListeners(n) {\n  if (typeof n !== 'number' || n < 0 || NumberIsNaN(n)) {\n    throw new RangeError('The value of \"n\" is out of range. It must be a non-negative number. Received ' + n + '.');\n  }\n  this._maxListeners = n;\n  return this;\n};\n\nfunction _getMaxListeners(that) {\n  if (that._maxListeners === undefined)\n    return EventEmitter.defaultMaxListeners;\n  return that._maxListeners;\n}\n\nEventEmitter.prototype.getMaxListeners = function getMaxListeners() {\n  return _getMaxListeners(this);\n};\n\nEventEmitter.prototype.emit = function emit(type) {\n  var args = [];\n  for (var i = 1; i < arguments.length; i++) args.push(arguments[i]);\n  var doError = (type === 'error');\n\n  var events = this._events;\n  if (events !== undefined)\n    doError = (doError && events.error === undefined);\n  else if (!doError)\n    return false;\n\n  // If there is no 'error' event listener then throw.\n  if (doError) {\n    var er;\n    if (args.length > 0)\n      er = args[0];\n    if (er instanceof Error) {\n      // Note: The comments on the `throw` lines are intentional, they show\n      // up in Node's output if this results in an unhandled exception.\n      throw er; // Unhandled 'error' event\n    }\n    // At least give some kind of context to the user\n    var err = new Error('Unhandled error.' + (er ? ' (' + er.message + ')' : ''));\n    err.context = er;\n    throw err; // Unhandled 'error' event\n  }\n\n  var handler = events[type];\n\n  if (handler === undefined)\n    return false;\n\n  if (typeof handler === 'function') {\n    ReflectApply(handler, this, args);\n  } else {\n    var len = handler.length;\n    var listeners = arrayClone(handler, len);\n    for (var i = 0; i < len; ++i)\n      ReflectApply(listeners[i], this, args);\n  }\n\n  return true;\n};\n\nfunction _addListener(target, type, listener, prepend) {\n  var m;\n  var events;\n  var existing;\n\n  checkListener(listener);\n\n  events = target._events;\n  if (events === undefined) {\n    events = target._events = Object.create(null);\n    target._eventsCount = 0;\n  } else {\n    // To avoid recursion in the case that type === \"newListener\"! Before\n    // adding it to the listeners, first emit \"newListener\".\n    if (events.newListener !== undefined) {\n      target.emit('newListener', type,\n                  listener.listener ? listener.listener : listener);\n\n      // Re-assign `events` because a newListener handler could have caused the\n      // this._events to be assigned to a new object\n      events = target._events;\n    }\n    existing = events[type];\n  }\n\n  if (existing === undefined) {\n    // Optimize the case of one listener. Don't need the extra array object.\n    existing = events[type] = listener;\n    ++target._eventsCount;\n  } else {\n    if (typeof existing === 'function') {\n      // Adding the second element, need to change to array.\n      existing = events[type] =\n        prepend ? [listener, existing] : [existing, listener];\n      // If we've already got an array, just append.\n    } else if (prepend) {\n      existing.unshift(listener);\n    } else {\n      existing.push(listener);\n    }\n\n    // Check for listener leak\n    m = _getMaxListeners(target);\n    if (m > 0 && existing.length > m && !existing.warned) {\n      existing.warned = true;\n      // No error code for this since it is a Warning\n      // eslint-disable-next-line no-restricted-syntax\n      var w = new Error('Possible EventEmitter memory leak detected. ' +\n                          existing.length + ' ' + String(type) + ' listeners ' +\n                          'added. Use emitter.setMaxListeners() to ' +\n                          'increase limit');\n      w.name = 'MaxListenersExceededWarning';\n      w.emitter = target;\n      w.type = type;\n      w.count = existing.length;\n      ProcessEmitWarning(w);\n    }\n  }\n\n  return target;\n}\n\nEventEmitter.prototype.addListener = function addListener(type, listener) {\n  return _addListener(this, type, listener, false);\n};\n\nEventEmitter.prototype.on = EventEmitter.prototype.addListener;\n\nEventEmitter.prototype.prependListener =\n    function prependListener(type, listener) {\n      return _addListener(this, type, listener, true);\n    };\n\nfunction onceWrapper() {\n  if (!this.fired) {\n    this.target.removeListener(this.type, this.wrapFn);\n    this.fired = true;\n    if (arguments.length === 0)\n      return this.listener.call(this.target);\n    return this.listener.apply(this.target, arguments);\n  }\n}\n\nfunction _onceWrap(target, type, listener) {\n  var state = { fired: false, wrapFn: undefined, target: target, type: type, listener: listener };\n  var wrapped = onceWrapper.bind(state);\n  wrapped.listener = listener;\n  state.wrapFn = wrapped;\n  return wrapped;\n}\n\nEventEmitter.prototype.once = function once(type, listener) {\n  checkListener(listener);\n  this.on(type, _onceWrap(this, type, listener));\n  return this;\n};\n\nEventEmitter.prototype.prependOnceListener =\n    function prependOnceListener(type, listener) {\n      checkListener(listener);\n      this.prependListener(type, _onceWrap(this, type, listener));\n      return this;\n    };\n\n// Emits a 'removeListener' event if and only if the listener was removed.\nEventEmitter.prototype.removeListener =\n    function removeListener(type, listener) {\n      var list, events, position, i, originalListener;\n\n      checkListener(listener);\n\n      events = this._events;\n      if (events === undefined)\n        return this;\n\n      list = events[type];\n      if (list === undefined)\n        return this;\n\n      if (list === listener || list.listener === listener) {\n        if (--this._eventsCount === 0)\n          this._events = Object.create(null);\n        else {\n          delete events[type];\n          if (events.removeListener)\n            this.emit('removeListener', type, list.listener || listener);\n        }\n      } else if (typeof list !== 'function') {\n        position = -1;\n\n        for (i = list.length - 1; i >= 0; i--) {\n          if (list[i] === listener || list[i].listener === listener) {\n            originalListener = list[i].listener;\n            position = i;\n            break;\n          }\n        }\n\n        if (position < 0)\n          return this;\n\n        if (position === 0)\n          list.shift();\n        else {\n          spliceOne(list, position);\n        }\n\n        if (list.length === 1)\n          events[type] = list[0];\n\n        if (events.removeListener !== undefined)\n          this.emit('removeListener', type, originalListener || listener);\n      }\n\n      return this;\n    };\n\nEventEmitter.prototype.off = EventEmitter.prototype.removeListener;\n\nEventEmitter.prototype.removeAllListeners =\n    function removeAllListeners(type) {\n      var listeners, events, i;\n\n      events = this._events;\n      if (events === undefined)\n        return this;\n\n      // not listening for removeListener, no need to emit\n      if (events.removeListener === undefined) {\n        if (arguments.length === 0) {\n          this._events = Object.create(null);\n          this._eventsCount = 0;\n        } else if (events[type] !== undefined) {\n          if (--this._eventsCount === 0)\n            this._events = Object.create(null);\n          else\n            delete events[type];\n        }\n        return this;\n      }\n\n      // emit removeListener for all listeners on all events\n      if (arguments.length === 0) {\n        var keys = Object.keys(events);\n        var key;\n        for (i = 0; i < keys.length; ++i) {\n          key = keys[i];\n          if (key === 'removeListener') continue;\n          this.removeAllListeners(key);\n        }\n        this.removeAllListeners('removeListener');\n        this._events = Object.create(null);\n        this._eventsCount = 0;\n        return this;\n      }\n\n      listeners = events[type];\n\n      if (typeof listeners === 'function') {\n        this.removeListener(type, listeners);\n      } else if (listeners !== undefined) {\n        // LIFO order\n        for (i = listeners.length - 1; i >= 0; i--) {\n          this.removeListener(type, listeners[i]);\n        }\n      }\n\n      return this;\n    };\n\nfunction _listeners(target, type, unwrap) {\n  var events = target._events;\n\n  if (events === undefined)\n    return [];\n\n  var evlistener = events[type];\n  if (evlistener === undefined)\n    return [];\n\n  if (typeof evlistener === 'function')\n    return unwrap ? [evlistener.listener || evlistener] : [evlistener];\n\n  return unwrap ?\n    unwrapListeners(evlistener) : arrayClone(evlistener, evlistener.length);\n}\n\nEventEmitter.prototype.listeners = function listeners(type) {\n  return _listeners(this, type, true);\n};\n\nEventEmitter.prototype.rawListeners = function rawListeners(type) {\n  return _listeners(this, type, false);\n};\n\nEventEmitter.listenerCount = function(emitter, type) {\n  if (typeof emitter.listenerCount === 'function') {\n    return emitter.listenerCount(type);\n  } else {\n    return listenerCount.call(emitter, type);\n  }\n};\n\nEventEmitter.prototype.listenerCount = listenerCount;\nfunction listenerCount(type) {\n  var events = this._events;\n\n  if (events !== undefined) {\n    var evlistener = events[type];\n\n    if (typeof evlistener === 'function') {\n      return 1;\n    } else if (evlistener !== undefined) {\n      return evlistener.length;\n    }\n  }\n\n  return 0;\n}\n\nEventEmitter.prototype.eventNames = function eventNames() {\n  return this._eventsCount > 0 ? ReflectOwnKeys(this._events) : [];\n};\n\nfunction arrayClone(arr, n) {\n  var copy = new Array(n);\n  for (var i = 0; i < n; ++i)\n    copy[i] = arr[i];\n  return copy;\n}\n\nfunction spliceOne(list, index) {\n  for (; index + 1 < list.length; index++)\n    list[index] = list[index + 1];\n  list.pop();\n}\n\nfunction unwrapListeners(arr) {\n  var ret = new Array(arr.length);\n  for (var i = 0; i < ret.length; ++i) {\n    ret[i] = arr[i].listener || arr[i];\n  }\n  return ret;\n}\n\nfunction once(emitter, name) {\n  return new Promise(function (resolve, reject) {\n    function eventListener() {\n      if (errorListener !== undefined) {\n        emitter.removeListener('error', errorListener);\n      }\n      resolve([].slice.call(arguments));\n    };\n    var errorListener;\n\n    // Adding an error listener is not optional because\n    // if an error is thrown on an event emitter we cannot\n    // guarantee that the actual event we are waiting will\n    // be fired. The result could be a silent way to create\n    // memory or file descriptor leaks, which is something\n    // we should avoid.\n    if (name !== 'error') {\n      errorListener = function errorListener(err) {\n        emitter.removeListener(name, eventListener);\n        reject(err);\n      };\n\n      emitter.once('error', errorListener);\n    }\n\n    emitter.once(name, eventListener);\n  });\n}\n","'use strict';\nvar $ = require('../internals/export');\nvar isObject = require('../internals/is-object');\nvar isArray = require('../internals/is-array');\nvar toAbsoluteIndex = require('../internals/to-absolute-index');\nvar toLength = require('../internals/to-length');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar createProperty = require('../internals/create-property');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('slice');\nvar USES_TO_LENGTH = arrayMethodUsesToLength('slice', { ACCESSORS: true, 0: 0, 1: 2 });\n\nvar SPECIES = wellKnownSymbol('species');\nvar nativeSlice = [].slice;\nvar max = Math.max;\n\n// `Array.prototype.slice` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.slice\n// fallback for not array-like ES3 strings and DOM objects\n$({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT || !USES_TO_LENGTH }, {\n  slice: function slice(start, end) {\n    var O = toIndexedObject(this);\n    var length = toLength(O.length);\n    var k = toAbsoluteIndex(start, length);\n    var fin = toAbsoluteIndex(end === undefined ? length : end, length);\n    // inline `ArraySpeciesCreate` for usage native `Array#slice` where it's possible\n    var Constructor, result, n;\n    if (isArray(O)) {\n      Constructor = O.constructor;\n      // cross-realm fallback\n      if (typeof Constructor == 'function' && (Constructor === Array || isArray(Constructor.prototype))) {\n        Constructor = undefined;\n      } else if (isObject(Constructor)) {\n        Constructor = Constructor[SPECIES];\n        if (Constructor === null) Constructor = undefined;\n      }\n      if (Constructor === Array || Constructor === undefined) {\n        return nativeSlice.call(O, k, fin);\n      }\n    }\n    result = new (Constructor === undefined ? Array : Constructor)(max(fin - k, 0));\n    for (n = 0; k < fin; k++, n++) if (k in O) createProperty(result, n, O[k]);\n    result.length = n;\n    return result;\n  }\n});\n","'use strict';\n\nfunction _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; subClass.__proto__ = superClass; }\n\nvar codes = {};\n\nfunction createErrorType(code, message, Base) {\n  if (!Base) {\n    Base = Error;\n  }\n\n  function getMessage(arg1, arg2, arg3) {\n    if (typeof message === 'string') {\n      return message;\n    } else {\n      return message(arg1, arg2, arg3);\n    }\n  }\n\n  var NodeError =\n  /*#__PURE__*/\n  function (_Base) {\n    _inheritsLoose(NodeError, _Base);\n\n    function NodeError(arg1, arg2, arg3) {\n      return _Base.call(this, getMessage(arg1, arg2, arg3)) || this;\n    }\n\n    return NodeError;\n  }(Base);\n\n  NodeError.prototype.name = Base.name;\n  NodeError.prototype.code = code;\n  codes[code] = NodeError;\n} // https://github.com/nodejs/node/blob/v10.8.0/lib/internal/errors.js\n\n\nfunction oneOf(expected, thing) {\n  if (Array.isArray(expected)) {\n    var len = expected.length;\n    expected = expected.map(function (i) {\n      return String(i);\n    });\n\n    if (len > 2) {\n      return \"one of \".concat(thing, \" \").concat(expected.slice(0, len - 1).join(', '), \", or \") + expected[len - 1];\n    } else if (len === 2) {\n      return \"one of \".concat(thing, \" \").concat(expected[0], \" or \").concat(expected[1]);\n    } else {\n      return \"of \".concat(thing, \" \").concat(expected[0]);\n    }\n  } else {\n    return \"of \".concat(thing, \" \").concat(String(expected));\n  }\n} // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/startsWith\n\n\nfunction startsWith(str, search, pos) {\n  return str.substr(!pos || pos < 0 ? 0 : +pos, search.length) === search;\n} // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/endsWith\n\n\nfunction endsWith(str, search, this_len) {\n  if (this_len === undefined || this_len > str.length) {\n    this_len = str.length;\n  }\n\n  return str.substring(this_len - search.length, this_len) === search;\n} // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/includes\n\n\nfunction includes(str, search, start) {\n  if (typeof start !== 'number') {\n    start = 0;\n  }\n\n  if (start + search.length > str.length) {\n    return false;\n  } else {\n    return str.indexOf(search, start) !== -1;\n  }\n}\n\ncreateErrorType('ERR_INVALID_OPT_VALUE', function (name, value) {\n  return 'The value \"' + value + '\" is invalid for option \"' + name + '\"';\n}, TypeError);\ncreateErrorType('ERR_INVALID_ARG_TYPE', function (name, expected, actual) {\n  // determiner: 'must be' or 'must not be'\n  var determiner;\n\n  if (typeof expected === 'string' && startsWith(expected, 'not ')) {\n    determiner = 'must not be';\n    expected = expected.replace(/^not /, '');\n  } else {\n    determiner = 'must be';\n  }\n\n  var msg;\n\n  if (endsWith(name, ' argument')) {\n    // For cases like 'first argument'\n    msg = \"The \".concat(name, \" \").concat(determiner, \" \").concat(oneOf(expected, 'type'));\n  } else {\n    var type = includes(name, '.') ? 'property' : 'argument';\n    msg = \"The \\\"\".concat(name, \"\\\" \").concat(type, \" \").concat(determiner, \" \").concat(oneOf(expected, 'type'));\n  }\n\n  msg += \". Received type \".concat(typeof actual);\n  return msg;\n}, TypeError);\ncreateErrorType('ERR_STREAM_PUSH_AFTER_EOF', 'stream.push() after EOF');\ncreateErrorType('ERR_METHOD_NOT_IMPLEMENTED', function (name) {\n  return 'The ' + name + ' method is not implemented';\n});\ncreateErrorType('ERR_STREAM_PREMATURE_CLOSE', 'Premature close');\ncreateErrorType('ERR_STREAM_DESTROYED', function (name) {\n  return 'Cannot call ' + name + ' after a stream was destroyed';\n});\ncreateErrorType('ERR_MULTIPLE_CALLBACK', 'Callback called multiple times');\ncreateErrorType('ERR_STREAM_CANNOT_PIPE', 'Cannot pipe, not readable');\ncreateErrorType('ERR_STREAM_WRITE_AFTER_END', 'write after end');\ncreateErrorType('ERR_STREAM_NULL_VALUES', 'May not write null values to stream', TypeError);\ncreateErrorType('ERR_UNKNOWN_ENCODING', function (arg) {\n  return 'Unknown encoding: ' + arg;\n}, TypeError);\ncreateErrorType('ERR_STREAM_UNSHIFT_AFTER_END_EVENT', 'stream.unshift() after end event');\nmodule.exports.codes = codes;\n","'use strict'\r\n\r\nconst WS = require('ws')\r\nconst debug = require('debug')('mqttjs:ws')\r\nconst duplexify = require('duplexify')\r\nconst Transform = require('readable-stream').Transform\r\n\r\nlet WSS_OPTIONS = [\r\n  'rejectUnauthorized',\r\n  'ca',\r\n  'cert',\r\n  'key',\r\n  'pfx',\r\n  'passphrase'\r\n]\r\n// eslint-disable-next-line camelcase\r\nconst IS_BROWSER = (typeof process !== 'undefined' && process.title === 'browser') || typeof __webpack_require__ === 'function'\r\nfunction buildUrl (opts, client) {\r\n  let url = opts.protocol + '://' + opts.hostname + ':' + opts.port + opts.path\r\n  if (typeof (opts.transformWsUrl) === 'function') {\r\n    url = opts.transformWsUrl(url, opts, client)\r\n  }\r\n  return url\r\n}\r\n\r\nfunction setDefaultOpts (opts) {\r\n  let options = opts\r\n  if (!opts.hostname) {\r\n    options.hostname = 'localhost'\r\n  }\r\n  if (!opts.port) {\r\n    if (opts.protocol === 'wss') {\r\n      options.port = 443\r\n    } else {\r\n      options.port = 80\r\n    }\r\n  }\r\n  if (!opts.path) {\r\n    options.path = '/'\r\n  }\r\n\r\n  if (!opts.wsOptions) {\r\n    options.wsOptions = {}\r\n  }\r\n  if (!IS_BROWSER && opts.protocol === 'wss') {\r\n    // Add cert/key/ca etc options\r\n    WSS_OPTIONS.forEach(function (prop) {\r\n      if (opts.hasOwnProperty(prop) && !opts.wsOptions.hasOwnProperty(prop)) {\r\n        options.wsOptions[prop] = opts[prop]\r\n      }\r\n    })\r\n  }\r\n\r\n  return options\r\n}\r\n\r\nfunction setDefaultBrowserOpts (opts) {\r\n  let options = setDefaultOpts(opts)\r\n\r\n  if (!options.hostname) {\r\n    options.hostname = options.host\r\n  }\r\n\r\n  if (!options.hostname) {\r\n    // Throwing an error in a Web Worker if no `hostname` is given, because we\r\n    // can not determine the `hostname` automatically.  If connecting to\r\n    // localhost, please supply the `hostname` as an argument.\r\n    if (typeof (document) === 'undefined') {\r\n      throw new Error('Could not determine host. Specify host manually.')\r\n    }\r\n    const parsed = new URL(document.URL)\r\n    options.hostname = parsed.hostname\r\n\r\n    if (!options.port) {\r\n      options.port = parsed.port\r\n    }\r\n  }\r\n\r\n  // objectMode should be defined for logic\r\n  if (options.objectMode === undefined) {\r\n    options.objectMode = !(options.binary === true || options.binary === undefined)\r\n  }\r\n\r\n  return options\r\n}\r\n\r\nfunction createWebSocket (client, url, opts) {\r\n  debug('createWebSocket')\r\n  debug('protocol: ' + opts.protocolId + ' ' + opts.protocolVersion)\r\n  const websocketSubProtocol =\r\n    (opts.protocolId === 'MQIsdp') && (opts.protocolVersion === 3)\r\n      ? 'mqttv3.1'\r\n      : 'mqtt'\r\n\r\n  debug('creating new Websocket for url: ' + url + ' and protocol: ' + websocketSubProtocol)\r\n  let socket = new WS(url, [websocketSubProtocol], opts.wsOptions)\r\n  return socket\r\n}\r\n\r\nfunction createBrowserWebSocket (client, opts) {\r\n  const websocketSubProtocol =\r\n  (opts.protocolId === 'MQIsdp') && (opts.protocolVersion === 3)\r\n    ? 'mqttv3.1'\r\n    : 'mqtt'\r\n\r\n  let url = buildUrl(opts, client)\r\n  /* global WebSocket */\r\n  let socket = new WebSocket(url, [websocketSubProtocol])\r\n  socket.binaryType = 'arraybuffer'\r\n  return socket\r\n}\r\n\r\nfunction streamBuilder (client, opts) {\r\n  debug('streamBuilder')\r\n  let options = setDefaultOpts(opts)\r\n  const url = buildUrl(options, client)\r\n  let socket = createWebSocket(client, url, options)\r\n  let webSocketStream = WS.createWebSocketStream(socket, options.wsOptions)\r\n  webSocketStream.url = url\r\n  socket.on('close', () => { webSocketStream.destroy() })\r\n  return webSocketStream\r\n}\r\n\r\nfunction browserStreamBuilder (client, opts) {\r\n  debug('browserStreamBuilder')\r\n  let stream\r\n  let options = setDefaultBrowserOpts(opts)\r\n  // sets the maximum socket buffer size before throttling\r\n  const bufferSize = options.browserBufferSize || 1024 * 512\r\n\r\n  const bufferTimeout = opts.browserBufferTimeout || 1000\r\n\r\n  const coerceToBuffer = !opts.objectMode\r\n\r\n  let socket = createBrowserWebSocket(client, opts)\r\n\r\n  let proxy = buildProxy(opts, socketWriteBrowser, socketEndBrowser)\r\n\r\n  if (!opts.objectMode) {\r\n    proxy._writev = writev\r\n  }\r\n  proxy.on('close', () => { socket.close() })\r\n\r\n  const eventListenerSupport = (typeof socket.addEventListener !== 'undefined')\r\n\r\n  // was already open when passed in\r\n  if (socket.readyState === socket.OPEN) {\r\n    stream = proxy\r\n  } else {\r\n    stream = stream = duplexify(undefined, undefined, opts)\r\n    if (!opts.objectMode) {\r\n      stream._writev = writev\r\n    }\r\n\r\n    if (eventListenerSupport) {\r\n      socket.addEventListener('open', onopen)\r\n    } else {\r\n      socket.onopen = onopen\r\n    }\r\n  }\r\n\r\n  stream.socket = socket\r\n\r\n  if (eventListenerSupport) {\r\n    socket.addEventListener('close', onclose)\r\n    socket.addEventListener('error', onerror)\r\n    socket.addEventListener('message', onmessage)\r\n  } else {\r\n    socket.onclose = onclose\r\n    socket.onerror = onerror\r\n    socket.onmessage = onmessage\r\n  }\r\n\r\n  // methods for browserStreamBuilder\r\n\r\n  function buildProxy (options, socketWrite, socketEnd) {\r\n    let proxy = new Transform({\r\n      objectModeMode: options.objectMode\r\n    })\r\n\r\n    proxy._write = socketWrite\r\n    proxy._flush = socketEnd\r\n\r\n    return proxy\r\n  }\r\n\r\n  function onopen () {\r\n    stream.setReadable(proxy)\r\n    stream.setWritable(proxy)\r\n    stream.emit('connect')\r\n  }\r\n\r\n  function onclose () {\r\n    stream.end()\r\n    stream.destroy()\r\n  }\r\n\r\n  function onerror (err) {\r\n    stream.destroy(err)\r\n  }\r\n\r\n  function onmessage (event) {\r\n    let data = event.data\r\n    if (data instanceof ArrayBuffer) data = Buffer.from(data)\r\n    else data = Buffer.from(data, 'utf8')\r\n    proxy.push(data)\r\n  }\r\n\r\n  // this is to be enabled only if objectMode is false\r\n  function writev (chunks, cb) {\r\n    const buffers = new Array(chunks.length)\r\n    for (let i = 0; i < chunks.length; i++) {\r\n      if (typeof chunks[i].chunk === 'string') {\r\n        buffers[i] = Buffer.from(chunks[i], 'utf8')\r\n      } else {\r\n        buffers[i] = chunks[i].chunk\r\n      }\r\n    }\r\n\r\n    this._write(Buffer.concat(buffers), 'binary', cb)\r\n  }\r\n\r\n  function socketWriteBrowser (chunk, enc, next) {\r\n    if (socket.bufferedAmount > bufferSize) {\r\n      // throttle data until buffered amount is reduced.\r\n      setTimeout(socketWriteBrowser, bufferTimeout, chunk, enc, next)\r\n    }\r\n\r\n    if (coerceToBuffer && typeof chunk === 'string') {\r\n      chunk = Buffer.from(chunk, 'utf8')\r\n    }\r\n\r\n    try {\r\n      socket.send(chunk)\r\n    } catch (err) {\r\n      return next(err)\r\n    }\r\n\r\n    next()\r\n  }\r\n\r\n  function socketEndBrowser (done) {\r\n    socket.close()\r\n    done()\r\n  }\r\n\r\n  // end methods for browserStreamBuilder\r\n\r\n  return stream\r\n}\r\n\r\nif (IS_BROWSER) {\r\n  module.exports = browserStreamBuilder\r\n} else {\r\n  module.exports = streamBuilder\r\n}\r\n","// iterable DOM collections\n// flag - `iterable` interface - 'entries', 'keys', 'values', 'forEach' methods\nmodule.exports = {\n  CSSRuleList: 0,\n  CSSStyleDeclaration: 0,\n  CSSValueList: 0,\n  ClientRectList: 0,\n  DOMRectList: 0,\n  DOMStringList: 0,\n  DOMTokenList: 1,\n  DataTransferItemList: 0,\n  FileList: 0,\n  HTMLAllCollection: 0,\n  HTMLCollection: 0,\n  HTMLFormElement: 0,\n  HTMLSelectElement: 0,\n  MediaList: 0,\n  MimeTypeArray: 0,\n  NamedNodeMap: 0,\n  NodeList: 1,\n  PaintRequestList: 0,\n  Plugin: 0,\n  PluginArray: 0,\n  SVGLengthList: 0,\n  SVGNumberList: 0,\n  SVGPathSegList: 0,\n  SVGPointList: 0,\n  SVGStringList: 0,\n  SVGTransformList: 0,\n  SourceBufferList: 0,\n  StyleSheetList: 0,\n  TextTrackCueList: 0,\n  TextTrackList: 0,\n  TouchList: 0\n};\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.coordinate = void 0;\nfunction coordinate(x, y, z) {\n    return { kind: \"coordinate\", args: { x: x, y: y, z: z } };\n}\nexports.coordinate = coordinate;\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n// a transform stream is a readable/writable stream where you do\n// something with the data.  Sometimes it's called a \"filter\",\n// but that's not a great name for it, since that implies a thing where\n// some bits pass through, and others are simply ignored.  (That would\n// be a valid example of a transform, of course.)\n//\n// While the output is causally related to the input, it's not a\n// necessarily symmetric or synchronous transformation.  For example,\n// a zlib stream might take multiple plain-text writes(), and then\n// emit a single compressed chunk some time in the future.\n//\n// Here's how this works:\n//\n// The Transform stream has all the aspects of the readable and writable\n// stream classes.  When you write(chunk), that calls _write(chunk,cb)\n// internally, and returns false if there's a lot of pending writes\n// buffered up.  When you call read(), that calls _read(n) until\n// there's enough pending readable data buffered up.\n//\n// In a transform stream, the written data is placed in a buffer.  When\n// _read(n) is called, it transforms the queued up data, calling the\n// buffered _write cb's as it consumes chunks.  If consuming a single\n// written chunk would result in multiple output chunks, then the first\n// outputted bit calls the readcb, and subsequent chunks just go into\n// the read buffer, and will cause it to emit 'readable' if necessary.\n//\n// This way, back-pressure is actually determined by the reading side,\n// since _read has to be called to start processing a new chunk.  However,\n// a pathological inflate type of transform can cause excessive buffering\n// here.  For example, imagine a stream where every byte of input is\n// interpreted as an integer from 0-255, and then results in that many\n// bytes of output.  Writing the 4 bytes {ff,ff,ff,ff} would result in\n// 1kb of data being output.  In this case, you could write a very small\n// amount of input, and end up with a very large amount of output.  In\n// such a pathological inflating mechanism, there'd be no way to tell\n// the system to stop doing the transform.  A single 4MB write could\n// cause the system to run out of memory.\n//\n// However, even in such a pathological case, only a single written chunk\n// would be consumed, and then the rest would wait (un-transformed) until\n// the results of the previous transformed chunk were consumed.\n'use strict';\n\nmodule.exports = Transform;\n\nvar _require$codes = require('../errors').codes,\n    ERR_METHOD_NOT_IMPLEMENTED = _require$codes.ERR_METHOD_NOT_IMPLEMENTED,\n    ERR_MULTIPLE_CALLBACK = _require$codes.ERR_MULTIPLE_CALLBACK,\n    ERR_TRANSFORM_ALREADY_TRANSFORMING = _require$codes.ERR_TRANSFORM_ALREADY_TRANSFORMING,\n    ERR_TRANSFORM_WITH_LENGTH_0 = _require$codes.ERR_TRANSFORM_WITH_LENGTH_0;\n\nvar Duplex = require('./_stream_duplex');\n\nrequire('inherits')(Transform, Duplex);\n\nfunction afterTransform(er, data) {\n  var ts = this._transformState;\n  ts.transforming = false;\n  var cb = ts.writecb;\n\n  if (cb === null) {\n    return this.emit('error', new ERR_MULTIPLE_CALLBACK());\n  }\n\n  ts.writechunk = null;\n  ts.writecb = null;\n  if (data != null) // single equals check for both `null` and `undefined`\n    this.push(data);\n  cb(er);\n  var rs = this._readableState;\n  rs.reading = false;\n\n  if (rs.needReadable || rs.length < rs.highWaterMark) {\n    this._read(rs.highWaterMark);\n  }\n}\n\nfunction Transform(options) {\n  if (!(this instanceof Transform)) return new Transform(options);\n  Duplex.call(this, options);\n  this._transformState = {\n    afterTransform: afterTransform.bind(this),\n    needTransform: false,\n    transforming: false,\n    writecb: null,\n    writechunk: null,\n    writeencoding: null\n  }; // start out asking for a readable event once data is transformed.\n\n  this._readableState.needReadable = true; // we have implemented the _read method, and done the other things\n  // that Readable wants before the first _read call, so unset the\n  // sync guard flag.\n\n  this._readableState.sync = false;\n\n  if (options) {\n    if (typeof options.transform === 'function') this._transform = options.transform;\n    if (typeof options.flush === 'function') this._flush = options.flush;\n  } // When the writable side finishes, then flush out anything remaining.\n\n\n  this.on('prefinish', prefinish);\n}\n\nfunction prefinish() {\n  var _this = this;\n\n  if (typeof this._flush === 'function' && !this._readableState.destroyed) {\n    this._flush(function (er, data) {\n      done(_this, er, data);\n    });\n  } else {\n    done(this, null, null);\n  }\n}\n\nTransform.prototype.push = function (chunk, encoding) {\n  this._transformState.needTransform = false;\n  return Duplex.prototype.push.call(this, chunk, encoding);\n}; // This is the part where you do stuff!\n// override this function in implementation classes.\n// 'chunk' is an input chunk.\n//\n// Call `push(newChunk)` to pass along transformed output\n// to the readable side.  You may call 'push' zero or more times.\n//\n// Call `cb(err)` when you are done with this chunk.  If you pass\n// an error, then that'll put the hurt on the whole operation.  If you\n// never call cb(), then you'll never get another chunk.\n\n\nTransform.prototype._transform = function (chunk, encoding, cb) {\n  cb(new ERR_METHOD_NOT_IMPLEMENTED('_transform()'));\n};\n\nTransform.prototype._write = function (chunk, encoding, cb) {\n  var ts = this._transformState;\n  ts.writecb = cb;\n  ts.writechunk = chunk;\n  ts.writeencoding = encoding;\n\n  if (!ts.transforming) {\n    var rs = this._readableState;\n    if (ts.needTransform || rs.needReadable || rs.length < rs.highWaterMark) this._read(rs.highWaterMark);\n  }\n}; // Doesn't matter what the args are here.\n// _transform does all the work.\n// That we got here means that the readable side wants more data.\n\n\nTransform.prototype._read = function (n) {\n  var ts = this._transformState;\n\n  if (ts.writechunk !== null && !ts.transforming) {\n    ts.transforming = true;\n\n    this._transform(ts.writechunk, ts.writeencoding, ts.afterTransform);\n  } else {\n    // mark that we need a transform, so that any data that comes in\n    // will get processed, now that we've asked for it.\n    ts.needTransform = true;\n  }\n};\n\nTransform.prototype._destroy = function (err, cb) {\n  Duplex.prototype._destroy.call(this, err, function (err2) {\n    cb(err2);\n  });\n};\n\nfunction done(stream, er, data) {\n  if (er) return stream.emit('error', er);\n  if (data != null) // single equals check for both `null` and `undefined`\n    stream.push(data); // TODO(BridgeAR): Write a test for these two error cases\n  // if there's nothing in the write buffer, then that means\n  // that nothing more will ever be provided\n\n  if (stream._writableState.length) throw new ERR_TRANSFORM_WITH_LENGTH_0();\n  if (stream._transformState.transforming) throw new ERR_TRANSFORM_ALREADY_TRANSFORMING();\n  return stream.push(null);\n}","'use strict'\r\nvar tls = require('tls')\r\nvar debug = require('debug')('mqttjs:tls')\r\n\r\nfunction buildBuilder (mqttClient, opts) {\r\n  var connection\r\n  opts.port = opts.port || 8883\r\n  opts.host = opts.hostname || opts.host || 'localhost'\r\n  opts.servername = opts.host\r\n\r\n  opts.rejectUnauthorized = opts.rejectUnauthorized !== false\r\n\r\n  delete opts.path\r\n\r\n  debug('port %d host %s rejectUnauthorized %b', opts.port, opts.host, opts.rejectUnauthorized)\r\n\r\n  connection = tls.connect(opts)\r\n  /* eslint no-use-before-define: [2, \"nofunc\"] */\r\n  connection.on('secureConnect', function () {\r\n    if (opts.rejectUnauthorized && !connection.authorized) {\r\n      connection.emit('error', new Error('TLS not authorized'))\r\n    } else {\r\n      connection.removeListener('error', handleTLSerrors)\r\n    }\r\n  })\r\n\r\n  function handleTLSerrors (err) {\r\n    // How can I get verify this error is a tls error?\r\n    if (opts.rejectUnauthorized) {\r\n      mqttClient.emit('error', err)\r\n    }\r\n\r\n    // close this connection to match the behaviour of net\r\n    // otherwise all we get is an error from the connection\r\n    // and close event doesn't fire. This is a work around\r\n    // to enable the reconnect code to work the same as with\r\n    // net.createConnection\r\n    connection.end()\r\n  }\r\n\r\n  connection.on('error', handleTLSerrors)\r\n  return connection\r\n}\r\n\r\nmodule.exports = buildBuilder\r\n"],"sourceRoot":""}