(function(e){function t(t){for(var n,i,c=t[0],s=t[1],l=t[2],u=0,p=[];u<c.length;u++)i=c[u],Object.prototype.hasOwnProperty.call(o,i)&&o[i]&&p.push(o[i][0]),o[i]=0;for(n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n]);d&&d(t);while(p.length)p.shift()();return r.push.apply(r,l||[]),a()}function a(){for(var e,t=0;t<r.length;t++){for(var a=r[t],n=!0,c=1;c<a.length;c++){var s=a[c];0!==o[s]&&(n=!1)}n&&(r.splice(t--,1),e=i(i.s=a[0]))}return e}var n={},o={app:0},r=[];function i(t){if(n[t])return n[t].exports;var a=n[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=e,i.c=n,i.d=function(e,t,a){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)i.d(a,n,function(t){return e[t]}.bind(null,n));return a},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],s=c.push.bind(c);c.push=t,c=c.slice();for(var l=0;l<c.length;l++)t(c[l]);var d=s;r.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"06b1":function(e,t,a){"use strict";a("e7a5")},1:function(e,t){},"16f4":function(e,t,a){"use strict";a("d747")},2:function(e,t){},"2bd9":function(e,t,a){},3:function(e,t){},"3ede":function(e,t,a){"use strict";a.r(t);var n=a("f2bf"),o={class:"participate"},r=Object(n["g"])("h1",null,[Object(n["f"])("Participate in the real life "),Object(n["g"])("em",null,"ThreeD Garden"),Object(n["f"])(" game..")],-1);function i(e,t,a,i,c,s){var l=Object(n["v"])("ThreeDGarden");return Object(n["p"])(),Object(n["d"])("div",o,[r,Object(n["g"])(l,{msg:"",subtitle:""})])}var c=Object(n["B"])("data-v-4aafcbd8");Object(n["s"])("data-v-4aafcbd8");var s={class:"threedgarden"},l=Object(n["g"])("div",{id:"webgl"},null,-1);Object(n["q"])();var d=c((function(e,t,a,o,r,i){return Object(n["p"])(),Object(n["d"])(n["a"],null,[Object(n["g"])("div",s,[Object(n["g"])("h1",null,Object(n["x"])(a.msg),1),Object(n["g"])("h2",null,Object(n["x"])(a.subtitle),1)]),l],64)})),u=(a("a4d3"),a("e01a"),a("99af"),a("cb29"),a("4de4"),a("4160"),a("a15b"),a("d81d"),a("b0c0"),a("dca8"),a("d3b7"),a("820e"),a("25f0"),a("3ca3"),a("38cf"),a("2ca0"),a("498a"),a("1913"),a("9911"),a("159b"),a("ddb0"),a("b85c"),a("2909")),p=a("e6a9"),m="eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiJ9.eyJhdWQiOiJ1bmtub3duIiwic3ViIjoxNTI2NywiaWF0IjoxNjM2NjU3ODUxLCJqdGkiOiIwNTBiMzIxNC02NzcxLTRlYzktODhmMS02NTVhYWVhNWQzN2QiLCJpc3MiOiIvL215LmZhcm0uYm90OjQ0MyIsImV4cCI6MTY0MTg0MTg1MSwibXF0dCI6ImNsZXZlci1vY3RvcHVzLnJtcS5jbG91ZGFtcXAuY29tIiwiYm90IjoiZGV2aWNlXzE1Mjk3Iiwidmhvc3QiOiJ4aWNvbmZ1bSIsIm1xdHRfd3MiOiJ3c3M6Ly9jbGV2ZXItb2N0b3B1cy5ybXEuY2xvdWRhbXFwLmNvbTo0NDMvd3MvbXF0dCJ9.K8jzw-l_KduohGUgS_rkmNx4700XQyZX3-JCigk-5gXf4y-aemDNemzABGpIvULVj9D02RXEiLAzPtSxRpGS_AWpwd0OSU35HNO_pCL7-KLmtmpanAOxutflPe9KN_stU1AgZC42TmMYLYeMZY1ornQOZTaIgT6dYJkqJex7HV6D1LS-1yjvEdPM2E1UTh6OWUFDndq-fdwyVNuQfYdbu0CLhTua3SaNaXCueZ7qew3-XVUx48PS2X8XFACkveZbRfb55qgabT-WpcQB4KyujdKFbAotZqJeZ1_aCxTa4WT_y_zFV7gVptgeK2FAXC1DE9cH4FJXipt0AMPksQGShA",b=new p["Farmbot"]({token:m});b.connect().then((function(){return b.setConfig("hey","HEY HEY HEY"),console.log(b.getConfig("hey")),b.getConfig("hey")})).then((function(){return b.moveRelative({x:1,y:2,z:3,speed:100})})),console.log("bot",b);var h=window.postdata;console.log("MARTY: postdata",h);var f,g,v,E,w=h.plugin_name,_=h.plugin_version,x=h.plugin_url,j=(h.theme_uri,h.rest_url),T=h.world_id;console.log("MARTY: pluginName",w,_),E=new dat.GUI({autoPlace:!0,closeOnTop:!0}),E.close(),E.domElement.id="gui";var O,y,R=E.addFolder("Rotation + Animation"),M=E.addFolder("Camera Position"),H=E.addFolder("Directional Light"),k=E.addFolder("Allotments"),I=E.addFolder("Beds"),S=(E.addFolder("Plants"),E.addFolder("Annotations")),D=E.addFolder("Character"),P={action:"Idle"};P.actionTime=Date.now();var A={},C=["Breathing Idle","Driving","Idle","Left Turn","Pointing","Pointing Gesture"];C=[].concat(Object(u["a"])(C),["Right Turn","Running","Talking","Turn","Walking","Walking Backwards"]);var z={modes:Object.freeze({NONE:Symbol("none"),PRELOAD:Symbol("preload"),INITIALISING:Symbol("initialising"),CREATING_LEVEL:Symbol("creating_level"),ACTIVE:Symbol("active"),GAMEOVER:Symbol("gameover")}),ANIMATE:!1,assetsPath:"".concat(x,"assets/"),data:{world:[{id:T}],scene:[],allotment:[],bed:[],plant:[],planting_plan:[]},intersectedObject1:null,intersectedObject2:null,colliders:[],environment:{},farmhouse:{}};z.mode=z.modes.NONE,R.add(z,"ANIMATE").name("Run Animation");var L={assets:["".concat(z.assetsPath,"fbx/environment.fbx"),"".concat(z.assetsPath,"fbx/girl-walk.fbx"),"".concat(z.assetsPath,"fbx/usb.fbx")],oncomplete:function(){q()}};C.forEach((function(e){L.assets.push("".concat(z.assetsPath,"fbx/anims2/").concat(e,".fbx"))})),z.mode=z.modes.PRELOAD,console.log("MARTY: params",z),console.log("MARTY: options",L);new Preloader(L);window.onload=function(e){q()},window.garden=void 0,window.onError=function(e){console.error(JSON.stringify(e))};var N=new THREE.FBXLoader,G=new THREE.TextureLoader,F=new THREE.Clock,W=new THREE.Raycaster,Y=new THREE.Vector2,B="".concat(j,"scene/?_embed&per_page=100"),X="".concat(j,"allotment/?_embed&per_page=100"),J="".concat(j,"bed/?_embed&per_page=100"),V="".concat(j,"planting_plan/?_embed&per_page=100"),Z="".concat(j,"plant/?_embed&per_page=100"),U=[B,X,J,V,Z];function q(){console.log("MARTY: init"),Promise.allSettled(U.map((function(e){return fetch(e).then((function(e){return e.json()})).then((function(e){var t=e[0].type;switch(t){case"scene":z.data.scene=Object(u["a"])(e);break;case"allotment":z.data.allotment=Object(u["a"])(e);break;case"bed":z.data.bed=Object(u["a"])(e);break;case"plant":z.data.plant=Object(u["a"])(e);break;case"planting_plan":z.data.planting_plan=Object(u["a"])(e);break;default:break}console.log("MARTY: data",e)}))}))).then((function(e){console.log("MARTY: results",e),e.forEach((function(e,t){e.status,"rejected"==e.status&&console.log(e)})),console.log("MARTY: params.data",z.data),Q()}))}function Q(){console.log("MARTY: params.data.scene",z.data.scene);var e=z.data.scene[0],t=e.id;if(f=new THREE.Scene,f.name="3D Garden",console.log("MARTY: scene",f),e.acf.scene_background_image_px){var a=[e.acf.scene_background_image_px,e.acf.scene_background_image_nx,e.acf.scene_background_image_py,e.acf.scene_background_image_ny,e.acf.scene_background_image_pz,e.acf.scene_background_image_nz],n=(new THREE.CubeTextureLoader).load(a);n.format=THREE.RGBFormat,f.background=n}else if(e.acf.scene_background_image)var o=G.load(e.acf.scene_background_image,(function(){var e=new THREE.WebGLCubeRenderTarget(o.image.height);e.fromEquirectangularTexture(O,o),f.background=e}));else e.acf.scene_background_color&&(f.background=new THREE.Color(e.acf.scene_background_color));var r=le(e.acf.scene_plane_width_x,e.acf.scene_plane_length_y,e.acf.scene_plane_background_color);if(r.name="plane-jane",r.rotation.x=-Math.PI/2,R.add(r.rotation,"x",-Math.PI,Math.PI).listen(),R.add(r.rotation,"y",-Math.PI,Math.PI).listen(),R.add(r.rotation,"z",-Math.PI,Math.PI).listen(),e.acf.scene_plane_texture_image){r.material.roughness=0,r.material.map=G.load(e.acf.scene_plane_texture_image);var i=r.material.map;i.wrapS=THREE.RepeatWrapping,i.wrapT=THREE.RepeatWrapping,i.repeat.set(4,4)}var c=de(16777215,2.1);c.position.set(-90,-120,120);var s=new THREE.CameraHelper(c.shadow.camera);s.visible=!1,H.add(s,"visible",0,20).name("Show Light Helper"),H.add(c,"intensity",0,20),H.add(c.position,"x",-500,500),H.add(c.position,"y",-500,500),H.add(c.position,"z",-500,500),r.add(c),f.add(s),f.add(r),g=new THREE.PerspectiveCamera(55,window.innerWidth/window.innerHeight,.1,1e3),g.name="gardencam1",g.position.set(86,64,182);var l=new THREE.CameraHelper(g);l.visible=!1,f.add(l),M.add(l,"visible",0,20).name("Show Camera Helper"),M.add(g.position,"x",-500,500).listen(),M.add(g.position,"y",-500,500).listen(),M.add(g.position,"z",-500,500).listen(),O=new THREE.WebGLRenderer({alpha:!0,antialias:!0}),O.shadowMap.enabled=!0,O.setSize(window.innerWidth-240,window.innerHeight-100),O.domElement.camera=g,O.domElement.targetList=r.children,O.domElement.addEventListener("pointermove",be,!1),O.domElement.addEventListener("pointerdown",he,!1),v=new THREE.OrbitControls(g,O.domElement),v.enableDamping=!0,v.dampingFactor=.25,v.enableZoom=!0,v.rotateSpeed=.5,v.autoRotate=!1,v.autoRotateSpeed=.03,v.minDistance=.01,v.maxDistance=340,v.maxPolarAngle=Math.PI/2-.04,v.target=new THREE.Vector3(0,0,0),O.domElement.controls=v,y=document.querySelector("#webgl"),y.append(E.domElement),y.append(O.domElement),O.domElement,re(z.data.allotment,r,t),N.load("".concat(z.assetsPath,"characters/SK_Chr_Farmer_Male_01.fbx"),(function(e){e.mixer=new THREE.AnimationMixer(e),P.mixer=e.mixer,P.root=e.mixer.getRoot(),e.name="Gardener",e.traverse((function(e){e.isMesh&&(e.castShadow=!0,e.receiveShadow=!1)})),G.load("".concat(z.assetsPath,"textures/PolygonFarm_Texture_01_B.png"),(function(t){e.traverse((function(e){e.isMesh&&(e.material.map=t)}))})),P.object=new THREE.Object3D,P.object.add(e),P.object.scale.set(.033,.033,.033),P.object.rotation.x=Math.PI/2,r.add(P.object),D.add(P.object,"visible").name("Show Character").listen(),u(N)})),te(r),ae(r),ne(r),oe(r);new JoyStick({onMove:ee,game:y});var d=function e(){var t=F.getDelta();if(me(g,r.children),v.update(),TWEEN.update(),requestAnimationFrame(e),z.ANIMATE&&(r.rotation.z-=7e-4),void 0!==P.mixer&&P.mixer.update(t),"Walking"==P.action){var a=Date.now()-P.actionTime;a>2e3&&P.move.forward>.7&&K("Running")}if(void 0!==P.move&&$(t),void 0!=P.cameras&&void 0!=P.cameras.active){g.position.lerp(P.cameras.active.getWorldPosition(new THREE.Vector3),.05);var n=P.object.position.clone();n.y+=200,g.lookAt(n)}O.render(f,g)};d();var u=function e(t){var a=C.pop();t.load("".concat(z.assetsPath,"fbx/anims2/").concat(a,".fbx"),(function(n){A[a]=n.animations[0],C.length>0?e(t):(C=[],K("Idle"),d())}))}}function K(e){var t=P.mixer.clipAction(A[e]);t.time=0,console.log("-----------------------"),console.log("animations-----------------"),console.log(A),console.log("-----------------------"),P.mixer.stopAllAction(),P.action=e,P.actionTime=Date.now(),t.fadeIn(.5),t.play()}function $(e){var t=P.object.position.clone();t.y+=60;var a=new THREE.Vector3;P.object.getWorldDirection(a),P.move.forward<0&&a.negate();new THREE.Raycaster(t,a);var n=!1;z.colliders;if(!n)if(P.move.forward>0){var o="Running"==P.action?24:8;P.object.translateZ(e*o)}else P.move.forward<0&&P.object.translateZ(2*-e);P.object.rotateY(P.move.turn*e)}function ee(e,t){t=-t,e>.2?"Walking"!=P.action&&"Running"!=P.action&&K("Walking"):e<-.2?"Walking Backwards"!=P.action&&K("Walking Backwards"):(e=0,Math.abs(t)>.05?"Left Turn"!=P.action&&K("Left Turn"):"Idle"!=P.action&&K("Idle")),P.move={forward:e,turn:t}}function te(e){N.load("".concat(z.assetsPath,"fbx/Building_Farm_House_02.fbx"),(function(e){z.farmhouse=e,z.colliders=[],e.rotation.y=Math.PI/180*270,e.position.set(0,0,100),e.scale.set(2.2,2.2,2.2),f.add(e),e.traverse((function(e){e.isMesh&&(e.name.startsWith("proxy")?(z.colliders.push(e),e.material.visible=!1):(e.castShadow=!0,e.receiveShadow=!0))})),G.load("".concat(z.assetsPath,"textures/SimpleFarm.png"),(function(t){e.traverse((function(e){e.isMesh&&(e.material.map=t)}))}))}))}function ae(e){N.load("".concat(z.assetsPath,"fbx/Prop_Chicken_Coop_02.fbx"),(function(e){z.farmhouse=e,z.colliders=[],e.rotation.y=Math.PI/180*90,e.position.set(80,0,-10),e.scale.set(2.2,2.2,2.2),f.add(e),e.traverse((function(e){e.isMesh&&(e.name.startsWith("proxy")?(z.colliders.push(e),e.material.visible=!1):(e.castShadow=!0,e.receiveShadow=!0))})),G.load("".concat(z.assetsPath,"textures/SimpleFarm.png"),(function(t){e.traverse((function(e){e.isMesh&&(e.material.map=t)}))}))}))}function ne(e){loaderGLTF.load("".concat(z.assetsPath,"gltf/Chicken.glb"),(function(e){var t=e.scene;t.name="Chicken GLB",t.position.set(-3,0,0),t.scale.set(4,4,4),t.traverse((function(e){e.isMesh&&(e.castShadow=!0)})),f.add(t),console.log("-----------------------"),console.log("loadChicken object----------------"),console.log(e),console.log("-----------------------"),console.log("-----------------------"),console.log("loadChicken model----------------"),console.log(t),console.log("-----------------------")}))}function oe(e){var t,a=8,n=-45,o=0,r=-138,i=20;for(t=1;t<=a;t++)N.load("".concat(z.assetsPath,"fbx/SM_Env_Road_Gravel_Straight_01.fbx"),(function(e){e.position.set(n,0,r),n+=o,r+=i,e.scale.set(.02,.01,.02),e.traverse((function(e){e.isMesh&&(e.castShadow=!0,e.receiveShadow=!0)})),G.load("".concat(z.assetsPath,"textures/PolygonFarm_Texture_03_A.png"),(function(t){e.traverse((function(e){e.isMesh&&(e.material.transparent=!0,e.material.opacity=.7,e.material.map=t)}))})),f.add(e),console.log("-----------------------"),console.log("ROAD----------------"),console.log(e),console.log("-----------------------")}));for(t=1;t<=1;t++)N.load("".concat(z.assetsPath,"fbx/SM_Env_Road_Gravel_T_Section_01.fbx"),(function(e){console.log("-----------------------"),console.log("ROAD T----------------"),console.log(n,r),console.log("-----------------------"),e.position.set(n,0,r),n+=o,r+=i,e.scale.set(.02,.01,.02),e.traverse((function(e){e.isMesh&&(e.castShadow=!0,e.receiveShadow=!0)})),G.load("".concat(z.assetsPath,"textures/PolygonFarm_Texture_03_A.png"),(function(t){e.traverse((function(e){e.isMesh&&(e.material.transparent=!0,e.material.opacity=.7,e.material.map=t)}))})),f.add(e),console.log("-----------------------"),console.log("ROAD T----------------"),console.log(e),console.log("-----------------------")}))}function re(e,t,a){console.log("-------------------------"),console.log("postObject ALLOTMENTS----"),console.log(e),console.log("-------------------------");var n=e.filter((function(e){return e.acf.allotment_scene==a}));n.forEach((function(e){var a={parameters:{},position:{},images:{}};a.parameters.x=parseInt(e.acf.allotment_width),a.parameters.y=parseInt(e.acf.allotment_length),a.parameters.z=parseInt(e.acf.allotment_height),a.position.x=parseInt(e.acf.allotment_position_x),a.position.y=parseInt(e.acf.allotment_position_y),a.position.z=parseInt(e.acf.allotment_position_z),a.images.texture=e.acf.allotment_texture_image,a.images.featured=ge(e),a.shape=e.acf.allotment_shape,a.color=e.acf.allotment_color,a.title=e.title.rendered,a.postID=e.id,a.description=e.content.rendered,a.link=e.link;var n=se(a.shape,a.parameters.x,a.parameters.y,a.parameters.z,a.color);if(n.name=a.title,n.userData.type="structure",n.userData.postID=a.postID,n.userData.description=a.description,n.userData.annotation=a.title,n.userData.link=a.link,n.position.x=a.position.x,n.position.y=a.position.y,n.position.z=n.geometry.parameters.depth/2+a.position.z,n.material.roughness=.9,null!=a.images.texture&&0!=a.images.texture){n.material.map=G.load(a.images.texture);for(var o=0;o<n.material.length;o++){n.material[o].map=G.load(a.images.texture);var r=n.material[o].map;r.wrapS=THREE.RepeatWrapping,r.wrapT=THREE.RepeatWrapping,r.repeat.set(4,4)}}t.add(n),ie(z.data.bed,t,a.postID,n.position.x,n.position.y,0);var i=ue(n.name,n.position.x,n.position.y,a.parameters.z+3,a.postID,n.userData.annotation,n.userData.link);i.name="INFOSPOT: ".concat(n.name),i.visible=!0,k.add(i,"visible").name("InfoSphere").listen(),t.add(i)}))}function ie(e,t,a,n,o,r){var i=e.filter((function(e){return e.acf.bed_allotment==a}));i.forEach((function(e){var a={parameters:{},position:{},images:{}};a.parameters.x=parseInt(e.acf.bed_width)/12,a.parameters.y=parseInt(e.acf.bed_length)/12,a.parameters.z=parseInt(e.acf.bed_height)/12,a.position.x=parseInt(e.acf.bed_position_x)/12+n,a.position.y=parseInt(e.acf.bed_position_y)/12+o,a.position.z=parseInt(e.acf.bed_position_z)/12+a.parameters.z/2,a.images.texture=e.acf.bed_texture_image,a.images.featured=ge(e),a.shape=e.acf.bed_shape,a.color=e.acf.bed_color,a.title=e.title.rendered,a.postID=e.id,a.description=e.content.rendered,a.link=e.link;var r=se(a.shape,a.parameters.x,a.parameters.y,a.parameters.z,a.color);if(r.name=a.title,r.userData.type="structure",r.userData.postID=a.postID,r.userData.description=a.description,r.userData.annotation=a.title,r.userData.link=a.link,r.position.x=a.position.x?a.position.x:0,r.position.y=a.position.y?a.position.y:0,r.position.z=a.position.z?a.position.z:0,r.material.roughness=.9,null!=a.images.texture&&0!=a.images.texture){r.material.map=G.load(a.images.texture);for(var i=0;i<r.material.length;i++){r.material[i].map=G.load(a.images.texture);var c=r.material[i].map;c.wrapS=THREE.RepeatWrapping,c.wrapT=THREE.RepeatWrapping,c.repeat.set(4,4)}}t.add(r),z.colliders.push(r),ce(z.data.planting_plan,t,a.postID,r.position.x,r.position.y,0);var s=ue(r.name,r.position.x,r.position.y,a.parameters.z+3,a.postID,r.userData.annotation,r.userData.link);s.name="INFOSPOT: ".concat(r.name),s.visible=!1,I.add(s,"visible").name("InfoSphere").listen(),t.add(s)}))}function ce(e,t,a,n,o,r){var i=[],c=[];e.forEach((function(e){e.acf.planting_plan_bed_plant_schedule.forEach((function(t){t.planting_plan_bed==a&&c.pushIfNotExist(e,(function(t){return t.id===e.id}))})),i=[].concat(c)})),i.forEach((function(e){e.acf.planting_plan_bed_plant_schedule.forEach((function(r){if(r.planting_plan_bed==a){var i=z.data.plant.filter((function(e){return e.id==r.planting_plan_plant}));i.forEach((function(a){var i={parameters:{},position:{},images:{}};i.parameters.x=parseInt(a.acf.plant_width)/12,i.parameters.y=parseInt(a.acf.plant_length)/12,i.parameters.z=parseInt(a.acf.plant_height)/12,i.position.x=parseInt(r.plant_position_x)/12+n,i.position.y=parseInt(r.plant_position_y)/12+o,i.position.z=parseInt(r.plant_position_z)/12+i.parameters.z/2,i.images.texture=a.acf.plant_texture_image,i.images.featured=ge(e),i.shape=a.acf.plant_shape,i.color=a.acf.plant_color,i.title=a.title.rendered,i.postID=a.id,i.description=a.content.rendered,i.link=a.link;var c=se("Tree",i.parameters.x,i.parameters.y,i.parameters.z,i.color);if(c.name=i.title,c.userData.type="structure",c.userData.postID=i.postID,c.userData.description=i.description,c.userData.annotation=i.title,c.userData.link=i.link,c.position.x=i.position.x?i.position.x:0,c.position.y=i.position.y?i.position.y:0,c.position.z=i.position.z?i.position.z:0,c.rotation.x=Math.PI/2,c.material.roughness=.9,null!=i.images.texture&&0!=i.images.texture){c.material.map=G.load(i.images.texture);for(var s=0;s<c.material.length;s++){c.material[s].map=G.load(i.images.texture);var l=c.material[s].map;l.wrapS=THREE.RepeatWrapping,l.wrapT=THREE.RepeatWrapping,l.repeat.set(4,4)}}t.add(c),z.colliders.push(c),console.log("-------------------------"),console.log("plant structure----------"),console.log(c),console.log("-------------------------");var d=ue(c.name,c.position.x,c.position.y,i.parameters.z+3,i.postID,c.userData.annotation,c.userData.link);d.name="INFOSPOT: ".concat(c.name),d.visible=!1,I.add(d,"visible").name("InfoSphere").listen(),t.add(d)}))}}))}))}function se(e,t,a,n,o){var r,i,c;switch(e){case"Box":r=new THREE.BoxGeometry(t,a,n),i=new THREE.MeshStandardMaterial({transparent:!0,opacity:.8,color:o,side:THREE.DoubleSide,depthWrite:!0}),c=new THREE.Mesh(r,[i,i,i,i]),c.castShadow=!0;break;case"Cone":r=new THREE.ConeGeometry(t/2,a/2,n,32,1,!0),i=new THREE.MeshStandardMaterial({color:o,side:THREE.DoubleSide}),c=new THREE.Mesh(r,i),c.castShadow=!0,c.rotation.x=Math.PI/2;break;case"Cylinder":r=new THREE.CylinderGeometry(t/2,a/2,n,32,1,!0),i=new THREE.MeshStandardMaterial({color:o,side:THREE.DoubleSide}),c=new THREE.Mesh(r,i),c.castShadow=!0,c.rotation.x=Math.PI/2;break;case"InfoSphere":r=new THREE.SphereGeometry(t,a,n),i=new THREE.MeshStandardMaterial({color:o,side:THREE.DoubleSide}),c=new THREE.Mesh(r,i),c.castShadow=!0;break;case"Sphere":r=new THREE.SphereGeometry(t,a,n),i=new THREE.MeshStandardMaterial({color:o,side:THREE.DoubleSide}),c=new THREE.Mesh(r,i),c.castShadow=!0;break;case"Tree":var s=new THREE.Tree({generations:3,length:1,uvLength:3,radius:.1,radiusSegments:8,heightSegments:8});r=THREE.TreeGeometry.build(s),i=new THREE.MeshStandardMaterial({color:o,side:THREE.DoubleSide}),c=new THREE.Mesh(r,i),c.castShadow=!0;break;case"Bush":r=new THREE.CubeGeometry(t,a,n),o=new THREE.Color("rgb(153,90,0)"),i=new THREE.MeshPhongMaterial({color:o,wireframe:!1}),c=new THREE.Mesh(r,i),f.add(c),c.matrix.makeTranslation(0,-125,0),c.matrixAutoUpdate=!1;var l=4,d=100,u=150;function p(e,t,a){if(e>0){var n=new THREE.Matrix4,o=new THREE.Matrix4,s=new THREE.Matrix4,m=new THREE.Matrix4,b=new THREE.Matrix4,h=new THREE.Matrix4,g=new THREE.Matrix4,v=(t.clone(),a.clone()),E=a.clone();v.g+=.64/l,i=new THREE.MeshPhongMaterial({color:v,wireframe:!1}),c=new THREE.Mesh(r,i),s.makeTranslation(d/2,0,0),m.makeTranslation(0,u,0),b.makeRotationZ(-Math.PI/4),h.makeRotationY(Math.PI/2),g.makeScale(.75,.75,.75),n.multiply(h),n.multiply(s),n.multiply(b),n.multiply(g),n.multiply(m),n.multiply(t),c.matrix.copy(n),c.matrixAutoUpdate=!1,c.updateMatrix=!1,f.add(c),p(e-1,c.matrix.clone(),v),E.g+=.64/l,i=new THREE.MeshPhongMaterial({color:E,wireframe:!1}),c=new THREE.Mesh(r,i),s.makeTranslation(-d/2,0,0),m.makeTranslation(0,u,0),b.makeRotationZ(Math.PI/4),h.makeRotationY(Math.PI/2),g.makeScale(.75,.75,.75),o.multiply(h),o.multiply(s),o.multiply(b),o.multiply(g),o.multiply(m),o.multiply(t),c.matrix.copy(o),c.matrixAutoUpdate=!1,c.updateMatrix=!1,f.add(c),p(e-1,c.matrix.clone(),E)}}p(l,c.matrix,o);default:r=new THREE.BoxGeometry(t,a,n),i=new THREE.MeshStandardMaterial({color:o,side:THREE.DoubleSide}),c=new THREE.Mesh(r,i),c.castShadow=!0;break}return c}function le(e,t,a){var n=new THREE.PlaneGeometry(e,t),o=new THREE.MeshStandardMaterial({color:a,side:THREE.DoubleSide}),r=new THREE.Mesh(n,o);return r.receiveShadow=!0,r}function de(e,t){var a=new THREE.DirectionalLight(e,t);return a.castShadow=!0,a.shadow.bias=1e-4,a.shadow.mapSize.width=4096,a.shadow.mapSize.height=4096,a.shadow.camera.left=-1e3,a.shadow.camera.bottom=-1e3,a.shadow.camera.right=1e3,a.shadow.camera.top=1e3,a.shadow.camera.near=.5,a.shadow.camera.far=500,a}function ue(e,t,a,n,o,r,i){var c=se("InfoSphere",.9,32,32,3029337);c.name=e,c.userData.type="infospot",c.userData.postID=o,c.userData.description="",c.userData.annotation=r,c.userData.link=i,c.position.set(t,a,n),c.visible=!0;var s=new THREE.Vector3(c.position.x,c.position.y,0);s.project(g),s.x=Math.round((.5+s.x/2)*(O.domElement.width/window.devicePixelRatio)),s.y=Math.round((.5-s.y/2)*(O.domElement.height/window.devicePixelRatio));var l=s.x,d=s.y,u=pe(c.userData.link,c.name,l,d);return u.name="ANNOTATION: ".concat(c.name),u.userData.type="annotation",u.userData.postID=o,u.userData.description="",u.userData.annotation=c.name,u.userData.link=i,u.visible=!1,c.add(u),c}function pe(e,t,a,n){var o=document.createElement("div");o.classList.add("annotation"),o.innerHTML='\n\t\t<a href="'.concat(e,'" target="_blank">').concat(t,"</a>\n\t\t(").concat(a,", ").concat(n,')\n\t\t<span class="dismiss" onclick="dismiss(this)">x</span>\n\t'),o.hidden=!0,o.style.display="none",o.style.top="".concat(n,"px"),o.style.left="".concat(a,"px"),S.add(o,"hidden").listen(),S.add(o.style,"display").listen(),S.add(o.style,"top").listen(),S.add(o.style,"left").listen(),document.body.appendChild(o),fe(o);var r={userData:{}};return r}function me(e,t){W.setFromCamera(Y,e);var a=W.intersectObjects(t);if(a.length>0){if(a[0].object!=z.intersectedObject1){if(z.intersectedObject1)if("Array"==z.intersectedObject1.material.constructor.name)for(var n=0;n<z.intersectedObject1.material.length;n++)z.intersectedObject1.material[n].color.setHex(z.intersectedObject1.currentHex);else z.intersectedObject1.material.color.setHex(z.intersectedObject1.currentHex);if(z.intersectedObject1=a[0].object,"Array"==z.intersectedObject1.material.constructor.name){for(var o=0;o<z.intersectedObject1.material.length;o++)z.intersectedObject1.currentHex=z.intersectedObject1.material[o].color.getHex();for(var r=0;r<z.intersectedObject1.material.length;r++)z.intersectedObject1.material[r].color.setHex(14540032)}else z.intersectedObject1.currentHex=z.intersectedObject1.material.color.getHex(),z.intersectedObject1.material.color.setHex(14540032)}}else{if(z.intersectedObject1)if("Array"==z.intersectedObject1.material.constructor.name)for(var i=0;i<z.intersectedObject1.material.length;i++)z.intersectedObject1.material[i].color.setHex(z.intersectedObject1.currentHex);else z.intersectedObject1.material.color.setHex(z.intersectedObject1.currentHex);z.intersectedObject1=null}}function be(e){Y.x=e.offsetX/(window.innerWidth-240)*2-1,Y.y=-e.offsetY/(window.innerHeight-100)*2+1}function he(e){Y.x=e.offsetX/(window.innerWidth-240)*2-1,Y.y=-e.offsetY/(window.innerHeight-100)*2+1;var t=new THREE.Raycaster;t.setFromCamera(Y,e.target.camera);var a=t.intersectObjects(e.target.targetList);if(a.length>0){var n=a[0].object;if(z.intersectedObject2,z.intersectedObject2=n,"structure"===z.intersectedObject2.userData.type&&0==e.button){var o=f.getObjectByName("INFOSPOT: ".concat(z.intersectedObject2.name));o&&(!0===o.visible?o.visible=!1:o.visible=!0)}z.intersectedObject2.children.forEach((function(t){"Object3D"===t.type&&0==e.button&&(!0===t.element.hidden?(t.element.hidden=!1,t.element.style.display="block",t.visible=!0):(t.element.hidden=!0,t.element.style.display="none",t.visible=!1))}))}else z.intersectedObject2,z.intersectedObject2=null}function fe(e){var t=0,a=0;function n(e){e=e||window.event,e.preventDefault(),t=e.clientX,a=e.clientY,document.onmouseup=r,document.onmousemove=o}function o(n){n=n||window.event,n.preventDefault(),t-n.clientX,a-n.clientY,t=n.clientX,a=n.clientY,e.style.top=a+"px",e.style.left=t+"px"}function r(){document.onmouseup=null,document.onmousemove=null}document.getElementById(e.id+"header")?document.getElementById(e.id+"header").onmousedown=n:e.onmousedown=n}function ge(e){var t={};return 0===e.featured_media||(t.featuredObject=e._embedded["wp:featuredmedia"][0],t.imgUrl=t.featuredObject.source_url,t.imgMediumUrl="",t.imgLargeUrl="",t.imgWidth=t.featuredObject.media_details.width,t.imgHeight=t.featuredObject.media_details.height,t.featuredObject.media_details.sizes.hasOwnProperty("large")&&(t.imgWidth=t.featuredObject.media_details.sizes.full.width,t.imgHeight=t.featuredObject.media_details.sizes.full.height,t.imgLargeUrl=t.featuredObject.media_details.sizes.large.source_url+" 1024w, ")),t}Array.prototype.inArray=function(e){for(var t=0;t<this.length;t++)if(e(this[t]))return!0;return!1},Array.prototype.pushIfNotExist=function(e,t){this.inArray(t)||this.push(e)};var ve={name:"ThreeDGarden",props:{msg:String,subtitle:String}},Ee=(a("06b1"),a("6b0d")),we=a.n(Ee);const _e=we()(ve,[["render",d],["__scopeId","data-v-4aafcbd8"]]);var xe=_e,je={name:"Participate",components:{ThreeDGarden:xe},data:function(){return{publicPath:"/wp-content/plugins/threed-garden/public"}}};const Te=we()(je,[["render",i]]);t["default"]=Te},4:function(e,t){},5:function(e,t){},"56d7":function(e,t,a){"use strict";a.r(t);a("e260"),a("e6cf"),a("cca6"),a("a79d");var n=a("f2bf"),o=Object(n["B"])("data-v-d97f7290");Object(n["s"])("data-v-d97f7290");var r={id:"APP"},i={id:"nav"},c=Object(n["f"])("Home"),s=Object(n["f"])(" | "),l=Object(n["f"])("About"),d=Object(n["f"])(" | "),u=Object(n["f"])("Participate");Object(n["q"])();var p=o((function(e,t){var a=Object(n["v"])("router-link"),p=Object(n["v"])("router-view");return Object(n["p"])(),Object(n["d"])("div",r,[Object(n["g"])("div",i,[Object(n["g"])(a,{to:{name:"home",params:{userId:123}}},{default:o((function(){return[c]})),_:1}),s,Object(n["g"])(a,{to:{name:"about",params:{userId:123}}},{default:o((function(){return[l]})),_:1}),d,Object(n["g"])(a,{to:{name:"participate",params:{userId:123}}},{default:o((function(){return[u]})),_:1})]),Object(n["g"])(p)])})),m=(a("b14d"),a("6b0d")),b=a.n(m);const h={},f=b()(h,[["render",p],["__scopeId","data-v-d97f7290"]]);var g=f,v=(a("d3b7"),a("8c4f")),E=Object(n["B"])("data-v-71b9ac46");Object(n["s"])("data-v-71b9ac46");var w={class:"home"};Object(n["q"])();var _=E((function(e,t,a,o,r,i){return Object(n["p"])(),Object(n["d"])("div",w,[Object(n["g"])("img",{src:"".concat(r.publicPath,"/assets/ThreeD-Garden-Logo-Circle-Carrot.png"),alt:"ThreeD Garden => Carrot Logo",width:"70"},null,8,["src"])])})),x={name:"Home",data:function(){return{publicPath:"/wp-content/plugins/threed-garden/public"}}};a("a447");const j=b()(x,[["render",_],["__scopeId","data-v-71b9ac46"]]);var T=j,O={class:"about"},y=Object(n["g"])("h1",null,"About ThreeD Garden",-1);function R(e,t,a,o,r,i){var c=Object(n["v"])("Documentation");return Object(n["p"])(),Object(n["d"])("div",O,[Object(n["g"])("img",{src:"".concat(r.publicPath,"/assets/ThreeD-Garden-Logo-Circle-Carrot.png"),alt:"ThreeD Garden => Carrot Logo",width:"70"},null,8,["src"]),y,Object(n["g"])(c,{msg:"",subtitle:""})])}var M=Object(n["B"])("data-v-394cb411");Object(n["s"])("data-v-394cb411");var H={class:"documentation"},k=Object(n["e"])('<p data-v-394cb411> For a guide on how to configure + customize this project,<br data-v-394cb411> check out the <a href="https://cli.vuejs.org" target="_blank" rel="noopener" data-v-394cb411>vue-cli documentation</a>. </p><h3 data-v-394cb411>Installed CLI Plugins</h3><ul data-v-394cb411><li data-v-394cb411><a href="https://github.com/vuejs/vue-cli/tree/dev/packages/%40vue/cli-plugin-babel" target="_blank" rel="noopener" data-v-394cb411>babel</a></li><li data-v-394cb411><a href="https://github.com/vuejs/vue-cli/tree/dev/packages/%40vue/cli-plugin-router" target="_blank" rel="noopener" data-v-394cb411>router</a></li><li data-v-394cb411><a href="https://github.com/vuejs/vue-cli/tree/dev/packages/%40vue/cli-plugin-vuex" target="_blank" rel="noopener" data-v-394cb411>vuex</a></li><li data-v-394cb411><a href="https://github.com/vuejs/vue-cli/tree/dev/packages/%40vue/cli-plugin-eslint" target="_blank" rel="noopener" data-v-394cb411>eslint</a></li></ul><h3 data-v-394cb411>Essential Links</h3><ul data-v-394cb411><li data-v-394cb411><a href="https://vuejs.org" target="_blank" rel="noopener" data-v-394cb411>Core Docs</a></li><li data-v-394cb411><a href="https://forum.vuejs.org" target="_blank" rel="noopener" data-v-394cb411>Forum</a></li><li data-v-394cb411><a href="https://chat.vuejs.org" target="_blank" rel="noopener" data-v-394cb411>Community Chat</a></li><li data-v-394cb411><a href="https://twitter.com/vuejs" target="_blank" rel="noopener" data-v-394cb411>Twitter</a></li><li data-v-394cb411><a href="https://news.vuejs.org" target="_blank" rel="noopener" data-v-394cb411>News</a></li></ul><h3 data-v-394cb411>Ecosystem</h3><ul data-v-394cb411><li data-v-394cb411><a href="https://router.vuejs.org" target="_blank" rel="noopener" data-v-394cb411>vue-router</a></li><li data-v-394cb411><a href="https://vuex.vuejs.org" target="_blank" rel="noopener" data-v-394cb411>vuex</a></li><li data-v-394cb411><a href="https://github.com/vuejs/vue-devtools#vue-devtools" target="_blank" rel="noopener" data-v-394cb411>vue-devtools</a></li><li data-v-394cb411><a href="https://vue-loader.vuejs.org" target="_blank" rel="noopener" data-v-394cb411>vue-loader</a></li><li data-v-394cb411><a href="https://github.com/vuejs/awesome-vue" target="_blank" rel="noopener" data-v-394cb411>awesome-vue</a></li></ul>',7);Object(n["q"])();var I=M((function(e,t,a,o,r,i){return Object(n["p"])(),Object(n["d"])("div",H,[Object(n["g"])("h1",null,Object(n["x"])(a.msg),1),Object(n["g"])("h2",null,Object(n["x"])(a.subtitle),1),k])})),S={name:"Documentation",props:{msg:String,subtitle:String}};a("16f4");const D=b()(S,[["render",I],["__scopeId","data-v-394cb411"]]);var P=D,A={name:"About",components:{Documentation:P},data:function(){return{publicPath:"/wp-content/plugins/threed-garden/public"}}};const C=b()(A,[["render",R]]);var z=C,L=[{path:"/",name:"home",component:T},{path:"/about",name:"about",component:z},{path:"/participate",name:"participate",component:function(){return Promise.resolve().then(a.bind(null,"3ede"))}}],N=Object(v["a"])({history:Object(v["b"])(),routes:L}),G=N,F=a("5502"),W=Object(F["a"])({state:{},mutations:{},actions:{},modules:{}});Object(n["c"])(g).use(W).use(G).mount("#app")},6:function(e,t){},"68ee":function(e,t,a){},a447:function(e,t,a){"use strict";a("2bd9")},b14d:function(e,t,a){"use strict";a("68ee")},d747:function(e,t,a){},e7a5:function(e,t,a){}});
//# sourceMappingURL=app.js.map