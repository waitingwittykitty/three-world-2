{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/components/Documentation.vue?471d","webpack:///./src/App.vue?b598","webpack:///./src/views/Participate.vue","webpack:///./src/components/ThreeDGarden.vue","webpack:///./src/components/FarmBot.vue","webpack:///./src/components/ThreeDGarden.vue?3a53","webpack:///./src/views/Participate.vue?0d26","webpack:///./src/App.vue","webpack:///./src/App.vue?8ecf","webpack:///./src/views/Home.vue","webpack:///./src/views/Home.vue?f63c","webpack:///./src/views/About.vue","webpack:///./src/components/Documentation.vue","webpack:///./src/components/Documentation.vue?ad66","webpack:///./src/views/About.vue?c45a","webpack:///./src/router/index.js","webpack:///./src/store/index.js","webpack:///./src/main.js","webpack:///./src/components/FarmBot.vue?012f","webpack:///./src/components/ThreeDGarden.vue?6da7","webpack:///./src/views/Home.vue?2601"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","class","msg","subtitle","id","SUPER_SECRET_TOKEN","bot","token","connect","then","setConfig","console","log","getConfig","moveRelative","x","y","z","speed","Detector","webgl","addGetWebGLMessage","postdata","pluginName","plugin_name","pluginVersion","plugin_version","pluginURL","plugin_url","restURL","theme_uri","rest_url","worldID","world_id","scene","camera","controls","gui","debug","dat","GUI","autoPlace","closeOnTop","close","domElement","renderer","container","canvas","guiFolderRotation","addFolder","guiFolderCameras","guiFolderLights","guiFolderPlayer","player","actionTime","Date","now","animations","anims","params","modes","freeze","NONE","PRELOAD","INITIALIZING","CREATING_LEVEL","ACTIVE","GAMEOVER","ANIMATE","assetsPath","world","allotment","bed","plant","planting_plan","intersectedObject1","intersectedObject2","colliders","environment","farmhouse","add","SFX","supportsAudioType","options","assets","oncomplete","init","forEach","anim","document","getElementById","progress","createElement","classList","progressBar","appendChild","manager","THREE","LoadingManager","addRandomPlaceHoldItImage","Math","round","random","ImageLoader","load","onProgress","item","loaded","total","style","width","loaderFBX","FBXLoader","loaderTexture","TextureLoader","clock","Clock","raycaster","Raycaster","raycaster2","pointer","Vector2","API_URL_SCENES","API_URL_ALLOTMENTS","API_URL_BEDS","API_URL_PLANTING_PLANS","API_URL_PLANTS","api_urls","getDataFromLocalStorage","localStorage","getdata","getItem","threedgarden","JSON","parse","undefined","buildScene","Promise","allSettled","map","url","fetch","results","json","type","num","status","setItem","stringify","addEventListener","onWindowResize","aspect","innerWidth","innerHeight","updateProjectionMatrix","setSize","wpScene","sceneID","Scene","acf","scene_background_image_px","cubeMapURLs","scene_background_image_nx","scene_background_image_py","scene_background_image_ny","scene_background_image_pz","scene_background_image_nz","reflectionCube","CubeTextureLoader","format","RGBFormat","background","scene_background_image","bgTexture","rt","WebGLCubeRenderTarget","image","height","fromEquirectangularTexture","scene_background_color","Color","plane","getPlane","scene_plane_width_x","scene_plane_length_y","scene_plane_background_color","rotation","PI","listen","scene_plane_texture_image","material","roughness","planeTextureMap","wrapS","RepeatWrapping","wrapT","repeat","set","directionalLight","getDirectionalLight","position","castShadow","intensity","helperDirectionalLight","CameraHelper","shadow","visible","directionalLight2","helperDirectionalLight2","PerspectiveCamera","helperCamera","WebGLRenderer","alpha","antialias","shadowMap","enabled","targetList","children","onPointerMove","onPointerDown","OrbitControls","enableDamping","dampingFactor","enableZoom","rotateSpeed","autoRotate","autoRotateSpeed","minDistance","maxDistance","maxPolarAngle","target","Vector3","querySelector","append","buildAllotments","mixer","AnimationMixer","root","getRoot","traverse","child","isMesh","receiveShadow","texture","Object3D","scale","loadFarmHouse","loadRoad","loadChickenCoop","joystick","JoyStick","onMove","playerControl","game","animate","dt","getDelta","watchPointer","update","TWEEN","requestAnimationFrame","action","elapsedTime","move","forward","movePlayer","cameras","active","lerp","getWorldPosition","pos","clone","lookAt","render","loadNextAnim","loader","pop","setAction","clipAction","time","stopAllAction","play","dir","getWorldDirection","negate","blocked","translateZ","rotateY","turn","abs","startsWith","count","startX","offsetX","startZ","offsetZ","roadPromise1","resolve","reject","transparent","opacity","postObject","filteredPostObject","filter","obj","allotment_scene","parameters","parseInt","allotment_width","allotment_length","allotment_height","allotment_position_x","allotment_position_y","allotment_position_z","images","allotment_texture_image","featured","getFeaturedImage","shape","allotment_shape","color","allotment_color","title","rendered","postID","description","content","link","structure","getGeometry","userData","annotation","geometry","depth","structureTextureMap","buildBeds","allotmentID","posOffsetX","posOffsetY","posOffsetZ","bed_allotment","bed_width","bed_length","bed_height","bed_position_x","bed_position_y","bed_position_z","bed_texture_image","bed_shape","bed_color","buildPlantingPlans","bedID","matches","planting_plan_bed_plant_schedule","planting_plan_bed","pushIfNotExist","e","key2","filteredPlant","planting_plan_plant","key3","Number","plant_width","plant_length","plant_height","plant_position_x","plant_position_y","plant_position_z","plant_texture_image","plant_shape","plant_color","mesh","BoxGeometry","MeshStandardMaterial","side","DoubleSide","depthWrite","Mesh","ConeGeometry","CylinderGeometry","SphereGeometry","tree","Tree","generations","uvLength","radius","radiusSegments","heightSegments","TreeGeometry","build","PlaneGeometry","light","DirectionalLight","bias","mapSize","left","bottom","right","top","near","far","setFromCamera","intersects","intersectObjects","constructor","setHex","currentHex","getHex","event","clientWidth","offsetY","clientHeight","preventDefault","clientX","clientY","theIntersectedObject","button","infospotObject","getObjectByName","element","hidden","display","featImage","featured_media","featuredObject","_embedded","imgUrl","source_url","imgMediumUrl","imgLargeUrl","imgWidth","media_details","imgHeight","sizes","full","large","Array","inArray","comparer","this","props","String","mounted","Preloader","components","ThreeDGarden","publicPath","to","script","__exports__","src","alt","Documentation","routes","path","component","Home","About","router","createRouter","history","createWebHashHistory","createStore","state","mutations","actions","createApp","App","use","store","mount"],"mappings":"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","file":"js/app.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([1,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./Documentation.vue?vue&type=style&index=0&id=394cb411&scoped=true&lang=css\"","export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../node_modules/vue-loader-v16/dist/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--1-0!../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./App.vue?vue&type=style&index=0&id=40223da1&scoped=true&lang=css\"","<template>\n\t<div class=\"participate\">\n\t\t<!-- <h1>Participate in the real life <em>ThreeD Garden</em> game..</h1> -->\n\t\t<!-- <h2>Yes.. remotely.. from your fingers, on a WiFi-enabled device with a browser.</h2> -->\n\t\t<ThreeDGarden \n\t\t\tmsg=\"\"\n\t\t\tsubtitle=\"\"\n\t\t/>\n\t</div>\n</template>\n\n<script>\n// @ is an alias to /src\nimport ThreeDGarden from \"@/components/ThreeDGarden.vue\"\n//import { defineAsyncComponent } from \"vue\"\n\nexport default {\n\tname: \"Participate\",\n\tcomponents: {\n\t\tThreeDGarden\n\t\t// ThreeDGarden: defineAsyncComponent(\n\t\t// \t() => import(\n\t\t// \t\t// /* webpackExports: [\"default\", \"named\"] */ \n\t\t// \t\t// /* webpackMode: \"lazy\" */ \n\t\t// \t\t// /* webpackPrefetch: true */\n\t\t// \t\t/* webpackChunkName: \"threed-garden-vue\" */\n\t\t// \t\t'../components/ThreeDGarden.vue'\n\t\t// \t)\n\t\t// )\n\t},\n\tdata () {\n\t\treturn {\n\t\t\tpublicPath: process.env.BASE_URL + \"/wp-content/plugins/threed-garden/public\",\n\t\t\t//componentType: 'ThreeDGarden'\n\t\t}\n\t}\n}\n</script>","<template>\n\t<div class=\"threedgarden\">\n\t\t<h1>{{ msg }}</h1>\n\t\t<h2>{{ subtitle }}</h2>\n\t\t<div id=\"webgl\"></div>\n\t</div>\n</template>\n\n<script>\n/** \n * ThreeDGarden - Custom JavaScript Vue\n * *************************************************************************************** */\n\n// @ is an alias to /src\nimport FarmBot from \"@/components/FarmBot.vue\"\n\n// check for WebGL\nif ( ! Detector.webgl ) Detector.addGetWebGLMessage()\n\n// console.log(window.postdata)\nconst postdata = window.postdata\nconsole.log(\"postdata\", postdata)\n\n/** PARAMETERS FROM PHP */\nconst pluginName = postdata.plugin_name\nconst pluginVersion = postdata.plugin_version\nconst pluginURL = postdata.plugin_url\nconst themeURI = postdata.theme_uri\nconst restURL = postdata.rest_url\nconst worldID = postdata.world_id\nconsole.log(\"pluginName\", pluginName, pluginVersion)\n\n\n/** INSTANTIATE COMMON VARIABLES */\nconst debug = false\nconst debugPhysics = false\n\nlet scene\nlet plane\nlet camera\nlet controls\nlet gui\n\tgui = new dat.GUI({ autoPlace: true, closeOnTop: true })\n\tgui.close()\n\tgui.domElement.id = \"gui\"\n\tlet guiFolderRotation \t\t= gui.addFolder(\"Rotation + Animation\")\n\t//let guiFolderAnimation \t= guiFolderRotation.addFolder(\"Animation\")\n\tlet guiFolderCameras \t\t= gui.addFolder(\"Camera Position\")\n\tlet guiFolderLights \t\t= gui.addFolder(\"Directional Light\")\n\tlet guiFolderAllotments \t= gui.addFolder(\"Allotments\")\n\tlet guiFolderBeds \t\t\t= gui.addFolder(\"Beds\")\n\tlet guiFolderPlants \t\t= gui.addFolder(\"Plants\")\n\t//let guiFolderInfospots \t= gui.addFolder(\"Infospots\")\n\tlet guiFolderAnnotations \t= gui.addFolder(\"Annotations\")\n\tlet guiFolderPlayer \t\t= gui.addFolder(\"Character\")\nlet renderer\nlet container\nlet canvas\nlet player = {}\n\tplayer.action = \"Idle\"\n\tplayer.actionTime = Date.now()\nlet animations = {}\nlet anims = [\"Breathing Idle\", \"Driving\", \"Idle\", \"Left Turn\", \"Pointing\", \"Pointing Gesture\"]\n\tanims = [...anims, \"Right Turn\", \"Running\", \"Talking\", \"Turn\", \"Walking\", \"Walking Backwards\"]\nlet anims2 = [\"ascend-stairs\", \"gather-objects\", \"look-around\", \"push-button\", \"run\"]\nlet tweens = []\nlet stats\n\nlet cellSize = 16\nlet interactive = false\nlet levelIndex = 0\nlet _hints = 0\nlet score = 0\nlet cameraFade = 0.05\nlet mute = false\nlet collect = []\n\nlet messages = {\n\ttext: [ \n\t\t\"Welcome to your ThreeD Garden\",\n\t\t\"GO GROW!\"\n\t],\n\tindex: 0\n}\n\nlet params = {\n\t/** SET MODES */\n\tmodes: Object.freeze({\n\t\tNONE: Symbol(\"none\"),\n\t\tPRELOAD: Symbol(\"preload\"),\n\t\tINITIALIZING: Symbol(\"initializing\"),\n\t\tCREATING_LEVEL: Symbol(\"creating_level\"),\n\t\tACTIVE: Symbol(\"active\"),\n\t\tGAMEOVER: Symbol(\"gameover\")\n\t}),\n\t/** turn on/off animation */\n\tANIMATE: false,\n\t/** where multimedia files are located */\n\tassetsPath: `${pluginURL}assets/`,\n\t/** all the data from rest api calls to be stored here */\n\tdata: {\n\t\tworld: [{id: worldID}],\n\t\tscene: [],\n\t\tallotment: [],\n\t\tbed: [],\n\t\tplant: [],\n\t\tplanting_plan: []\n\t},\n\t/** POINTER HOVERS + CLICKS */\n\tintersectedObject1: null,\n\tintersectedObject2: null,\n\t/** PLAYER COLLISION INTO OBJECTS */\n\tcolliders: [], // params.colliders.push(object3D)\n\t// town.fbx\n\tenvironment: {},\n\t// custom fbx\n\tfarmhouse: {},\n}\nparams.mode = params.modes.NONE\nguiFolderRotation.add(params, \"ANIMATE\").name(\"Run Animation\")\n\n// AUDIO???\nconst sfxExt = SFX.supportsAudioType('mp3') ? 'mp3' : 'ogg'\nconsole.log(\"SFX\", SFX)\n\n\n// LOADER OPTIONS (START HERE) :) <3\nconst options = {\n\tassets: [\n\t\t// `${params.assetsPath}sfx/gliss.${sfxExt}`,\n\t\t// `${params.assetsPath}sfx/factory.${sfxExt}`,\n\t\t// `${params.assetsPath}sfx/button.${sfxExt}`,\n\t\t// `${params.assetsPath}sfx/door.${sfxExt}`,\n\t\t// `${params.assetsPath}sfx/fan.${sfxExt}`,\n\t\t`${params.assetsPath}fbx/environment.fbx`,\n\t\t`${params.assetsPath}fbx/girl-walk.fbx`,\n\t\t`${params.assetsPath}fbx/usb.fbx`,\n\t],\n\toncomplete: function() {\n\t\tinit()\n\t\t//animate()\n\t}\n}\nanims.forEach( function(anim){ options.assets.push(`${params.assetsPath}fbx/anims2/${anim}.fbx`)})\n\nparams.mode = params.modes.PRELOAD\n\nconsole.log(\"params\", params)\nconsole.log(\"options\", options)\n\n\nvar element = document.getElementById(\"APP\")\n//element.classList.add(\"progressStyle\")\nvar progress = document.createElement('div')\n\tprogress.classList.add(\"progress-style\")\nvar progressBar = document.createElement('div')\n\tprogressBar.classList.add(\"progress-bar\")\n\nprogress.appendChild(progressBar)\n\n//document.body.appendChild(progress)\nelement.appendChild(progress)\n\nvar manager = new THREE.LoadingManager()\nmanager.onProgress = function ( item, loaded, total ) {\n  progressBar.style.width = (loaded / total * 100) + '%'\n\tconsole.log(\"item\", item, loaded, total)\n};\n\nfunction addRandomPlaceHoldItImage() {\n  var r = Math.round(Math.random() * 4000)\n  new THREE.ImageLoader(manager).load('//picsum.photos/' + r + '/' + r)\n}\n\nfor(var i = 0;i < 10;i++) {\n\taddRandomPlaceHoldItImage()\n\t//console.log(\"manager\", manager)\n}\n\nconsole.log(\"manager\", manager)\n\n/**\n * init main constructor (now in Vue.mounted)\n */\n// [MM]\n//const preloader = new Preloader(options) // now in Vue Mounted()\n\n//this.init()\n//this.animate()\n\n// window.onload = function(e){ \n// \t//init()\n// }\n// window.garden = this\n// window.onError = function(error){\n// \tconsole.error(JSON.stringify(error))\n// }\n\n\n/* [MM] */\n// let actionBtn = document.getElementById(\"action-btn\")\n// document.getElementById(\"camera-btn\").onclick = function(){ switchCamera() }\n// document.getElementById(\"briefcase-btn\").onclick = function(){ toggleBriefcase() }\n// actionBtn.onclick = function(){ contextAction() }\n// document.getElementById(\"sfx-btn\").onclick = function(){ toggleSound() }\n\n\n/** LOADERS */\nconst loaderFBX = new THREE.FBXLoader()\n// try {\n// \tconsole.log(\"HEY HEY HEY: LOAD GLTF?\")\n// \tconst loaderGLTF = new THREE.GLTFLoader()\n// } catch (e) {\n// \tconsole.log(\"e\", e)\n// }\n//alert(\"HEY HEY HEY: LOADED GLTF\")\n//const loaderOBJ = new THREE.OBJLoader()\nconst loaderTexture = new THREE.TextureLoader()\n\n\n/** TIME CLOCK */\nconst clock = new THREE.Clock()\n\n\n/** POINTER HOVERS + CLICKS */\nconst raycaster = new THREE.Raycaster()\nconst raycaster2 = new THREE.Raycaster()\nconst pointer = new THREE.Vector2()\n// create a Ray with origin at the pointer position and direction into the scene (camera direction)\n// let vector = new THREE.Vector3( pointer.x, pointer.y, 1 )\n// projector.unprojectVector( vector, camera )\n// let raycaster2 = new THREE.Raycaster( \n// \tevent.target.camera.position, \n// \tvector.sub( event.target.camera.position ).normalize() \n// )\n\n\n/** REST API URLS */\nconst API_URL_SCENES = `${restURL}scene/?_embed&per_page=100`\nconst API_URL_ALLOTMENTS = `${restURL}allotment/?_embed&per_page=100`\nconst API_URL_BEDS = `${restURL}bed/?_embed&per_page=100`\nconst API_URL_PLANTING_PLANS = `${restURL}planting_plan/?_embed&per_page=100`\nconst API_URL_PLANTS = `${restURL}plant/?_embed&per_page=100`\n\nlet api_urls = [\n\tAPI_URL_SCENES,\n\tAPI_URL_ALLOTMENTS,\n\tAPI_URL_BEDS,\n\tAPI_URL_PLANTING_PLANS,\n\tAPI_URL_PLANTS\n]\n\n/** \n * BEGIN MAIN\n * *************************************************************************************** */\nfunction init() {\n\n\tconsole.log(\"init ************************************\")\n\n\t// get data\n\tlet getDataFromLocalStorage = true\n\n\t// LOCALSTORAGE -- look for data in localStorage first\n\tif (localStorage && getDataFromLocalStorage && !debug) {\n\t\tconst getdata = localStorage.getItem('threedgarden')\n\t\tconst threedgarden = JSON.parse(getdata)\n\t\tif (threedgarden != undefined) {\n\t\t\tconsole.log(\"LOCALSTORAGE ITEM RETRIEVED\", threedgarden)\n\t\t\t//this.threedgarden = threedgarden\n\t\t\t//params = threedgarden\n\t\t\tparams.data = threedgarden.data\n\t\t} else {\n\t\t\tconsole.log(\"LOCALSTORAGE ITEM NOT RETRIEVED\", threedgarden)\n\t\t\tgetDataFromLocalStorage = false\n\t\t}\n\t} else {\n\t\tconsole.log(\"LOCALSTORAGE NOT AVAILABLE\")\n\t\tgetDataFromLocalStorage = false\n\t}\n\n\tif (!getDataFromLocalStorage) {\n\n\t\t// PROMISE REST API -- call WP Rest API for data second\n\t\tPromise.allSettled(\n\t\t\tapi_urls.map(\n\t\t\t\turl => fetch(url)\n\t\t\t\t\t\t.then(results => results.json())\n\t\t\t\t\t\t.then(data => {\n\t\t\t\t\t\t\tlet type = data[0].type\n\t\t\t\t\t\t\tswitch (type) {\n\t\t\t\t\t\t\t\tcase \"scene\" :\n\t\t\t\t\t\t\t\t\tparams.data.scene = [...data]\n\t\t\t\t\t\t\t\t\tbreak\n\t\t\t\t\t\t\t\tcase \"allotment\" :\n\t\t\t\t\t\t\t\t\tparams.data.allotment = [...data]\n\t\t\t\t\t\t\t\t\tbreak\n\t\t\t\t\t\t\t\tcase \"bed\" :\n\t\t\t\t\t\t\t\t\tparams.data.bed = [...data]\n\t\t\t\t\t\t\t\t\tbreak\n\t\t\t\t\t\t\t\tcase \"plant\" :\n\t\t\t\t\t\t\t\t\tparams.data.plant = [...data]\n\t\t\t\t\t\t\t\t\tbreak\n\t\t\t\t\t\t\t\tcase \"planting_plan\" :\n\t\t\t\t\t\t\t\t\tparams.data.planting_plan = [...data]\n\t\t\t\t\t\t\t\t\tbreak\n\t\t\t\t\t\t\t\tdefault :\n\t\t\t\t\t\t\t\t\tbreak\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tconsole.log(\"data\", data)\n\t\t\t\t\t\t})\n\t\t\t)\n\t\t)\n\t\t.then(results => {\n\t\t\t\tconsole.log(\"results\", results)\n\t\t\t\tresults.forEach((result, num) => {\n\t\t\t\t\tif (result.status == \"fulfilled\") {\n\t\t\t\t\t\t//alert(`${urls[num]}: ${result.value.status}`)\n\t\t\t\t\t\t//console.log(result)\n\t\t\t\t\t}\n\t\t\t\t\tif (result.status == \"rejected\") {\n\t\t\t\t\t\t//alert(`${urls[num]}: ${result.reason}`)\n\t\t\t\t\t\tconsole.log(result)\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\tconsole.log(\"params.data\", params.data)\n\n\t\t\t\t// save to localStorage\n\t\t\t\tlocalStorage.setItem('threedgarden', JSON.stringify(params))\n\n\t\t\t\t/**\n\t\t\t\t * init scene constructor\n\t\t\t\t */\n\t\t\t\tbuildScene()\n\t\t\t}\n\t\t)\n\t} else {\n\t\t/**\n\t\t * init scene constructor\n\t\t */\n\t\tbuildScene()\n\t}\n\n\t//\n\twindow.addEventListener( 'resize', onWindowResize, false )\n\n\t//throwError()\n}\n\nfunction onWindowResize() {\n\n\tcamera.aspect = window.innerWidth / window.innerHeight\n\tcamera.updateProjectionMatrix()\n\n\trenderer.setSize( window.innerWidth, window.innerHeight )\n\n\t//controls.handleResize()\n\n}\n\n/** \n * BUILD SCENE\n * *************************************************************************************** */\nfunction buildScene() {\n\n\tconsole.log(\"params.data.scene\", params.data.scene)\n\n\tlet wpScene = params.data.scene[0]\n\tlet sceneID = wpScene.id\n\n\t// console.log(wpScene)\n\n\t/** THREE JS SCENE ******************************************************************* */\n\n\tscene = new THREE.Scene()\n\t\n\tscene.name = \"ThreeD Garden\"\n\n\tconsole.log(\"scene\", scene)\n\n\t// load the 3D cube map?\n\tif ( wpScene.acf.scene_background_image_px ) {\n\t\tlet cubeMapURLs = [\n\t\t\twpScene.acf.scene_background_image_px,\n\t\t\twpScene.acf.scene_background_image_nx,\n\t\t\twpScene.acf.scene_background_image_py,\n\t\t\twpScene.acf.scene_background_image_ny,\n\t\t\twpScene.acf.scene_background_image_pz,\n\t\t\twpScene.acf.scene_background_image_nz\n\t\t]\n\t\tlet reflectionCube = new THREE.CubeTextureLoader().load(cubeMapURLs)\n\t\treflectionCube.format = THREE.RGBFormat\n\t\tscene.background = reflectionCube\n\t}\n\t// load the 2D background image?\n\telse if ( wpScene.acf.scene_background_image ) {\n\t\t// let bgTexture = loaderTexture.load(wpScene.acf.scene_background_image)\n\t\t// scene.background = bgTexture\n\t\tlet bgTexture = loaderTexture.load(\n\t\t\twpScene.acf.scene_background_image,\n\t\t\t() => {\n\t\t\t\tconst rt = new THREE.WebGLCubeRenderTarget(bgTexture.image.height)\n\t\t\t\trt.fromEquirectangularTexture(renderer, bgTexture)\n\t\t\t\tscene.background = rt\n\t\t\t}\n\t\t)\n\t}\n\t// load the background color?\n\telse if ( wpScene.acf.scene_background_color ) {\n\t\tscene.background = new THREE.Color(wpScene.acf.scene_background_color)\n\t\t//scene.fog = new THREE.Fog(0xFFFFFF, 0, 500)\n\t}\n\n\t/** GEOMETRIES *********************************************************************** */\n\t\n\tlet plane = getPlane(\n\t\twpScene.acf.scene_plane_width_x, \n\t\twpScene.acf.scene_plane_length_y, \n\t\twpScene.acf.scene_plane_background_color\n\t)\n\tplane.name = \"plane-jane\"\n\tplane.rotation.x = -Math.PI / 2 // -90 degrees in radians\n\t//plane.position.z = 10\n\t//plane.rotation.z += 0.002\n\tguiFolderRotation.add(plane.rotation, \"x\", -Math.PI, Math.PI).listen()\n\tguiFolderRotation.add(plane.rotation, \"y\", -Math.PI, Math.PI).listen()\n\tguiFolderRotation.add(plane.rotation, \"z\", -Math.PI, Math.PI).listen()\n\n\t/** TEXTURES ************************************************************************* */\n\n\tif ( wpScene.acf.scene_plane_texture_image ) {\n\t\tplane.material.roughness = 0.0\n\t\t//plane.material.map = loaderTexture.load(\"/wp-content/plugins/threed-garden/admin/media/textures/grasslight-big.jpg\")\n\t\tplane.material.map = loaderTexture.load(wpScene.acf.scene_plane_texture_image)\n\t\t// plane.material.bumpMap = loaderTexture.load(\"/wp-content/plugins/threed-garden/admin/media/textures/grasslight-big-nm.jpg\")\n\t\t// plane.material.bumpMap = loaderTexture.load(wpScene.acf.scene_plane_texture_image)\n\t\t// plane.material.bumpScale = 0.01\n\t\tlet planeTextureMap = plane.material.map\n\t\tplaneTextureMap.wrapS = THREE.RepeatWrapping\n\t\tplaneTextureMap.wrapT = THREE.RepeatWrapping\n\t\tplaneTextureMap.repeat.set(4, 4)\n\t}\n\n\t/** LIGHTS *************************************************************************** */\n\n\t// let pointLight = getPointLight(0xFFFFFF, 4.0)\n\t// pointLight.position.set( -20, -60, 20 )\n\t// //pointLight.intensity = 3.0\n\n\t// let spotLight = getSpotLight(0xFFFFFF, 4.0)\n\t// spotLight.position.set( -20, -60, 20 )\n\t// //spotLight.intensity = 3.0\n\n\t//let ambientLight = getAmbientLight(0xFFFFFF, 0.1)\n\t//ambientLight.position.set( -100, -100, 25 )\n\n\tvar shadowIntensity = 0.5;// between 0 and 1 -- suggestion\n\n\tlet directionalLight = getDirectionalLight(0xFFFFFF, 1.6)\n\tdirectionalLight.position.set( -90, -120, 120 )\n\tdirectionalLight.castShadow = true\n\tdirectionalLight.intensity = 1.6\n\n\tlet helperDirectionalLight = new THREE.CameraHelper(directionalLight.shadow.camera)\n\thelperDirectionalLight.visible = false\n\n\t//let directionalLight2 = directionalLight.clone()\n\tlet directionalLight2 = getDirectionalLight(0xFFFFFF, 0.7)\n\tdirectionalLight2.position.set( 90, 120, 120 ) // direct opposite x,y of primary\n\tdirectionalLight2.castShadow = false\n\tdirectionalLight2.intensity = 1.0\n\n\tlet helperDirectionalLight2 = new THREE.CameraHelper(directionalLight2.shadow.camera)\n\thelperDirectionalLight2.visible = true\n\t\n\tguiFolderLights.add(helperDirectionalLight, \"visible\", 0, 20).name(\"Show Light Helper\")\n\tguiFolderLights.add(directionalLight, \"intensity\", 0, 20)\n\tguiFolderLights.add(directionalLight.position, \"x\", -500, 500)\n\tguiFolderLights.add(directionalLight.position, \"y\", -500, 500)\n\tguiFolderLights.add(directionalLight.position, \"z\", -500, 500)\n\n\tguiFolderLights.add(helperDirectionalLight2, \"visible\", 0, 20).name(\"Show Light 2 Helper\")\n\tguiFolderLights.add(directionalLight2, \"intensity\", 0, 20)\n\tguiFolderLights.add(directionalLight2.position, \"x\", -500, 500)\n\tguiFolderLights.add(directionalLight2.position, \"y\", -500, 500)\n\tguiFolderLights.add(directionalLight2.position, \"z\", -500, 500)\n\n\t/** SCENE ***************************************************************************** */\n\n\t// add objects to scene\n\t//plane.add(structure)\n\t//plane.add(pointLight)\n\t//plane.add(spotLight)\n\tplane.add(directionalLight)\n\tplane.add(directionalLight2)\n\t//plane.add(ambientLight)\n\tscene.add(helperDirectionalLight)\n\tscene.add(helperDirectionalLight2)\n\tscene.add(plane)\n\n\t/** CAMERA **************************************************************************** */\n\n\tcamera = new THREE.PerspectiveCamera(\n\t\t55,\n\t\twindow.innerWidth/window.innerHeight,\n\t\t0.1,\n\t\t1000\n\t)\n\tcamera.name = \"gardencam1\"\n\tcamera.position.set(86, 64, 182)\n\t//camera.lookAt(new THREE.Vector3(0, 0, 0)) // overridden by OrbitControls.target\n\n\tlet helperCamera = new THREE.CameraHelper(camera)\n\thelperCamera.visible = false\n\tscene.add(helperCamera)\n\n\tguiFolderCameras.add(helperCamera, \"visible\", 0, 20).name(\"Show Camera Helper\")\n\tguiFolderCameras.add(camera.position, \"x\", -500, 500).listen()\n\tguiFolderCameras.add(camera.position, \"y\", -500, 500).listen()\n\tguiFolderCameras.add(camera.position, \"z\", -500, 500).listen()\n\n\t/** RENDERER ************************************************************************** */\n\t\n\trenderer = new THREE.WebGLRenderer(\n\t\t{ \talpha: true, \n\t\t\tantialias: true \n\t\t}\n\t)\n\trenderer.shadowMap.enabled = true\n\t//renderer.setSize(window.innerWidth - 240, window.innerHeight - 100) //admin\n\trenderer.setSize(window.innerWidth - 100, window.innerHeight - 140) //public\n\n\t// utilize javascript prototyping.. add variables to the dom element :)\n\trenderer.domElement.camera = camera\n\trenderer.domElement.targetList = plane.children\n\t\n\trenderer.domElement.addEventListener(\"pointermove\", onPointerMove, false)\n\trenderer.domElement.addEventListener(\"pointerdown\", onPointerDown, false)\n\t//renderer.domElement.addEventListener(\"mousedown\", onDocumentMouseDown, false)\n\t\n\t/** CONTROLS *************************************************************************** */\n\tcontrols = new THREE.OrbitControls(camera, renderer.domElement)\n\tcontrols.enableDamping = true\n\tcontrols.dampingFactor = 0.25\n\tcontrols.enableZoom = true\n\tcontrols.rotateSpeed = 0.5\n\tcontrols.autoRotate = false\n\tcontrols.autoRotateSpeed = 0.03\n\tcontrols.minDistance = 0.01\n\tcontrols.maxDistance = 340\n\tcontrols.maxPolarAngle = Math.PI/2 - .04\n\tcontrols.target = new THREE.Vector3(0, 0, 0) // where the camera actually points\n\t//controls.target.set(0, 5, 0) // alternate way of setting target of camera\n\n\trenderer.domElement.controls = controls\n\n\t/** WEBGL CANVAS *********************************************************************** */\n\n\tcontainer = document.querySelector(\"#webgl\")\n\tcontainer.append(gui.domElement)\n\tcontainer.append(renderer.domElement)\n\tcanvas = renderer.domElement\n\t\n\t/** BUILD ALLOTMENTS ******************************************************************* */\n\n\t//alert(\"HEY HEY HEY: BUILD ALLOTMENTS?\")\n\n\tbuildAllotments(\n\t\tparams.data.allotment, \n\t\tplane, \n\t\tsceneID // the post-to-post relationship <3\n\t)\n\n\t/** FBX ******************************************************************************** */\n\t\n\t//loaderFBX.load( `${params.assetsPath}characters/SimplePeople.fbx`, function (object) {\n\t//loaderFBX.load( `${params.assetsPath}fbx/people/FireFighter.fbx`, function (object) {\n\t//loaderFBX.load( `${params.assetsPath}fbx/people/Trucker.fbx`, function (object) {\n\tloaderFBX.load( `${params.assetsPath}characters/SK_Chr_Farmer_Male_01.fbx`, function (object) {\n\n\t\tobject.mixer = new THREE.AnimationMixer( object )\n\t\tplayer.mixer = object.mixer\n\t\tplayer.root = object.mixer.getRoot()\n\t\t\t\n\t\tobject.name = \"Gardener\"\n\t\t\n\t\tobject.traverse( function ( child ) {\n\t\t\tif ( child.isMesh ) {\n\t\t\t\tchild.castShadow = true\n\t\t\t\tchild.receiveShadow = false\t\t\n\t\t\t}\n\t\t} )\n\n\t\t//loaderTexture.load(`${params.assetsPath}images/SimpleFarmer_Farmer_Brown.png`, function(texture) {\n\t\tloaderTexture.load(`${params.assetsPath}textures/PolygonFarm_Texture_01_B.png`, function(texture) {\n\t\t\tobject.traverse( function ( child ) {\n\t\t\t\tif ( child.isMesh ){\n\t\t\t\t\tchild.material.map = texture\n\t\t\t\t}\n\t\t\t} )\n\t\t})\n\n\t\t// console.log(\"object\", object)\n\n\t\tplayer.object = new THREE.Object3D()\n\t\tplayer.object.add(object)\n\t\t//player.object.scale.set(0.022, 0.022, 0.022)\n\t\tplayer.object.scale.set(0.033, 0.033, 0.033)\n\t\tplayer.object.rotation.x = Math.PI/2 // 90 degrees in radians\n\t\t//player.mixer.clipAction(object.animations[0]).play()\n\t\t//animations.Idle = object.animations[0]\n\t\t//setAction(\"Idle\")\n\n\t\tplane.add(player.object)\n\t\tguiFolderPlayer.add(player.object, \"visible\").name(\"Show Character\").listen()\n\n\t\t// console.log(\"player.object\", player.object)\n\n\t} )\n\n\n\t/** LOAD 3D OBJECTS ******************************************************************** */\n\n\tloadFarmHouse(plane)\n\t\n\tloadRoad(plane)\n\n\t//loadKitchenSink(plane)\n\t\n\tloadChickenCoop(plane)\n\n\t//loadChicken(plane) // PRIMARY WORKING CHICKEN (GLTF)\n\t//loadHen(plane)\n\t//loadHenGLTF(plane)\n\t//loadRooster(plane)\n\t//loadChickenGLTF(plane)\n\t//loadChickGLTF(plane)\n\t//loadChickenFree(plane)\n\t\t\n\t\n\t/** LOAD CAMERAS *********************************************************************** */\n\t\n\t//createCameras()\n\n\n\t/** JOYSTICK <+> *********************************************************************** */\n\n\tlet joystick = new JoyStick({\n\t\tonMove: playerControl,\n\t\tgame: container // document.querySelector(\"#webgl\")\n\t})\n\tconsole.log(\"joystick\", joystick)\n\n\n\t/** ANIMATE + RENDER (continuous rendering) ******************************************** */\n\t\n\tlet animate = function () {\n\n\t\tconst dt = clock.getDelta()\n\t\twatchPointer(camera, plane.children)\n\t\tcontrols.update()\n\t\tTWEEN.update()\n\n\t\trequestAnimationFrame(animate)\n\n\t\tif ( params.ANIMATE ) {\n\t\t\t// plane.rotation.x += 0.002\n\t\t\t// plane.rotation.y += 0.002\n\t\t\tplane.rotation.z -= 0.0007\n\t\t}\n\n\t\t/** PLAYER CHARACTER */\n\t\tif ( player.mixer !== undefined ) {\n\t\t\tplayer.mixer.update(dt)\n\t\t}\n\t\t\n        if ( player.action == \"Walking\" ) {\n\t\t\tconst elapsedTime = Date.now() - player.actionTime\n\t\t\tif ( elapsedTime > 2000 && player.move.forward > 0.7 ){\n\t\t\t\t//setAction(\"Running\")\n\t\t\t}\n\t\t}\n\t\t\n\t\tif ( player.move !== undefined ) {\n\t\t\tmovePlayer(dt)\n\t\t}\n\t\t\n\t\tif ( player.cameras != undefined && player.cameras.active != undefined ) {\n\t\t\tcamera.position.lerp( player.cameras.active.getWorldPosition(new THREE.Vector3()), 0.05 )\n\t\t\tconst pos = player.object.position.clone()\n\t\t\tpos.y += 200\n\t\t\tcamera.lookAt(pos)\n\t\t}\n        \n        if (directionalLight != undefined){\n            // directionalLight.position.x = player.object.position.x\n            // directionalLight.position.y = player.object.position.y + 200\n            // directionalLight.position.z = player.object.position.z + 100\n            // directionalLight.target = player.object\n        }\n\t\t\n\t\trenderer.render(scene, camera)\n\t}\n\n\tlet loadNextAnim = function (loader) {\n\t\tlet anim = anims.pop()\n\t\t// console.log(\"anim\", anim)\n\t\tloader.load( `${params.assetsPath}fbx/anims2/${anim}.fbx`, function(object) {\n\t\t\t// console.log(\"object\")\n\t\t\tanimations[anim] = object.animations[0]\n\t\t\tif (anims.length > 0){\n\t\t\t\t// console.log(\"anims.length\")\n\t\t\t\t// console.log(\"getAction()\")\n\t\t\t\t// console.log(\"player.action\")\n\t\t\t\tloadNextAnim(loader)\n\t\t\t} \n\t\t\telse {\n\t\t\t\t// console.log(\"anims.length\")\n\t\t\t\tanims = []\n\t\t\t\tsetAction(\"Idle\")\n\t\t\t\tanimate()\n\t\t\t}\n\t\t})\t\n\t}\n\n\t// DO ANIMATE NOW PLEASE\n\t//animate()\n\tloadNextAnim(loaderFBX)\n\n}\n\nfunction setAction(name) {\n\tconst action = player.mixer.clipAction( animations[name] )\n\taction.time = 0\n\tconsole.log(\"PLAYER: action\", action)\n\tplayer.mixer.stopAllAction()\n\tplayer.action = name\n\tplayer.actionTime = Date.now()\n\t//console.log(\"player\", player)\n\t//action.fadeIn(0.5) // causes arms to move awkwardly\n\taction.play()\n}\n\nfunction getAction() {\n\tif (player === undefined || player.action === undefined) {\n\t\treturn \"doesn't exist yet\"\n\t}\n\treturn player.action\n}\n\nfunction toggleAnimation() {\n\tif ( player.action == \"Idle\" ) {\n\t\tsetAction(\"Pointing Gesture\")\n\t}\n\telse {\n\t\tsetAction(\"Idle\")\n\t}\n}\n\nfunction movePlayer1(dt) {\n\t// console.log(\"player.move.forward------\")\n\t// console.log(player.move.forward)\n\tif ( player.move.forward > 0 ) {\n\t\tconst speed = ( player.action == \"Running\" ) ? 24 : 8\n\t\tplayer.object.translateZ( dt * speed )\n\t}\n\telse if ( player.move.forward < 0 ) {\n\t\tplayer.object.translateZ( -dt * 2)\n\t}\n\tplayer.object.rotateY( player.move.turn * dt )\n}\n\nfunction movePlayer(dt){\n\tconst pos = player.object.position.clone()\n\tpos.y += 60\n\tlet dir = new THREE.Vector3()\n\tplayer.object.getWorldDirection(dir)\n\tif (player.move.forward<0) dir.negate()\n\tlet raycaster = new THREE.Raycaster(pos, dir)\n\tlet blocked = false\n\tconst colliders = params.colliders\n\n\t// if (colliders!==undefined){\n\t// \tconst intersect = raycaster.intersectObjects(colliders)\n\t// \tif (intersect.length>0){\n\t// \t\tif (intersect[0].distance<50) blocked = true\n\t// \t}\n\t// }\n\t\n\tif (!blocked){\n\t\tif (player.move.forward>0){\n\t\t\tconst speed = (player.action==\"Running\") ? 24 : 8\n\t\t\tplayer.object.translateZ(dt*speed)\n\t\t}\n\t\telse if ( player.move.forward < 0 ) {\n\t\t\tplayer.object.translateZ(-dt*2)\n\t\t}\n\t}\n\t\n\t/*\n\tif (colliders!==undefined){\n\t\t//cast left\n\t\tdir.set(-1,0,0)\n\t\tdir.applyMatrix4(player.object.matrix)\n\t\tdir.normalize()\n\t\traycaster = new THREE.Raycaster(pos, dir)\n\n\t\tlet intersect = raycaster.intersectObjects(colliders)\n\t\tif (intersect.length>0){\n\t\t\tif (intersect[0].distance<50) player.object.translateX(100-intersect[0].distance)\n\t\t}\n\t\t\n\t\t//cast right\n\t\tdir.set(1,0,0)\n\t\tdir.applyMatrix4(player.object.matrix)\n\t\tdir.normalize()\n\t\traycaster = new THREE.Raycaster(pos, dir)\n\n\t\tintersect = raycaster.intersectObjects(colliders)\n\t\tif (intersect.length>0){\n\t\t\tif (intersect[0].distance<50) player.object.translateX(intersect[0].distance-100)\n\t\t}\n\t\t\n\t\t//cast down\n\t\tdir.set(0,-1,0)\n\t\tpos.y += 200\n\t\traycaster = new THREE.Raycaster(pos, dir)\n\t\tconst gravity = 30\n\n\t\tintersect = raycaster.intersectObjects(colliders)\n\t\tif (intersect.length>0){\n\t\t\tconst targetY = pos.y - intersect[0].distance\n\t\t\tif (targetY > player.object.position.y){\n\t\t\t\t//Going up\n\t\t\t\tplayer.object.position.y = 0.8 * player.object.position.y + 0.2 * targetY\n\t\t\t\tplayer.velocityY = 0\n\t\t\t}else if (targetY < player.object.position.y){\n\t\t\t\t//Falling\n\t\t\t\tif (player.velocityY==undefined) player.velocityY = 0\n\t\t\t\tplayer.velocityY += dt * gravity\n\t\t\t\tplayer.object.position.y -= player.velocityY\n\t\t\t\tif (player.object.position.y < targetY){\n\t\t\t\t\tplayer.velocityY = 0\n\t\t\t\t\tplayer.object.position.y = targetY\n\t\t\t\t}\n\t\t\t}\n\t\t}else if (player.object.position.y>0){\n\t\t\tif (player.velocityY==undefined) player.velocityY = 0\n\t\t\tplayer.velocityY += dt * gravity\n\t\t\tplayer.object.position.y -= player.velocityY\n\t\t\tif (player.object.position.y < 0){\n\t\t\t\tplayer.velocityY = 0\n\t\t\t\tplayer.object.position.y = 0\n\t\t\t}\n\t\t}\n\t}\n\t*/\n\t\n\tplayer.object.rotateY(player.move.turn*dt)\n}\n\n\nfunction playerControl(forward, turn) {\n\t\n\tturn = -turn\n\n\tif ( forward > 0.2 ) {\n        if ( player.action != \"Walking\" && player.action != \"Running\" ) {\n\t\t\tsetAction(\"Walking\")\n\t\t}\n\t} \n\telse if ( forward < -0.2 ) {\n        if ( player.action != \"Walking Backwards\" ) {\n\t\t\tsetAction(\"Walking Backwards\")\n\t\t}\n\t} \n\telse {\n        forward = 0\n        if ( Math.abs(turn) > 0.05 ) {\n            if ( player.action != \"Left Turn\" ) {\n\t\t\t\tsetAction(\"Left Turn\")\n\t\t\t}\n\t\t} \n\t\telse if ( player.action != \"Idle\" ) {\n            setAction(\"Idle\")\n\t\t}\n\t\t// else {\n\t\t// \tsetAction(\"Idle\")\n\t\t// }\n    }\n\n    // if ( forward == 0 && turn == 0 ) {\n    //     player.move = {}\n\t// } \n\t// else {\n        player.move = { forward, turn }\n    // }\n}\n\nfunction createCameras() {\n\tconst offset = new THREE.Vector3(0, 80, 0)\n\tconst front = new THREE.Object3D()\n\tfront.position.set(112, 100, 600)\n\tfront.parent = player.object\n\tconst back = new THREE.Object3D()\n\tback.position.set(0, 300, -600)\n\tback.parent = player.object\n\tconst wide = new THREE.Object3D()\n\twide.position.set(178, 139, 1665)\n\twide.parent = player.object\n\tconst overhead = new THREE.Object3D()\n\toverhead.position.set(0, 400, 0)\n\toverhead.parent = player.object\n\tconst collect = new THREE.Object3D()\n\tcollect.position.set(40, 82, 94)\n\tcollect.parent = player.object\n\tplayer.cameras = { front, back, wide, overhead, collect }\n\tsetActiveCamera(player.cameras.back)\n}\n\nfunction setActiveCamera(object) {\n\tplayer.cameras.active = object\n}\n\n\nfunction loadEnvironment(loader) {\n\tloader.load(`${params.assetsPath}fbx/town.fbx`, function(object){\n\t\tparams.environment = object\n\t\tparams.colliders = []\n\t\tobject.scale.set(0.025, 0.025, 0.025)\n\t\tscene.add(object)\n\t\tobject.traverse( function ( child ) {\n\t\t\tif ( child.isMesh ) {\n\t\t\t\tif (child.name.startsWith(\"proxy\")){\n\t\t\t\t\tparams.colliders.push(child)\n\t\t\t\t\tchild.material.visible = false\n\t\t\t\t}else{\n\t\t\t\t\tchild.castShadow = true\n\t\t\t\t\tchild.receiveShadow = true\n\t\t\t\t}\n\t\t\t}\n\t\t} )\n\t\t\n\t\tloadNextAnim(loader)\n\t})\n}\n\nfunction loadFarmHouse(plane) {\n\t//loaderFBX.load(`${params.assetsPath}fbx/SM_Bld_Farmhouse_01.fbx`, function(object){\n\tloaderFBX.load(`${params.assetsPath}fbx/Building_Farm_House_02.fbx`, function(object){\n\t//loaderFBX.load(`${params.assetsPath}fbx/Building_Barn_Big_03.fbx`, function(object){\n\t\tparams.farmhouse = object\n\t\tparams.colliders = []\n\t\tobject.rotation.y = 270 * (Math.PI/180) // 90 degrees in radians\n\t\tobject.position.set(0, 0, 100)\n\t\t//object.scale.set(0.025, 0.025, 0.025)\n\t\tobject.scale.set(2.2, 2.2, 2.2)\n\t\tscene.add(object)\n\t\tobject.traverse( function ( child ) {\n\t\t\tif ( child.isMesh ) {\n\t\t\t\tif (child.name.startsWith(\"proxy\")){\n\t\t\t\t\tparams.colliders.push(child)\n\t\t\t\t\tchild.material.visible = false\n\t\t\t\t}else{\n\t\t\t\t\tchild.castShadow = true\n\t\t\t\t\tchild.receiveShadow = true\n\t\t\t\t}\n\t\t\t}\n\t\t} )\n\t\t//loaderTexture.load(`${params.assetsPath}textures/PolygonFarm_Texture_01_A.png`, function(texture) {\n\t\tloaderTexture.load(`${params.assetsPath}textures/SimpleFarm.png`, function(texture) {\n\t\t\tobject.traverse( function ( child ) {\n\t\t\t\tif ( child.isMesh ){\n\t\t\t\t\tchild.material.map = texture\n\t\t\t\t}\n\t\t\t} )\n\t\t})\n\t\t\n\t\t//loadNextAnim(loader)\n\t})\n}\n\nfunction loadFarmHouseGLTF(plane) {\n\t\n\t// loaderFBX.load( `${params.assetsPath}fbx/Building_Farm_House_02.fbx`, function (object) {\n\tloaderGLTF.load( `${params.assetsPath}gltf/Residential House.glb`, function (object) {\n\n\t\tlet model = object.scene\n\t\tmodel.name = \"Farm House\"\n\t\tmodel.position.set(0, 0, 100)\n\t\tmodel.scale.set(20, 20, 20)\n\t\tmodel.traverse( function ( child ) {\n\t\t\tif ( child.isMesh ) child.castShadow = true\n\t\t} )\n\t\tscene.add(model)\n\n\t\thelper = new THREE.SkeletonHelper(model)\n\t\thelper.material.linewidth = 5\n\t\thelper.visible = true\n\t\tscene.add(helper)\n\t\t\n\t\tconsole.log(\"loadFarmHouse object\", object)\n\t\tconsole.log(\"loadFarmHouse model\", model)\n\n\t\tguiFolderPlayer.add(model, \"visible\").name(\"Show House\").listen()\n\n\t} )\n}\n\nfunction loadChickenCoop(plane) {\n\tloaderFBX.load(`${params.assetsPath}fbx/Prop_Chicken_Coop_02.fbx`, function(object) {\n\t\tparams.farmhouse = object\n\t\tparams.colliders = []\n\t\tobject.rotation.y = 90 * (Math.PI/180) // 90 degrees in radians\n\t\tobject.position.set(80, 0, -10)\n\t\tobject.scale.set(2.2, 2.2, 2.2)\n\t\tscene.add(object)\n\t\tobject.traverse( function ( child ) {\n\t\t\tif (child.isMesh) {\n\t\t\t\tif (child.name.startsWith(\"proxy\")) {\n\t\t\t\t\tparams.colliders.push(child)\n\t\t\t\t\tchild.material.visible = false\n\t\t\t\t} else {\n\t\t\t\t\tchild.castShadow = true\n\t\t\t\t\tchild.receiveShadow = true\n\t\t\t\t}\n\t\t\t}\n\t\t} )\n\t\tloaderTexture.load(`${params.assetsPath}textures/SimpleFarm.png`, function(texture) {\n\t\t\tobject.traverse( function ( child ) {\n\t\t\t\tif (child.isMesh){\n\t\t\t\t\tchild.material.map = texture\n\t\t\t\t}\n\t\t\t} )\n\t\t})\n\t})\n}\n\nfunction loadChicken(plane) {\n\t\n\tloaderGLTF.load( `${params.assetsPath}gltf/Chicken.glb`, function (object) {\n\n\t\tlet model = object.scene\n\t\tmodel.name = \"Chicken GLB\"\n\t\tmodel.position.set(-3, 0, 0)\n\t\t//model.rotation.y = 90 * (Math.PI/180) // 90 degrees in radians\n\t\tmodel.scale.set(4, 4, 4)\n\t\tmodel.traverse( function ( child ) {\n\t\t\tif ( child.isMesh ) child.castShadow = true\n\t\t} )\n\t\tscene.add(model)\n\n\t\t// helper = new THREE.SkeletonHelper(model)\n\t\t// helper.material.linewidth = 5\n\t\t// helper.visible = true\n\t\t// scene.add(helper)\n\t\t\n\t\tconsole.log(\"loadChicken object\", object)\n\t\tconsole.log(\"loadChicken model\", model)\n\n\t\t//guiFolderPlayer.add(model, \"visible\").name(\"Show Chicken\").listen()\n\n\t} )\n}\n\nfunction loadChicken0(plane) {\n\tloaderFBX.load(`${params.assetsPath}fbx/Chicken.fbx`, function(object){\n\t\t\n\t\tconsole.log(\"BIRD----------------\")\n\t\tconsole.log(object)\n\n\t\t//params.farmhouse = object\n\t\t//params.colliders = []\n\t\t//object.rotation.y = 90 * (Math.PI/180) // 90 degrees in radians\n\t\tobject.position.set(0, 0, 0)\n\t\t//object.scale.set(2.2, 2.2, 2.2)\n\t\tscene.add(object)\n\t\tobject.traverse( function ( child ) {\n\t\t\tif ( child.isMesh ) {\n\t\t\t\t// if (child.name.startsWith(\"proxy\")){\n\t\t\t\t// \tparams.colliders.push(child)\n\t\t\t\t// \tchild.material.visible = false\n\t\t\t\t// }else{\n\t\t\t\t\tchild.castShadow = true\n\t\t\t\t\tchild.receiveShadow = true\n\t\t\t\t//}\n\t\t\t}\n\t\t} )\n\t\t// loaderTexture.load(`${params.assetsPath}textures/SimpleAnimalsFarm.png`, function(texture) {\n\t\t// \tobject.traverse( function ( child ) {\n\t\t// \t\tif ( child.isMesh ){\n\t\t// \t\t\tchild.material.map = texture\n\t\t// \t\t}\n\t\t// \t} )\n\t\t// })\n\t})\n}\n\nfunction loadChicken1(plane) {\n\tloaderFBX.load(`${params.assetsPath}fbx/SA_Animal_Birds.fbx`, function(object){\n\t\t\n\t\tconsole.log(\"BIRD----------------\")\n\t\tconsole.log(object)\n\n\t\t//params.farmhouse = object\n\t\t//params.colliders = []\n\t\t//object.rotation.y = 90 * (Math.PI/180) // 90 degrees in radians\n\t\tobject.position.set(0, 0, 0)\n\t\t//object.scale.set(2.2, 2.2, 2.2)\n\t\tscene.add(object)\n\t\tobject.traverse( function ( child ) {\n\t\t\tif ( child.isMesh ) {\n\t\t\t\t// if (child.name.startsWith(\"proxy\")){\n\t\t\t\t// \tparams.colliders.push(child)\n\t\t\t\t// \tchild.material.visible = false\n\t\t\t\t// }else{\n\t\t\t\t\tchild.castShadow = true\n\t\t\t\t\tchild.receiveShadow = true\n\t\t\t\t//}\n\t\t\t}\n\t\t} )\n\t\tloaderTexture.load(`${params.assetsPath}textures/SimpleAnimalsFarm.png`, function(texture) {\n\t\t\tobject.traverse( function ( child ) {\n\t\t\t\tif ( child.isMesh ){\n\t\t\t\t\tchild.material.map = texture\n\t\t\t\t}\n\t\t\t} )\n\t\t})\n\t})\n}\n\nfunction loadChicken2(plane) {\n\tloaderFBX.load(`${params.assetsPath}fbx/SA_Animal_Pig.fbx`, function(object) {\n\t//loaderFBX.load( `${params.assetsPath}fbx/people/Trucker.fbx`, function (object) {\n\t//loaderFBX.load( `${params.assetsPath}characters/SK_Chr_Farmer_Male_01.fbx`, function (object) {\n\n\t\tconsole.log(\"object----------------\")\n\t\tconsole.log(object)\n\n\t\t// object.mixer = new THREE.AnimationMixer( object )\n\t\t// mixers.push( object.mixer )\n\t\t// var action = object.mixer.clipAction( object.animations[ 0 ] )\n\t\t// action.play()\n\t\t// scene.add( object )\n\n/*\n\t\tobject.mixer = new THREE.AnimationMixer( object )\n\t\tmixers.push( object.mixer )\n\t\tvar action = object.mixer.clipAction( object.animations[ 0 ] )\n\t\taction.play()\n\n\t\tobject.name = \"Chicken\"\n\t\t\t\t\n\t\tobject.traverse( function ( child ) {\n\t\t\tif ( child.isMesh ) {\n\t\t\t\tchild.castShadow = true\n\t\t\t\tchild.receiveShadow = false\t\t\n\t\t\t}\n\t\t} )\n\n\n\t\tloaderTexture.load(`${params.assetsPath}textures/SimpleAnimalsFarm.png`, function(texture) {\n\t\t//loaderTexture.load(`${params.assetsPath}images/SimpleScarecrow.png`, function(texture) {\n\t\t//loaderTexture.load(`${params.assetsPath}images/SimpleFarmer_Farmer_Brown.png`, function(texture) {\n\t\t//loaderTexture.load(`${params.assetsPath}textures/PolygonFarm_Texture_01_A.png`, function(texture) {\n\t\t\tobject.traverse( function ( child ) {\n\t\t\t\tif ( child.isMesh ){\n\t\t\t\t\tchild.material.map = texture\n\t\t\t\t}\n\t\t\t} )\n\t\t})\n\n\t\tplane.add( object )\n\t\t\n\t\tconsole.log(\"-----------------------\")\n\t\tconsole.log(\"object----------------\")\n\t\tconsole.log(object)\n\t\tconsole.log(\"-----------------------\")\n*/\t\t\n\t\t/*\n\t\tplayer.mixer = object.mixer\n\t\tplayer.root = object.mixer.getRoot()\n\t\t\t\n\t\tobject.name = \"Chicken\"\n\t\t\t\t\n\t\tobject.traverse( function ( child ) {\n\t\t\tif ( child.isMesh ) {\n\t\t\t\tchild.castShadow = true\n\t\t\t\tchild.receiveShadow = false\t\t\n\t\t\t}\n\t\t} )\n\n\n\t\tloaderTexture.load(`${params.assetsPath}textures/SimpleAnimalsFarm.png`, function(texture) {\n\t\t//loaderTexture.load(`${params.assetsPath}images/SimpleScarecrow.png`, function(texture) {\n\t\t//loaderTexture.load(`${params.assetsPath}images/SimpleFarmer_Farmer_Brown.png`, function(texture) {\n\t\t//loaderTexture.load(`${params.assetsPath}textures/PolygonFarm_Texture_01_A.png`, function(texture) {\n\t\t\tobject.traverse( function ( child ) {\n\t\t\t\tif ( child.isMesh ){\n\t\t\t\t\tchild.material.map = texture\n\t\t\t\t}\n\t\t\t} )\n\t\t})\n\n\t\tconsole.log(\"-----------------------\")\n\t\tconsole.log(\"object----------------\")\n\t\tconsole.log(object)\n\t\tconsole.log(\"-----------------------\")\n\n\t\tplayer.object = new THREE.Object3D()\n\t\tplayer.object.add(object)\n\t\tplayer.object.scale.set(0.022, 0.022, 0.022)\n\t\tplayer.object.rotation.x = Math.PI/2 // 90 degrees in radians\n\t\tplayer.mixer.clipAction(object.animations[0]).play()\n\t\tanimations.Idle = object.animations[0]\n\t\t//setAction(\"Idle\")\n\t\tscene.add(player.object)\n\t\tguiFolderPlayer.add(player.object, \"visible\").name(\"Show Chicken\").listen()\n\n\t\tconsole.log(\"-----------------------\")\n\t\tconsole.log(\"player.object----------------\")\n\t\tconsole.log(player.object)\n\t\tconsole.log(\"-----------------------\")\n\n\n\t\t//animate()\n\t\t// OR\n\t\tloadNextAnim(loaderFBX)\n\t\t// OR\n\t\t//loadEnvironment(loaderFBX)\n\t\t*/\n\t} )\n}\n\nfunction loadChickenGLTF(plane) {\n\t\n\tloaderGLTF.load( `${params.assetsPath}gltf/Animals.glb`, function (object) {\n\n\t\tconsole.log(\"Animals object----------------\")\n\t\tconsole.log(object)\n\n\t\tobject.mixer = new THREE.AnimationMixer( object.scene )\n\t\tplayer.mixer = object.mixer\n\t\tplayer.root = object.mixer.getRoot()\n\t\t\t\n\t\tobject.name = \"Chicken Dance\"\n\t\t\t\t\n\t\tobject.scene.traverse( function ( child ) {\n\t\t\tif ( child.isMesh ) {\n\t\t\t\tchild.castShadow = true\n\t\t\t\tchild.receiveShadow = false\t\t\n\t\t\t}\n\t\t} )\n\n\t\tplayer.object = new THREE.Object3D()\n\t\tplayer.object.add(object.scene)\n\t\tplayer.object.position.set(0, 0, 10)\n\t\tplayer.object.scale.set(4, 4, 4)\n\t\tplayer.object.rotation.x = Math.PI/2 // 90 degrees in radians\n\t\tplayer.mixer.timeScale = 0.5\n\t\tplayer.mixer.clipAction(object.animations[2]).play()\n\t\t\n\t\t//animations.Idle = object.animations[0]\n\t\t//setAction(\"Idle\")\n\t\tplane.add(player.object)\n\t\t//guiFolderPlayer.add(player.object, \"visible\").name(\"Show Character\").listen()\n\n\t} )\n}\n\nfunction loadChickGLTF(plane) {\n\t\n\tloaderGLTF.load( `${params.assetsPath}gltf/Chick.glb`, function (object) {\n\n\t\tlet model = object.scene\n\t\tmodel.name = \"Chick GLB\"\n\t\tmodel.position.set(3, 0, 0)\n\t\t//model.rotation.y = 90 * (Math.PI/180) // 90 degrees in radians\n\t\tmodel.scale.set(2, 2, 2)\n\t\tmodel.traverse( function ( child ) {\n\t\t\tif ( child.isMesh ) child.castShadow = true\n\t\t} )\n\t\tscene.add(model)\n\n\t\t// helper = new THREE.SkeletonHelper(model)\n\t\t// helper.material.linewidth = 5\n\t\t// helper.visible = true\n\t\t// scene.add(helper)\n\t\t\n\t\tconsole.log(\"loadChickGLTF object\")\n\t\tconsole.log(object)\n\t\tconsole.log(\"loadChickGLTF model\")\n\t\tconsole.log(model)\n\n\t\t//guiFolderPlayer.add(model, \"visible\").name(\"Show Chicken\").listen()\n\n\t} )\n}\n\nfunction loadHen(plane) {\n\tloaderFBX.load(`${params.assetsPath}Hen&Chicken_FBX/Hen_HP.fbx`, function(object){\n\t\tparams.farmhouse = object\n\t\tparams.colliders = []\n\t\t//object.rotation.y = 270 * (Math.PI/180) // 90 degrees in radians\n\t\tobject.position.set(3, 0, 0)\n\t\tobject.scale.set(0.05, 0.05, 0.05)\n\n\t\tobject.traverse( function ( child ) {\n\t\t\tif ( child.isMesh ) {\n\t\t\t\tif (child.name.startsWith(\"proxy\")){\n\t\t\t\t\tparams.colliders.push(child)\n\t\t\t\t\tchild.material.visible = false\n\t\t\t\t}else{\n\t\t\t\t\tchild.castShadow = true\n\t\t\t\t\tchild.receiveShadow = true\n\t\t\t\t}\n\t\t\t}\n\t\t} )\n\n\t\tloaderTexture.load(`${params.assetsPath}Hen&Chicken_FBX/Textures/Hen&Chicken_A.png`, function(texture) {\n\t\t\tobject.traverse( function ( child ) {\n\t\t\t\tif ( child.isMesh ){\n\t\t\t\t\tchild.material.map = texture\n\n\t\t\t\t\tconsole.log(\"loadHen child----------\")\n\t\t\t\t\tconsole.log(child)\n\t\t\t\t\tconsole.log(child.geometry.attributes.uv)\n\t\t\t\t\tconsole.log(\"-----------------------\")\n\t\t\t\t}\n\t\t\t} )\n\t\t})\n\n\t\tconsole.log(\"loadHen object----------------\")\n\t\tconsole.log(object)\n\n\t\tscene.add(object)\n\t})\n}\n\nfunction loadHenGLTF(plane) {\n\t\n\t// loaderFBX.load( `${params.assetsPath}fbx/Building_Farm_House_02.fbx`, function (object) {\n\tloaderGLTF.load( `${params.assetsPath}gltf/Hen_HP.glb`, function (object) {\n\n\t\tlet model = object.scene\n\t\t//model.name = \"Hen\"\n\t\t//model.position.set(10, 0, 0)\n\t\t//model.scale.set(0.2, 0.2, 0.2)\n\t\tmodel.traverse( function ( child ) {\n\t\t\tif ( child.isMesh ) child.castShadow = true\n\t\t} )\n\t\tscene.add(model)\n\n\t\t// helper = new THREE.SkeletonHelper(model)\n\t\t// helper.material.linewidth = 5\n\t\t// helper.visible = true\n\t\t// scene.add(helper)\n\t\t\n\t\tconsole.log(\"loadHenGLTF object----------------\")\n\t\tconsole.log(object)\n\t\tconsole.log(\"loadHenGLTF model----------------\")\n\t\tconsole.log(model)\n\n\t\t//guiFolderPlayer.add(model, \"visible\").name(\"Show Hen GLTF\").listen()\n\n\t} )\n}\n\nfunction loadKitchenSink(plane) {\n\tloaderFBX.load(`${params.assetsPath}fbx/Prop_KitchenSink_Black.fbx`, function(object){\n\t\tparams.farmhouse = object\n\t\tparams.colliders = []\n\t\tobject.rotation.y = 270 * (Math.PI/180) // 90 degrees in radians\n\t\tobject.position.set(0, 0, 10)\n\t\t//object.scale.set(0.025, 0.025, 0.025)\n\t\tobject.scale.set(2.2, 2.2, 2.2)\n\t\tscene.add(object)\n\t\tobject.traverse( function ( child ) {\n\t\t\tif ( child.isMesh ) {\n\t\t\t\tif (child.name.startsWith(\"proxy\")){\n\t\t\t\t\tparams.colliders.push(child)\n\t\t\t\t\tchild.material.visible = false\n\t\t\t\t}else{\n\t\t\t\t\tchild.castShadow = true\n\t\t\t\t\tchild.receiveShadow = true\n\t\t\t\t}\n\t\t\t}\n\t\t} )\n\t\t//loaderTexture.load(`${params.assetsPath}textures/PolygonFarm_Texture_01_A.png`, function(texture) {\n\t\tloaderTexture.load(`${params.assetsPath}textures/SimpleInteriorsHouses.png`, function(texture) {\n\t\t\tobject.traverse( function ( child ) {\n\t\t\t\tif ( child.isMesh ){\n\t\t\t\t\tchild.material.map = texture\n\t\t\t\t}\n\t\t\t} )\n\t\t})\n\t})\n}\n\nfunction loadChickenFree(plane) {\n\tloaderOBJ.load(`${params.assetsPath}obj/chicken_01.obj`, function(object){\n\t\t// params.farmhouse = object\n\t\t// params.colliders = []\n\t\t//object.rotation.y = 270 * (Math.PI/180) // 90 degrees in radians\n\t\t//object.position.set(0, 0, 10)\n\t\t//object.scale.set(0.025, 0.025, 0.025)\n\t\t//object.scale.set(2.2, 2.2, 2.2)\n\t\tscene.add(object)\n\t\t// object.traverse( function ( child ) {\n\t\t// \tif ( child.isMesh ) {\n\t\t// \t\tif (child.name.startsWith(\"proxy\")){\n\t\t// \t\t\tparams.colliders.push(child)\n\t\t// \t\t\tchild.material.visible = false\n\t\t// \t\t}else{\n\t\t// \t\t\tchild.castShadow = true\n\t\t// \t\t\tchild.receiveShadow = true\n\t\t// \t\t}\n\t\t// \t}\n\t\t// } )\n\t\t// //loaderTexture.load(`${params.assetsPath}textures/PolygonFarm_Texture_01_A.png`, function(texture) {\n\t\t// loaderTexture.load(`${params.assetsPath}textures/SimpleInteriorsHouses.png`, function(texture) {\n\t\t// \tobject.traverse( function ( child ) {\n\t\t// \t\tif ( child.isMesh ){\n\t\t// \t\t\tchild.material.map = texture\n\t\t// \t\t}\n\t\t// \t} )\n\t\t// })\n\t})\n}\n\nfunction loadRooster(plane) {\n\tloaderFBX.load(`${params.assetsPath}fbx/rooster_1.0.1.fbx`, function(object){\n\t\t// params.farmhouse = object\n\t\t// params.colliders = []\n\t\t//object.rotation.y = 270 * (Math.PI/180) // 90 degrees in radians\n\t\tobject.position.set(0, 0, 10)\n\t\tobject.scale.set(0.025, 0.025, 0.025)\n\t\t//object.scale.set(2.2, 2.2, 2.2)\n\t\tscene.add(object)\n\t\t// object.traverse( function ( child ) {\n\t\t// \tif ( child.isMesh ) {\n\t\t// \t\tif (child.name.startsWith(\"proxy\")){\n\t\t// \t\t\tparams.colliders.push(child)\n\t\t// \t\t\tchild.material.visible = false\n\t\t// \t\t}else{\n\t\t// \t\t\tchild.castShadow = true\n\t\t// \t\t\tchild.receiveShadow = true\n\t\t// \t\t}\n\t\t// \t}\n\t\t// } )\n\t\t// //loaderTexture.load(`${params.assetsPath}textures/PolygonFarm_Texture_01_A.png`, function(texture) {\n\t\t// loaderTexture.load(`${params.assetsPath}textures/SimpleInteriorsHouses.png`, function(texture) {\n\t\t// \tobject.traverse( function ( child ) {\n\t\t// \t\tif ( child.isMesh ){\n\t\t// \t\t\tchild.material.map = texture\n\t\t// \t\t}\n\t\t// \t} )\n\t\t// })\n\t})\n}\n\nfunction loadRoad(plane) {\n\n\tlet i\n\tlet count = 8\n\tlet startX = -45\n\tlet offsetX = 0\n\tlet startZ = -138\n\tlet offsetZ = 20\n\n\tconst roadPromise1 = new Promise((resolve, reject) => {\n\n\t\t// ROAD A\n\t\tfor ( i = 1;i <= count;i++ ) {\n\t\t\tloaderFBX.load(`${params.assetsPath}fbx/SM_Env_Road_Gravel_Straight_01.fbx`, function(object) {\n\t\t\t\t\n\t\t\t\t// console.log(\"ROAD object\", object)\n\n\t\t\t\t//params.farmhouse = object\n\t\t\t\t//params.colliders = []\n\t\t\t\t//object.rotation.y = 90 * (Math.PI/180) // 90 degrees in radians\n\t\t\t\tobject.position.set(startX, 0, startZ)\n\t\t\t\tstartX = startX + offsetX\n\t\t\t\tstartZ = startZ + offsetZ\n\t\t\t\tconsole.log(\"ROAD A startX, startZ\", startX, startZ)\n\t\t\t\tobject.scale.set(0.02, 0.01, 0.02)\n\t\t\t\tobject.traverse( function (child) {\n\t\t\t\t\tif (child.isMesh) {\n\t\t\t\t\t\t// if (child.name.startsWith(\"proxy\")) {\n\t\t\t\t\t\t// \tparams.colliders.push(child)\n\t\t\t\t\t\t// \tchild.material.visible = false\n\t\t\t\t\t\t// } else {\n\t\t\t\t\t\t\tchild.castShadow = true\n\t\t\t\t\t\t\tchild.receiveShadow = true\n\t\t\t\t\t\t// }\n\t\t\t\t\t}\n\t\t\t\t} )\n\t\t\t\tloaderTexture.load(`${params.assetsPath}textures/PolygonFarm_Texture_03_A.png`, function(texture) {\n\t\t\t\t\tobject.traverse( function (child) {\n\t\t\t\t\t\tif (child.isMesh) {\n\t\t\t\t\t\t\t//child.material.color.setHex(0x000000)\n\t\t\t\t\t\t\tchild.material.transparent = true\n\t\t\t\t\t\t\tchild.material.opacity = 0.7\n\t\t\t\t\t\t\t//child.material.depthWrite = true\n\t\t\t\t\t\t\tchild.material.map = texture\n\t\t\t\t\t\t}\n\t\t\t\t\t} )\n\t\t\t\t})\n\t\t\t\t\n\t\t\t\tscene.add(object)\n\t\t\t\t\n\t\t\t\t//console.log(\"ROAD A object\", object)\n\t\t\t})\n\n\t\t}\n\t\tresolve(startX, startZ)\n\t})\n\troadPromise1.then((startX, startZ) => {\n\t\t// ROAD T\n\t\tfor ( i = 1;i <= 1;i++ ) {\n\t\t\tloaderFBX.load(`${params.assetsPath}fbx/SM_Env_Road_Gravel_T_Section_01.fbx`, function(object) {\n\t\t\t\t\n\t\t\t\tconsole.log(\"ROAD T startX, startZ\", startX, startZ)\n\n\t\t\t\t//params.farmhouse = object\n\t\t\t\t//params.colliders = []\n\t\t\t\t//object.rotation.y = 90 * (Math.PI/180) // 90 degrees in radians\n\t\t\t\tobject.position.set(startX, 0, startZ)\n\t\t\t\tstartX = startX + offsetX\n\t\t\t\tstartZ = startZ + offsetZ\n\t\t\t\tconsole.log(\"ROAD T startX, startZ\", startX, startZ)\n\t\t\t\tobject.scale.set(0.02, 0.01, 0.02)\n\t\t\t\tobject.traverse( function (child) {\n\t\t\t\t\tif (child.isMesh) {\n\t\t\t\t\t\t// if (child.name.startsWith(\"proxy\")) {\n\t\t\t\t\t\t// \tparams.colliders.push(child)\n\t\t\t\t\t\t// \tchild.material.visible = false\n\t\t\t\t\t\t// } else {\n\t\t\t\t\t\t\tchild.castShadow = true\n\t\t\t\t\t\t\tchild.receiveShadow = true\n\t\t\t\t\t\t// }\n\t\t\t\t\t}\n\t\t\t\t} )\n\t\t\t\tloaderTexture.load(`${params.assetsPath}textures/PolygonFarm_Texture_03_A.png`, function(texture) {\n\t\t\t\t\tobject.traverse( function ( child ) {\n\t\t\t\t\t\tif ( child.isMesh ){\n\t\t\t\t\t\t\t//child.material.color.setHex(0x000000)\n\t\t\t\t\t\t\tchild.material.transparent = true\n\t\t\t\t\t\t\tchild.material.opacity = 0.7\n\t\t\t\t\t\t\t//child.material.depthWrite = true\n\t\t\t\t\t\t\tchild.material.map = texture\n\t\t\t\t\t\t}\n\t\t\t\t\t} )\n\t\t\t\t})\n\t\t\t\t\n\t\t\t\tscene.add(object)\n\t\t\t\t\n\t\t\t\t//console.log(\"ROAD T object\", object)\n\t\t\t})\n\n\t\t}\n\n\t})\n\n}\n\n\n/**\n * BUILD \"ALLOTMENTS\" FROM REST API POST OBJECT ************************************************************\n */\nfunction buildAllotments(postObject, plane, sceneID) {\n\n\tconsole.log(\"ALLOTMENTS\", postObject)\n\n\t//alert(\"HEY HEY HEY: BUILD ALLOTMENTS..\")\n\t\n\tvar filteredPostObject = postObject.filter(function (obj) {\n\t\treturn obj.acf.allotment_scene == sceneID\n\t})\n\t// console.log(\"filteredPostObject\", filteredPostObject)\n\n\tfilteredPostObject.forEach( function(key) {\n\n\t\t// console.log(\"-------------------------\")\n\t\t// console.log(\"key.id (postObject)------\")\n\t\t// console.log(key.id)\n\t\t// console.log(key)\n\t\t// console.log(\"-------------------------\")\n\n\t\t// BUILD ALLOTMENT OBJECT GROUP\n\t\tlet allotment = {}\n\t\tallotment.parameters = {}\n\t\tallotment.position = {}\n\t\tallotment.images = {}\n\t\tallotment.parameters.x = parseInt(key.acf.allotment_width)\n\t\tallotment.parameters.y = parseInt(key.acf.allotment_length)\n\t\tallotment.parameters.z = parseInt(key.acf.allotment_height) // 0\n\t\tallotment.position.x = parseInt(key.acf.allotment_position_x)\n\t\tallotment.position.y = parseInt(key.acf.allotment_position_y)\n\t\tallotment.position.z = parseInt(key.acf.allotment_position_z)\n\t\tallotment.images.texture = key.acf.allotment_texture_image\n\t\tallotment.images.featured = getFeaturedImage(key)\n\t\tallotment.shape = key.acf.allotment_shape\n\t\tallotment.color = key.acf.allotment_color\n\t\tallotment.title = key.title.rendered\n\t\tallotment.postID = key.id\n\t\tallotment.description = key.content.rendered\n\t\tallotment.link = key.link\n\n\t\t// console.log(\"allotment\", allotment)\n\n\t\tlet structure = getGeometry(\n\t\t\tallotment.shape,\n\t\t\tallotment.parameters.x, \n\t\t\tallotment.parameters.y, \n\t\t\tallotment.parameters.z, \n\t\t\tallotment.color\n\t\t)\n\t\tstructure.name = allotment.title\n\t\tstructure.userData.type = \"structure\"\n\t\tstructure.userData.postID = allotment.postID\n\t\tstructure.userData.description = allotment.description\n\t\tstructure.userData.annotation = allotment.title\n\t\tstructure.userData.link = allotment.link\n\t\tstructure.position.x = allotment.position.x\n\t\tstructure.position.y = allotment.position.y\n\t\tstructure.position.z = (structure.geometry.parameters.depth / 2) + allotment.position.z // - 10 for gap between plane\n\t\tstructure.material.roughness = 0.9\n\t\tif (allotment.images.texture != null && allotment.images.texture != false) {\n\t\t\tstructure.material.map = loaderTexture.load(allotment.images.texture)\n\t\t\tfor (let i = 0;i < structure.material.length;i++) {\n\t\t\t\t// hightlight object\n\t\t\t\t//structure.material[i].color.set(0xff0000)\n\t\t\t\tstructure.material[i].map = loaderTexture.load(allotment.images.texture)\n\t\t\t\t//structure.faces[i].materialIndex = 1\n\t\t\t\t//console.log(intersects[i])\n\t\t\t\t// structure.material[i].bumpMap = loaderTexture.load(allotment.images.texture)\n\t\t\t\t// structure.material[i].bumpScale = 0.05\n\t\t\t\tlet structureTextureMap = structure.material[i].map\n\t\t\t\tstructureTextureMap.wrapS = THREE.RepeatWrapping\n\t\t\t\tstructureTextureMap.wrapT = THREE.RepeatWrapping\n\t\t\t\tstructureTextureMap.repeat.set(4, 4)\n\t\t\t}\n\t\t}\n\t\t\n\t\tplane.add(structure)\n\n\t\t//params.colliders.push(structure)\n\n\t\t//guiFolderAllotments.add(structure.geometry.parameters, \"depth\", 0, allotment.parameters.z)\n\t\t\n\t\t// console.log(\"allotment structure\", structure)\n\t\t\n\t\t/** BUILD BEDS IN THIS ALLOTMENT ************************************************** */\n\n\t\t//alert(\"HEY HEY HEY: BUILD BEDS??\")\n\n\t\tbuildBeds(\n\t\t\tparams.data.bed, \n\t\t\tplane, \n\t\t\tallotment.postID, // the post-to-post relationship <3\n\t\t\tstructure.position.x, structure.position.y, 0 //structure.position.z\n\t\t)\n\n\t\t/** INFOSPOTS ********************************************************************* */\n\n\t\t//alert(\"HEY HEY HEY: BUILD INFOSPOTS??\")\n\n\t\t// let infospot = makeInfospotSphere(\n\t\t// \tstructure.name, \n\t\t// \tstructure.position.x, \n\t\t// \tstructure.position.y, \n\t\t// \tallotment.parameters.z + 3,\n\t\t// \tallotment.postID,\n\t\t// \tstructure.userData.annotation,\n\t\t// \tstructure.userData.link \n\t\t// )\n\t\t// infospot.name = `INFOSPOT: ${structure.name}`\n\t\t// infospot.visible = true\n\n\t\t// guiFolderAllotments.add(infospot, \"visible\").name(\"InfoSphere\").listen()\n\n\t\t// plane.add(infospot)\n\n\t}) /** END ALLOTMENTS ****************************************************************** */\n\t\n\t// console.log(\"plane.children\", plane.children)\n}\n\n/**\n * BUILD \"BEDS\" FROM REST API POST OBJECT ************************************************************\n */\nfunction buildBeds(postObject, plane, allotmentID, posOffsetX, posOffsetY, posOffsetZ) {\n\n\t// console.log(\"BEDS postObject\", postObject)\n\t\n\t// only show beds for this allotment structure\n\tvar filteredPostObject = postObject.filter(function (obj) {\n\t\treturn obj.acf.bed_allotment == allotmentID\n\t})\n\t// console.log(\"filteredPostObject\", filteredPostObject)\n\n\tfilteredPostObject.forEach( function(key) {\n\n\t\t// console.log(\"-------------------------\")\n\t\t// console.log(\"key.id (postObject)------\")\n\t\t// console.log(key.id)\n\t\t// console.log(key)\n\t\t// console.log(\"-------------------------\")\n\n\t\tlet bed = {}\n\t\tbed.parameters = {}\n\t\tbed.position = {}\n\t\tbed.images = {}\n\t\tbed.parameters.x = parseInt(key.acf.bed_width) / 12\n\t\tbed.parameters.y = parseInt(key.acf.bed_length) / 12\n\t\tbed.parameters.z = parseInt(key.acf.bed_height) / 12\n\t\tbed.position.x = parseInt(key.acf.bed_position_x) / 12 + posOffsetX\n\t\tbed.position.y = parseInt(key.acf.bed_position_y) / 12 + posOffsetY\n\t\tbed.position.z = parseInt(key.acf.bed_position_z) / 12 + (bed.parameters.z / 2) // + posOffsetZ\n\t\tbed.images.texture = key.acf.bed_texture_image\n\t\tbed.images.featured = getFeaturedImage(key)\n\t\tbed.shape = key.acf.bed_shape\n\t\tbed.color = key.acf.bed_color\n\t\tbed.title = key.title.rendered\n\t\tbed.postID = key.id\n\t\tbed.description = key.content.rendered\n\t\tbed.link = key.link\n\n\t\t// console.log(\"bed\", bed)\n\n\t\tlet structure = getGeometry(\n\t\t\tbed.shape,\n\t\t\tbed.parameters.x, \n\t\t\tbed.parameters.y, \n\t\t\tbed.parameters.z, \n\t\t\tbed.color\n\t\t)\n\t\tstructure.name = bed.title\n\t\tstructure.userData.type = \"structure\"\n\t\tstructure.userData.postID = bed.postID\n\t\tstructure.userData.description = bed.description\n\t\tstructure.userData.annotation = bed.title\n\t\tstructure.userData.link = bed.link\n\t\tstructure.position.x = bed.position.x ? bed.position.x : 0\n\t\tstructure.position.y = bed.position.y ? bed.position.y : 0\n\t\tstructure.position.z = bed.position.z ? bed.position.z : 0\n\t\t//structure.rotation.x = -Math.PI / 2 // -90 degrees in radians\n\t\tstructure.material.roughness = 0.9\n\t\tif (bed.images.texture != null && bed.images.texture != false) {\n\t\t\tstructure.material.map = loaderTexture.load(bed.images.texture)\n\t\t\tfor (let i = 0;i < structure.material.length;i++) {\n\t\t\t\t// hightlight object\n\t\t\t\t//structure.material[i].color.set(0xff0000)\n\t\t\t\tstructure.material[i].map = loaderTexture.load(bed.images.texture)\n\t\t\t\t//structure.faces[i].materialIndex = 1\n\t\t\t\t//console.log(intersects[i])\n\t\t\t\t// structure.material[i].bumpMap = loaderTexture.load(bed.images.texture)\n\t\t\t\t// structure.material[i].bumpScale = 0.05\n\t\t\t\tlet structureTextureMap = structure.material[i].map\n\t\t\t\tstructureTextureMap.wrapS = THREE.RepeatWrapping\n\t\t\t\tstructureTextureMap.wrapT = THREE.RepeatWrapping\n\t\t\t\tstructureTextureMap.repeat.set(4, 4)\n\t\t\t}\n\t\t}\n\t\t\n\t\tplane.add(structure)\n\n\t\tparams.colliders.push(structure)\n\t\t\n\t\t// console.log(\"bed structure\", structure)\n\t\t\n\t\t/** BUILD PLANTS IN THIS BED, ACCORDING TO PLANTING PLANS ************************* */\n\n\t\t//alert(\"HEY HEY HEY: BUILD PLANTING PLANS??\")\n\n\t\tbuildPlantingPlans(\n\t\t\tparams.data.planting_plan, \n\t\t\tplane, \n\t\t\tbed.postID, // the post-to-post relationship <3\n\t\t\tstructure.position.x, structure.position.y, 0 //structure.position.z\n\t\t)\n\t\n\t\t/** INFOSPOTS ********************************************************************* */\n\t\t\n\t\t//alert(\"HEY HEY HEY: BUILD INFOSPOTS??\")\n\t\t\n\t\t// let infospot = makeInfospotSphere(\n\t\t// \tstructure.name, \n\t\t// \tstructure.position.x, \n\t\t// \tstructure.position.y, \n\t\t// \tbed.parameters.z + 3,\n\t\t// \tbed.postID,\n\t\t// \tstructure.userData.annotation,\n\t\t// \tstructure.userData.link \n\t\t// )\n\t\t// infospot.name = `INFOSPOT: ${structure.name}`\n\t\t// infospot.visible = false\n\n\t\t// guiFolderBeds.add(infospot, \"visible\").name(\"InfoSphere\").listen()\n\n\t\t// plane.add(infospot)\n\n\t}) /** END BEDS *********************************************************************** */\n\t\n\t// console.log(\"plane.children\", plane.children)\n}\n\n/**\n * BUILD \"PLANTS\" FROM REST API POST OBJECT ************************************************************\n */\nfunction buildPlantingPlans(postObject, plane, bedID, posOffsetX, posOffsetY, posOffsetZ) {\n\n\t// console.log(\"PLANTING PLANS postObject\", postObject)\n\n\t// only show plants for this planting plan's bed structure\n\tvar filteredPostObject = []\n\tvar matches = []\n\tpostObject.forEach(function (obj) {\n\t\tobj.acf.planting_plan_bed_plant_schedule.forEach(function(i) {\n\t\t\tif ( i.planting_plan_bed == bedID ) {\n\t\t\t\t//console.log(\"MATCHED at: \", i)\n\t\t\t\t//matches.push(i)\n\t\t\t\t//matches.push(obj)\n\t\t\t\tmatches.pushIfNotExist(obj, function(e) {\n\t\t\t\t\treturn e.id === obj.id \n\t\t\t\t})\n\t\t\t}\n\t\t})\n\t\tfilteredPostObject = [...matches]\n\t})\n\n\tif ( filteredPostObject.length > 0 ) {\n\t\tconsole.log(\"filteredPostObject\", filteredPostObject)\n\t}\n\n\t// for each planting plan..\n\tfilteredPostObject.forEach( function(key) {\n\n\t\t// console.log(\"-------------------------\")\n\t\t// console.log(\"key.id (filteredPostObject)\")\n\t\t// console.log(key.id)\n\t\t// console.log(key)\n\t\t// console.log(\"-------------------------\")\n\n\t\t// for each planting plan bed-plant schedule..\n\t\tkey.acf.planting_plan_bed_plant_schedule.forEach(function(key2) {\n\t\t\t\n\t\t\t// console.log(\"key2\", key2)\n\n\t\t\t// only for this bed..\n\t\t\tif ( key2.planting_plan_bed == bedID ) {\n\t\t\t\n\t\t\t\t// show this plant (or multiple plants) in this bed..\n\t\t\t\tvar filteredPlant = params.data.plant.filter(function (obj) {\n\t\t\t\t\treturn obj.id == key2.planting_plan_plant\n\t\t\t\t})\n\n\t\t\t\t// console.log(\"filteredPlant\", filteredPlant)\n\n\t\t\t\t// for this plant in this bed..\n\t\t\t\tfilteredPlant.forEach(function(key3) {\n\n\t\t\t\t\t// console.log(\"key3\", key3)\n\n\t\t\t\t\tlet plant = {}\n\t\t\t\t\tplant.parameters = {}\n\t\t\t\t\tplant.position = {}\n\t\t\t\t\tplant.images = {}\n\t\t\t\t\tplant.parameters.x = Number(key3.acf.plant_width ) / 12\n\t\t\t\t\tplant.parameters.y = Number(key3.acf.plant_length) / 12\n\t\t\t\t\tplant.parameters.z = Number(key3.acf.plant_height) / 12\n\t\t\t\t\tplant.position.x = parseInt(key2.plant_position_x) / 12 + posOffsetX\n\t\t\t\t\tplant.position.y = parseInt(key2.plant_position_y) / 12 + posOffsetY\n\t\t\t\t\tplant.position.z = parseInt(key2.plant_position_z) / 12 + (plant.parameters.z / 2) // + posOffsetZ\n\t\t\t\t\tplant.images.texture = key3.acf.plant_texture_image\n\t\t\t\t\tplant.images.featured = getFeaturedImage(key)\n\t\t\t\t\tplant.shape = key3.acf.plant_shape\n\t\t\t\t\tplant.color = key3.acf.plant_color\n\t\t\t\t\tplant.title = key3.title.rendered\n\t\t\t\t\tplant.postID = key3.id\n\t\t\t\t\tplant.description = key3.content.rendered\n\t\t\t\t\tplant.link = key3.link\n\n\t\t\t\t\tconsole.log(\"PLANT\", plant)\n\n\t\t\t\t\tlet structure = getGeometry(\n\t\t\t\t\t\tplant.shape, // \"Tree\", \"Bush\", \"Box\",\n\t\t\t\t\t\tplant.parameters.x, \n\t\t\t\t\t\tplant.parameters.y, \n\t\t\t\t\t\tplant.parameters.z, \n\t\t\t\t\t\tplant.color\n\t\t\t\t\t)\n\t\t\t\t\tstructure.name = plant.title\n\t\t\t\t\tstructure.userData.type = \"structure\"\n\t\t\t\t\tstructure.userData.postID = plant.postID\n\t\t\t\t\tstructure.userData.description = plant.description\n\t\t\t\t\tstructure.userData.annotation = plant.title\n\t\t\t\t\tstructure.userData.link = plant.link\n\t\t\t\t\tstructure.position.x = plant.position.x ? plant.position.x : 0\n\t\t\t\t\tstructure.position.y = plant.position.y ? plant.position.y : 0\n\t\t\t\t\tstructure.position.z = plant.position.z ? plant.position.z : 0\n\t\t\t\t\tstructure.rotation.x = Math.PI / 2 // 90 degrees in radians\n\t\t\t\t\tstructure.material.roughness = 0.9\n\t\t\t\t\tif (plant.images.texture != null && plant.images.texture != false) {\n\t\t\t\t\t\tstructure.material.map = loaderTexture.load(plant.images.texture)\n\t\t\t\t\t\tfor (let i = 0;i < structure.material.length;i++) {\n\t\t\t\t\t\t\t// hightlight object\n\t\t\t\t\t\t\t//structure.material[i].color.set(0xff0000)\n\t\t\t\t\t\t\tstructure.material[i].map = loaderTexture.load(plant.images.texture)\n\t\t\t\t\t\t\t//structure.faces[i].materialIndex = 1\n\t\t\t\t\t\t\t//console.log(intersects[i])\n\t\t\t\t\t\t\t// structure.material[i].bumpMap = loaderTexture.load(plant.images.texture)\n\t\t\t\t\t\t\t// structure.material[i].bumpScale = 0.05\n\t\t\t\t\t\t\tlet structureTextureMap = structure.material[i].map\n\t\t\t\t\t\t\tstructureTextureMap.wrapS = THREE.RepeatWrapping\n\t\t\t\t\t\t\tstructureTextureMap.wrapT = THREE.RepeatWrapping\n\t\t\t\t\t\t\tstructureTextureMap.repeat.set(4, 4)\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tconsole.log(\"plant structure\", structure)\n\t\t\t\t\t\n\t\t\t\t\tplane.add(structure)\n\n\t\t\t\t\t// colliders\n\t\t\t\t\tparams.colliders.push(structure)\n\t\t\t\t\n\t\t\t\t\t/** INFOSPOTS ********************************************************************* */\n\t\t\t\t\n\t\t\t\t\t// let infospot = makeInfospotSphere(\n\t\t\t\t\t// \tstructure.name, \n\t\t\t\t\t// \tstructure.position.x, \n\t\t\t\t\t// \tstructure.position.y, \n\t\t\t\t\t// \tplant.parameters.z + 3,\n\t\t\t\t\t// \tplant.postID,\n\t\t\t\t\t// \tstructure.userData.annotation,\n\t\t\t\t\t// \tstructure.userData.link \n\t\t\t\t\t// )\n\t\t\t\t\t// infospot.name = `INFOSPOT: ${structure.name}`\n\t\t\t\t\t// infospot.visible = false\n\n\t\t\t\t\t// guiFolderBeds.add(infospot, \"visible\").name(\"InfoSphere\").listen()\n\n\t\t\t\t\t// plane.add(infospot)\n\t\t\t\n\t\t\t\t})\n\n\t\t\t} // end if\n\n\t\t})\n\n\t}) /** END PLANTS *************************************************************************** */\n\t\n\t// console.log(\"plane.children\", plane.children)\n}\n\n\nfunction getGeometry(shape, x, y, z, color){\n\tlet geometry\n\tlet material\n\tlet mesh\n\tswitch (shape) {\n\t\tcase \"Box\":\n\t\t\tgeometry = new THREE.BoxGeometry(x, y, z)\n\t\t\t// let opacMaterial = new THREE.MeshStandardMaterial({\n\t\t\t// \ttransparent: true, \n\t\t\t// \topacity: 0.0,\n\t\t\t// \talphaTest: 1.0,\n\t\t\t// \tcolor: color,\n\t\t\t// \tside: THREE.DoubleSide,\n\t\t\t// \tdepthWrite: false\n\t\t\t// })\n\t\t\tmaterial = new THREE.MeshStandardMaterial({\n\t\t\t\ttransparent: true, \n\t\t\t\topacity: 0.8,\n\t\t\t\tcolor: color,\n\t\t\t\tside: THREE.DoubleSide,\n\t\t\t\tdepthWrite: true\n\t\t\t})\n\t\t\tmesh = new THREE.Mesh(\n\t\t\t\tgeometry, \n\t\t\t\t[\n\t\t\t\t\tmaterial, material, \n\t\t\t\t\tmaterial, material\n\t\t\t\t]\n\t\t\t)\n\t\t\tmesh.castShadow = true\n\t\t\tbreak\n\n\t\tcase \"Cone\":\n\t\t\tgeometry = new THREE.ConeGeometry(x/2, y/2, z, 32, 1, true)\n\t\t\tmaterial = new THREE.MeshStandardMaterial({\n\t\t\t\tcolor: color,\n\t\t\t\tside: THREE.DoubleSide\n\t\t\t})\n\t\t\tmesh = new THREE.Mesh(geometry, material)\n\t\t\tmesh.castShadow = true\n\t\t\tmesh.rotation.x = Math.PI / 2 // 90 degrees in radians\n\t\t\tbreak\n\n\t\tcase \"Cylinder\":\n\t\t\tgeometry = new THREE.CylinderGeometry(x/2, y/2, z, 32, 1, true)\n\t\t\tmaterial = new THREE.MeshStandardMaterial({\n\t\t\t\tcolor: color,\n\t\t\t\tside: THREE.DoubleSide\n\t\t\t})\n\t\t\tmesh = new THREE.Mesh(geometry, material)\n\t\t\tmesh.castShadow = true\n\t\t\tmesh.rotation.x = Math.PI / 2 // 90 degrees in radians\n\t\t\tbreak\n\n\t\tcase \"InfoSphere\":\n\t\t\tgeometry = new THREE.SphereGeometry(x, y, z)\n\t\t\tmaterial = new THREE.MeshStandardMaterial({\n\t\t\t\tcolor: color,\n\t\t\t\tside: THREE.DoubleSide\n\t\t\t})\n\t\t\tmesh = new THREE.Mesh(geometry, material)\n\t\t\tmesh.castShadow = true\n\t\t\t//mesh.rotation.x = Math.PI / 2 // 90 degrees in radians\n\t\t\tbreak\n\n\t\tcase \"Sphere\":\n\t\t\tgeometry = new THREE.SphereGeometry(x, y, z)\n\t\t\tmaterial = new THREE.MeshStandardMaterial({\n\t\t\t\tcolor: color,\n\t\t\t\tside: THREE.DoubleSide\n\t\t\t})\n\t\t\tmesh = new THREE.Mesh(geometry, material)\n\t\t\tmesh.castShadow = true\n\t\t\t//mesh.rotation.x = Math.PI / 2 // 90 degrees in radians\n\t\t\tbreak\n\n\t\tcase \"Tree\":\n\t\t\tlet tree = new THREE.Tree({\n\t\t\t\tgenerations : 3,        // # for branch hierarchy\n\t\t\t\tlength      : 1.0,      // length of root branch\n\t\t\t\tuvLength    : 3.0,      // uv.v ratio against geometry length (recommended is generations * length)\n\t\t\t\tradius      : 0.1,      // radius of root branch\n\t\t\t\tradiusSegments : 8,     // # of radius segments for each branch geometry\n\t\t\t\theightSegments : 8      // # of height segments for each branch geometry\n\t\t\t})\n\t\t\tgeometry = THREE.TreeGeometry.build(tree)\n\t\t\t//geometry = new THREE.SphereGeometry(x, y, z)\n\t\t\tmaterial = new THREE.MeshStandardMaterial({\n\t\t\t\tcolor: color,\n\t\t\t\tside: THREE.DoubleSide\n\t\t\t})\n\t\t\tmesh = new THREE.Mesh(geometry, material)\n\t\t\tmesh.castShadow = true\n\t\t\t//mesh.rotation.x = Math.PI / 2 // 90 degrees in radians\n\t\t\tbreak\n\n\t\tcase \"Bush\":\n\n\t\t\t// [MM]\n\n\t\t\t// CAST\n\t\t\tgeometry = new THREE.BoxGeometry(x, y, z)\n\n\t\t\t//color = new THREE.Color(0xff0000)\n\t\t\tcolor = new THREE.Color(\"rgb(153,90,0)\")\n\n\t\t\t// material = new THREE.MeshPhongMaterial({ color: color, wireframe: false })\n\t\t\t// material = new THREE.MeshStandardMaterial({\n\t\t\t// \ttransparent: true, \n\t\t\t// \topacity: 0.8,\n\t\t\t// \tcolor: color,\n\t\t\t// \tside: THREE.DoubleSide,\n\t\t\t// \tdepthWrite: true\n\t\t\t// })\n\t\t\t\n\t\t\t//mesh = new THREE.Mesh(geometry, material)\n\t\t\t// mesh = new THREE.Mesh(\n\t\t\t// \tgeometry, \n\t\t\t// \t[\n\t\t\t// \t\tmaterial, material, \n\t\t\t// \t\tmaterial, material\n\t\t\t// \t]\n\t\t\t// )\n\n\t\t\t// mesh.castShadow = true\n\t\t\t\n\t\t\t// [MM]\n\t\t\t//scene.add(mesh)\n\n\t\t\t// mesh.matrix.makeTranslation(0,-125,0)\n\t\t\t// mesh.matrixAutoUpdate = false\n\t\t\t\n\t\t\tvar levels = 4 // slow? lower this\n\t\t\tvar edge_w = 100\n\t\t\tvar edge_h = 150\n\n\t\t\tfunction bush(n, mat, c) {\n\t\t\t\tif(n > 0) {\n\t\t\t\t\tvar new_mat = new THREE.Matrix4()\n\t\t\t\t\tvar new_mat2 = new THREE.Matrix4()\n\t\t\t\t\tvar new_mat_t0 = new THREE.Matrix4()\n\t\t\t\t\tvar new_mat_t = new THREE.Matrix4()\n\t\t\t\t\tvar new_mat_r = new THREE.Matrix4()\n\t\t\t\t\tvar new_mat_r2 = new THREE.Matrix4()\n\t\t\t\t\tvar new_mat_s = new THREE.Matrix4()\n\t\t\t\t\tvar mat2 = mat.clone()\n\t\t\t\t\tvar col1 = c.clone()\n\t\t\t\t\tvar col2 = c.clone()\n\t\t\t\t\t//col1.offsetHSL(0.12,0,0)\n\t\t\t\t\tcol1.g += 0.64/levels\n\t\t\t\t\tmaterial = new THREE.MeshPhongMaterial( { color:col1, wireframe: false } )\n\t\t\t\t\tmesh = new THREE.Mesh(geometry, material)\n\t\t\t\t\tnew_mat_t0.makeTranslation(edge_w/2,0,0)\n\t\t\t\t\tnew_mat_t.makeTranslation(0,edge_h,0)\n\t\t\t\t\tnew_mat_r.makeRotationZ(-Math.PI/4)\n\t\t\t\t\tnew_mat_r2.makeRotationY(Math.PI/2)\n\t\t\t\t\tnew_mat_s.makeScale(0.75,0.75,0.75)\n\t\t\t\t\tnew_mat.multiply(new_mat_r2)  //      \n\t\t\t\t\tnew_mat.multiply(new_mat_t0)\n\t\t\t\t\tnew_mat.multiply(new_mat_r)        \n\t\t\t\t\tnew_mat.multiply(new_mat_s)        \n\t\t\t\t\tnew_mat.multiply(new_mat_t)\n\t\t\t\t\tnew_mat.multiply(mat)\n\t\t\t\t\tmesh.matrix.copy(new_mat)\n\t\t\t\t\tmesh.matrixAutoUpdate=false\n\t\t\t\t\tmesh.updateMatrix=false //\n\t\t\t\t\tscene.add(mesh)\n\t\t\t\t\tbush(n-1, mesh.matrix.clone(), col1)\n\t\t\t\n\t\t\t\t\t//col2.offsetHSL(0.12,0,0)\n\t\t\t\t\tcol2.g += 0.64/levels\n\t\t\t\t\tmaterial = new THREE.MeshPhongMaterial( { color:col2, wireframe: false } )\n\t\t\t\t\tmesh = new THREE.Mesh(geometry, material)\n\t\t\t\t\tnew_mat_t0.makeTranslation(-edge_w/2,0,0)\n\t\t\t\t\tnew_mat_t.makeTranslation(0,edge_h,0)\n\t\t\t\t\tnew_mat_r.makeRotationZ(Math.PI/4)\n\t\t\t\t\tnew_mat_r2.makeRotationY(Math.PI/2)\n\t\t\t\t\tnew_mat_s.makeScale(0.75,0.75,0.75)\n\t\t\t\t\tnew_mat2.multiply(new_mat_r2)\n\t\t\t\t\tnew_mat2.multiply(new_mat_t0)\n\t\t\t\t\tnew_mat2.multiply(new_mat_r)\n\t\t\t\t\tnew_mat2.multiply(new_mat_s)\n\t\t\t\t\tnew_mat2.multiply(new_mat_t)\n\t\t\t\t\tnew_mat2.multiply(mat)\n\t\t\t\t\tmesh.matrix.copy(new_mat2)\n\t\t\t\t\tmesh.matrixAutoUpdate=false\n\t\t\t\t\tmesh.updateMatrix=false //\n\t\t\t\t\tscene.add(mesh)\n\t\t\t\t\tbush(n-1, mesh.matrix.clone(), col2)\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\t// [MM]\n\t\t\t//bush(levels, mesh.matrix, color)\n\n\t\tdefault:\n\t\t\tgeometry = new THREE.BoxGeometry(x, y, z)\n\t\t\tmaterial = new THREE.MeshStandardMaterial({\n\t\t\t\tcolor: color,\n\t\t\t\tside: THREE.DoubleSide\n\t\t\t})\n\t\t\tmesh = new THREE.Mesh(geometry, material)\n\t\t\tmesh.castShadow = true\n\t\t\tbreak\n\t}\n\t\n\treturn mesh\n}\n\nfunction getPlane(x, y, color){\n\tlet geometry = new THREE.PlaneGeometry(x, y)\n\tlet material = new THREE.MeshStandardMaterial({\n\t\tcolor: color,\n\t\tside: THREE.DoubleSide\n\t})\n\tlet mesh = new THREE.Mesh(geometry, material)\n\tmesh.receiveShadow = true\n\treturn mesh\n}\n\nfunction getPointLight(color, intensity){\n\tlet light = new THREE.PointLight(color, intensity)\n\tlight.castShadow = true\n\tlight.shadow.bias = 0.001\n\tlight.shadow.mapSize.width = 4096 //default = 1024\n\tlight.shadow.mapSize.height = 4096 //default = 1024\n\treturn light\n}\n\nfunction getSpotLight(color, intensity){\n\tlet light = new THREE.SpotLight(color, intensity)\n\tlight.castShadow = true\n\tlight.shadow.bias = 0.001\n\tlight.shadow.mapSize.width = 2048 //default = 1024\n\tlight.shadow.mapSize.height = 2048 //default = 1024\n\treturn light\n}\n\nfunction getDirectionalLight(color, intensity){\n\tlet light = new THREE.DirectionalLight(color, intensity)\n\tlight.castShadow = true\n\tlight.shadow.bias \t\t\t= 0.0001\n\tlight.shadow.mapSize.width \t= 4096 //default = 512\n\tlight.shadow.mapSize.height = 4096 //default = 512\n\tlight.shadow.camera.left \t= -1000 //default = -5\n\tlight.shadow.camera.bottom \t= -1000 //default = -5\n\tlight.shadow.camera.right \t= 1000 //default = 5\n\tlight.shadow.camera.top \t= 1000 //default = 5\n\tlight.shadow.camera.near \t= 0.5 // default\n\tlight.shadow.camera.far \t= 500 // default\n\treturn light\n}\n\nfunction getAmbientLight(color, intensity){\n\tlet light = new THREE.AmbientLight(color, intensity)\n\treturn light\n}\n\n\n/**\n * INFOSPOTS **************************************************************************************\n */\nfunction makeInfospotSprite(message, positionX, positionY, positionZ) {\n\t/**\n\t * infospot\n\t */\n\tlet infospotCanvas = document.querySelector(\"#infospot\")\n\tlet ctx = infospotCanvas.getContext(\"2d\")\n\tlet x = 32\n\tlet y = 32\n\tlet radius = 30\n\tlet startAngle = 0\n\tlet endAngle = Math.PI * 2\n\t// background\n\tctx.fillStyle = \"rgba(0, 0, 0, 0.8)\"\n\tctx.beginPath()\n\tctx.arc(x, y, radius, startAngle, endAngle)\n\tctx.fill()\n\t// border\n\tctx.strokeStyle = \"rgba(255, 255, 255, 0.8)\"\n\tctx.lineWidth = 4\n\tctx.beginPath()\n\tctx.arc(x, y, radius, startAngle, endAngle)\n\tctx.stroke()\n\t// foreground\n\tctx.fillStyle = \"rgba(255, 255, 255, 0.8)\"\n\tctx.font = \"40px sans-serif\"\n\tctx.textAlign = \"center\"\n\tctx.textBaseline = \"middle\"\n\t// text\n\tctx.fillText(message, x, y)\n\n\tconst infospotTexture = new THREE.CanvasTexture(\n\t\tinfospotCanvas[0]\n\t\t//document.querySelector(\"#infospot\")\n\t\t//$(\"#infospot\")\n\t)\n\n\tconst infospotMaterial = new THREE.SpriteMaterial({\n\t\tmap: infospotTexture,\n\t\topacity: 0.8,\n\t\ttransparent: true,\n\t\tdepthTest: false,\n\t\tdepthWrite: false\n\t})\n\n\tlet infospot = new THREE.Sprite(infospotMaterial)\n\tinfospot.position.set(positionX, positionY, positionZ)\n\tinfospot.scale.set(2, 2, 2)\n\tinfospot.visible = true\n\n\treturn infospot\n}\n\nfunction makeInfospotSphere(message, positionX, positionY, positionZ, postID, contentHTML, link) {\n\t/**\n\t * INFOSPOT ********************************************************************\n\t */\n\tlet structure = getGeometry(\n\t\t\"InfoSphere\",\n\t\t0.90, // radius\n\t\t32, // width segments\n\t\t32, // height segments\n\t\t0x2e3959\n\t)\t\n\tstructure.name = message\n\tstructure.userData.type = \"infospot\"\n\tstructure.userData.postID = postID\n\tstructure.userData.description = \"\"\n\tstructure.userData.annotation = contentHTML\n\tstructure.userData.link = link\n\t// structure.position.x = positionX\n\t// structure.position.y = positionY\n\t// structure.position.z = positionZ\n\tstructure.position.set(positionX, positionY, positionZ)\n\t//structure.rotation.x = -Math.PI / 2 // -90 degrees in radians\n\t//structure.scale.set(2, 2, 2)\n\tstructure.visible = true\n\t\t\n\t/** \n\t * ANNOTATION ****************************************************************** \n\t */\n\t//\n\tlet vector = new THREE.Vector3(structure.position.x, structure.position.y, 0) //camera.position.z //structure.position.z\n\t// camera.updateProjectionMatrix()\n\t// camera.updateMatrixWorld()\n\t// let vector = new THREE.Vector3()\n\t// vector.setFromMatrixPosition(structure.matrixWorld)\n\tvector.project(camera)\n\n\tvector.x = Math.round((0.5 + vector.x / 2) * (renderer.domElement.width / window.devicePixelRatio))\n\tvector.y = Math.round((0.5 - vector.y / 2) * (renderer.domElement.height / window.devicePixelRatio))\n\t// vector.x = (structure.position.x / (window.innerWidth - 240)) * 2 - 1\n\t// vector.y = -(structure.position.y / (window.innerHeight - 100)) * 2 + 1\n\t// vector.x = Math.round( (   vector.x + 1 ) * renderer.domElement.width / 2 )\n\t// vector.y = Math.round( ( - vector.y + 1 ) * renderer.domElement.height / 2 )\n\n\tlet annoPosTop = vector.x\n\tlet annoPosLeft = vector.y\n\n\tlet annotation = makeAnnotation(\n\t\tstructure.userData.link,\n\t\tstructure.name,\n\t\tannoPosTop, \n\t\tannoPosLeft\n\t)\n\tannotation.name = `ANNOTATION: ${structure.name}`\n\tannotation.userData.type = \"annotation\"\n\tannotation.userData.postID = postID\n\tannotation.userData.description = \"\"\n\tannotation.userData.annotation = structure.name\n\tannotation.userData.link = link\n\tannotation.visible = false // does nothing, but keeps status accurate\n\n\t// console.log(\"annotation\", annotation)\n\t\n\tstructure.add(annotation)\n\t\n\treturn structure\n}\n\nfunction makeAnnotation(link, contentHTML, positionX, positionY) {\n\n\tlet annoDiv = document.createElement(\"div\")\n\tannoDiv.classList.add(\"annotation\")\n\tannoDiv.innerHTML = `\n\t\t<a href=\"${link}\" target=\"_blank\">${contentHTML}</a>\n\t\t(${positionX}, ${positionY})\n\t\t<span class=\"dismiss\" onclick=\"dismiss(this)\">x</span>\n\t`\n\tannoDiv.hidden = true\n\tannoDiv.style.display = \"none\" // block\n\tannoDiv.style.top = `${positionY}px`\n    annoDiv.style.left = `${positionX}px`\n\tguiFolderAnnotations.add(annoDiv, \"hidden\").listen()\n\tguiFolderAnnotations.add(annoDiv.style, \"display\").listen()\n\tguiFolderAnnotations.add(annoDiv.style, \"top\").listen()\n\tguiFolderAnnotations.add(annoDiv.style, \"left\").listen()\n\tdocument.body.appendChild( annoDiv )\n\n\t// make the div element draggable\n\tdragElement(annoDiv)\n\n\tlet cssObject = { userData: {} } // new THREE.CSS3DObject( annoDiv )\n\t// trying to do stuff to a cssObject does nothing :(\n\t// // we reference the same position and rotation \n\t// cssObject.position = rendererDomElement.position\n\t// cssObject.rotation = rendererDomElement.rotation\n\t// cssObject.position.set(positionX, positionY, positionZ)\n\t// cssObject.scale.set(3, 3, 3)\n\t// cssObject.visible = true\n\t\n\t// console.log(\"cssObject\", cssObject)\n\t\n\t//return annoDiv\n\treturn cssObject\n}\n\nfunction makeTextSprite(message, parameters) {\n\tif ( parameters === undefined ) parameters = {}\n\tlet fontface = parameters.hasOwnProperty(\"fontface\") ? \n\t\tparameters[\"fontface\"] : \"Arial\"\n\tlet fontsize = parameters.hasOwnProperty(\"fontsize\") ? \n\t\tparameters[\"fontsize\"] : 18\n\tlet borderThickness = parameters.hasOwnProperty(\"borderThickness\") ? \n\t\tparameters[\"borderThickness\"] : 4\n\tlet borderColor = parameters.hasOwnProperty(\"borderColor\") ?\n\t\tparameters[\"borderColor\"] : { r:0, g:0, b:0, a:1.0 }\n\tlet backgroundColor = parameters.hasOwnProperty(\"backgroundColor\") ?\n\t\tparameters[\"backgroundColor\"] : { r:255, g:255, b:255, a:1.0 }\n\t\t\n\tlet newCanvas = document.createElement(\"canvas\")\n\tlet context = newCanvas.getContext(\"2d\")\n\tcontext.font = \"Bold \" + fontsize + \"px \" + fontface\n\t//context.textAlign = \"center\"\n    \n\t// get size data (height depends only on font size)\n\tlet metrics = context.measureText( message )\n\tlet textWidth = metrics.width\n\t// console.log(\"textWidth metrics\", textWidth)\n\n\t// background color\n\tcontext.fillStyle   = \"rgba(\" + backgroundColor.r + \",\" + backgroundColor.g + \",\"\n\t\t\t\t\t\t\t\t  + backgroundColor.b + \",\" + backgroundColor.a + \")\"\n\t// border color\n\tcontext.strokeStyle = \"rgba(\" + borderColor.r + \",\" + borderColor.g + \",\"\n\t\t\t\t\t\t\t\t  + borderColor.b + \",\" + borderColor.a + \")\"\n\n\tcontext.lineWidth = borderThickness\n\troundRect(\n\t\tcontext, \n\t\tborderThickness/2, \n\t\tborderThickness/2, \n\t\ttextWidth + borderThickness, \n\t\tfontsize * 1.4 + borderThickness, \n\t\t6\n\t)\n\t// 1.4 is extra height factor for text below baseline: g,j,p,q.\n\t\n\t// text color\n\tcontext.fillStyle = \"rgba(0, 0, 0, 1.0)\"\n\n\tcontext.fillText( message, borderThickness, fontsize + borderThickness)\n\t\n\t// canvas contents will be used for a texture\n\tlet texture = new THREE.Texture(newCanvas)\n\ttexture.needsUpdate = true\n\n\tlet spriteMaterial = new THREE.SpriteMaterial( \n\t\t{\n\t\t\tmap: texture,\n\t\t\ttransparent: true,\n\t\t\tdepthTest: false,\n\t\t\tdepthWrite: false \n\t\t} //, useScreenCoordinates: false, alignment: spriteAlignment\n\t)\n\tlet sprite = new THREE.Sprite( spriteMaterial )\n\tsprite.scale.set(50, 25, 1.0)\n\n\treturn sprite\n}\n\n// function for drawing rounded rectangles\nfunction roundRect(ctx, x, y, w, h, r) {\n    ctx.beginPath()\n    ctx.moveTo(x+r, y)\n    ctx.lineTo(x+w-r, y)\n    ctx.quadraticCurveTo(x+w, y, x+w, y+r)\n    ctx.lineTo(x+w, y+h-r)\n    ctx.quadraticCurveTo(x+w, y+h, x+w-r, y+h)\n    ctx.lineTo(x+r, y+h)\n    ctx.quadraticCurveTo(x, y+h, x, y+h-r)\n    ctx.lineTo(x, y+r)\n    ctx.quadraticCurveTo(x, y, x+r, y)\n    ctx.closePath()\n    ctx.fill()\n\tctx.stroke()   \n}\n\nfunction updateAnnotationOpacity(camera, meshPosition, annotationPosition) {\n    const meshDistance = camera.position.distanceTo(meshPosition)\n    const annotationDistance = camera.position.distanceTo(annotationPosition)\n    let annotationBehindObject = annotationDistance > meshDistance\n    //annotation.material.opacity = annotationBehindObject ? 0.5 : 1\n\n    // Do you want an infospot that changes size according to its position?\n    // Comment out the following line and the `::before` pseudo-element.\n    //annotation.material.opacity = 1\n}\n\nfunction updateAnnotationPosition(camera, width, height, positionX, positionY, positionZ, annotation) {\n    let vector = new THREE.Vector3(positionX, positionY, positionZ)\n\t//let annotation = $(\".annotation\")[0]\n\n    vector.project(camera)\n\n    vector.x = Math.round((0.5 + vector.x / 2) * (width / window.devicePixelRatio))\n    vector.y = Math.round((0.5 - vector.y / 2) * (height / window.devicePixelRatio))\n\n    annotation.style.top = `${vector.y}px`\n    annotation.style.left = `${vector.x}px`\n    //annotation.style.opacity = annotationBehindObject ? 0.25 : 1\n\tannotation.style.opacity = 1\n\tannotation.style.display = \"block\"\n\t// console.log(\"------------------\")\n\t// console.log(\"annotation--------\")\n\t// console.log(annotation)\n\t// console.log(\"------------------\")\n}\n\n/**\n * POINTER HOVERS + CLICKS ********************************************************************\n */\n\n// when the pointer moves and hovers\nfunction watchPointer(camera, targetList) {\n\n\t//console.log(\"targetList\", targetList)\n\t\n\t// update the picking ray with the camera and pointer position\n\traycaster.setFromCamera(pointer, camera)\n\t//raycaster.set( camera.getWorldPosition(), camera.getWorldDirection() )\n\n\t//let helper2 = new THREE.CameraHelper(directionalLight.shadow.camera)\n\n\t// calculate objects intersecting the picking ray\n\t//const intersects = raycaster.intersectObjects(targetList, true)\n\tlet intersects = []\n\ttry {\n\t\tintersects = raycaster.intersectObjects(targetList, true)\n\t} catch(e) {\n\t\tintersects = []\n\t}\n\n\t// if there is one (or more) intersections\n\tif ( intersects.length > 0 ) {\n\n\t\t// console.log(\"INTERSECTS\", intersects)\n\t\t// return\n\n\t\t// do something to object intersected? (testing purposes only)\n\t\t// for (let i = 0;i < intersects.length;i++) {\n\t\t// \t// hightlight object\n\t\t// \tfor (let j = 0;j < intersects[i].object.material.length;j++) {\n\t\t// \t\tintersects[i].object.material[j].color.setHex( 0xff0000 )\n\t\t// \t}\n\t\t// }\n\n\t\t// if the closest object intersected is not the currently stored intersection object\n\t\tif ( intersects[0].object != params.intersectedObject1 ) {\n\n\t\t\t// restore previous intersection object (if it exists) to its original color\n\t\t\tif ( params.intersectedObject1 ) {\n\t\t\t\tif ( params.intersectedObject1.material.constructor.name == \"Array\" ) {\n\t\t\t\t\tfor (let i = 0;i < params.intersectedObject1.material.length;i++) {\n\t\t\t\t\t\tparams.intersectedObject1.material[i].color.setHex( params.intersectedObject1.currentHex )\n\t\t\t\t\t}\n\t\t\t\t} \n\t\t\t\telse {\n\t\t\t\t\tparams.intersectedObject1.material.color.setHex( params.intersectedObject1.currentHex )\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// store reference to closest object as current intersection object\n\t\t\tparams.intersectedObject1 = intersects[0].object\n\n\t\t\t// console.log(\"params.intersectedObject1, params.intersectedObject1)\n\n\t\t\tif ( params.intersectedObject1.material.constructor.name == \"Array\" ) {\n\t\t\t\t// SEPARATE FOR LOOPS !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!\n\t\t\t\t// store color of closest object (for later restoration)\n\t\t\t\tfor (let i = 0;i < params.intersectedObject1.material.length;i++) {\n\t\t\t\t\tparams.intersectedObject1.currentHex = params.intersectedObject1.material[i].color.getHex()\n\t\t\t\t}\n\t\t\t\t// set a new color for closest object\n\t\t\t\tfor (let i = 0;i < params.intersectedObject1.material.length;i++) {\n\t\t\t\t\tparams.intersectedObject1.material[i].color.setHex( 0xdddd00 )\n\t\t\t\t}\n\t\t\t\t// SEPARATE FOR LOOPS !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!\n\t\t\t} \n\t\t\telse {\n\t\t\t\t// store color of closest object (for later restoration)\n\t\t\t\tparams.intersectedObject1.currentHex = params.intersectedObject1.material.color.getHex()\n\t\t\t\t// set a new color for closest object\n\t\t\t\tparams.intersectedObject1.material.color.setHex( 0xdddd00 )\n\t\t\t}\n\t\t\t\n\t\t}\n\t} \n\t// there are no intersections\n\telse {\n\t\t// restore previous intersection object (if it exists) to its original color\n\t\tif ( params.intersectedObject1 ) {\n\t\t\tif ( params.intersectedObject1.material.constructor.name == \"Array\" ) {\n\t\t\t\tfor (let i = 0;i < params.intersectedObject1.material.length;i++) {\n\t\t\t\t\tparams.intersectedObject1.material[i].color.setHex( params.intersectedObject1.currentHex )\n\t\t\t\t}\n\t\t\t} \n\t\t\telse {\n\t\t\t\tparams.intersectedObject1.material.color.setHex( params.intersectedObject1.currentHex )\n\t\t\t}\n\t\t}\n\t\t// remove previous intersection object reference\n\t\t// by setting current intersection object to \"nothing\"\n\t\tparams.intersectedObject1 = null\n\t}\n}\n\n\n// when the pointer moves, call the given function\n//document.addEventListener( \"pointermove\", onPointerMove, false )\nfunction onPointerMove( event ) {\n\n\t// the following line would stop any other event handler from firing\n\t// (such as the pointer's TrackballControls)\n\t// event.preventDefault()\n\t\n\t// update the pointer variable\n\t// pointer.x = (event.clientX / window.innerWidth) * 2 - 1\n\t// pointer.y = -(event.clientY / window.innerHeight) * 2 + 1\n\t// pointer.x = (event.offsetX / (window.innerWidth - 240)) * 2 - 1\n\t// pointer.y = -(event.offsetY / (window.innerHeight - 100)) * 2 + 1\n\tpointer.x = (event.offsetX / canvas.clientWidth) * 2 - 1\n\tpointer.y = -(event.offsetY / canvas.clientHeight) * 2 + 1\n\t// console.log(\"pointer hover, pointer.x, pointer.y) // probably shouldn't log this\n}\n\n/** \n * when the pointer moves, call the given function \n */\n// document.addEventListener( \"mousedown\", onDocumentMouseDown, false )\nfunction onDocumentMouseDown( e ) {\n\te.preventDefault();\n\n\tvar mouseVector = new THREE.Vector3(\n\t\t( e.clientX / window.innerWidth ) * 2 - 1,\n\t  - ( e.clientY / window.innerHeight) * 2 + 1,\n\t\t1 \n\t);\n\n\tprojector.unprojectVector( mouseVector, camera );\n\tvar raycaster = new THREE.Raycaster( camera.position, mouseVector.subSelf( camera.position ).normalize() );\n\n\t// create an array containing all objects in the scene with which the ray intersects\n\tvar intersects = raycaster.intersectObjects( scene.children );\n\tconsole.log(intersects);\n\tif (intersects.length>0){\n\t\tconsole.log(\"Intersected object:\", intersects.length);\n\t\tintersects[ 0 ].object.material.color.setHex( Math.random() * 0xffffff );\n\t}\n}\n// document.addEventListener( \"pointerdown\", onPointerDown, false )\nfunction onPointerDown(event) {\n\t\n\tconsole.log(\"event ****************************************\", event)\n\n\t// the following line would stop any other event handler from firing\n\t// (such as the pointer's TrackballControls)\n\tevent.preventDefault()\n\t\n\t// update the pointer variable\n\tpointer.x = (event.clientX / window.innerWidth) * 2 - 1\n\tpointer.y = -(event.clientY / window.innerHeight) * 2 + 1\n\t// pointer.x = (event.offsetX / canvas.clientWidth) * 2 - 1\n\t// pointer.y = -(event.offsetY / canvas.clientHeight) * 2 + 1\n\t// pointer.x = (event.offsetX / (window.innerWidth - 240)) * 2 - 1\n\t// pointer.y = -(event.offsetY / (window.innerHeight - 100)) * 2 + 1\n\tconsole.log(\"pointer clicked x y\", pointer.x, pointer.y)\n\n\t// find intersections\n\traycaster2.setFromCamera(pointer, event.target.camera)\n\t// raycaster2.set( \n\t// \tevent.target.camera.getWorldPosition(), \n\t// \tevent.target.camera.getWorldDirection() \n\t// )\n\tconsole.log(\"raycaster2\", raycaster2)\n\n\t// create an array containing all objects in the scene with which the raycaster2 intersects\n\t//var intersects = raycaster2.intersectObjects(event.target.targetList)\n\tconst intersects = raycaster2.intersectObjects(event.target.targetList)\n\tconsole.log(\"intersects\", intersects)\n\t\n\t// if there is one (or more) intersections\n\tif (intersects.length > 0) {\n\t\t//console.log(\"Hit @ \" + xyzToString( intersects[0].point ) )\n\t\t// change the color of the closest face.\n\t\t// intersects[0].face.color.setRGB( 0.8 * Math.random() + 0.2, 0, 0 ) \n\t\t// intersects[0].object.geometry.colorsNeedUpdate = true\n\n\t\t// if the closest object intersected is not the currently stored intersection object\n\t\tconst theIntersectedObject = intersects[0].object\n\t\t\n\t\t// for testing only\n\t\t// if ( theIntersectedObject != params.intersectedObject2 ) {\n\t\t// \tconsole.log(\"-----------------------------\")\n\t\t// \tconsole.log(\"params.intersectedObject2 null------------\")\n\t\t// \tconsole.log(\"theIntersectedObject NEW--------\")\n\t\t// \tconsole.log(theIntersectedObject)\n\t\t// \tconsole.log(\"-----------------------------\")\n\t\t// }\n\t\t// else {\n\t\t// \tconsole.log(\"-----------------------------\")\n\t\t// \tconsole.log(\"params.intersectedObject2 already stored--\")\n\t\t// \tconsole.log(\"theIntersectedObject -----------\")\n\t\t// \tconsole.log(theIntersectedObject)\n\t\t// \tconsole.log(\"-----------------------------\")\n\t\t// }\n\n\t\t// restore previous intersection object (if it exists) to its original color\n\t\tif ( params.intersectedObject2 ) {\n\t\t\t//params.intersectedObject2.material[i].color.setHex( params.intersectedObject2.currentHex )\n\t\t\t// zoom out\n\t\t\t//panCam(100, 200, 200, 800, event.target.camera, event.target.controls)\n\t\t} \n\t\telse {\n\t\t\t// zoom in\n\t\t\t//panCam(params.intersectedObject2.position.x, params.intersectedObject2.position.y, params.intersectedObject2.position.z, 800, event.target.camera, event.target.controls)\t\n\t\t}\n\t\t// store reference to closest object as current intersection object\n\t\tparams.intersectedObject2 = theIntersectedObject\n\t\t// store color of closest object (for later restoration)\n\t\t//params.intersectedObject2.currentHex = params.intersectedObject2.material.color.getHex()\n\t\t// set a new color for closest object\n\t\t//params.intersectedObject2.material.color.setHex( 0xff0000 )\n\t\t\n\t\t// point the camera controls to the intersected object?\n\t\t//event.target.controls.reset()\n\t\t//event.target.controls.target = new THREE.Vector3(params.intersectedObject2.position.x, params.intersectedObject2.position.y, params.intersectedObject2.position.z)\n\t\t//event.target.camera.position.set(100, 200, 200)\n\t\t// if (event.button == 2) {\n\t\t// \t// zoom in\n\t\t// \tpanCam(params.intersectedObject2.position.x, params.intersectedObject2.position.y, params.intersectedObject2.position.z, 1200, event.target.camera, event.target.controls)\n\t\t// } else if (event.button == 1) {\n\t\t// \t// zoom out\n\t\t// \tpanCam(100, 200, 200, 1200, event.target.camera, event.target.controls)\n\t\t// }\n\t\t// console.log(\"------------------\")\n\t\t// console.log(\"event.target.controls--------\")\n\t\t// console.log(event.target.controls)\n\t\t// console.log(\"------------------\")\n\n\t\t// show/hide infospheres\n\t\tif ( params.intersectedObject2.userData.type === \"structure\" && event.button == 0 ) {\n\n\t\t\tlet infospotObject = scene.getObjectByName( `INFOSPOT: ${params.intersectedObject2.name}` ) // , true for recursive\n\t\t\tif ( infospotObject ) {\n\t\t\t\tif (infospotObject.visible === true) {\n\t\t\t\t\tinfospotObject.visible = false\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tinfospotObject.visible = true\n\t\t\t\t}\n\t\t\t}\n\t\t\t// console.log(\"infospotObject\", infospotObject)\n\t\t}\n\n\t\t// show/hide annotations\n\t\tparams.intersectedObject2.children.forEach( function(key) {\n\t\t\t// console.log(\"--------------------------------------\")\n\t\t\t// console.log(\"key (pre-process)------\")\n\t\t\t// console.log(`key.type: ${key.type}`)\n\t\t\t// console.log(`key.visible: ${key.visible}`)\n\t\t\t// console.log(`key.element.hidden: ${key.element.hidden}`)\n\t\t\t// console.log(key)\n\t\t\t// console.log(\"--------------------------------------\")\n\t\t\t// if ( key.type === \"Sprite\" && event.button == 1 ) {\n\t\t\t// \tif (key.visible === true) {\n\t\t\t// \t\tkey.visible = false\n\t\t\t// \t}\n\t\t\t// \telse {\n\t\t\t// \t\tkey.visible = true\n\t\t\t// \t}\n\t\t\t// }\n\t\t\tif ( key.type === \"Object3D\" && event.button == 0 ) {\n\t\t\t\tif (key.element.hidden === true) {\n\t\t\t\t//if (key.visible == false) {\n\t\t\t\t\t// console.log(\"-------------------------\")\n\t\t\t\t\t// console.log(\"TRUE------\")\n\t\t\t\t\t// console.log(key.element.hidden)\n\t\t\t\t\t// console.log(\"-------------------------\")\n\t\t\t\t\tkey.element.hidden = false\n\t\t\t\t\tkey.element.style.display = \"block\"\n\t\t\t\t\tkey.visible = true // does nothing, but keeps status accurate\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\t// console.log(\"-------------------------\")\n\t\t\t\t\t// console.log(\"FALSE------\")\n\t\t\t\t\t// console.log(key.element.hidden)\n\t\t\t\t\t// console.log(\"-------------------------\")\n\t\t\t\t\tkey.element.hidden = true\n\t\t\t\t\tkey.element.style.display = \"none\"\n\t\t\t\t\tkey.visible = false // does nothing, but keeps status accurate\n\t\t\t\t}\n\t\t\t\t// console.log(\"--------------------------------------\")\n\t\t\t\t// console.log(\"key (post-process)------\")\n\t\t\t\t// console.log(`key.type: ${key.type}`)\n\t\t\t\t// console.log(`key.visible: ${key.visible}`)\n\t\t\t\t// console.log(`key.element.hidden: ${key.element.hidden}`)\n\t\t\t\t// console.log(key)\n\t\t\t\t// console.log(\"--------------------------------------\")\n\t\t\t}\n\t\t})\n\n\t\t// if ( params.intersectedObject2.userData.annotation ) {\n\t\t// \tconsole.log(\"ANNOTATION\", params.intersectedObject2.userData.annotation)\n\t\t// }\n\t\t// else {\n\t\t// \tconsole.log(\"ANNOTATION?\", params.intersectedObject2.userData)\n\t\t// }\n\n\t} \n\telse // there are no intersections\n\t{\n\t\t// restore previous intersection object (if it exists) to its original color\n\t\tif ( params.intersectedObject2 ) {\n\t\t\t//params.intersectedObject2.material.color.setHex( params.intersectedObject2.currentHex )\n\t\t}\n\t\t// remove previous intersection object reference by setting current intersection object to \"nothing\"\n\t\tparams.intersectedObject2 = null\n\t}\n\n}\n\nfunction dismiss(el) {\n\tel.parentNode.hidden = true\n\tel.parentNode.style.display = \"none\"\n}\n\nfunction stringToBoolean(string) {\n    switch(string.xyzToString().toLowerCase().trim()){\n        case \"true\": case \"yes\": case \"1\": return true\n        case \"false\": case \"no\": case \"0\": case null: return false\n        default: return Boolean(string)\n    }\n}\n\nfunction xyzToString(v) { return \"[ \" + v.x + \", \" + v.y + \", \" + v.z + \" ]\" }\n\n\nfunction dragElement(elmnt) {\n\n\t// console.log(\"elmnt\", elmnt)\n\n\tvar pos1 = 0, pos2 = 0, pos3 = 0, pos4 = 0\n\t\n\tif (document.getElementById(elmnt.id + \"header\")) {\n\t\t// if present, the header is where you move the DIV from:\n\t\tdocument.getElementById(elmnt.id + \"header\").onmousedown = dragMouseDown\n\t} else {\n\t\t// otherwise, move the DIV from anywhere inside the DIV:\n\t\telmnt.onmousedown = dragMouseDown\n\t}\n\n\tfunction dragMouseDown(e) {\n\t\te = e || window.event\n\t\te.preventDefault()\n\t\t// get the mouse cursor position at startup:\n\t\tpos3 = e.clientX\n\t\tpos4 = e.clientY\n\n\t\t// console.log(\"pos3, pos4\", pos3, pos4)\n\n\t\tdocument.onmouseup = closeDragElement\n\t\t// call a function whenever the cursor moves:\n\t\tdocument.onmousemove = elementDrag\n\t}\n\t\n\tfunction elementDrag(e) {\n\t\te = e || window.event\n\t\te.preventDefault()\n\t\t// calculate the new cursor position:\n\t\tpos1 = pos3 - e.clientX\n\t\tpos2 = pos4 - e.clientY\n\t\tpos3 = e.clientX\n\t\tpos4 = e.clientY\n\n\t\t// console.log(\"pos1, pos2, pos3, pos4\", pos1, pos2, pos3, pos4)\n\n\t\t// set the element's new position:\n\t\t// elmnt.style.top = (elmnt.offsetTop - pos2) + \"px\"\n\t\t// elmnt.style.left = (elmnt.offsetLeft - pos1) + \"px\"\n\t\telmnt.style.top = (pos4) + \"px\"\n\t\telmnt.style.left = (pos3) + \"px\"\n\t}\n\t\n\tfunction closeDragElement() {\n\t\t// stop moving when mouse button is released:\n\t\tdocument.onmouseup = null\n\t\tdocument.onmousemove = null\n\t}\n}\n\n\n/// throw manual abort of script\nfunction throwError() {\n\t// creates a new exception type:\n\tfunction FatalError(){ Error.apply(this, arguments);this.name = \"FatalError\" }\n\tFatalError.prototype = Object.create(Error.prototype)\n\n\t// and then, use this to trigger the error:\n\tthrow new FatalError(\"MANUAL ABORT\")\n}\n\n\n\n// check if an element exists in array using a comparer function\n// comparer : function(currentElement)\nArray.prototype.inArray = function(comparer) { \n    for(let i = 0;i < this.length;i++) { \n        if (comparer(this[i])) return true\n    }\n    return false\n} \n\n// adds an element to the array if it does not already exist using a comparer \n// function\nArray.prototype.pushIfNotExist = function(element, comparer) { \n    if (!this.inArray(comparer)) {\n        this.push(element)\n    }\n} \n\n\n\n/**\n * TESTING ***************************************************************************************\n */\n\n// controls.enabled = false\n// var xTarget = 0\n// var yTarget = -0.7\n// var zTarget = -1.65\n// var tweenDuration = 2000\n\nfunction panCam(xTarget, yTarget, zTarget, tweenDuration, camera, controls) {\n\n\tvar camNewPosition= { x : xTarget, y : yTarget, z : zTarget}\n\tvar targetNewPos = {x : xTarget, y : yTarget, z : -1.65}\n\n\tvar camTween = new TWEEN.Tween(camera.position)\n\t\t.to(camNewPosition, tweenDuration)\n\t\t.easing(TWEEN.Easing.Quadratic.Out)\n\t\t.onComplete(function() {\n\t\t\tcamera.position.copy(camNewPosition)\n\t\t\tconsole.log(\"onComplete camera---------\")\n\t\t})\n\t\t.start()\n\tvar targetTween = new TWEEN.Tween(controls.target)\n\t\t.to(targetNewPos, tweenDuration)\n\t\t.easing(TWEEN.Easing.Quadratic.Out)\n\t\t.onComplete(function() {\n\t\t\tcontrols.target.copy(targetNewPos)\n\t\t\tconsole.log(\"onComplete controls---------\")\n\t\t})\n\t\t.start()\n\n\tconsole.log(\"camTween, targetTween\", camTween, targetTween)\n\t\n}\n\n/**\n * TESTING ***************************************************************************************\n */\n\n/**\n * Get the current category IDs and request their category objects.\n * @param  {object} postObject - The entire post object\n * @param  {bool}   isCat      - Is the query a category (true) or a tag (false)\n * @return {string} termLinks  - String of HTML for either list of categories or list of tags \n */\nfunction getTaxonomies( postObject, isCat ) {\n\n\tlet termLinks = []\n\tlet taxArray\n\tif ( isCat ) {\n\t\ttaxArray = postObject._embedded[\"wp:term\"][0]\n\t} \n\telse {\n\t\ttaxArray = postObject._embedded[\"wp:term\"][1]\n\t}\n\tfor ( let term of taxArray ) {\n\t\ttermLinks.push(`<a href=\"${term.link}\" rel=\"${isCat ? 'category' : ''} tag\">${term.name}</a>`)\n\t}\n\n\ttermLinks = isCat ? termLinks.join(\"\") : termLinks.join(\", \")\n\n\treturn termLinks\n\n}\n\n/**\n * Get the featured image if it exists. \n * @param  {object} postObject - The entire post object\n */\nfunction getFeaturedImage( postObject ) {\n\tlet featImage = {}\n\t// If there is no featured image, exit the function returning blank.\n\tif ( 0 === postObject.featured_media ) {\n\t\treturn featImage\n\t} \n\telse {\n\t\tfeatImage.featuredObject = postObject._embedded[\"wp:featuredmedia\"][0]\n\t\tfeatImage.imgUrl = featImage.featuredObject.source_url\n\t\tfeatImage.imgMediumUrl = \"\"\n\t\tfeatImage.imgLargeUrl = \"\"\n\t\tfeatImage.imgWidth = featImage.featuredObject.media_details.width\n\t\tfeatImage.imgHeight = featImage.featuredObject.media_details.height\n\t\tif (featImage.featuredObject.media_details.sizes.hasOwnProperty(\"large\")) {\n\t\t\tfeatImage.imgWidth = featImage.featuredObject.media_details.sizes.full.width\n\t\t\tfeatImage.imgHeight = featImage.featuredObject.media_details.sizes.full.height\n\t\t\tfeatImage.imgLargeUrl = featImage.featuredObject.media_details.sizes.large.source_url +  \" 1024w, \"\n\t\t}\n\t\t// console.log(\"featImage\", featImage)\n\t}\n\n\treturn featImage\n}\n\n/**\n * Builds out the HTML of the new post.\n * @param {object} postObject - modified post object with available term lists added\n */\nfunction buildNewPost( postObject ) {\n\t// Only output tag markup if there are actual tags for the post.\n\tlet conditionalTags = ( postObject ) => {\n\t\tlet tagMarkup = \"\"\n\t\tif (postObject.tagLinks !== \"\") {\n\t\t\ttagMarkup = `\n\t\t\t\t<pre>${getTaxonomies( postObject, false )}</pre>\n\t\t\t`\n\t\t}\n\t\treturn tagMarkup\n\t}\n\n\tlet output = `\n\t\t<pre>${getTaxonomies( postObject, true )}</pre>\n\t\t<pre>${getFeaturedImage( postObject )}</pre>\n\t\t<pre>${conditionalTags( postObject )}</pre>\n\t`\n\n\t// Remove \"load previous\" container.\n\t//document.querySelector(\".load-previous\").remove()\n\n\t// Create a article with appropriate classes to populate.\n  \tlet postElement = document.createElement(\"article\")\n\tpostElement.className = \"post type-post format-standard hentry\"\n\tpostElement.innerHTML = output\n\t\n\t// Append new article with all content to the bottom of the main element.\n\tdocument.querySelector(\"#webgl\").append(postElement)\n\n\t//getPreviousPost()\n}\n\n/** \n * END THREED GARDEN JS\n * ************************************************************************************** \n */\n\nexport default {\n\tname: \"ThreeDGarden\",\n\tprops: {\n\t\tmsg: String,\n\t\tsubtitle: String,\n\t},\n\tmounted () {\n\t\t//init()\n\t\tconst preloader = new Preloader(options)\n\t\t//console.log(\"preloader\", preloader)\n\t}\n}\n\n/** \n * END THREED GARDEN JS\n * ************************************************************************************** \n */\n</script>\n\n<style scoped>\nh3 {\n\tmargin: 40px 0 0;\n}\nul {\n\tlist-style-type: none;\n\tpadding: 0;\n}\nli {\n\tdisplay: inline-block;\n\tmargin: 0 10px;\n}\na {\n\tcolor: #96bc33;\n}\n.threedgarden {\n\tmargin-bottom: 0px;\n}\n\n/** THREED GARDEN */\n.planting_plan_bed_plant_schedule {\n\tbackground-color: #999999;\n}\n.planting_plan_bed {\n\tbackground-color: #330000;\n}\n.planting_plan_plant {\n\tbackground-color: #003300;\n}\n\n/** WEBGL */\n#webgl {\n\twidth: 100%;\n\theight: 100%;\n}\n\n/** DAT.GUI \"dg\" */\n#gui {\n\tposition: absolute;\n\tright: 5px;\n}\n#gui dd, #gui li {\n\tmargin-bottom: 0;\n}\n.dg li.title {\n\tcolor: #FFFFFF;\n}\n.dg .closed li.title {\n\tcolor: #AAAAAA;\n}\n.dg .c input {\n\tfont-size: 10px;\n\theight: auto;\n\tline-height: auto;\n}\n\n/** ANNOTATIONS */\n.annotation {\n\tposition: absolute;\n\ttop: 0;\n\tleft: 0;\n\tz-index: 9999;\n\tmargin-left: 15px;\n\tmargin-top: 15px;\n\tpadding: 1em;\n\twidth: 200px;\n\tcolor: #fff;\n\tbackground: rgba(0, 0, 0, 0.7);\n\tborder-radius: .5em;\n\tfont-size: 12px;\n\tline-height: 1.2;\n\ttransition: opacity .5s;\n\t/* &::before {\n\t\tcontent: '1';\n\t\tposition: absolute;\n\t\ttop: -30px;\n\t\tleft: -30px;\n\t\twidth: 30px;\n\t\theight: 30px;\n\t\tborder: 2px solid #fff;\n\t\tborder-radius: 50%;\n\t\tfont-size: 16px;\n\t\tline-height: 30px;\n\t\ttext-align: center;\n\t\tbackground: rgba(0, 0, 0, 0.8);\n\t} */\n}\n\n/** \"x\" */\n.dismiss {\n\tcursor: pointer;\n\tmargin-left: 5px;\n}\n\n/** \n * loader spinner \n */\n.lds-grid {\n\tdisplay: inline-block;\n\tposition: fixed;\n\twidth: 80px;\n\theight: 80px;\n\tz-index: -1;\n}\n.lds-grid div {\n\tposition: absolute;\n\twidth: 16px;\n\theight: 16px;\n\tborder-radius: 50%;\n\tbackground: #fff;\n\tanimation: lds-grid 1.2s linear infinite;\n}\n.lds-grid div:nth-child(1) {\n\ttop: 8px;\n\tleft: 8px;\n\tanimation-delay: 0s;\n}\n.lds-grid div:nth-child(2) {\n\ttop: 8px;\n\tleft: 32px;\n\tanimation-delay: -0.4s;\n}\n.lds-grid div:nth-child(3) {\n\ttop: 8px;\n\tleft: 56px;\n\tanimation-delay: -0.8s;\n}\n.lds-grid div:nth-child(4) {\n\ttop: 32px;\n\tleft: 8px;\n\tanimation-delay: -0.4s;\n}\n.lds-grid div:nth-child(5) {\n\ttop: 32px;\n\tleft: 32px;\n\tanimation-delay: -0.8s;\n}\n.lds-grid div:nth-child(6) {\n\ttop: 32px;\n\tleft: 56px;\n\tanimation-delay: -1.2s;\n}\n.lds-grid div:nth-child(7) {\n\ttop: 56px;\n\tleft: 8px;\n\tanimation-delay: -0.8s;\n}\n.lds-grid div:nth-child(8) {\n\ttop: 56px;\n\tleft: 32px;\n\tanimation-delay: -1.2s;\n}\n.lds-grid div:nth-child(9) {\n\ttop: 56px;\n\tleft: 56px;\n\tanimation-delay: -1.6s;\n}\n@keyframes lds-grid {\n\t0%, 100% {\n\t\topacity: 1;\n\t}\n\t50% {\n\t\topacity: 0.5;\n\t}\n}\n\n.lds-default {\n\tdisplay: inline-block;\n\tposition: fixed;\n\ttop: 50%;\n\tleft: 50%;\n\tmargin-top: -40px;\n\tmargin-left: 60px;\n\twidth: 80px;\n\theight: 80px;\n\tz-index: -1;\n}\n.lds-default div {\n\tposition: absolute;\n\twidth: 14px;\n\theight: 14px;\n\tbackground: #009900;\n\tborder-radius: 50%;\n\tanimation: lds-default 1.2s linear infinite;\n}\n.lds-default div:nth-child(1) {\n\tanimation-delay: 0s;\n\ttop: 37px;\n\tleft: 66px;\n}\n.lds-default div:nth-child(2) {\n\tanimation-delay: -0.1s;\n\ttop: 22px;\n\tleft: 62px;\n}\n.lds-default div:nth-child(3) {\n\tanimation-delay: -0.2s;\n\ttop: 11px;\n\tleft: 52px;\n}\n.lds-default div:nth-child(4) {\n\tanimation-delay: -0.3s;\n\ttop: 7px;\n\tleft: 37px;\n}\n.lds-default div:nth-child(5) {\n\tanimation-delay: -0.4s;\n\ttop: 11px;\n\tleft: 22px;\n}\n.lds-default div:nth-child(6) {\n\tanimation-delay: -0.5s;\n\ttop: 22px;\n\tleft: 11px;\n}\n.lds-default div:nth-child(7) {\n\tanimation-delay: -0.6s;\n\ttop: 37px;\n\tleft: 7px;\n}\n.lds-default div:nth-child(8) {\n\tanimation-delay: -0.7s;\n\ttop: 52px;\n\tleft: 11px;\n}\n.lds-default div:nth-child(9) {\n\tanimation-delay: -0.8s;\n\ttop: 62px;\n\tleft: 22px;\n}\n.lds-default div:nth-child(10) {\n\tanimation-delay: -0.9s;\n\ttop: 66px;\n\tleft: 37px;\n}\n.lds-default div:nth-child(11) {\n\tanimation-delay: -1s;\n\ttop: 62px;\n\tleft: 52px;\n}\n.lds-default div:nth-child(12) {\n\tanimation-delay: -1.1s;\n\ttop: 52px;\n\tleft: 62px;\n}\n@keyframes lds-default {\n\t0%, 20%, 80%, 100% {\n\t\ttransform: scale(1.0);\n\t}\n\t50% {\n\t\ttransform: scale(1.8);\n\t}\n\t0%, 100% {\n\t\topacity: 0.7;\n\t}\n\t50% {\n\t\topacity: 0.2;\n\t}\n}\n  \n\n\n#message{\n\tposition:absolute;\n\tleft: 50%;\n\ttop: 50%;\n\ttransform: translateX(-50%) translateY(-50%);\n\tfont-family: 'Kavivanar', san-serif;\n\tfont-size: 40px;\n\twidth:80%;\n\tmax-width:280px;\n\tpadding: 15px 15px 50px 15px;\n\ttext-align: center;\n\tdisplay:none;\n\talign-content: center;\n\tjustify-content: center;\n\tbackground-color: aliceblue;\n\tborder: medium solid #3D455C;\n\tborder-radius: 20px;\n\tcolor: #3D455C;\n\tz-index: 99;\n}\n#message_ok{\n\tposition: absolute;\n\tbottom: 10px;\n\tpadding: 10px 20px 10px 20px;\n\tfont-family: sans-serif;\n\tfont-size: 20px;\n\tbackground-color: #3D455C;\n\tcolor: #fff;\n\tborder-radius: 8px;\n\tborder: medium solid #696882;\n}\n\n#sfx-btn{\n\tposition: absolute;\n\tright: 15px;\n\ttop: 15px;\n\twidth: 40px;\n\theight: 40px;\n\tborder: none;\n\tborder-radius: 50%;\n\tbackground:#3B53A2;\n\tfont-size: 25px;\n\tcolor: #fff;\n}\n\n#camera-btn{\n\tposition: absolute;\n\tright: 15px;\n\tbottom: 15px;\n\twidth: 40px;\n\theight: 40px;\n\tborder: none;\n\tborder-radius: 50%;\n\tbackground:#3B53A2;\n\tfont-size: 25px;\n\tcolor: #fff;\n}\n\n#action-btn{\n\tposition: absolute;\n\tleft: 50%;\n\tbottom: 5px;\n\twidth: 40px;\n\theight: 40px;\n\tborder: none;\n\tborder-radius: 50%;\n\tbackground:#3B53A2;\n\tfont-size: 25px;\n\tcolor: #fff;\n\ttransform: translateX(-50%);\n\tz-index: 9;\n}\n\n#overlay{\n\tposition:absolute;\n\twidth: 100%;\n\theight: 100%;\n\tbackground: #000000;\n\tz-index: 10;\n\topacity: 1;\n}\n\n.fade-in {\n\tanimation-name: fade-in;\n\tanimation-duration: 2s;\n}\n\n@keyframes fade-in {\n\tfrom {opacity: 1;}\n\tto {opacity: 0;}\n}\n\n#briefcase-btn{\n\tposition: absolute;\n\tleft: 15px;\n\tbottom: 15px;\n\twidth: 40px;\n\theight: 40px;\n\tborder: none;\n\tborder-radius: 50%;\n\tbackground:#3B53A2;\n\tfont-size: 25px;\n\tcolor: #fff;\n}\n\n#briefcase{\n\tposition: absolute;\n\tleft: 20px;\n\tbottom: 60px;\n\twidth: auto;\n\topacity: 0;\n\tpadding: 8px;\n\tborder-radius: 8px;\n\tbackground:#3B53A2;\n\ttransition: opacity 0.5s;\n}\n\n#briefcase ul{\n\tlist-style: none;\n\tpadding: 0;\n\tmargin: 0;\n}\n\n#briefcase li{\n\tfloat: left;\n}\n\n#briefcase li a{\n\tpadding: 0 3px 0 3px;\n}\n\n#briefcase img{\n\twidth: 100px;\n\theight: 75px;\n}\n\n\n/* NEW LOADER */\ndiv .progress-style {\n\tfloat: left;\n\tposition: absolute;\n\twidth: 200px;\n\theight: 20px;\n\tbackground: red;\n\tborder: 2px solid #000;\n\tz-index: 1;\n}\ndiv .progress-style > div .progress-bar {\n\twidth: 200px;\n\theight: 20px;\n\tbackground: green;\n\tborder: none;\n}\n</style>","<template>\r\n\t<div class=\"farmbot\">\r\n\t\t<!-- <h1>{{ msg }}</h1> -->\r\n\t\t<!-- <h2>{{ subtitle }}</h2> -->\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\n/** \r\n * ThreeDGarden - FarmBot JavaScript\r\n */\r\nimport { Farmbot } from \"farmbot\"\r\n\r\nlet SUPER_SECRET_TOKEN = \"eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiJ9.eyJhdWQiOiJ1bmtub3duIiwic3ViIjoxNTI2NywiaWF0IjoxNjM2NjU3ODUxLCJqdGkiOiIwNTBiMzIxNC02NzcxLTRlYzktODhmMS02NTVhYWVhNWQzN2QiLCJpc3MiOiIvL215LmZhcm0uYm90OjQ0MyIsImV4cCI6MTY0MTg0MTg1MSwibXF0dCI6ImNsZXZlci1vY3RvcHVzLnJtcS5jbG91ZGFtcXAuY29tIiwiYm90IjoiZGV2aWNlXzE1Mjk3Iiwidmhvc3QiOiJ4aWNvbmZ1bSIsIm1xdHRfd3MiOiJ3c3M6Ly9jbGV2ZXItb2N0b3B1cy5ybXEuY2xvdWRhbXFwLmNvbTo0NDMvd3MvbXF0dCJ9.K8jzw-l_KduohGUgS_rkmNx4700XQyZX3-JCigk-5gXf4y-aemDNemzABGpIvULVj9D02RXEiLAzPtSxRpGS_AWpwd0OSU35HNO_pCL7-KLmtmpanAOxutflPe9KN_stU1AgZC42TmMYLYeMZY1ornQOZTaIgT6dYJkqJex7HV6D1LS-1yjvEdPM2E1UTh6OWUFDndq-fdwyVNuQfYdbu0CLhTua3SaNaXCueZ7qew3-XVUx48PS2X8XFACkveZbRfb55qgabT-WpcQB4KyujdKFbAotZqJeZ1_aCxTa4WT_y_zFV7gVptgeK2FAXC1DE9cH4FJXipt0AMPksQGShA\"\r\n\r\nlet bot = new Farmbot({ token: SUPER_SECRET_TOKEN })\r\n\r\nbot\r\n\t.connect()\r\n\t.then(function () {\r\n\t\t//alert(\"MARTY: HEY HEY HEY\")\r\n\t\tbot.setConfig(\"MARTY\", \"HEY HEY HEY\")\r\n\t\tconsole.log(bot.getConfig(\"MARTY\"))\r\n\t\treturn bot.getConfig(\"MARTY\")\r\n\t})\r\n\t.then(function () {\r\n\t\treturn bot.moveRelative(\r\n\t\t\t{ \r\n\t\t\t\tx: 1, \r\n\t\t\t\ty: 2, \r\n\t\t\t\tz: 3, \r\n\t\t\t\tspeed: 100 \r\n\t\t\t}\r\n\t\t)\r\n\t})\r\n\r\nconsole.log(\"bot\", bot)\r\n\r\nexport default {\r\n\tname: \"FarmBot\",\r\n\tprops: {\r\n\t\tmsg: String,\r\n\t\tsubtitle: String,\r\n\t},\r\n    methods: {\r\n\r\n    },\r\n\tmounted () {\r\n\t\t//init()\r\n\t}\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.farmbot {\r\n\tborder: 2px solid green;\r\n}\r\n</style>","import { render } from \"./ThreeDGarden.vue?vue&type=template&id=3b18b7a5&scoped=true\"\nimport script from \"./ThreeDGarden.vue?vue&type=script&lang=js\"\nexport * from \"./ThreeDGarden.vue?vue&type=script&lang=js\"\n\nimport \"./ThreeDGarden.vue?vue&type=style&index=0&id=3b18b7a5&scoped=true&lang=css\"\n\nimport exportComponent from \"C:\\\\Users\\\\mcgee\\\\Local Sites\\\\gardenuniversity\\\\app\\\\public\\\\wp-content\\\\plugins\\\\threed-garden\\\\public\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-3b18b7a5\"]])\n\nexport default __exports__","import { render } from \"./Participate.vue?vue&type=template&id=7c301827\"\nimport script from \"./Participate.vue?vue&type=script&lang=js\"\nexport * from \"./Participate.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\mcgee\\\\Local Sites\\\\gardenuniversity\\\\app\\\\public\\\\wp-content\\\\plugins\\\\threed-garden\\\\public\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n\t<div id=\"APP\">\n\t\t<div id=\"nav\">\n\t\t\t<!-- \n\t\t\t<router-link to=\"/\">Home</router-link> |\n\t\t\t<router-link to=\"about\">About</router-link> |\n\t\t\t<router-link to=\"participate\">Participate</router-link>\n\t\t\t-->\n\t\t\t<router-link :to=\"{ name: 'home', params: { userId: 123 }}\">Home</router-link> |\n\t\t\t<router-link :to=\"{ name: 'about', params: { userId: 123 }}\">About</router-link> |\n\t\t\t<router-link :to=\"{ name: 'participate', params: { userId: 123 }}\">Participate</router-link>\n\t\t</div>\n\t\t<router-view />\n\t</div>\n</template>\n\n<style scoped>\n#APP {\n\tfont-family: Avenir, Helvetica, Arial, sans-serif;\n\t-webkit-font-smoothing: antialiased;\n\t-moz-osx-font-smoothing: grayscale;\n\ttext-align: center;\n\tcolor: #333333;\n\tmargin-bottom: 40px;\n}\n#nav {\n\tpadding: 10px;\n}\n#nav a {\n\tfont-size: 16px;\n\tfont-weight: bold;\n\tcolor: #d3e273;\n}\n#nav a.router-link-exact-active {\n\tcolor: #96bc33;\n}\nh1 {\n\tmargin-bottom: 10px;\n}\n</style>","import { render } from \"./App.vue?vue&type=template&id=40223da1&scoped=true\"\nconst script = {}\n\nimport \"./App.vue?vue&type=style&index=0&id=40223da1&scoped=true&lang=css\"\n\nimport exportComponent from \"C:\\\\Users\\\\mcgee\\\\Local Sites\\\\gardenuniversity\\\\app\\\\public\\\\wp-content\\\\plugins\\\\threed-garden\\\\public\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-40223da1\"]])\n\nexport default __exports__","<template>\n\t<div class=\"home\">\n\t\t<img :src=\"`${publicPath}/assets/ThreeD-Garden-Logo-Circle-Carrot.png`\" alt=\"ThreeD Garden => Carrot Logo\" width=\"70\" />\n\t\t<!-- <img src=\"~images/ThreeD-Garden-Logo-Circle-Carrot.png\" alt=\"ThreeD Garden => Carrot Logo\" width=\"70\" /> -->\n\t</div>\n</template>\n\n<script>\n// @ is an alias to /src\n// import ThreeDGarden from \"@/components/ThreeDGarden.vue\"\n\nexport default {\n\tname: \"Home\",\n\t// components: {\n\t// \tThreeDGarden\n\t// },\n\tdata () {\n\t\treturn {\n\t\t\tpublicPath: process.env.BASE_URL + \"/wp-content/plugins/threed-garden/public\"\n\t\t}\n\t}\n}\n</script>\n\n<style scoped>\n/* .home {\n\tmargin-bottom: 40px;\n} */\n</style>","import { render } from \"./Home.vue?vue&type=template&id=a7917ca0&scoped=true\"\nimport script from \"./Home.vue?vue&type=script&lang=js\"\nexport * from \"./Home.vue?vue&type=script&lang=js\"\n\nimport \"./Home.vue?vue&type=style&index=0&id=a7917ca0&scoped=true&lang=css\"\n\nimport exportComponent from \"C:\\\\Users\\\\mcgee\\\\Local Sites\\\\gardenuniversity\\\\app\\\\public\\\\wp-content\\\\plugins\\\\threed-garden\\\\public\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-a7917ca0\"]])\n\nexport default __exports__","<template>\n\t<div class=\"about\">\n\t\t<img :src=\"`${publicPath}/assets/ThreeD-Garden-Logo-Circle-Carrot.png`\" alt=\"ThreeD Garden => Carrot Logo\" width=\"70\" />\n\t\t<h1>About ThreeD Garden</h1>\n\t\t<Documentation \n\t\t\tmsg=\"\"\n\t\t\tsubtitle=\"\"\n\t\t/>\n\t</div>\n</template>\n\n<script>\n// @ is an alias to /src\nimport Documentation from \"@/components/Documentation.vue\"\n\nexport default {\n\tname: \"About\",\n\tcomponents: {\n\t\tDocumentation\n\t},\n\tdata () {\n\t\treturn {\n\t\t\tpublicPath: process.env.BASE_URL + \"/wp-content/plugins/threed-garden/public\"\n\t\t}\n\t}\n}\n</script>","<template>\n\t<div class=\"documentation\">\n\t\t<h1>{{ msg }}</h1>\n\t\t<h2>{{ subtitle }}</h2>\n\t\t<p>\n\t\t\tFor a guide on how to configure + customize this project,<br />\n\t\t\tcheck out the\n\t\t\t<a href=\"https://cli.vuejs.org\" target=\"_blank\" rel=\"noopener\"\n\t\t\t\t>vue-cli documentation</a\n\t\t\t>.\n\t\t</p>\n\t\t<h3>Installed CLI Plugins</h3>\n\t\t<ul>\n\t\t\t<li>\n\t\t\t\t<a\n\t\t\t\t\thref=\"https://github.com/vuejs/vue-cli/tree/dev/packages/%40vue/cli-plugin-babel\"\n\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\trel=\"noopener\"\n\t\t\t\t\t>babel</a\n\t\t\t\t>\n\t\t\t</li>\n\t\t\t<li>\n\t\t\t\t<a\n\t\t\t\t\thref=\"https://github.com/vuejs/vue-cli/tree/dev/packages/%40vue/cli-plugin-router\"\n\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\trel=\"noopener\"\n\t\t\t\t\t>router</a\n\t\t\t\t>\n\t\t\t</li>\n\t\t\t<li>\n\t\t\t\t<a\n\t\t\t\t\thref=\"https://github.com/vuejs/vue-cli/tree/dev/packages/%40vue/cli-plugin-vuex\"\n\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\trel=\"noopener\"\n\t\t\t\t\t>vuex</a\n\t\t\t\t>\n\t\t\t</li>\n\t\t\t<li>\n\t\t\t\t<a\n\t\t\t\t\thref=\"https://github.com/vuejs/vue-cli/tree/dev/packages/%40vue/cli-plugin-eslint\"\n\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\trel=\"noopener\"\n\t\t\t\t\t>eslint</a\n\t\t\t\t>\n\t\t\t</li>\n\t\t</ul>\n\t\t<h3>Essential Links</h3>\n\t\t<ul>\n\t\t\t<li>\n\t\t\t\t<a href=\"https://vuejs.org\" target=\"_blank\" rel=\"noopener\">Core Docs</a>\n\t\t\t</li>\n\t\t\t<li>\n\t\t\t\t<a href=\"https://forum.vuejs.org\" target=\"_blank\" rel=\"noopener\"\n\t\t\t\t\t>Forum</a\n\t\t\t\t>\n\t\t\t</li>\n\t\t\t<li>\n\t\t\t\t<a href=\"https://chat.vuejs.org\" target=\"_blank\" rel=\"noopener\"\n\t\t\t\t\t>Community Chat</a\n\t\t\t\t>\n\t\t\t</li>\n\t\t\t<li>\n\t\t\t\t<a href=\"https://twitter.com/vuejs\" target=\"_blank\" rel=\"noopener\"\n\t\t\t\t\t>Twitter</a\n\t\t\t\t>\n\t\t\t</li>\n\t\t\t<li>\n\t\t\t\t<a href=\"https://news.vuejs.org\" target=\"_blank\" rel=\"noopener\">News</a>\n\t\t\t</li>\n\t\t</ul>\n\t\t<h3>Ecosystem</h3>\n\t\t<ul>\n\t\t\t<li>\n\t\t\t\t<a href=\"https://router.vuejs.org\" target=\"_blank\" rel=\"noopener\"\n\t\t\t\t\t>vue-router</a\n\t\t\t\t>\n\t\t\t</li>\n\t\t\t<li>\n\t\t\t\t<a href=\"https://vuex.vuejs.org\" target=\"_blank\" rel=\"noopener\">vuex</a>\n\t\t\t</li>\n\t\t\t<li>\n\t\t\t\t<a\n\t\t\t\t\thref=\"https://github.com/vuejs/vue-devtools#vue-devtools\"\n\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\trel=\"noopener\"\n\t\t\t\t\t>vue-devtools</a\n\t\t\t\t>\n\t\t\t</li>\n\t\t\t<li>\n\t\t\t\t<a href=\"https://vue-loader.vuejs.org\" target=\"_blank\" rel=\"noopener\"\n\t\t\t\t\t>vue-loader</a\n\t\t\t\t>\n\t\t\t</li>\n\t\t\t<li>\n\t\t\t\t<a\n\t\t\t\t\thref=\"https://github.com/vuejs/awesome-vue\"\n\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\trel=\"noopener\"\n\t\t\t\t\t>awesome-vue</a\n\t\t\t\t>\n\t\t\t</li>\n\t\t</ul>\n\t</div>\n</template>\n\n<script>\nexport default {\n\tname: \"Documentation\",\n\tprops: {\n\t\tmsg: String,\n\t\tsubtitle: String,\n\t}\n};\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\nh3 {\n\tmargin: 40px 0 0;\n}\nul {\n\tlist-style-type: none;\n\tpadding: 0;\n}\nli {\n\tdisplay: inline-block;\n\tmargin: 0 10px;\n}\na {\n\tcolor: #96bc33;\n}\n.documentation {\n\tmargin-bottom: 40px;\n}\n</style>\n","import { render } from \"./Documentation.vue?vue&type=template&id=394cb411&scoped=true\"\nimport script from \"./Documentation.vue?vue&type=script&lang=js\"\nexport * from \"./Documentation.vue?vue&type=script&lang=js\"\n\nimport \"./Documentation.vue?vue&type=style&index=0&id=394cb411&scoped=true&lang=css\"\n\nimport exportComponent from \"C:\\\\Users\\\\mcgee\\\\Local Sites\\\\gardenuniversity\\\\app\\\\public\\\\wp-content\\\\plugins\\\\threed-garden\\\\public\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-394cb411\"]])\n\nexport default __exports__","import { render } from \"./About.vue?vue&type=template&id=738cfdfb\"\nimport script from \"./About.vue?vue&type=script&lang=js\"\nexport * from \"./About.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\mcgee\\\\Local Sites\\\\gardenuniversity\\\\app\\\\public\\\\wp-content\\\\plugins\\\\threed-garden\\\\public\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","//import { defineAsyncComponent } from 'vue'\nimport { \n\tcreateRouter, \n\t//createWebHistory,\n\tcreateWebHashHistory,\n} from \"vue-router\"\nimport Home from \"../views/Home.vue\"\nimport About from \"../views/About.vue\"\n//import Participate from \"../views/Participate.vue\"\n\nconst routes = [\n\t{\n\t\tpath: \"/\",\n\t\tname: \"home\",\n\t\tcomponent: Home\n\t},\n\t{\n\t\tpath: \"/about\",\n\t\tname: \"about\",\n\t\t// route level code-splitting\n\t\t// this generates a separate chunk (about.[hash].js) for this route\n\t\t// which is lazy-loaded when the route is visited.\n\t\t// component: () => import(/* webpackChunkName: \"about\" */ \"../views/About.vue\")\n\t\tcomponent: About\n\t},\n\t{\n\t\tpath: \"/participate\",\n\t\tname: \"participate\",\n\t\t// route level code-splitting\n\t\t// this generates a separate chunk (participate.[hash].js) for this route\n\t\t// which is lazy-loaded when the route is visited.\n\t\tcomponent: () => import(/* webpackMode: \"eager\", webpackChunkName: \"participate\" */ \"@/views/Participate.vue\")\n\t\t//component: () => import(/* webpackChunkName: [request] */ \"@/views/Participate.vue\")\n\t\t//component: Participate\n\t\t//component: defineAsyncComponent(() => import(/* webpackChunkName: \"participate\" */ \"@/views/Participate.vue\"))\n\t}\n]\n\nconst router = createRouter({\n\t//history: createWebHistory(process.env.BASE_URL),\n\t//history: createWebHistory('./'),\n\thistory: createWebHashHistory(),\n\t//base: process.env.NODE_ENV === \"production\" ? \"/my-path/\" : \"../../\", // does nothing in this version\n\troutes\n})\n\nexport default router","import { createStore } from \"vuex\"\n\nexport default createStore({\n\tstate: {},\n\tmutations: {},\n\tactions: {},\n\tmodules: {}\n})\n","import { createApp } from \"vue\"\nimport App from \"./App.vue\"\nimport router from \"./router\"\nimport store from \"./store\"\n\ncreateApp(App)\n\t.use(store)\n\t.use(router)\n\t.mount(\"#app\")\n\n\n\n// import 'bulma/css/bulma.css'\n// import Vue from 'vue'\n// import App from './App.vue'\n// import router from './router'\n\n// Vue.config.productionTip = false\n\n// new Vue({\n// \trouter,\n// \trender: h => h(App)\n// }).$mount('#qmanager')","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./FarmBot.vue?vue&type=style&index=0&id=157bfe4b&scoped=true&lang=css\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./ThreeDGarden.vue?vue&type=style&index=0&id=3b18b7a5&scoped=true&lang=css\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./Home.vue?vue&type=style&index=0&id=a7917ca0&scoped=true&lang=css\""],"sourceRoot":""}